var YY=Object.create;var nm=Object.defineProperty,ZY=Object.defineProperties,QY=Object.getOwnPropertyDescriptor,JY=Object.getOwnPropertyDescriptors,eZ=Object.getOwnPropertyNames,XF=Object.getOwnPropertySymbols,tZ=Object.getPrototypeOf,ZF=Object.prototype.hasOwnProperty,nZ=Object.prototype.propertyIsEnumerable;var YF=(e,t,n)=>t in e?nm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fe=(e,t)=>{for(var n in t||={})ZF.call(t,n)&&YF(e,n,t[n]);if(XF)for(var n of XF(t))nZ.call(t,n)&&YF(e,n,t[n]);return e},tt=(e,t)=>ZY(e,JY(t));var la=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var Kr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ca=(e,t)=>{for(var n in t)nm(e,n,{get:t[n],enumerable:!0})},rZ=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of eZ(t))!ZF.call(e,o)&&o!==n&&nm(e,o,{get:()=>t[o],enumerable:!(r=QY(t,o))||r.enumerable});return e};var li=(e,t,n)=>(n=e!=null?YY(tZ(e)):{},rZ(t||!e||!e.__esModule?nm(n,"default",{value:e,enumerable:!0}):n,e));var ie=(e,t,n)=>new Promise((r,o)=>{var i=c=>{try{l(n.next(c))}catch(u){o(u)}},s=c=>{try{l(n.throw(c))}catch(u){o(u)}},l=c=>c.done?r(c.value):Promise.resolve(c.value).then(i,s);l((n=n.apply(e,t)).next())});var pz=Kr((MMe,dz)=>{"use strict";dz.exports=hn;var So=null;try{So=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function hn(e,t,n){this.low=e|0,this.high=t|0,this.unsigned=!!n}hn.prototype.__isLong__;Object.defineProperty(hn.prototype,"__isLong__",{value:!0});function Vr(e){return(e&&e.__isLong__)===!0}hn.isLong=Vr;var nz={},rz={};function cl(e,t){var n,r,o;return t?(e>>>=0,(o=0<=e&&e<256)&&(r=rz[e],r)?r:(n=gn(e,(e|0)<0?-1:0,!0),o&&(rz[e]=n),n)):(e|=0,(o=-128<=e&&e<128)&&(r=nz[e],r)?r:(n=gn(e,e<0?-1:0,!1),o&&(nz[e]=n),n))}hn.fromInt=cl;function Co(e,t){if(isNaN(e))return t?ll:Io;if(t){if(e<0)return ll;if(e>=az)return uz}else{if(e<=-iz)return zr;if(e+1>=iz)return cz}return e<0?Co(-e,t).neg():gn(e%au|0,e/au|0,t)}hn.fromNumber=Co;function gn(e,t,n){return new hn(e,t,n)}hn.fromBits=gn;var L_=Math.pow;function HE(e,t,n){if(e.length===0)throw Error("empty string");if(e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return Io;if(typeof t=="number"?(n=t,t=!1):t=!!t,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return HE(e.substring(1),t,n).neg();for(var o=Co(L_(n,8)),i=Io,s=0;s<e.length;s+=8){var l=Math.min(8,e.length-s),c=parseInt(e.substring(s,s+l),n);if(l<8){var u=Co(L_(n,l));i=i.mul(u).add(Co(c))}else i=i.mul(o),i=i.add(Co(c))}return i.unsigned=t,i}hn.fromString=HE;function ei(e,t){return typeof e=="number"?Co(e,t):typeof e=="string"?HE(e,t):gn(e.low,e.high,typeof t=="boolean"?t:e.unsigned)}hn.fromValue=ei;var oz=65536,bde=1<<24,au=oz*oz,az=au*au,iz=az/2,sz=cl(bde),Io=cl(0);hn.ZERO=Io;var ll=cl(0,!0);hn.UZERO=ll;var su=cl(1);hn.ONE=su;var lz=cl(1,!0);hn.UONE=lz;var VE=cl(-1);hn.NEG_ONE=VE;var cz=gn(-1,2147483647,!1);hn.MAX_VALUE=cz;var uz=gn(-1,-1,!0);hn.MAX_UNSIGNED_VALUE=uz;var zr=gn(0,-2147483648,!1);hn.MIN_VALUE=zr;var Ce=hn.prototype;Ce.toInt=function(){return this.unsigned?this.low>>>0:this.low};Ce.toNumber=function(){return this.unsigned?(this.high>>>0)*au+(this.low>>>0):this.high*au+(this.low>>>0)};Ce.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(zr)){var n=Co(t),r=this.div(n),o=r.mul(n).sub(this);return r.toString(t)+o.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var i=Co(L_(t,6),this.unsigned),s=this,l="";;){var c=s.div(i),u=s.sub(c.mul(i)).toInt()>>>0,d=u.toString(t);if(s=c,s.isZero())return d+l;for(;d.length<6;)d="0"+d;l=""+d+l}};Ce.getHighBits=function(){return this.high};Ce.getHighBitsUnsigned=function(){return this.high>>>0};Ce.getLowBits=function(){return this.low};Ce.getLowBitsUnsigned=function(){return this.low>>>0};Ce.getNumBitsAbs=function(){if(this.isNegative())return this.eq(zr)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,n=31;n>0&&!(t&1<<n);n--);return this.high!=0?n+33:n+1};Ce.isZero=function(){return this.high===0&&this.low===0};Ce.eqz=Ce.isZero;Ce.isNegative=function(){return!this.unsigned&&this.high<0};Ce.isPositive=function(){return this.unsigned||this.high>=0};Ce.isOdd=function(){return(this.low&1)===1};Ce.isEven=function(){return(this.low&1)===0};Ce.equals=function(t){return Vr(t)||(t=ei(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low};Ce.eq=Ce.equals;Ce.notEquals=function(t){return!this.eq(t)};Ce.neq=Ce.notEquals;Ce.ne=Ce.notEquals;Ce.lessThan=function(t){return this.comp(t)<0};Ce.lt=Ce.lessThan;Ce.lessThanOrEqual=function(t){return this.comp(t)<=0};Ce.lte=Ce.lessThanOrEqual;Ce.le=Ce.lessThanOrEqual;Ce.greaterThan=function(t){return this.comp(t)>0};Ce.gt=Ce.greaterThan;Ce.greaterThanOrEqual=function(t){return this.comp(t)>=0};Ce.gte=Ce.greaterThanOrEqual;Ce.ge=Ce.greaterThanOrEqual;Ce.compare=function(t){if(Vr(t)||(t=ei(t)),this.eq(t))return 0;var n=this.isNegative(),r=t.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1};Ce.comp=Ce.compare;Ce.negate=function(){return!this.unsigned&&this.eq(zr)?zr:this.not().add(su)};Ce.neg=Ce.negate;Ce.add=function(t){Vr(t)||(t=ei(t));var n=this.high>>>16,r=this.high&65535,o=this.low>>>16,i=this.low&65535,s=t.high>>>16,l=t.high&65535,c=t.low>>>16,u=t.low&65535,d=0,p=0,f=0,m=0;return m+=i+u,f+=m>>>16,m&=65535,f+=o+c,p+=f>>>16,f&=65535,p+=r+l,d+=p>>>16,p&=65535,d+=n+s,d&=65535,gn(f<<16|m,d<<16|p,this.unsigned)};Ce.subtract=function(t){return Vr(t)||(t=ei(t)),this.add(t.neg())};Ce.sub=Ce.subtract;Ce.multiply=function(t){if(this.isZero())return Io;if(Vr(t)||(t=ei(t)),So){var n=So.mul(this.low,this.high,t.low,t.high);return gn(n,So.get_high(),this.unsigned)}if(t.isZero())return Io;if(this.eq(zr))return t.isOdd()?zr:Io;if(t.eq(zr))return this.isOdd()?zr:Io;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(sz)&&t.lt(sz))return Co(this.toNumber()*t.toNumber(),this.unsigned);var r=this.high>>>16,o=this.high&65535,i=this.low>>>16,s=this.low&65535,l=t.high>>>16,c=t.high&65535,u=t.low>>>16,d=t.low&65535,p=0,f=0,m=0,h=0;return h+=s*d,m+=h>>>16,h&=65535,m+=i*d,f+=m>>>16,m&=65535,m+=s*u,f+=m>>>16,m&=65535,f+=o*d,p+=f>>>16,f&=65535,f+=i*u,p+=f>>>16,f&=65535,f+=s*c,p+=f>>>16,f&=65535,p+=r*d+o*u+i*c+s*l,p&=65535,gn(m<<16|h,p<<16|f,this.unsigned)};Ce.mul=Ce.multiply;Ce.divide=function(t){if(Vr(t)||(t=ei(t)),t.isZero())throw Error("division by zero");if(So){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var n=(this.unsigned?So.div_u:So.div_s)(this.low,this.high,t.low,t.high);return gn(n,So.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?ll:Io;var r,o,i;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return ll;if(t.gt(this.shru(1)))return lz;i=ll}else{if(this.eq(zr)){if(t.eq(su)||t.eq(VE))return zr;if(t.eq(zr))return su;var s=this.shr(1);return r=s.div(t).shl(1),r.eq(Io)?t.isNegative()?su:VE:(o=this.sub(t.mul(r)),i=r.add(o.div(t)),i)}else if(t.eq(zr))return this.unsigned?ll:Io;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=Io}for(o=this;o.gte(t);){r=Math.max(1,Math.floor(o.toNumber()/t.toNumber()));for(var l=Math.ceil(Math.log(r)/Math.LN2),c=l<=48?1:L_(2,l-48),u=Co(r),d=u.mul(t);d.isNegative()||d.gt(o);)r-=c,u=Co(r,this.unsigned),d=u.mul(t);u.isZero()&&(u=su),i=i.add(u),o=o.sub(d)}return i};Ce.div=Ce.divide;Ce.modulo=function(t){if(Vr(t)||(t=ei(t)),So){var n=(this.unsigned?So.rem_u:So.rem_s)(this.low,this.high,t.low,t.high);return gn(n,So.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))};Ce.mod=Ce.modulo;Ce.rem=Ce.modulo;Ce.not=function(){return gn(~this.low,~this.high,this.unsigned)};Ce.and=function(t){return Vr(t)||(t=ei(t)),gn(this.low&t.low,this.high&t.high,this.unsigned)};Ce.or=function(t){return Vr(t)||(t=ei(t)),gn(this.low|t.low,this.high|t.high,this.unsigned)};Ce.xor=function(t){return Vr(t)||(t=ei(t)),gn(this.low^t.low,this.high^t.high,this.unsigned)};Ce.shiftLeft=function(t){return Vr(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?gn(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):gn(0,this.low<<t-32,this.unsigned)};Ce.shl=Ce.shiftLeft;Ce.shiftRight=function(t){return Vr(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?gn(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):gn(this.high>>t-32,this.high>=0?0:-1,this.unsigned)};Ce.shr=Ce.shiftRight;Ce.shiftRightUnsigned=function(t){if(Vr(t)&&(t=t.toInt()),t&=63,t===0)return this;var n=this.high;if(t<32){var r=this.low;return gn(r>>>t|n<<32-t,n>>>t,this.unsigned)}else return t===32?gn(n,0,this.unsigned):gn(n>>>t-32,0,this.unsigned)};Ce.shru=Ce.shiftRightUnsigned;Ce.shr_u=Ce.shiftRightUnsigned;Ce.toSigned=function(){return this.unsigned?gn(this.low,this.high,!1):this};Ce.toUnsigned=function(){return this.unsigned?this:gn(this.low,this.high,!0)};Ce.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()};Ce.toBytesLE=function(){var t=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]};Ce.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};hn.fromBytes=function(t,n,r){return r?hn.fromBytesLE(t,n):hn.fromBytesBE(t,n)};hn.fromBytesLE=function(t,n){return new hn(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)};hn.fromBytesBE=function(t,n){return new hn(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)}});var Hz=Kr((fu,Vz)=>{"use strict";var Yde=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_l=Yde();Vz.exports=fu=_l.fetch;_l.fetch&&(fu.default=_l.fetch.bind(_l));fu.Headers=_l.Headers;fu.Request=_l.Request;fu.Response=_l.Response});var Gz=Kr(()=>{"use strict"});var GH=Kr((HH,a1)=>{"use strict";(function(e,t,n){function r(l){var c=this,u=s();c.next=function(){var d=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=d-(c.c=d|0)},c.c=1,c.s0=u(" "),c.s1=u(" "),c.s2=u(" "),c.s0-=u(l),c.s0<0&&(c.s0+=1),c.s1-=u(l),c.s1<0&&(c.s1+=1),c.s2-=u(l),c.s2<0&&(c.s2+=1),u=null}function o(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function i(l,c){var u=new r(l),d=c&&c.state,p=u.next;return p.int32=function(){return u.next()*4294967296|0},p.double=function(){return p()+(p()*2097152|0)*11102230246251565e-32},p.quick=p,d&&(typeof d=="object"&&o(d,u),p.state=function(){return o(u,{})}),p}function s(){var l=4022871197,c=function(u){u=u.toString();for(var d=0;d<u.length;d++){l+=u.charCodeAt(d);var p=.02519603282416938*l;l=p>>>0,p-=l,p*=l,l=p>>>0,p-=l,l+=p*4294967296}return(l>>>0)*23283064365386963e-26};return c}t&&t.exports?t.exports=i:n&&n.amd?n(function(){return i}):this.alea=i})(HH,typeof a1=="object"&&a1,typeof define=="function"&&define)});var KH=Kr((qH,l1)=>{"use strict";(function(e,t,n){function r(s){var l=this,c="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},s===(s|0)?l.x=s:c+=s;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,l.next()}function o(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l}function i(s,l){var c=new r(s),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var p=c.next()>>>11,f=(c.next()>>>0)/4294967296,m=(p+f)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&o(u,c),d.state=function(){return o(c,{})}),d}t&&t.exports?t.exports=i:n&&n.amd?n(function(){return i}):this.xor128=i})(qH,typeof l1=="object"&&l1,typeof define=="function"&&define)});var YH=Kr((XH,c1)=>{"use strict";(function(e,t,n){function r(s){var l=this,c="";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(d^d<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,s===(s|0)?l.x=s:c+=s;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,u==c.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function o(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l.v=s.v,l.d=s.d,l}function i(s,l){var c=new r(s),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var p=c.next()>>>11,f=(c.next()>>>0)/4294967296,m=(p+f)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&o(u,c),d.state=function(){return o(c,{})}),d}t&&t.exports?t.exports=i:n&&n.amd?n(function(){return i}):this.xorwow=i})(XH,typeof c1=="object"&&c1,typeof define=="function"&&define)});var QH=Kr((ZH,u1)=>{"use strict";(function(e,t,n){function r(s){var l=this;l.next=function(){var u=l.x,d=l.i,p,f,m;return p=u[d],p^=p>>>7,f=p^p<<24,p=u[d+1&7],f^=p^p>>>10,p=u[d+3&7],f^=p^p>>>3,p=u[d+4&7],f^=p^p<<7,p=u[d+7&7],p=p^p<<13,f^=p^p<<9,u[d]=f,l.i=d+1&7,f};function c(u,d){var p,f,m=[];if(d===(d|0))f=m[0]=d;else for(d=""+d,p=0;p<d.length;++p)m[p&7]=m[p&7]<<15^d.charCodeAt(p)+m[p+1&7]<<13;for(;m.length<8;)m.push(0);for(p=0;p<8&&m[p]===0;++p);for(p==8?f=m[7]=-1:f=m[p],u.x=m,u.i=0,p=256;p>0;--p)u.next()}c(l,s)}function o(s,l){return l.x=s.x.slice(),l.i=s.i,l}function i(s,l){s==null&&(s=+new Date);var c=new r(s),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var p=c.next()>>>11,f=(c.next()>>>0)/4294967296,m=(p+f)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(u.x&&o(u,c),d.state=function(){return o(c,{})}),d}t&&t.exports?t.exports=i:n&&n.amd?n(function(){return i}):this.xorshift7=i})(ZH,typeof u1=="object"&&u1,typeof define=="function"&&define)});var eG=Kr((JH,d1)=>{"use strict";(function(e,t,n){function r(s){var l=this;l.next=function(){var u=l.w,d=l.X,p=l.i,f,m;return l.w=u=u+1640531527|0,m=d[p+34&127],f=d[p=p+1&127],m^=m<<13,f^=f<<17,m^=m>>>15,f^=f>>>12,m=d[p]=m^f,l.i=p,m+(u^u>>>16)|0};function c(u,d){var p,f,m,h,g,_=[],$=128;for(d===(d|0)?(f=d,d=null):(d=d+"\0",f=0,$=Math.max($,d.length)),m=0,h=-32;h<$;++h)d&&(f^=d.charCodeAt((h+32)%d.length)),h===0&&(g=f),f^=f<<10,f^=f>>>15,f^=f<<4,f^=f>>>13,h>=0&&(g=g+1640531527|0,p=_[h&127]^=f+g,m=p==0?m+1:0);for(m>=128&&(_[(d&&d.length||0)&127]=-1),m=127,h=4*128;h>0;--h)f=_[m+34&127],p=_[m=m+1&127],f^=f<<13,p^=p<<17,f^=f>>>15,p^=p>>>12,_[m]=f^p;u.w=g,u.X=_,u.i=m}c(l,s)}function o(s,l){return l.i=s.i,l.w=s.w,l.X=s.X.slice(),l}function i(s,l){s==null&&(s=+new Date);var c=new r(s),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var p=c.next()>>>11,f=(c.next()>>>0)/4294967296,m=(p+f)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(u.X&&o(u,c),d.state=function(){return o(c,{})}),d}t&&t.exports?t.exports=i:n&&n.amd?n(function(){return i}):this.xor4096=i})(JH,typeof d1=="object"&&d1,typeof define=="function"&&define)});var nG=Kr((tG,p1)=>{"use strict";(function(e,t,n){function r(s){var l=this,c="";l.next=function(){var d=l.b,p=l.c,f=l.d,m=l.a;return d=d<<25^d>>>7^p,p=p-f|0,f=f<<24^f>>>8^m,m=m-d|0,l.b=d=d<<20^d>>>12^p,l.c=p=p-f|0,l.d=f<<16^p>>>16^m,l.a=m-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,s===Math.floor(s)?(l.a=s/4294967296|0,l.b=s|0):c+=s;for(var u=0;u<c.length+20;u++)l.b^=c.charCodeAt(u)|0,l.next()}function o(s,l){return l.a=s.a,l.b=s.b,l.c=s.c,l.d=s.d,l}function i(s,l){var c=new r(s),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var p=c.next()>>>11,f=(c.next()>>>0)/4294967296,m=(p+f)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&o(u,c),d.state=function(){return o(c,{})}),d}t&&t.exports?t.exports=i:n&&n.amd?n(function(){return i}):this.tychei=i})(tG,typeof p1=="object"&&p1,typeof define=="function"&&define)});var rG=Kr(()=>{"use strict"});var oG=Kr((IHe,_$)=>{"use strict";(function(e,t){var n=this,r=256,o=6,i=52,s="random",l=t.pow(r,o),c=t.pow(2,i),u=c*2,d=r-1,p;function f(w,S,I){var F=[];S=S==!0?{entropy:!0}:S||{};var k=_(g(S.entropy?[w,x(e)]:w??$(),3),F),M=new m(F),O=function(){for(var B=M.g(o),W=l,V=0;B<c;)B=(B+V)*r,W*=r,V=M.g(1);for(;B>=u;)B/=2,W/=2,V>>>=1;return(B+V)/W};return O.int32=function(){return M.g(4)|0},O.quick=function(){return M.g(4)/4294967296},O.double=O,_(x(M.S),e),(S.pass||I||function(B,W,V,P){return P&&(P.S&&h(P,M),B.state=function(){return h(M,{})}),V?(t[s]=B,W):B})(O,k,"global"in S?S.global:this==t,S.state)}t["seed"+s]=f;function m(w){var S,I=w.length,F=this,k=0,M=F.i=F.j=0,O=F.S=[];for(I||(w=[I++]);k<r;)O[k]=k++;for(k=0;k<r;k++)O[k]=O[M=d&M+w[k%I]+(S=O[k])],O[M]=S;(F.g=function(B){for(var W,V=0,P=F.i,G=F.j,Z=F.S;B--;)W=Z[P=d&P+1],V=V*r+Z[d&(Z[P]=Z[G=d&G+W])+(Z[G]=W)];return F.i=P,F.j=G,V})(r)}function h(w,S){return S.i=w.i,S.j=w.j,S.S=w.S.slice(),S}function g(w,S){var I=[],F=typeof w,k;if(S&&F=="object")for(k in w)try{I.push(g(w[k],S-1))}catch{}return I.length?I:F=="string"?w:w+"\0"}function _(w,S){for(var I=w+"",F,k=0;k<I.length;)S[d&k]=d&(F^=S[d&k]*19)+I.charCodeAt(k++);return x(S)}function $(){try{var w;return p&&(w=p.randomBytes)?w=w(r):(w=new Uint8Array(r),(n.crypto||n.msCrypto).getRandomValues(w)),x(w)}catch{var S=n.navigator,I=S&&S.plugins;return[+new Date,n,I,n.screen,x(e)]}}function x(w){return String.fromCharCode.apply(0,w)}if(_(t.random(),e),typeof _$=="object"&&_$.exports){_$.exports=f;try{p=rG()}catch{}}else typeof define=="function"&&define.amd&&define(function(){return f})})([],Math)});var sG=Kr((EHe,iG)=>{"use strict";var Uhe=GH(),Whe=KH(),zhe=YH(),Vhe=QH(),Hhe=eG(),Ghe=nG(),vl=oG();vl.alea=Uhe;vl.xor128=Whe;vl.xorwow=zhe;vl.xorshift7=Vhe;vl.xor4096=Hhe;vl.tychei=Ghe;iG.exports=vl});var ss=Kr((exports,module)=>{"use strict";var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}};$jscomp.arrayIterator=function(e){return{next:$jscomp.arrayIteratorImpl(e)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};$jscomp.getGlobal=function(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")};$jscomp.global=$jscomp.getGlobal(exports);$jscomp.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol";$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";$jscomp.polyfill=function(e,t,n,r){t&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(e,t,n,r):$jscomp.polyfillUnisolated(e,t,n,r))};$jscomp.polyfillUnisolated=function(e,t){var n=$jscomp.global;e=e.split(".");for(var r=0;r<e.length-1;r++){var o=e[r];if(!(o in n))return;n=n[o]}e=e[e.length-1],r=n[e],t=t(r),t!=r&&t!=null&&$jscomp.defineProperty(n,e,{configurable:!0,writable:!0,value:t})};$jscomp.polyfillIsolated=function(e,t,n){var r=e.split(".");e=r.length===1;var o=r[0];o=!e&&o in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var i=0;i<r.length-1;i++){var s=r[i];if(!(s in o))return;o=o[s]}r=r[r.length-1],n=$jscomp.IS_SYMBOL_NATIVE&&n==="es6"?o[r]:null,t=t(n),t!=null&&(e?$jscomp.defineProperty($jscomp.polyfills,r,{configurable:!0,writable:!0,value:t}):t!==n&&($jscomp.propertyToPolyfillSymbol[r]===void 0&&(e=1e9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[r]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(r):$jscomp.POLYFILL_PREFIX+e+"$"+r),$jscomp.defineProperty(o,$jscomp.propertyToPolyfillSymbol[r],{configurable:!0,writable:!0,value:t})))};$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(e){if(e)return e;var t=function(i,s){this.$jscomp$symbol$id_=i,$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:s})};t.prototype.toString=function(){return this.$jscomp$symbol$id_};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0,o=function(i){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return new t(n+(i||"")+"_"+r++,i)};return o},"es6","es3");$jscomp.polyfill("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var r=$jscomp.global[t[n]];typeof r=="function"&&typeof r.prototype[e]!="function"&&$jscomp.defineProperty(r.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return e},"es6","es3");$jscomp.iteratorPrototype=function(e){return e={next:e},e[Symbol.iterator]=function(){return this},e};$jscomp.createTemplateTagFirstArg=function(e){return e.raw=e};$jscomp.createTemplateTagFirstArgWithRaw=function(e,t){return e.raw=t,e};$jscomp.makeIterator=function(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):$jscomp.arrayIterator(e)};$jscomp.arrayFromIterator=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n};$jscomp.arrayFromIterable=function(e){return e instanceof Array?e:$jscomp.arrayFromIterator($jscomp.makeIterator(e))};$jscomp.objectCreate=$jscomp.ASSUME_ES5||typeof Object.create=="function"?Object.create:function(e){var t=function(){};return t.prototype=e,new t};$jscomp.getConstructImplementation=function(){function e(){function n(){}return new n,Reflect.construct(n,[],function(){}),new n instanceof n}if($jscomp.TRUST_ES6_POLYFILLS&&typeof Reflect<"u"&&Reflect.construct){if(e())return Reflect.construct;var t=Reflect.construct;return function(n,r,o){return n=t(n,r),o&&Reflect.setPrototypeOf(n,o.prototype),n}}return function(n,r,o){return o===void 0&&(o=n),o=$jscomp.objectCreate(o.prototype||Object.prototype),Function.prototype.apply.call(n,o,r)||o}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.underscoreProtoCanBeSet=function(){var e={a:!0},t={};try{return t.__proto__=e,t.a}catch{}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null;$jscomp.inherits=function(e,t){if(e.prototype=$jscomp.objectCreate(t.prototype),e.prototype.constructor=e,$jscomp.setPrototypeOf){var n=$jscomp.setPrototypeOf;n(e,t)}else for(n in t)if(n!="prototype")if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.superClass_=t.prototype};$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(e){if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object")};$jscomp.generator.Context=function(){this.isRunning_=!1,this.yieldAllIterator_=null,this.yieldResult=void 0,this.nextAddress=1,this.finallyAddress_=this.catchAddress_=0,this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(e){this.yieldResult=e};$jscomp.generator.Context.prototype.throw_=function(e){this.abruptCompletion_={exception:e,isException:!0},this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(e){this.abruptCompletion_={return:e},this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(e){this.abruptCompletion_={jumpTo:e},this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(e,t){return this.nextAddress=t,{value:e}};$jscomp.generator.Context.prototype.yieldAll=function(e,t){e=$jscomp.makeIterator(e);var n=e.next();if($jscomp.generator.ensureIteratorResultIsObject_(n),n.done)this.yieldResult=n.value,this.nextAddress=t;else return this.yieldAllIterator_=e,this.yield(n.value,t)};$jscomp.generator.Context.prototype.jumpTo=function(e){this.nextAddress=e};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(e,t){this.catchAddress_=e,t!=null&&(this.finallyAddress_=t)};$jscomp.generator.Context.prototype.setFinallyBlock=function(e){this.catchAddress_=0,this.finallyAddress_=e||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(e,t){this.nextAddress=e,this.catchAddress_=t||0};$jscomp.generator.Context.prototype.enterCatchBlock=function(e){return this.catchAddress_=e||0,e=this.abruptCompletion_.exception,this.abruptCompletion_=null,e};$jscomp.generator.Context.prototype.enterFinallyBlock=function(e,t,n){n?this.finallyContexts_[n]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_],this.catchAddress_=e||0,this.finallyAddress_=t||0};$jscomp.generator.Context.prototype.leaveFinallyBlock=function(e,t){if(t=this.finallyContexts_.splice(t||0)[0],t=this.abruptCompletion_=this.abruptCompletion_||t){if(t.isException)return this.jumpToErrorHandler_();t.jumpTo!=null&&this.finallyAddress_<t.jumpTo?(this.nextAddress=t.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=e};$jscomp.generator.Context.prototype.forIn=function(e){return new $jscomp.generator.Context.PropertyIterator(e)};$jscomp.generator.Context.PropertyIterator=function(e){this.object_=e,this.properties_=[];for(var t in e)this.properties_.push(t);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var e=this.properties_.pop();if(e in this.object_)return e}return null};$jscomp.generator.Engine_=function(e){this.context_=new $jscomp.generator.Context,this.program_=e};$jscomp.generator.Engine_.prototype.next_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.next,e,this.context_.next_):(this.context_.next_(e),this.nextStep_())};$jscomp.generator.Engine_.prototype.return_=function(e){this.context_.start_();var t=this.context_.yieldAllIterator_;return t?this.yieldAllStep_("return"in t?t.return:function(n){return{value:n,done:!0}},e,this.context_.return):(this.context_.return(e),this.nextStep_())};$jscomp.generator.Engine_.prototype.throw_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.throw,e,this.context_.next_):(this.context_.throw_(e),this.nextStep_())};$jscomp.generator.Engine_.prototype.yieldAllStep_=function(e,t,n){try{var r=e.call(this.context_.yieldAllIterator_,t);if($jscomp.generator.ensureIteratorResultIsObject_(r),!r.done)return this.context_.stop_(),r;var o=r.value}catch(i){return this.context_.yieldAllIterator_=null,this.context_.throw_(i),this.nextStep_()}return this.context_.yieldAllIterator_=null,n.call(this.context_,o),this.nextStep_()};$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var e=this.program_(this.context_);if(e)return this.context_.stop_(),{value:e.value,done:!1}}catch(t){this.context_.yieldResult=void 0,this.context_.throw_(t)}if(this.context_.stop_(),this.context_.abruptCompletion_){if(e=this.context_.abruptCompletion_,this.context_.abruptCompletion_=null,e.isException)throw e.exception;return{value:e.return,done:!0}}return{value:void 0,done:!0}};$jscomp.generator.Generator_=function(e){this.next=function(t){return e.next_(t)},this.throw=function(t){return e.throw_(t)},this.return=function(t){return e.return_(t)},this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(e,t){return t=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(t)),$jscomp.setPrototypeOf&&e.prototype&&$jscomp.setPrototypeOf(t,e.prototype),t};$jscomp.asyncExecutePromiseGenerator=function(e){function t(r){return e.next(r)}function n(r){return e.throw(r)}return new Promise(function(r,o){function i(s){s.done?r(s.value):Promise.resolve(s.value).then(t,n).then(i,o)}i(e.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(e){return $jscomp.asyncExecutePromiseGenerator(e())};$jscomp.asyncExecutePromiseGeneratorProgram=function(e){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(e)))};$jscomp.polyfill("Reflect",function(e){return e||{}},"es6","es3");$jscomp.polyfill("Reflect.construct",function(){return $jscomp.construct},"es6","es3");$jscomp.polyfill("Reflect.setPrototypeOf",function(e){if(e)return e;if($jscomp.setPrototypeOf){var t=$jscomp.setPrototypeOf;return function(n,r){try{return t(n,r),!0}catch{return!1}}}return null},"es6","es5");$jscomp.polyfill("Promise",function(e){function t(){this.batch_=null}function n(l){return l instanceof i?l:new i(function(c){c(l)})}if(e&&(!($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&typeof $jscomp.global.PromiseRejectionEvent>"u")||!$jscomp.global.Promise||$jscomp.global.Promise.toString().indexOf("[native code]")===-1))return e;t.prototype.asyncExecute=function(l){if(this.batch_==null){this.batch_=[];var c=this;this.asyncExecuteFunction(function(){c.executeBatch_()})}this.batch_.push(l)};var r=$jscomp.global.setTimeout;t.prototype.asyncExecuteFunction=function(l){r(l,0)},t.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var l=this.batch_;this.batch_=[];for(var c=0;c<l.length;++c){var u=l[c];l[c]=null;try{u()}catch(d){this.asyncThrow_(d)}}}this.batch_=null},t.prototype.asyncThrow_=function(l){this.asyncExecuteFunction(function(){throw l})};var o={PENDING:0,FULFILLED:1,REJECTED:2},i=function(l){this.state_=o.PENDING,this.result_=void 0,this.onSettledCallbacks_=[],this.isRejectionHandled_=!1;var c=this.createResolveAndReject_();try{l(c.resolve,c.reject)}catch(u){c.reject(u)}};i.prototype.createResolveAndReject_=function(){function l(d){return function(p){u||(u=!0,d.call(c,p))}}var c=this,u=!1;return{resolve:l(this.resolveTo_),reject:l(this.reject_)}},i.prototype.resolveTo_=function(l){if(l===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(l instanceof i)this.settleSameAsPromise_(l);else{e:switch(typeof l){case"object":var c=l!=null;break e;case"function":c=!0;break e;default:c=!1}c?this.resolveToNonPromiseObj_(l):this.fulfill_(l)}},i.prototype.resolveToNonPromiseObj_=function(l){var c=void 0;try{c=l.then}catch(u){this.reject_(u);return}typeof c=="function"?this.settleSameAsThenable_(c,l):this.fulfill_(l)},i.prototype.reject_=function(l){this.settle_(o.REJECTED,l)},i.prototype.fulfill_=function(l){this.settle_(o.FULFILLED,l)},i.prototype.settle_=function(l,c){if(this.state_!=o.PENDING)throw Error("Cannot settle("+l+", "+c+"): Promise already settled in state"+this.state_);this.state_=l,this.result_=c,this.state_===o.REJECTED&&this.scheduleUnhandledRejectionCheck_(),this.executeOnSettledCallbacks_()},i.prototype.scheduleUnhandledRejectionCheck_=function(){var l=this;r(function(){if(l.notifyUnhandledRejection_()){var c=$jscomp.global.console;typeof c<"u"&&c.error(l.result_)}},1)},i.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var l=$jscomp.global.CustomEvent,c=$jscomp.global.Event,u=$jscomp.global.dispatchEvent;return typeof u>"u"?!0:(typeof l=="function"?l=new l("unhandledrejection",{cancelable:!0}):typeof c=="function"?l=new c("unhandledrejection",{cancelable:!0}):(l=$jscomp.global.document.createEvent("CustomEvent"),l.initCustomEvent("unhandledrejection",!1,!0,l)),l.promise=this,l.reason=this.result_,u(l))},i.prototype.executeOnSettledCallbacks_=function(){if(this.onSettledCallbacks_!=null){for(var l=0;l<this.onSettledCallbacks_.length;++l)s.asyncExecute(this.onSettledCallbacks_[l]);this.onSettledCallbacks_=null}};var s=new t;return i.prototype.settleSameAsPromise_=function(l){var c=this.createResolveAndReject_();l.callWhenSettled_(c.resolve,c.reject)},i.prototype.settleSameAsThenable_=function(l,c){var u=this.createResolveAndReject_();try{l.call(c,u.resolve,u.reject)}catch(d){u.reject(d)}},i.prototype.then=function(l,c){function u(m,h){return typeof m=="function"?function(g){try{d(m(g))}catch(_){p(_)}}:h}var d,p,f=new i(function(m,h){d=m,p=h});return this.callWhenSettled_(u(l,d),u(c,p)),f},i.prototype.catch=function(l){return this.then(void 0,l)},i.prototype.callWhenSettled_=function(l,c){function u(){switch(d.state_){case o.FULFILLED:l(d.result_);break;case o.REJECTED:c(d.result_);break;default:throw Error("Unexpected state: "+d.state_)}}var d=this;this.onSettledCallbacks_==null?s.asyncExecute(u):this.onSettledCallbacks_.push(u),this.isRejectionHandled_=!0},i.resolve=n,i.reject=function(l){return new i(function(c,u){u(l)})},i.race=function(l){return new i(function(c,u){for(var d=$jscomp.makeIterator(l),p=d.next();!p.done;p=d.next())n(p.value).callWhenSettled_(c,u)})},i.all=function(l){var c=$jscomp.makeIterator(l),u=c.next();return u.done?n([]):new i(function(d,p){function f(g){return function(_){m[g]=_,h--,h==0&&d(m)}}var m=[],h=0;do m.push(void 0),h++,n(u.value).callWhenSettled_(f(m.length-1),p),u=c.next();while(!u.done)})},i},"es6","es3");$jscomp.findInternal=function(e,t,n){e instanceof String&&(e=String(e));for(var r=e.length,o=0;o<r;o++){var i=e[o];if(t.call(n,i,o,e))return{i:o,v:i}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(e){return e||function(t,n){return $jscomp.findInternal(this,t,n).v}},"es6","es3");$jscomp.checkEs6ConformanceViaProxy=function(){try{var e={},t=Object.create(new $jscomp.global.Proxy(e,{get:function(n,r,o){return n==e&&r=="q"&&o==t}}));return t.q===!0}catch{return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};$jscomp.polyfill("WeakMap",function(e){function t(){if(!e||!Object.seal)return!1;try{var u=Object.seal({}),d=Object.seal({}),p=new e([[u,2],[d,3]]);return p.get(u)!=2||p.get(d)!=3?!1:(p.delete(u),p.set(d,4),!p.has(u)&&p.get(d)==4)}catch{return!1}}function n(){}function r(u){var d=typeof u;return d==="object"&&u!==null||d==="function"}function o(u){if(!$jscomp.owns(u,s)){var d=new n;$jscomp.defineProperty(u,s,{value:d})}}function i(u){if(!$jscomp.ISOLATE_POLYFILLS){var d=Object[u];d&&(Object[u]=function(p){return p instanceof n?p:(Object.isExtensible(p)&&o(p),d(p))})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&$jscomp.ES6_CONFORMANCE)return e}else if(t())return e;var s="$jscomp_hidden_"+Math.random();i("freeze"),i("preventExtensions"),i("seal");var l=0,c=function(u){if(this.id_=(l+=Math.random()+1).toString(),u){u=$jscomp.makeIterator(u);for(var d;!(d=u.next()).done;)d=d.value,this.set(d[0],d[1])}};return c.prototype.set=function(u,d){if(!r(u))throw Error("Invalid WeakMap key");if(o(u),!$jscomp.owns(u,s))throw Error("WeakMap key fail: "+u);return u[s][this.id_]=d,this},c.prototype.get=function(u){return r(u)&&$jscomp.owns(u,s)?u[s][this.id_]:void 0},c.prototype.has=function(u){return r(u)&&$jscomp.owns(u,s)&&$jscomp.owns(u[s],this.id_)},c.prototype.delete=function(u){return r(u)&&$jscomp.owns(u,s)&&$jscomp.owns(u[s],this.id_)?delete u[s][this.id_]:!1},c},"es6","es3");$jscomp.MapEntry=function(){};$jscomp.polyfill("Map",function(e){function t(){if($jscomp.ASSUME_NO_NATIVE_MAP||!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var c=Object.seal({x:4}),u=new e($jscomp.makeIterator([[c,"s"]]));if(u.get(c)!="s"||u.size!=1||u.get({x:4})||u.set({x:4},"t")!=u||u.size!=2)return!1;var d=u.entries(),p=d.next();return p.done||p.value[0]!=c||p.value[1]!="s"?!1:(p=d.next(),!(p.done||p.value[0].x!=4||p.value[1]!="t"||!d.next().done))}catch{return!1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&$jscomp.ES6_CONFORMANCE)return e}else if(t())return e;var n=new WeakMap,r=function(c){if(this.data_={},this.head_=s(),this.size=0,c){c=$jscomp.makeIterator(c);for(var u;!(u=c.next()).done;)u=u.value,this.set(u[0],u[1])}};r.prototype.set=function(c,u){c=c===0?0:c;var d=o(this,c);return d.list||(d.list=this.data_[d.id]=[]),d.entry?d.entry.value=u:(d.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:c,value:u},d.list.push(d.entry),this.head_.previous.next=d.entry,this.head_.previous=d.entry,this.size++),this},r.prototype.delete=function(c){return c=o(this,c),c.entry&&c.list?(c.list.splice(c.index,1),c.list.length||delete this.data_[c.id],c.entry.previous.next=c.entry.next,c.entry.next.previous=c.entry.previous,c.entry.head=null,this.size--,!0):!1},r.prototype.clear=function(){this.data_={},this.head_=this.head_.previous=s(),this.size=0},r.prototype.has=function(c){return!!o(this,c).entry},r.prototype.get=function(c){return(c=o(this,c).entry)&&c.value},r.prototype.entries=function(){return i(this,function(c){return[c.key,c.value]})},r.prototype.keys=function(){return i(this,function(c){return c.key})},r.prototype.values=function(){return i(this,function(c){return c.value})},r.prototype.forEach=function(c,u){for(var d=this.entries(),p;!(p=d.next()).done;)p=p.value,c.call(u,p[1],p[0],this)},r.prototype[Symbol.iterator]=r.prototype.entries;var o=function(c,u){var d=u&&typeof u;d=="object"||d=="function"?n.has(u)?d=n.get(u):(d=""+ ++l,n.set(u,d)):d="p_"+u;var p=c.data_[d];if(p&&$jscomp.owns(c.data_,d))for(c=0;c<p.length;c++){var f=p[c];if(u!==u&&f.key!==f.key||u===f.key)return{id:d,list:p,index:c,entry:f}}return{id:d,list:p,index:-1,entry:void 0}},i=function(c,u){var d=c.head_;return $jscomp.iteratorPrototype(function(){if(d){for(;d.head!=c.head_;)d=d.previous;for(;d.next!=d.head;)return d=d.next,{done:!1,value:u(d)};d=null}return{done:!0,value:void 0}})},s=function(){var c={};return c.previous=c.next=c.head=c},l=0;return r},"es6","es3");$jscomp.iteratorFromArray=function(e,t){e instanceof String&&(e+="");var n=0,r=!1,o={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o};$jscomp.polyfill("Array.prototype.entries",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(t,n){return[t,n]})}},"es6","es3");$jscomp.checkStringArgs=function(e,t,n){if(e==null)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""};$jscomp.polyfill("String.prototype.endsWith",function(e){return e||function(t,n){var r=$jscomp.checkStringArgs(this,t,"endsWith");t+="",n===void 0&&(n=r.length),n=Math.max(0,Math.min(n|0,r.length));for(var o=t.length;0<o&&0<n;)if(r[--n]!=t[--o])return!1;return 0>=o}},"es6","es3");$jscomp.polyfill("String.prototype.startsWith",function(e){return e||function(t,n){var r=$jscomp.checkStringArgs(this,t,"startsWith");t+="";var o=r.length,i=t.length;n=Math.max(0,Math.min(n|0,r.length));for(var s=0;s<i&&n<o;)if(r[n++]!=t[s++])return!1;return s>=i}},"es6","es3");$jscomp.polyfill("Number.isFinite",function(e){return e||function(t){return typeof t!="number"?!1:!isNaN(t)&&t!==1/0&&t!==-1/0}},"es6","es3");$jscomp.polyfill("String.prototype.repeat",function(e){return e||function(t){var n=$jscomp.checkStringArgs(this,null,"repeat");if(0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var r="";t;)t&1&&(r+=n),(t>>>=1)&&(n+=n);return r}},"es6","es3");$jscomp.polyfill("Object.setPrototypeOf",function(e){return e||$jscomp.setPrototypeOf},"es6","es5");$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&typeof Object.assign=="function"?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var o in r)$jscomp.owns(r,o)&&(e[o]=r[o])}return e};$jscomp.polyfill("Object.assign",function(e){return e||$jscomp.assign},"es6","es3");var goog=goog||{};goog.global=exports||self;goog.exportPath_=function(e,t,n,r){e=e.split("."),r=r||goog.global,e[0]in r||typeof r.execScript>"u"||r.execScript("var "+e[0]);for(var o;e.length&&(o=e.shift());)if(e.length||t===void 0)r=r[o]&&r[o]!==Object.prototype[o]?r[o]:r[o]={};else if(!n&&goog.isObject(t)&&goog.isObject(r[o]))for(var i in t)t.hasOwnProperty(i)&&(r[o][i]=t[i]);else r[o]=t};goog.define=function(e,t){return t};goog.FEATURESET_YEAR=2012;goog.DEBUG=!0;goog.LOCALE="en";goog.getLocale=function(){return goog.LOCALE};goog.TRUSTED_SITE=!0;goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG;goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1;goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(e)};goog.constructNamespace_=function(e,t,n){goog.exportPath_(e,t,n)};goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/;goog.getScriptNonce_=function(e){return e=(e||goog.global).document,(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(e)?e:""};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;goog.module=function(e){if(typeof e!="string"||!e||e.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=e};goog.module.get=function(e){return goog.module.getInternal_(e)};goog.module.getInternal_=function(){return null};goog.ModuleType={ES6:"es6",GOOG:"goog"};goog.moduleLoaderState_=null;goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()};goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG};goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var e=goog.global.$jscomp;return e?typeof e.getCurrentModulePath!="function"?!1:!!e.getCurrentModulePath():!1};goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0};goog.declareModuleId=function(e){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=e;else{var t=goog.global.$jscomp;if(!t||typeof t.getCurrentModulePath!="function")throw Error('Module with namespace "'+e+'" has been loaded incorrectly.');t=t.require(t.getCurrentModulePath()),goog.loadedModules_[e]={exports:t,type:goog.ModuleType.ES6,moduleId:e}}};goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))};goog.forwardDeclare=function(){};goog.getObjectByName=function(e,t){e=e.split("."),t=t||goog.global;for(var n=0;n<e.length;n++)if(t=t[e[n]],t==null)return null;return t};goog.addDependency=function(){};goog.ENABLE_DEBUG_LOADER=!0;goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)};goog.require=function(){};goog.requireType=function(){return{}};goog.basePath="";goog.nullFunction=function(){};goog.abstractMethod=function(){throw Error("unimplemented abstract method")};goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}};goog.instantiatedSingletons_=[];goog.LOAD_MODULE_USING_EVAL=!0;goog.SEAL_MODULE_EXPORTS=goog.DEBUG;goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!1;goog.TRANSPILE="detect";goog.ASSUME_ES_MODULES_TRANSPILED=!1;goog.TRANSPILE_TO_LANGUAGE="";goog.TRANSPILER="transpile.js";goog.TRUSTED_TYPES_POLICY_NAME="goog";goog.hasBadLetScoping=null;goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG};var n={},r=n;if(typeof e=="function")r=e.call(void 0,r);else if(typeof e=="string")r=goog.loadModuleFromSource_.call(void 0,r,e);else throw Error("Invalid module definition");var o=goog.moduleLoaderState_.moduleName;if(typeof o=="string"&&o)goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(o,r,n!==r):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof r=="object"&&r!=null&&Object.seal(r),goog.loadedModules_[o]={exports:r,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName};else throw Error('Invalid module name "'+o+'"')}finally{goog.moduleLoaderState_=t}};goog.loadModuleFromSource_=function(a,b){return eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(b)),a};goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)e[t]=="."?e.splice(t,1):t&&e[t]==".."&&e[t-1]&&e[t-1]!=".."?e.splice(--t,2):t++;return e.join("/")};goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),t.status==0||t.status==200?t.responseText:null}catch{return null}};goog.transpile_=function(e,t,n){var r=goog.global.$jscomp;r||(goog.global.$jscomp=r={});var o=r.transpile;if(!o){var i=goog.basePath+goog.TRANSPILER,s=goog.loadFileSync_(i);if(s){if((function(){(0,eval)(s+`
//# sourceURL=`+i)}).call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,r=goog.global.$jscomp,o=r.transpile}}if(!o){var l=" requires transpilation but no transpiler was found.";l+=' Please add "//javascript/closure:transpiler" as a data dependency to ensure it is included.',o=r.transpile=function(c,u){return goog.logToConsole_(u+l),c}}return o(e,t,n)};goog.typeOf=function(e){var t=typeof e;return t!="object"?t:e?Array.isArray(e)?"array":t:"null"};goog.isArrayLike=function(e){var t=goog.typeOf(e);return t=="array"||t=="object"&&typeof e.length=="number"};goog.isDateLike=function(e){return goog.isObject(e)&&typeof e.getFullYear=="function"};goog.isObject=function(e){var t=typeof e;return t=="object"&&e!=null||t=="function"};goog.getUid=function(e){return Object.prototype.hasOwnProperty.call(e,goog.UID_PROPERTY_)&&e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]};goog.removeUid=function(e){e!==null&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch{}};goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0);goog.uidCounter_=0;goog.cloneObject=function(e){var t=goog.typeOf(e);if(t=="object"||t=="array"){if(typeof e.clone=="function")return e.clone();if(typeof Map<"u"&&e instanceof Map)return new Map(e);if(typeof Set<"u"&&e instanceof Set)return new Set(e);t=t=="array"?[]:{};for(var n in e)t[n]=goog.cloneObject(e[n]);return t}return e};goog.bindNative_=function(e,t,n){return e.call.apply(e.bind,arguments)};goog.bindJs_=function(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}};goog.bind=function(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)};goog.partial=function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}};goog.mixin=function(e,t){for(var n in t)e[n]=t[n]};goog.now=function(){return Date.now()};goog.globalEval=function(e){(0,eval)(e)};goog.getCssName=function(e,t){if(String(e).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var n=function(o){return goog.cssNameMapping_[o]||o},r=function(o){o=o.split("-");for(var i=[],s=0;s<o.length;s++)i.push(n(o[s]));return i.join("-")};return r=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?n:r:function(o){return o},e=t?e+"-"+r(t):r(e),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(e):e};goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t};goog.getMsg=function(e,t,n){return n&&n.html&&(e=e.replace(/</g,"&lt;")),n&&n.unescapeHtmlEntities&&(e=e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&amp;/g,"&")),t&&(e=e.replace(/\{\$([^}]+)}/g,function(r,o){return t!=null&&o in t?t[o]:r})),e};goog.getMsgWithFallback=function(e){return e};goog.exportSymbol=function(e,t,n){goog.exportPath_(e,t,!0,n)};goog.exportProperty=function(e,t,n){e[t]=n};goog.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.base=function(r,o,i){for(var s=Array(arguments.length-2),l=2;l<arguments.length;l++)s[l-2]=arguments[l];return t.prototype[o].apply(r,s)}};goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");e.call(goog.global)};goog.defineClass=function(e,t){var n=t.constructor,r=t.statics;return n&&n!=Object.prototype.constructor||(n=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),n=goog.defineClass.createSealingConstructor_(n,e),e&&goog.inherits(n,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(n.prototype,t),r!=null&&(r instanceof Function?r(n):goog.defineClass.applyProperties_(n,r)),n};goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG;goog.defineClass.createSealingConstructor_=function(e){return goog.defineClass.SEAL_CLASS_INSTANCES?function(){var t=e.apply(this,arguments)||this;return t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_],t}:e};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");goog.defineClass.applyProperties_=function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);for(var r=0;r<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;r++)n=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[r],Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};goog.identity_=function(e){return e};goog.createTrustedTypesPolicy=function(e){var t=null,n=goog.global.trustedTypes;if(!n||!n.createPolicy)return t;try{t=n.createPolicy(e,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_})}catch(r){goog.logToConsole_(r.message)}return t};var module$exports$jspb$BinaryConstants={FieldType:{INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18},WireType:{INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5}};function module$contents$jspb$BinaryConstants_isValidWireType(e){return 0<=e&&5>=e}function module$contents$jspb$BinaryConstants_FieldTypeToWireType(e){switch(e){case module$exports$jspb$BinaryConstants.FieldType.INT32:case module$exports$jspb$BinaryConstants.FieldType.INT64:case module$exports$jspb$BinaryConstants.FieldType.UINT32:case module$exports$jspb$BinaryConstants.FieldType.UINT64:case module$exports$jspb$BinaryConstants.FieldType.SINT32:case module$exports$jspb$BinaryConstants.FieldType.SINT64:case module$exports$jspb$BinaryConstants.FieldType.BOOL:case module$exports$jspb$BinaryConstants.FieldType.ENUM:return module$exports$jspb$BinaryConstants.WireType.VARINT;case module$exports$jspb$BinaryConstants.FieldType.DOUBLE:case module$exports$jspb$BinaryConstants.FieldType.FIXED64:case module$exports$jspb$BinaryConstants.FieldType.SFIXED64:return module$exports$jspb$BinaryConstants.WireType.FIXED64;case module$exports$jspb$BinaryConstants.FieldType.STRING:case module$exports$jspb$BinaryConstants.FieldType.MESSAGE:case module$exports$jspb$BinaryConstants.FieldType.BYTES:return module$exports$jspb$BinaryConstants.WireType.DELIMITED;case module$exports$jspb$BinaryConstants.FieldType.FLOAT:case module$exports$jspb$BinaryConstants.FieldType.FIXED32:case module$exports$jspb$BinaryConstants.FieldType.SFIXED32:return module$exports$jspb$BinaryConstants.WireType.FIXED32;default:return module$exports$jspb$BinaryConstants.WireType.INVALID}}module$exports$jspb$BinaryConstants.INVALID_FIELD_NUMBER=-1;module$exports$jspb$BinaryConstants.INVALID_TAG=-1;module$exports$jspb$BinaryConstants.FLOAT32_EPS=1401298464324817e-60;module$exports$jspb$BinaryConstants.FLOAT32_MIN=11754943508222875e-54;module$exports$jspb$BinaryConstants.FLOAT32_MAX=34028234663852886e22;module$exports$jspb$BinaryConstants.FLOAT64_EPS=5e-324;module$exports$jspb$BinaryConstants.FLOAT64_MIN=22250738585072014e-324;module$exports$jspb$BinaryConstants.FLOAT64_MAX=17976931348623157e292;module$exports$jspb$BinaryConstants.TWO_TO_20=1048576;module$exports$jspb$BinaryConstants.TWO_TO_23=8388608;module$exports$jspb$BinaryConstants.TWO_TO_31=2147483648;module$exports$jspb$BinaryConstants.TWO_TO_32=4294967296;module$exports$jspb$BinaryConstants.TWO_TO_52=4503599627370496;module$exports$jspb$BinaryConstants.TWO_TO_63=9223372036854776e3;module$exports$jspb$BinaryConstants.TWO_TO_64=18446744073709552e3;module$exports$jspb$BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0";module$exports$jspb$BinaryConstants.FieldTypeToWireType=module$contents$jspb$BinaryConstants_FieldTypeToWireType;module$exports$jspb$BinaryConstants.isValidWireType=module$contents$jspb$BinaryConstants_isValidWireType;var jspb={};jspb.ByteSource={}.ByteSource;function module$contents$jspb$binary$errors_invalidWireTypeError(e,t){return Error("Invalid wire type: "+e+" (at position "+t+")")}function module$contents$jspb$binary$errors_invalidVarintError(){return Error("Failed to read varint, encoding is invalid.")}function module$contents$jspb$binary$errors_readTooFarError(e,t){return Error("Tried to read past the end of the data "+t+" > "+e)}goog.debug={};function module$contents$goog$debug$Error_DebugError(e,t){if(Error.captureStackTrace)Error.captureStackTrace(this,module$contents$goog$debug$Error_DebugError);else{var n=Error().stack;n&&(this.stack=n)}e&&(this.message=String(e)),t!==void 0&&(this.cause=t),this.reportErrorToServer=!0}goog.inherits(module$contents$goog$debug$Error_DebugError,Error);module$contents$goog$debug$Error_DebugError.prototype.name="CustomError";goog.debug.Error=module$contents$goog$debug$Error_DebugError;goog.dom={};goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};goog.asserts={};goog.asserts.ENABLE_ASSERTS=goog.DEBUG;goog.asserts.AssertionError=function(e,t){module$contents$goog$debug$Error_DebugError.call(this,goog.asserts.subs_(e,t)),this.messagePattern=e};goog.inherits(goog.asserts.AssertionError,module$contents$goog$debug$Error_DebugError);goog.asserts.AssertionError.prototype.name="AssertionError";goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e};goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER;goog.asserts.subs_=function(e,t){e=e.split("%s");for(var n="",r=e.length-1,o=0;o<r;o++)n+=e[o]+(o<t.length?t[o]:"%s");return n+e[r]};goog.asserts.doAssertFailure_=function(e,t,n,r){var o="Assertion failed";if(n){o+=": "+n;var i=r}else e&&(o+=": "+e,i=t);e=new goog.asserts.AssertionError(""+o,i||[]),goog.asserts.errorHandler_(e)};goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)};goog.asserts.assert=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e};goog.asserts.assertExists=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&e==null&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[e],t,Array.prototype.slice.call(arguments,2)),e};goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))};goog.asserts.assertNumber=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&typeof e!="number"&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e};goog.asserts.assertString=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&typeof e!="string"&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e};goog.asserts.assertFunction=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&typeof e!="function"&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e};goog.asserts.assertObject=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e};goog.asserts.assertArray=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!Array.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e};goog.asserts.assertBoolean=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&typeof e!="boolean"&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e};goog.asserts.assertElement=function(e,t,n){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e};goog.asserts.assertInstanceof=function(e,t,n,r){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],n,Array.prototype.slice.call(arguments,3)),e};goog.asserts.assertFinite=function(e,t,n){return!goog.asserts.ENABLE_ASSERTS||typeof e=="number"&&isFinite(e)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[e],t,Array.prototype.slice.call(arguments,2)),e};goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):e===null?"null":typeof e};var module$contents$jspb$binary$utf8_ENFORCE_UTF8=goog.DEBUG?"ALWAYS":"DEFAULT";(0,goog.asserts.assert)(module$contents$jspb$binary$utf8_ENFORCE_UTF8==="NEVER"||module$contents$jspb$binary$utf8_ENFORCE_UTF8==="DEFAULT"||module$contents$jspb$binary$utf8_ENFORCE_UTF8==="ALWAYS");var module$contents$jspb$binary$utf8_REJECT_UNPAIRED_SURROGATES=goog.DEBUG,module$contents$jspb$binary$utf8_USE_TEXT_ENCODING=2020<=goog.FEATURESET_YEAR;function module$contents$jspb$binary$utf8_utf8ErrorsAreFatal(e){return module$contents$jspb$binary$utf8_ENFORCE_UTF8==="ALWAYS"?!0:module$contents$jspb$binary$utf8_ENFORCE_UTF8==="NEVER"?!1:e}function module$contents$jspb$binary$utf8_invalid(e,t){if(module$contents$jspb$binary$utf8_utf8ErrorsAreFatal(e))throw Error("Invalid UTF8");t.push(65533)}function module$contents$jspb$binary$utf8_codeUnitsToString(e,t){return t=String.fromCharCode.apply(null,t),e==null?t:e+t}function module$contents$jspb$binary$utf8_polyfillDecodeUtf8(e,t,n,r){n=t+n;for(var o=[],i=null,s,l,c,u;t<n;)s=e[t++],128>s?o.push(s):224>s?t>=n?module$contents$jspb$binary$utf8_invalid(r,o):(l=e[t++],194>s||(l&192)!==128?(t--,module$contents$jspb$binary$utf8_invalid(r,o)):(s=(s&31)<<6|l&63,(0,goog.asserts.assert)(128<=s&&2047>=s),o.push(s))):240>s?t>=n-1?module$contents$jspb$binary$utf8_invalid(r,o):(l=e[t++],(l&192)!==128||s===224&&160>l||s===237&&160<=l||((c=e[t++])&192)!==128?(t--,module$contents$jspb$binary$utf8_invalid(r,o)):(s=(s&15)<<12|(l&63)<<6|c&63,(0,goog.asserts.assert)(2048<=s&&65535>=s),(0,goog.asserts.assert)(55296>s||57343<s),o.push(s))):244>=s?t>=n-2?module$contents$jspb$binary$utf8_invalid(r,o):(l=e[t++],(l&192)!==128||(s<<28)+(l-144)>>30||((c=e[t++])&192)!==128||((u=e[t++])&192)!==128?(t--,module$contents$jspb$binary$utf8_invalid(r,o)):(s=(s&7)<<18|(l&63)<<12|(c&63)<<6|u&63,(0,goog.asserts.assert)(65536<=s&&1114111>=s),s-=65536,o.push((s>>10&1023)+55296,(s&1023)+56320))):module$contents$jspb$binary$utf8_invalid(r,o),8192<=o.length&&(i=module$contents$jspb$binary$utf8_codeUnitsToString(i,o),o.length=0);return(0,goog.asserts.assert)(t===n,"expected "+t+" === "+n),module$contents$jspb$binary$utf8_codeUnitsToString(i,o)}var module$contents$jspb$binary$utf8_fatalDecoderInstance;function module$contents$jspb$binary$utf8_getFatalDecoderInstance(){var e=module$contents$jspb$binary$utf8_fatalDecoderInstance;return e||(e=module$contents$jspb$binary$utf8_fatalDecoderInstance=new TextDecoder("utf-8",{fatal:!0})),e}var module$contents$jspb$binary$utf8_nonFatalDecoderInstance;function module$contents$jspb$binary$utf8_getNonFatalDecoderInstance(){var e=module$contents$jspb$binary$utf8_nonFatalDecoderInstance;return e||(e=module$contents$jspb$binary$utf8_nonFatalDecoderInstance=new TextDecoder("utf-8",{fatal:!1})),e}var module$contents$jspb$binary$utf8_useTextDecoderDecode=module$contents$jspb$binary$utf8_USE_TEXT_ENCODING||typeof TextDecoder<"u",module$contents$jspb$binary$utf8_textEncoderInstance,module$contents$jspb$binary$utf8_useTextEncoderEncode=module$contents$jspb$binary$utf8_USE_TEXT_ENCODING||typeof TextEncoder<"u";function module$contents$jspb$binary$utf8_encodeUtf8(e,t){if((0,goog.asserts.assertString)(e),module$contents$jspb$binary$utf8_useTextEncoderEncode){if((t!==void 0&&t||module$contents$jspb$binary$utf8_REJECT_UNPAIRED_SURROGATES)&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(e))throw Error("Found an unpaired surrogate");e=(module$contents$jspb$binary$utf8_textEncoderInstance||(module$contents$jspb$binary$utf8_textEncoderInstance=new TextEncoder)).encode(e)}else{t=t===void 0?!1:t;for(var n=0,r=new Uint8Array(3*e.length),o=0;o<e.length;o++){var i=e.charCodeAt(o);if(128>i)r[n++]=i;else{if(2048>i)r[n++]=i>>6|192;else{if((0,goog.asserts.assert)(65536>i),55296<=i&&57343>=i){if(56319>=i&&o<e.length){var s=e.charCodeAt(++o);if(56320<=s&&57343>=s){i=1024*(i-55296)+s-56320+65536,r[n++]=i>>18|240,r[n++]=i>>12&63|128,r[n++]=i>>6&63|128,r[n++]=i&63|128;continue}else o--}if(t||module$contents$jspb$binary$utf8_REJECT_UNPAIRED_SURROGATES)throw Error("Found an unpaired surrogate");i=65533}r[n++]=i>>12|224,r[n++]=i>>6&63|128}r[n++]=i&63|128}}e=r.subarray(0,n)}return e}goog.crypt={};goog.crypt.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);255<o&&(t[n++]=o&255,o>>=8),t[n++]=o}return t};goog.crypt.byteArrayToString=function(e){if(8192>=e.length)return String.fromCharCode.apply(null,e);for(var t="",n=0;n<e.length;n+=8192){var r=Array.prototype.slice.call(e,n,n+8192);t+=String.fromCharCode.apply(null,r)}return t};goog.crypt.byteArrayToHex=function(e,t){return Array.prototype.map.call(e,function(n){return n=n.toString(16),1<n.length?n:"0"+n}).join(t||"")};goog.crypt.hexToByteArray=function(e){goog.asserts.assert(e.length%2==0,"Key string length must be multiple of 2");for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substring(n,n+2),16));return t};goog.crypt.stringToUtf8ByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);128>o?t[n++]=o:(2048>o?t[n++]=o>>6|192:((o&64512)==55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)==56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128):t[n++]=o>>12|224,t[n++]=o>>6&63|128),t[n++]=o&63|128)}return t};goog.crypt.utf8ByteArrayToString=function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(128>o)t[r++]=String.fromCharCode(o);else if(191<o&&224>o){var i=e[n++];t[r++]=String.fromCharCode((o&31)<<6|i&63)}else if(239<o&&365>o){i=e[n++];var s=e[n++],l=e[n++];o=((o&7)<<18|(i&63)<<12|(s&63)<<6|l&63)-65536,t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(o&1023))}else i=e[n++],s=e[n++],t[r++]=String.fromCharCode((o&15)<<12|(i&63)<<6|s&63)}return t.join("")};goog.crypt.xorByteArray=function(e,t){goog.asserts.assert(e.length==t.length,"XOR array lengths must match");for(var n=[],r=0;r<e.length;r++)n.push(e[r]^t[r]);return n};goog.string={};goog.string.internal={};goog.string.internal.startsWith=function(e,t){return e.lastIndexOf(t,0)==0};goog.string.internal.endsWith=function(e,t){var n=e.length-t.length;return 0<=n&&e.indexOf(t,n)==n};goog.string.internal.caseInsensitiveStartsWith=function(e,t){return goog.string.internal.caseInsensitiveCompare(t,e.substr(0,t.length))==0};goog.string.internal.caseInsensitiveEndsWith=function(e,t){return goog.string.internal.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))==0};goog.string.internal.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()};goog.string.internal.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)};goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};goog.string.internal.caseInsensitiveCompare=function(e,t){return e=String(e).toLowerCase(),t=String(t).toLowerCase(),e<t?-1:e==t?0:1};goog.string.internal.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")};goog.string.internal.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(e))return e;e.indexOf("&")!=-1&&(e=e.replace(goog.string.internal.AMP_RE_,"&amp;")),e.indexOf("<")!=-1&&(e=e.replace(goog.string.internal.LT_RE_,"&lt;")),e.indexOf(">")!=-1&&(e=e.replace(goog.string.internal.GT_RE_,"&gt;")),e.indexOf('"')!=-1&&(e=e.replace(goog.string.internal.QUOT_RE_,"&quot;")),e.indexOf("'")!=-1&&(e=e.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),e.indexOf("\0")!=-1&&(e=e.replace(goog.string.internal.NULL_RE_,"&#0;"))}return e};goog.string.internal.AMP_RE_=/&/g;goog.string.internal.LT_RE_=/</g;goog.string.internal.GT_RE_=/>/g;goog.string.internal.QUOT_RE_=/"/g;goog.string.internal.SINGLE_QUOTE_RE_=/'/g;goog.string.internal.NULL_RE_=/\x00/g;goog.string.internal.ALL_RE_=/[\x00&<>"']/;goog.string.internal.whitespaceEscape=function(e,t){return goog.string.internal.newLineToBr(e.replace(/  /g," &#160;"),t)};goog.string.internal.contains=function(e,t){return e.indexOf(t)!=-1};goog.string.internal.caseInsensitiveContains=function(e,t){return goog.string.internal.contains(e.toLowerCase(),t.toLowerCase())};goog.string.internal.compareVersions=function(e,t){var n=0;e=goog.string.internal.trim(String(e)).split("."),t=goog.string.internal.trim(String(t)).split(".");for(var r=Math.max(e.length,t.length),o=0;n==0&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;n=goog.string.internal.compareElements_(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||goog.string.internal.compareElements_(i[2].length==0,s[2].length==0)||goog.string.internal.compareElements_(i[2],s[2]),i=i[3],s=s[3]}while(n==0)}return n};goog.string.internal.compareElements_=function(e,t){return e<t?-1:e>t?1:0};var module$exports$goog$labs$userAgent={USE_CLIENT_HINTS:!1};goog.labs={};goog.labs.userAgent={};goog.labs.userAgent.util={};function module$contents$goog$labs$userAgent$util_getNativeUserAgentString(){var e=goog.global.navigator;return e&&(e=e.userAgent)?e:""}function module$contents$goog$labs$userAgent$util_getNativeUserAgentData(){if(!module$exports$goog$labs$userAgent.USE_CLIENT_HINTS)return null;var e=goog.global.navigator;return e&&e.userAgentData||null}var module$contents$goog$labs$userAgent$util_userAgentInternal=null,module$contents$goog$labs$userAgent$util_userAgentDataInternal=module$contents$goog$labs$userAgent$util_getNativeUserAgentData();function module$contents$goog$labs$userAgent$util_getUserAgent(){return module$contents$goog$labs$userAgent$util_userAgentInternal??module$contents$goog$labs$userAgent$util_getNativeUserAgentString()}function module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand(e){var t=module$contents$goog$labs$userAgent$util_userAgentDataInternal;return t?t.brands.some(function(n){return(n=n.brand)&&(0,goog.string.internal.contains)(n,e)}):!1}function module$contents$goog$labs$userAgent$util_matchUserAgent(e){return(0,goog.string.internal.contains)(module$contents$goog$labs$userAgent$util_getUserAgent(),e)}function module$contents$goog$labs$userAgent$util_matchUserAgentIgnoreCase(e){return(0,goog.string.internal.caseInsensitiveContains)(module$contents$goog$labs$userAgent$util_getUserAgent(),e)}function module$contents$goog$labs$userAgent$util_extractVersionTuples(e){for(var t=RegExp("([A-Z][\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),n=[],r;r=t.exec(e);)n.push([r[1],r[2],r[3]||void 0]);return n}goog.labs.userAgent.util.ASSUME_CLIENT_HINTS_SUPPORT=!1;goog.labs.userAgent.util.extractVersionTuples=module$contents$goog$labs$userAgent$util_extractVersionTuples;goog.labs.userAgent.util.getNativeUserAgentString=module$contents$goog$labs$userAgent$util_getNativeUserAgentString;goog.labs.userAgent.util.getUserAgent=module$contents$goog$labs$userAgent$util_getUserAgent;goog.labs.userAgent.util.getUserAgentData=function(){return module$contents$goog$labs$userAgent$util_userAgentDataInternal};goog.labs.userAgent.util.matchUserAgent=module$contents$goog$labs$userAgent$util_matchUserAgent;goog.labs.userAgent.util.matchUserAgentDataBrand=module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand;goog.labs.userAgent.util.matchUserAgentIgnoreCase=module$contents$goog$labs$userAgent$util_matchUserAgentIgnoreCase;goog.labs.userAgent.util.resetUserAgentData=function(){module$contents$goog$labs$userAgent$util_userAgentDataInternal=module$contents$goog$labs$userAgent$util_getNativeUserAgentData()};goog.labs.userAgent.util.setUserAgent=function(e){module$contents$goog$labs$userAgent$util_userAgentInternal=typeof e=="string"?e:module$contents$goog$labs$userAgent$util_getNativeUserAgentString()};goog.labs.userAgent.util.setUserAgentData=function(e){module$contents$goog$labs$userAgent$util_userAgentDataInternal=e};var module$exports$goog$labs$userAgent$highEntropy$highEntropyValue={AsyncValue:function(){}};module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.AsyncValue.prototype.getIfLoaded=function(){};module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.AsyncValue.prototype.load=function(){};module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue=function(e){this.key_=e,this.promise_=this.value_=void 0,this.pending_=!1};module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue.prototype.getIfLoaded=function(){if(module$contents$goog$labs$userAgent$util_userAgentDataInternal)return this.value_};module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue.prototype.load=function(){var e=this,t;return $jscomp.asyncExecutePromiseGeneratorProgram(function(n){return n.nextAddress==1?(t=module$contents$goog$labs$userAgent$util_userAgentDataInternal,t?(e.promise_||(e.pending_=!0,e.promise_=function(){var r;return $jscomp.asyncExecutePromiseGeneratorProgram(function(o){return o.nextAddress==1?(o.setFinallyBlock(2),o.yield(t.getHighEntropyValues([e.key_]),4)):o.nextAddress!=2?(r=o.yieldResult,e.value_=r[e.key_],o.return(e.value_)):(o.enterFinallyBlock(),e.pending_=!1,o.leaveFinallyBlock(0))})}()),n.yield(e.promise_,2)):n.return(void 0)):n.return(n.yieldResult)})};module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue.prototype.resetForTesting=function(){if(this.pending_)throw Error("Unsafe call to resetForTesting");this.value_=this.promise_=void 0,this.pending_=!1};module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version=function(e){this.versionString_=e};module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version.prototype.toVersionStringForLogging=function(){return this.versionString_};module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version.prototype.isAtLeast=function(e){return 0<=(0,goog.string.internal.compareVersions)(this.versionString_,e)};var module$exports$goog$labs$userAgent$highEntropy$highEntropyData={},module$contents$goog$labs$userAgent$highEntropy$highEntropyData_fullVersionListAvailable=!1;module$exports$goog$labs$userAgent$highEntropy$highEntropyData.hasFullVersionList=function(){return module$contents$goog$labs$userAgent$highEntropy$highEntropyData_fullVersionListAvailable};module$exports$goog$labs$userAgent$highEntropy$highEntropyData.setHasFullVersionListForTesting=function(e){module$contents$goog$labs$userAgent$highEntropy$highEntropyData_fullVersionListAvailable=e};module$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList=new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue("fullVersionList");module$exports$goog$labs$userAgent$highEntropy$highEntropyData.platformVersion=new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue("platformVersion");module$exports$goog$labs$userAgent$highEntropy$highEntropyData.resetAllForTesting=function(){module$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList.resetForTesting(),module$exports$goog$labs$userAgent$highEntropy$highEntropyData.platformVersion.resetForTesting()};goog.labs.userAgent.browser={};var module$contents$goog$labs$userAgent$browser_Brand={ANDROID_BROWSER:"Android Browser",CHROMIUM:"Chromium",EDGE:"Microsoft Edge",FIREFOX:"Firefox",IE:"Internet Explorer",OPERA:"Opera",SAFARI:"Safari",SILK:"Silk"};goog.labs.userAgent.browser.Brand=module$contents$goog$labs$userAgent$browser_Brand;function module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand(){var e=module$contents$goog$labs$userAgent$util_userAgentDataInternal;return!!e&&0<e.brands.length}function module$contents$goog$labs$userAgent$browser_matchOpera(){return module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand()?!1:module$contents$goog$labs$userAgent$util_matchUserAgent("Opera")}function module$contents$goog$labs$userAgent$browser_matchIE(){return module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand()?!1:module$contents$goog$labs$userAgent$util_matchUserAgent("Trident")||module$contents$goog$labs$userAgent$util_matchUserAgent("MSIE")}function module$contents$goog$labs$userAgent$browser_matchEdgeHtml(){return module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand()?!1:module$contents$goog$labs$userAgent$util_matchUserAgent("Edge")}function module$contents$goog$labs$userAgent$browser_matchEdgeChromium(){return module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand()?module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand(module$contents$goog$labs$userAgent$browser_Brand.EDGE):module$contents$goog$labs$userAgent$util_matchUserAgent("Edg/")}function module$contents$goog$labs$userAgent$browser_matchOperaChromium(){return module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand()?module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand(module$contents$goog$labs$userAgent$browser_Brand.OPERA):module$contents$goog$labs$userAgent$util_matchUserAgent("OPR")}function module$contents$goog$labs$userAgent$browser_matchFirefox(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Firefox")||module$contents$goog$labs$userAgent$util_matchUserAgent("FxiOS")}function module$contents$goog$labs$userAgent$browser_matchSafari(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Safari")&&!(module$contents$goog$labs$userAgent$browser_matchChrome()||module$contents$goog$labs$userAgent$browser_matchCoast()||module$contents$goog$labs$userAgent$browser_matchOpera()||module$contents$goog$labs$userAgent$browser_matchEdgeHtml()||module$contents$goog$labs$userAgent$browser_matchEdgeChromium()||module$contents$goog$labs$userAgent$browser_matchOperaChromium()||module$contents$goog$labs$userAgent$browser_matchFirefox()||module$contents$goog$labs$userAgent$browser_isSilk()||module$contents$goog$labs$userAgent$util_matchUserAgent("Android"))}function module$contents$goog$labs$userAgent$browser_matchCoast(){return module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand()?!1:module$contents$goog$labs$userAgent$util_matchUserAgent("Coast")}function module$contents$goog$labs$userAgent$browser_matchChrome(){return module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand()?module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand(module$contents$goog$labs$userAgent$browser_Brand.CHROMIUM):(module$contents$goog$labs$userAgent$util_matchUserAgent("Chrome")||module$contents$goog$labs$userAgent$util_matchUserAgent("CriOS"))&&!module$contents$goog$labs$userAgent$browser_matchEdgeHtml()||module$contents$goog$labs$userAgent$browser_isSilk()}function module$contents$goog$labs$userAgent$browser_matchAndroidBrowser(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Android")&&!(module$contents$goog$labs$userAgent$browser_matchChrome()||module$contents$goog$labs$userAgent$browser_matchFirefox()||module$contents$goog$labs$userAgent$browser_matchOpera()||module$contents$goog$labs$userAgent$browser_isSilk())}goog.labs.userAgent.browser.isOpera=module$contents$goog$labs$userAgent$browser_matchOpera;goog.labs.userAgent.browser.isIE=module$contents$goog$labs$userAgent$browser_matchIE;goog.labs.userAgent.browser.isEdge=module$contents$goog$labs$userAgent$browser_matchEdgeHtml;goog.labs.userAgent.browser.isEdgeChromium=module$contents$goog$labs$userAgent$browser_matchEdgeChromium;goog.labs.userAgent.browser.isOperaChromium=module$contents$goog$labs$userAgent$browser_matchOperaChromium;goog.labs.userAgent.browser.isFirefox=module$contents$goog$labs$userAgent$browser_matchFirefox;goog.labs.userAgent.browser.isSafari=module$contents$goog$labs$userAgent$browser_matchSafari;goog.labs.userAgent.browser.isCoast=module$contents$goog$labs$userAgent$browser_matchCoast;goog.labs.userAgent.browser.isIosWebview=function(){return(module$contents$goog$labs$userAgent$util_matchUserAgent("iPad")||module$contents$goog$labs$userAgent$util_matchUserAgent("iPhone"))&&!module$contents$goog$labs$userAgent$browser_matchSafari()&&!module$contents$goog$labs$userAgent$browser_matchChrome()&&!module$contents$goog$labs$userAgent$browser_matchCoast()&&!module$contents$goog$labs$userAgent$browser_matchFirefox()&&module$contents$goog$labs$userAgent$util_matchUserAgent("AppleWebKit")};goog.labs.userAgent.browser.isChrome=module$contents$goog$labs$userAgent$browser_matchChrome;goog.labs.userAgent.browser.isAndroidBrowser=module$contents$goog$labs$userAgent$browser_matchAndroidBrowser;function module$contents$goog$labs$userAgent$browser_isSilk(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Silk")}goog.labs.userAgent.browser.isSilk=module$contents$goog$labs$userAgent$browser_isSilk;function module$contents$goog$labs$userAgent$browser_createVersionMap(e){var t={};return e.forEach(function(n){t[n[0]]=n[1]}),function(n){return t[n.find(function(r){return r in t})]||""}}function module$contents$goog$labs$userAgent$browser_getVersion(){var e=module$contents$goog$labs$userAgent$util_getUserAgent();if(module$contents$goog$labs$userAgent$browser_matchIE())return module$contents$goog$labs$userAgent$browser_getIEVersion(e);e=module$contents$goog$labs$userAgent$util_extractVersionTuples(e);var t=module$contents$goog$labs$userAgent$browser_createVersionMap(e);return module$contents$goog$labs$userAgent$browser_matchOpera()?t(["Version","Opera"]):module$contents$goog$labs$userAgent$browser_matchEdgeHtml()?t(["Edge"]):module$contents$goog$labs$userAgent$browser_matchEdgeChromium()?t(["Edg"]):module$contents$goog$labs$userAgent$browser_isSilk()?t(["Silk"]):module$contents$goog$labs$userAgent$browser_matchChrome()?t(["Chrome","CriOS","HeadlessChrome"]):(e=e[2])&&e[1]||""}goog.labs.userAgent.browser.getVersion=module$contents$goog$labs$userAgent$browser_getVersion;goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=(0,goog.string.internal.compareVersions)(module$contents$goog$labs$userAgent$browser_getVersion(),e)};function module$contents$goog$labs$userAgent$browser_getIEVersion(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];t="";var n=/MSIE +([\d\.]+)/.exec(e);if(n&&n[1])if(e=/Trident\/(\d.\d)/.exec(e),n[1]=="7.0")if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=n[1];return t}function module$contents$goog$labs$userAgent$browser_getFullVersionFromUserAgentString(e){var t=module$contents$goog$labs$userAgent$util_getUserAgent();if(e===module$contents$goog$labs$userAgent$browser_Brand.IE)return module$contents$goog$labs$userAgent$browser_matchIE()?module$contents$goog$labs$userAgent$browser_getIEVersion(t):"";t=module$contents$goog$labs$userAgent$util_extractVersionTuples(t);var n=module$contents$goog$labs$userAgent$browser_createVersionMap(t);switch(e){case module$contents$goog$labs$userAgent$browser_Brand.OPERA:if(module$contents$goog$labs$userAgent$browser_matchOpera())return n(["Version","Opera"]);if(module$contents$goog$labs$userAgent$browser_matchOperaChromium())return n(["OPR"]);break;case module$contents$goog$labs$userAgent$browser_Brand.EDGE:if(module$contents$goog$labs$userAgent$browser_matchEdgeHtml())return n(["Edge"]);if(module$contents$goog$labs$userAgent$browser_matchEdgeChromium())return n(["Edg"]);break;case module$contents$goog$labs$userAgent$browser_Brand.CHROMIUM:if(module$contents$goog$labs$userAgent$browser_matchChrome())return n(["Chrome","CriOS","HeadlessChrome"])}return(e===module$contents$goog$labs$userAgent$browser_Brand.FIREFOX&&module$contents$goog$labs$userAgent$browser_matchFirefox()||e===module$contents$goog$labs$userAgent$browser_Brand.SAFARI&&module$contents$goog$labs$userAgent$browser_matchSafari()||e===module$contents$goog$labs$userAgent$browser_Brand.ANDROID_BROWSER&&module$contents$goog$labs$userAgent$browser_matchAndroidBrowser()||e===module$contents$goog$labs$userAgent$browser_Brand.SILK&&module$contents$goog$labs$userAgent$browser_isSilk())&&(e=t[2])&&e[1]||""}function module$contents$goog$labs$userAgent$browser_versionOf(e){if(module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand()&&e!==module$contents$goog$labs$userAgent$browser_Brand.SILK){var t=module$contents$goog$labs$userAgent$util_userAgentDataInternal.brands.find(function(n){return n.brand===e});if(!t||!t.version)return NaN;t=t.version.split(".")}else{if(t=module$contents$goog$labs$userAgent$browser_getFullVersionFromUserAgentString(e),t==="")return NaN;t=t.split(".")}return t.length===0?NaN:Number(t[0])}goog.labs.userAgent.browser.versionOf=module$contents$goog$labs$userAgent$browser_versionOf;goog.labs.userAgent.browser.isAtLeast=function(e,t){return goog.asserts.assert(Math.floor(t)===t,"Major version must be an integer"),module$contents$goog$labs$userAgent$browser_versionOf(e)>=t};goog.labs.userAgent.browser.isAtMost=function(e,t){return goog.asserts.assert(Math.floor(t)===t,"Major version must be an integer"),module$contents$goog$labs$userAgent$browser_versionOf(e)<=t};var module$contents$goog$labs$userAgent$browser_HighEntropyBrandVersion=function(e){this.brand_=e};module$contents$goog$labs$userAgent$browser_HighEntropyBrandVersion.prototype.getIfLoaded=function(){var e=this,t=module$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList.getIfLoaded();if(t!==void 0)return t=t.find(function(n){return e.brand_===n.brand}),goog.asserts.assertExists(t),new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(t.version)};module$contents$goog$labs$userAgent$browser_HighEntropyBrandVersion.prototype.load=function(){var e=this,t,n;return $jscomp.asyncExecutePromiseGeneratorProgram(function(r){return r.nextAddress==1?r.yield(module$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList.load(),2):(t=r.yieldResult,n=t.find(function(o){return e.brand_===o.brand}),goog.asserts.assertExists(n),r.return(new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(n.version)))})};var module$contents$goog$labs$userAgent$browser_UserAgentStringFallbackBrandVersion=function(e){this.version_=new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(e)};module$contents$goog$labs$userAgent$browser_UserAgentStringFallbackBrandVersion.prototype.getIfLoaded=function(){return this.version_};module$contents$goog$labs$userAgent$browser_UserAgentStringFallbackBrandVersion.prototype.load=function(){var e=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){return t.return(e.version_)})};goog.labs.userAgent.browser.loadFullVersions=function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){return module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand()&&module$contents$goog$labs$userAgent$highEntropy$highEntropyData_fullVersionListAvailable?e.yield(module$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList.load(),0):e.jumpTo(0)})};function module$contents$goog$labs$userAgent$browser_fullVersionOf(e){if(module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand()&&module$contents$goog$labs$userAgent$highEntropy$highEntropyData_fullVersionListAvailable)return module$contents$goog$labs$userAgent$util_userAgentDataInternal.brands.find(function(n){return n.brand===e})?new module$contents$goog$labs$userAgent$browser_HighEntropyBrandVersion(e):void 0;var t=module$contents$goog$labs$userAgent$browser_getFullVersionFromUserAgentString(e);return t===""?void 0:new module$contents$goog$labs$userAgent$browser_UserAgentStringFallbackBrandVersion(t)}goog.labs.userAgent.browser.fullVersionOf=module$contents$goog$labs$userAgent$browser_fullVersionOf;goog.labs.userAgent.browser.getVersionStringForLogging=function(e){if(module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand()){var t=module$contents$goog$labs$userAgent$browser_fullVersionOf(e);return t?(t=t.getIfLoaded())?t.toVersionStringForLogging():(t=module$contents$goog$labs$userAgent$util_userAgentDataInternal.brands.find(function(n){return n.brand===e}),goog.asserts.assertExists(t),t.version):""}return module$contents$goog$labs$userAgent$browser_getFullVersionFromUserAgentString(e)};goog.labs.userAgent.platform={};function module$contents$goog$labs$userAgent$platform_useUserAgentDataPlatform(){var e=module$contents$goog$labs$userAgent$util_userAgentDataInternal;return!!e&&!!e.platform}function module$contents$goog$labs$userAgent$platform_isAndroid(){return module$contents$goog$labs$userAgent$platform_useUserAgentDataPlatform()?module$contents$goog$labs$userAgent$util_userAgentDataInternal.platform==="Android":module$contents$goog$labs$userAgent$util_matchUserAgent("Android")}function module$contents$goog$labs$userAgent$platform_isIpod(){return module$contents$goog$labs$userAgent$util_matchUserAgent("iPod")}function module$contents$goog$labs$userAgent$platform_isIphone(){return module$contents$goog$labs$userAgent$util_matchUserAgent("iPhone")&&!module$contents$goog$labs$userAgent$util_matchUserAgent("iPod")&&!module$contents$goog$labs$userAgent$util_matchUserAgent("iPad")}function module$contents$goog$labs$userAgent$platform_isIpad(){return module$contents$goog$labs$userAgent$util_matchUserAgent("iPad")}function module$contents$goog$labs$userAgent$platform_isIos(){return module$contents$goog$labs$userAgent$platform_isIphone()||module$contents$goog$labs$userAgent$platform_isIpad()||module$contents$goog$labs$userAgent$platform_isIpod()}function module$contents$goog$labs$userAgent$platform_isMacintosh(){return module$contents$goog$labs$userAgent$platform_useUserAgentDataPlatform()?module$contents$goog$labs$userAgent$util_userAgentDataInternal.platform==="macOS":module$contents$goog$labs$userAgent$util_matchUserAgent("Macintosh")}function module$contents$goog$labs$userAgent$platform_isLinux(){return module$contents$goog$labs$userAgent$platform_useUserAgentDataPlatform()?module$contents$goog$labs$userAgent$util_userAgentDataInternal.platform==="Linux":module$contents$goog$labs$userAgent$util_matchUserAgent("Linux")}function module$contents$goog$labs$userAgent$platform_isWindows(){return module$contents$goog$labs$userAgent$platform_useUserAgentDataPlatform()?module$contents$goog$labs$userAgent$util_userAgentDataInternal.platform==="Windows":module$contents$goog$labs$userAgent$util_matchUserAgent("Windows")}function module$contents$goog$labs$userAgent$platform_isChromeOS(){return module$contents$goog$labs$userAgent$platform_useUserAgentDataPlatform()?module$contents$goog$labs$userAgent$util_userAgentDataInternal.platform==="Chrome OS":module$contents$goog$labs$userAgent$util_matchUserAgent("CrOS")}function module$contents$goog$labs$userAgent$platform_isKaiOS(){return module$contents$goog$labs$userAgent$util_matchUserAgentIgnoreCase("KaiOS")}function module$contents$goog$labs$userAgent$platform_getVersion(){var e=module$contents$goog$labs$userAgent$util_getUserAgent(),t="";return module$contents$goog$labs$userAgent$platform_isWindows()?(t=/Windows (?:NT|Phone) ([0-9.]+)/,t=(e=t.exec(e))?e[1]:"0.0"):module$contents$goog$labs$userAgent$platform_isIos()?(t=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,t=(e=t.exec(e))&&e[1].replace(/_/g,".")):module$contents$goog$labs$userAgent$platform_isMacintosh()?(t=/Mac OS X ([0-9_.]+)/,t=(e=t.exec(e))?e[1].replace(/_/g,"."):"10"):module$contents$goog$labs$userAgent$platform_isKaiOS()?(t=/(?:KaiOS)\/(\S+)/i,t=(e=t.exec(e))&&e[1]):module$contents$goog$labs$userAgent$platform_isAndroid()?(t=/Android\s+([^\);]+)(\)|;)/,t=(e=t.exec(e))&&e[1]):module$contents$goog$labs$userAgent$platform_isChromeOS()&&(t=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/,t=(e=t.exec(e))&&e[1]),t||""}var module$contents$goog$labs$userAgent$platform_PlatformVersion=function(){};module$contents$goog$labs$userAgent$platform_PlatformVersion.prototype.getIfLoaded=function(){if(module$contents$goog$labs$userAgent$util_userAgentDataInternal){var e=module$exports$goog$labs$userAgent$highEntropy$highEntropyData.platformVersion.getIfLoaded();if(e!==void 0)return new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(e)}else return new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(module$contents$goog$labs$userAgent$platform_getVersion())};module$contents$goog$labs$userAgent$platform_PlatformVersion.prototype.load=function(){var e;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){return t.nextAddress==1?module$contents$goog$labs$userAgent$util_userAgentDataInternal?(e=module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version,t.yield(module$exports$goog$labs$userAgent$highEntropy$highEntropyData.platformVersion.load(),3)):t.return(new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(module$contents$goog$labs$userAgent$platform_getVersion())):t.return(new e(t.yieldResult))})};var module$contents$goog$labs$userAgent$platform_version=new module$contents$goog$labs$userAgent$platform_PlatformVersion;goog.labs.userAgent.platform.getVersion=module$contents$goog$labs$userAgent$platform_getVersion;goog.labs.userAgent.platform.isAndroid=module$contents$goog$labs$userAgent$platform_isAndroid;goog.labs.userAgent.platform.isChromeOS=module$contents$goog$labs$userAgent$platform_isChromeOS;goog.labs.userAgent.platform.isChromecast=function(){return module$contents$goog$labs$userAgent$util_matchUserAgent("CrKey")};goog.labs.userAgent.platform.isIos=module$contents$goog$labs$userAgent$platform_isIos;goog.labs.userAgent.platform.isIpad=module$contents$goog$labs$userAgent$platform_isIpad;goog.labs.userAgent.platform.isIphone=module$contents$goog$labs$userAgent$platform_isIphone;goog.labs.userAgent.platform.isIpod=module$contents$goog$labs$userAgent$platform_isIpod;goog.labs.userAgent.platform.isKaiOS=module$contents$goog$labs$userAgent$platform_isKaiOS;goog.labs.userAgent.platform.isLinux=module$contents$goog$labs$userAgent$platform_isLinux;goog.labs.userAgent.platform.isMacintosh=module$contents$goog$labs$userAgent$platform_isMacintosh;goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.internal.compareVersions(module$contents$goog$labs$userAgent$platform_getVersion(),e)};goog.labs.userAgent.platform.isWindows=module$contents$goog$labs$userAgent$platform_isWindows;goog.labs.userAgent.platform.version=module$contents$goog$labs$userAgent$platform_version;goog.array={};goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE;var module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR;goog.array.ASSUME_NATIVE_FUNCTIONS=module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS;function module$contents$goog$array_peek(e){return e[e.length-1]}goog.array.peek=module$contents$goog$array_peek;goog.array.last=module$contents$goog$array_peek;var module$contents$goog$array_indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,t,n){return goog.asserts.assert(e.length!=null),Array.prototype.indexOf.call(e,t,n)}:function(e,t,n){if(n=n==null?0:0>n?Math.max(0,e.length+n):n,typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,n);for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};goog.array.indexOf=module$contents$goog$array_indexOf;var module$contents$goog$array_lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,t,n){return goog.asserts.assert(e.length!=null),Array.prototype.lastIndexOf.call(e,t,n??e.length-1)}:function(e,t,n){if(n=n??e.length-1,0>n&&(n=Math.max(0,e.length+n)),typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.lastIndexOf(t,n);for(;0<=n;n--)if(n in e&&e[n]===t)return n;return-1};goog.array.lastIndexOf=module$contents$goog$array_lastIndexOf;var module$contents$goog$array_forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,t,n){goog.asserts.assert(e.length!=null),Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=typeof e=="string"?e.split(""):e,i=0;i<r;i++)i in o&&t.call(n,o[i],i,e)};goog.array.forEach=module$contents$goog$array_forEach;function module$contents$goog$array_forEachRight(e,t,n){var r=e.length,o=typeof e=="string"?e.split(""):e;for(--r;0<=r;--r)r in o&&t.call(n,o[r],r,e)}goog.array.forEachRight=module$contents$goog$array_forEachRight;goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,t,n){return goog.asserts.assert(e.length!=null),Array.prototype.filter.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=[],i=0,s=typeof e=="string"?e.split(""):e,l=0;l<r;l++)if(l in s){var c=s[l];t.call(n,c,l,e)&&(o[i++]=c)}return o};var module$contents$goog$array_map=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,t,n){return goog.asserts.assert(e.length!=null),Array.prototype.map.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=Array(r),i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&(o[s]=t.call(n,i[s],s,e));return o};goog.array.map=module$contents$goog$array_map;goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,t,n,r){return goog.asserts.assert(e.length!=null),r&&(t=goog.bind(t,r)),Array.prototype.reduce.call(e,t,n)}:function(e,t,n,r){var o=n;return module$contents$goog$array_forEach(e,function(i,s){o=t.call(r,o,i,s,e)}),o};goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,t,n,r){return goog.asserts.assert(e.length!=null),goog.asserts.assert(t!=null),r&&(t=goog.bind(t,r)),Array.prototype.reduceRight.call(e,t,n)}:function(e,t,n,r){var o=n;return module$contents$goog$array_forEachRight(e,function(i,s){o=t.call(r,o,i,s,e)}),o};goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,t,n){return goog.asserts.assert(e.length!=null),Array.prototype.some.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=typeof e=="string"?e.split(""):e,i=0;i<r;i++)if(i in o&&t.call(n,o[i],i,e))return!0;return!1};goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,t,n){return goog.asserts.assert(e.length!=null),Array.prototype.every.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=typeof e=="string"?e.split(""):e,i=0;i<r;i++)if(i in o&&!t.call(n,o[i],i,e))return!1;return!0};goog.array.count=function(e,t,n){var r=0;return module$contents$goog$array_forEach(e,function(o,i,s){t.call(n,o,i,s)&&++r},n),r};function module$contents$goog$array_find(e,t,n){return t=module$contents$goog$array_findIndex(e,t,n),0>t?null:typeof e=="string"?e.charAt(t):e[t]}goog.array.find=module$contents$goog$array_find;function module$contents$goog$array_findIndex(e,t,n){for(var r=e.length,o=typeof e=="string"?e.split(""):e,i=0;i<r;i++)if(i in o&&t.call(n,o[i],i,e))return i;return-1}goog.array.findIndex=module$contents$goog$array_findIndex;goog.array.findRight=function(e,t,n){return t=module$contents$goog$array_findIndexRight(e,t,n),0>t?null:typeof e=="string"?e.charAt(t):e[t]};function module$contents$goog$array_findIndexRight(e,t,n){var r=e.length,o=typeof e=="string"?e.split(""):e;for(--r;0<=r;r--)if(r in o&&t.call(n,o[r],r,e))return r;return-1}goog.array.findIndexRight=module$contents$goog$array_findIndexRight;function module$contents$goog$array_contains(e,t){return 0<=module$contents$goog$array_indexOf(e,t)}goog.array.contains=module$contents$goog$array_contains;goog.array.isEmpty=function(e){return e.length==0};goog.array.clear=function(e){if(!Array.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0};goog.array.insert=function(e,t){module$contents$goog$array_contains(e,t)||e.push(t)};function module$contents$goog$array_insertAt(e,t,n){module$contents$goog$array_splice(e,n,0,t)}goog.array.insertAt=module$contents$goog$array_insertAt;goog.array.insertArrayAt=function(e,t,n){goog.partial(module$contents$goog$array_splice,e,n,0).apply(null,t)};goog.array.insertBefore=function(e,t,n){var r;arguments.length==2||0>(r=module$contents$goog$array_indexOf(e,n))?e.push(t):module$contents$goog$array_insertAt(e,t,r)};goog.array.remove=function(e,t){t=module$contents$goog$array_indexOf(e,t);var n;return(n=0<=t)&&module$contents$goog$array_removeAt(e,t),n};goog.array.removeLast=function(e,t){return t=module$contents$goog$array_lastIndexOf(e,t),0<=t?(module$contents$goog$array_removeAt(e,t),!0):!1};function module$contents$goog$array_removeAt(e,t){return goog.asserts.assert(e.length!=null),Array.prototype.splice.call(e,t,1).length==1}goog.array.removeAt=module$contents$goog$array_removeAt;goog.array.removeIf=function(e,t,n){return t=module$contents$goog$array_findIndex(e,t,n),0<=t?(module$contents$goog$array_removeAt(e,t),!0):!1};goog.array.removeAllIf=function(e,t,n){var r=0;return module$contents$goog$array_forEachRight(e,function(o,i){t.call(n,o,i,e)&&module$contents$goog$array_removeAt(e,i)&&r++}),r};function module$contents$goog$array_concat(e){return Array.prototype.concat.apply([],arguments)}goog.array.concat=module$contents$goog$array_concat;goog.array.join=function(e){return Array.prototype.concat.apply([],arguments)};function module$contents$goog$array_toArray(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}goog.array.toArray=module$contents$goog$array_toArray;goog.array.clone=module$contents$goog$array_toArray;goog.array.extend=function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(goog.isArrayLike(r)){var o=e.length||0,i=r.length||0;e.length=o+i;for(var s=0;s<i;s++)e[o+s]=r[s]}else e.push(r)}};function module$contents$goog$array_splice(e,t,n,r){return goog.asserts.assert(e.length!=null),Array.prototype.splice.apply(e,module$contents$goog$array_slice(arguments,1))}goog.array.splice=module$contents$goog$array_splice;function module$contents$goog$array_slice(e,t,n){return goog.asserts.assert(e.length!=null),2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)}goog.array.slice=module$contents$goog$array_slice;goog.array.removeDuplicates=function(e,t,n){t=t||e;var r=function(c){return goog.isObject(c)?"o"+goog.getUid(c):(typeof c).charAt(0)+c};n=n||r;for(var o=r=0,i={};o<e.length;){var s=e[o++],l=n(s);Object.prototype.hasOwnProperty.call(i,l)||(i[l]=!0,t[r++]=s)}t.length=r};function module$contents$goog$array_binarySearch(e,t,n){return module$contents$goog$array_binarySearch_(e,n||module$contents$goog$array_defaultCompare,!1,t)}goog.array.binarySearch=module$contents$goog$array_binarySearch;goog.array.binarySelect=function(e,t,n){return module$contents$goog$array_binarySearch_(e,t,!0,void 0,n)};function module$contents$goog$array_binarySearch_(e,t,n,r,o){for(var i=0,s=e.length,l;i<s;){var c=i+(s-i>>>1),u=n?t.call(o,e[c],c,e):t(r,e[c]);0<u?i=c+1:(s=c,l=!u)}return l?i:-i-1}function module$contents$goog$array_sort(e,t){e.sort(t||module$contents$goog$array_defaultCompare)}goog.array.sort=module$contents$goog$array_sort;goog.array.stableSort=function(e,t){for(var n=Array(e.length),r=0;r<e.length;r++)n[r]={index:r,value:e[r]};var o=t||module$contents$goog$array_defaultCompare;for(module$contents$goog$array_sort(n,function(i,s){return o(i.value,s.value)||i.index-s.index}),t=0;t<e.length;t++)e[t]=n[t].value};function module$contents$goog$array_sortByKey(e,t,n){var r=n||module$contents$goog$array_defaultCompare;module$contents$goog$array_sort(e,function(o,i){return r(t(o),t(i))})}goog.array.sortByKey=module$contents$goog$array_sortByKey;goog.array.sortObjectsByKey=function(e,t,n){module$contents$goog$array_sortByKey(e,function(r){return r[t]},n)};goog.array.isSorted=function(e,t,n){t=t||module$contents$goog$array_defaultCompare;for(var r=1;r<e.length;r++){var o=t(e[r-1],e[r]);if(0<o||o==0&&n)return!1}return!0};goog.array.equals=function(e,t,n){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;var r=e.length;n=n||module$contents$goog$array_defaultCompareEquality;for(var o=0;o<r;o++)if(!n(e[o],t[o]))return!1;return!0};goog.array.compare3=function(e,t,n){n=n||module$contents$goog$array_defaultCompare;for(var r=Math.min(e.length,t.length),o=0;o<r;o++){var i=n(e[o],t[o]);if(i!=0)return i}return module$contents$goog$array_defaultCompare(e.length,t.length)};function module$contents$goog$array_defaultCompare(e,t){return e>t?1:e<t?-1:0}goog.array.defaultCompare=module$contents$goog$array_defaultCompare;goog.array.inverseDefaultCompare=function(e,t){return-module$contents$goog$array_defaultCompare(e,t)};function module$contents$goog$array_defaultCompareEquality(e,t){return e===t}goog.array.defaultCompareEquality=module$contents$goog$array_defaultCompareEquality;goog.array.binaryInsert=function(e,t,n){return n=module$contents$goog$array_binarySearch(e,t,n),0>n?(module$contents$goog$array_insertAt(e,t,-(n+1)),!0):!1};goog.array.binaryRemove=function(e,t,n){return t=module$contents$goog$array_binarySearch(e,t,n),0<=t?module$contents$goog$array_removeAt(e,t):!1};goog.array.bucket=function(e,t,n){for(var r={},o=0;o<e.length;o++){var i=e[o],s=t.call(n,i,o,e);s!==void 0&&(r[s]||(r[s]=[])).push(i)}return r};goog.array.bucketToMap=function(e,t){for(var n=new Map,r=0;r<e.length;r++){var o=e[r],i=t(o,r,e);if(i!==void 0){var s=n.get(i);s||(s=[],n.set(i,s)),s.push(o)}}return n};goog.array.toObject=function(e,t,n){var r={};return module$contents$goog$array_forEach(e,function(o,i){r[t.call(n,o,i,e)]=o}),r};goog.array.toMap=function(e,t){for(var n=new Map,r=0;r<e.length;r++){var o=e[r];n.set(t(o,r,e),o)}return n};goog.array.range=function(e,t,n){var r=[],o=0,i=e;if(n=n||1,t!==void 0&&(o=e,i=t),0>n*(i-o))return[];if(0<n)for(e=o;e<i;e+=n)r.push(e);else for(e=o;e>i;e+=n)r.push(e);return r};goog.array.repeat=function(e,t){for(var n=[],r=0;r<t;r++)n[r]=e;return n};function module$contents$goog$array_flatten(e){for(var t=[],n=0;n<arguments.length;n++){var r=arguments[n];if(Array.isArray(r))for(var o=0;o<r.length;o+=8192){var i=module$contents$goog$array_slice(r,o,o+8192);i=module$contents$goog$array_flatten.apply(null,i);for(var s=0;s<i.length;s++)t.push(i[s])}else t.push(r)}return t}goog.array.flatten=module$contents$goog$array_flatten;goog.array.rotate=function(e,t){return goog.asserts.assert(e.length!=null),e.length&&(t%=e.length,0<t?Array.prototype.unshift.apply(e,e.splice(-t,t)):0>t&&Array.prototype.push.apply(e,e.splice(0,-t))),e};goog.array.moveItem=function(e,t,n){goog.asserts.assert(0<=t&&t<e.length),goog.asserts.assert(0<=n&&n<e.length),t=Array.prototype.splice.call(e,t,1),Array.prototype.splice.call(e,n,0,t[0])};goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],n=arguments[0].length,r=1;r<arguments.length;r++)arguments[r].length<n&&(n=arguments[r].length);for(r=0;r<n;r++){for(var o=[],i=0;i<arguments.length;i++)o.push(arguments[i][r]);t.push(o)}return t};goog.array.shuffle=function(e,t){t=t||Math.random;for(var n=e.length-1;0<n;n--){var r=Math.floor(t()*(n+1)),o=e[n];e[n]=e[r],e[r]=o}};goog.array.copyByIndex=function(e,t){var n=[];return module$contents$goog$array_forEach(t,function(r){n.push(e[r])}),n};goog.array.concatMap=function(e,t,n){return module$contents$goog$array_concat.apply([],module$contents$goog$array_map(e,t,n))};goog.labs.userAgent.engine={};function module$contents$goog$labs$userAgent$engine_isTrident(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Trident")||module$contents$goog$labs$userAgent$util_matchUserAgent("MSIE")}function module$contents$goog$labs$userAgent$engine_isEdge(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Edge")}function module$contents$goog$labs$userAgent$engine_isWebKit(){return module$contents$goog$labs$userAgent$util_matchUserAgentIgnoreCase("WebKit")&&!module$contents$goog$labs$userAgent$engine_isEdge()}function module$contents$goog$labs$userAgent$engine_isGecko(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Gecko")&&!module$contents$goog$labs$userAgent$engine_isWebKit()&&!module$contents$goog$labs$userAgent$engine_isTrident()&&!module$contents$goog$labs$userAgent$engine_isEdge()}function module$contents$goog$labs$userAgent$engine_getVersion(){var e=module$contents$goog$labs$userAgent$util_getUserAgent();if(e){e=module$contents$goog$labs$userAgent$util_extractVersionTuples(e);var t;e:if(module$contents$goog$labs$userAgent$engine_isEdge()){for(t=0;t<e.length;t++){var n=e[t];if(n[0]=="Edge"){t=n;break e}}t=void 0}else t=e[1];if(t)return t[0]=="Gecko"?module$contents$goog$labs$userAgent$engine_getVersionForKey(e,"Firefox"):t[1];e=e[0];var r;if(e&&(r=e[2])&&(r=/Trident\/([^\s;]+)/.exec(r)))return r[1]}return""}function module$contents$goog$labs$userAgent$engine_getVersionForKey(e,t){return(e=module$contents$goog$array_find(e,function(n){return t==n[0]}))&&e[1]||""}goog.labs.userAgent.engine.getVersion=module$contents$goog$labs$userAgent$engine_getVersion;goog.labs.userAgent.engine.isEdge=module$contents$goog$labs$userAgent$engine_isEdge;goog.labs.userAgent.engine.isGecko=module$contents$goog$labs$userAgent$engine_isGecko;goog.labs.userAgent.engine.isPresto=function(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Presto")};goog.labs.userAgent.engine.isTrident=module$contents$goog$labs$userAgent$engine_isTrident;goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.internal.compareVersions(module$contents$goog$labs$userAgent$engine_getVersion(),e)};goog.labs.userAgent.engine.isWebKit=module$contents$goog$labs$userAgent$engine_isWebKit;goog.reflect={};goog.reflect.object=function(e,t){return t};goog.reflect.objectProperty=function(e){return e};goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e};goog.reflect.sinkValue[" "]=goog.nullFunction;goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch{}return!1};goog.reflect.cache=function(e,t,n,r){return r=r?r(t):t,Object.prototype.hasOwnProperty.call(e,r)?e[r]:e[r]=n(t)};goog.userAgent={};goog.userAgent.ASSUME_IE=!1;goog.userAgent.ASSUME_EDGE=!1;goog.userAgent.ASSUME_GECKO=!1;goog.userAgent.ASSUME_WEBKIT=!1;goog.userAgent.ASSUME_MOBILE_WEBKIT=!1;goog.userAgent.ASSUME_OPERA=!1;goog.userAgent.ASSUME_ANY_VERSION=!1;goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA;goog.userAgent.getUserAgentString=function(){return module$contents$goog$labs$userAgent$util_getUserAgent()};goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null};goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()};goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:module$contents$goog$labs$userAgent$browser_matchOpera();goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:module$contents$goog$labs$userAgent$browser_matchIE();goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:module$contents$goog$labs$userAgent$engine_isEdge();goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE;goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:module$contents$goog$labs$userAgent$engine_isGecko();goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:module$contents$goog$labs$userAgent$engine_isWebKit();goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&module$contents$goog$labs$userAgent$util_matchUserAgent("Mobile")};goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_();goog.userAgent.SAFARI=goog.userAgent.WEBKIT;goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigatorTyped();return e&&e.platform||""};goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_();goog.userAgent.ASSUME_MAC=!1;goog.userAgent.ASSUME_WINDOWS=!1;goog.userAgent.ASSUME_LINUX=!1;goog.userAgent.ASSUME_X11=!1;goog.userAgent.ASSUME_ANDROID=!1;goog.userAgent.ASSUME_IPHONE=!1;goog.userAgent.ASSUME_IPAD=!1;goog.userAgent.ASSUME_IPOD=!1;goog.userAgent.ASSUME_KAIOS=!1;goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD;goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:module$contents$goog$labs$userAgent$platform_isMacintosh();goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:module$contents$goog$labs$userAgent$platform_isWindows();goog.userAgent.isLegacyLinux_=function(){return module$contents$goog$labs$userAgent$platform_isLinux()||module$contents$goog$labs$userAgent$platform_isChromeOS()};goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_();goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigatorTyped();return!!e&&goog.string.internal.contains(e.appVersion||"","X11")};goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_();goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:module$contents$goog$labs$userAgent$platform_isAndroid();goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:module$contents$goog$labs$userAgent$platform_isIphone();goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:module$contents$goog$labs$userAgent$platform_isIpad();goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:module$contents$goog$labs$userAgent$platform_isIpod();goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:module$contents$goog$labs$userAgent$platform_isIos();goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:module$contents$goog$labs$userAgent$platform_isKaiOS();goog.userAgent.determineVersion_=function(){var e="",t=goog.userAgent.getVersionRegexResult_();return t&&(e=t?t[1]:""),goog.userAgent.IE&&(t=goog.userAgent.getDocumentMode_(),t!=null&&t>parseFloat(e))?String(t):e};goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();if(goog.userAgent.GECKO)return/rv:([^\);]+)(\)|;)/.exec(e);if(goog.userAgent.EDGE)return/Edge\/([\d\.]+)/.exec(e);if(goog.userAgent.IE)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(goog.userAgent.WEBKIT)return/WebKit\/(\S+)/.exec(e);if(goog.userAgent.OPERA)return/(?:Version)[ \/]?(\S+)/.exec(e)};goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0};goog.userAgent.VERSION=goog.userAgent.determineVersion_();goog.userAgent.compare=function(e,t){return goog.string.internal.compareVersions(e,t)};goog.userAgent.isVersionOrHigherCache_={};goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,e,function(){return 0<=goog.string.internal.compareVersions(goog.userAgent.VERSION,e)})};goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e};goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher;var JSCompiler_inline_result$jscomp$82;goog.global.document&&goog.userAgent.IE?(documentMode$jscomp$inline_116=goog.userAgent.getDocumentMode_(),JSCompiler_inline_result$jscomp$82=documentMode$jscomp$inline_116||parseInt(goog.userAgent.VERSION,10)||void 0):JSCompiler_inline_result$jscomp$82=void 0;var documentMode$jscomp$inline_116;goog.userAgent.DOCUMENT_MODE=JSCompiler_inline_result$jscomp$82;goog.userAgent.product={};goog.userAgent.product.ASSUME_FIREFOX=!1;goog.userAgent.product.ASSUME_IPHONE=!1;goog.userAgent.product.ASSUME_IPAD=!1;goog.userAgent.product.ASSUME_ANDROID=!1;goog.userAgent.product.ASSUME_CHROME=!1;goog.userAgent.product.ASSUME_SAFARI=!1;goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI;goog.userAgent.product.OPERA=goog.userAgent.OPERA;goog.userAgent.product.IE=goog.userAgent.IE;goog.userAgent.product.EDGE=goog.userAgent.EDGE;goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:module$contents$goog$labs$userAgent$browser_matchFirefox();goog.userAgent.product.isIphoneOrIpod_=function(){return module$contents$goog$labs$userAgent$platform_isIphone()||module$contents$goog$labs$userAgent$platform_isIpod()};goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_();goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:module$contents$goog$labs$userAgent$platform_isIpad();goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:module$contents$goog$labs$userAgent$browser_matchAndroidBrowser();goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:module$contents$goog$labs$userAgent$browser_matchChrome();goog.userAgent.product.isSafariDesktop_=function(){return module$contents$goog$labs$userAgent$browser_matchSafari()&&!module$contents$goog$labs$userAgent$platform_isIos()};goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_();goog.crypt.base64={};goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=";goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.";goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4};goog.crypt.base64.paddingChars_="=.";goog.crypt.base64.isPadding_=function(e){return goog.string.internal.contains(goog.crypt.base64.paddingChars_,e)};goog.crypt.base64.byteToCharMaps_={};goog.crypt.base64.charToByteMap_=null;goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT;goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||typeof goog.global.btoa=="function";goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&typeof goog.global.atob=="function";goog.crypt.base64.encodeByteArray=function(e,t){goog.asserts.assert(goog.isArrayLike(e),"encodeByteArray takes an array as a parameter"),t===void 0&&(t=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),t=goog.crypt.base64.byteToCharMaps_[t];for(var n=Array(Math.floor(e.length/3)),r=t[64]||"",o=0,i=0;o<e.length-2;o+=3){var s=e[o],l=e[o+1],c=e[o+2],u=t[s>>2];s=t[(s&3)<<4|l>>4],l=t[(l&15)<<2|c>>6],c=t[c&63],n[i++]=""+u+s+l+c}switch(u=0,c=r,e.length-o){case 2:u=e[o+1],c=t[(u&15)<<2]||r;case 1:e=e[o],n[i]=""+t[e>>2]+t[(e&3)<<4|u>>4]+c+r}return n.join("")};goog.crypt.base64.encodeString=function(e,t){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!t?goog.global.btoa(e):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(e),t)};goog.crypt.base64.decodeString=function(e,t){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!t)return goog.global.atob(e);var n="";return goog.crypt.base64.decodeStringInternal_(e,function(r){n+=String.fromCharCode(r)}),n};goog.crypt.base64.decodeStringToByteArray=function(e){var t=[];return goog.crypt.base64.decodeStringInternal_(e,function(n){t.push(n)}),t};goog.crypt.base64.decodeStringToUint8Array=function(e){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var t=e.length,n=3*t/4;n%3?n=Math.floor(n):goog.crypt.base64.isPadding_(e[t-1])&&(n=goog.crypt.base64.isPadding_(e[t-2])?n-2:n-1);var r=new Uint8Array(n),o=0;return goog.crypt.base64.decodeStringInternal_(e,function(i){r[o++]=i}),r.subarray(0,o)};goog.crypt.base64.decodeStringInternal_=function(e,t){function n(c){for(;r<e.length;){var u=e.charAt(r++),d=goog.crypt.base64.charToByteMap_[u];if(d!=null)return d;if(!goog.string.internal.isEmptyOrWhitespace(u))throw Error("Unknown base64 encoding at char: "+u)}return c}goog.crypt.base64.init_();for(var r=0;;){var o=n(-1),i=n(0),s=n(64),l=n(64);if(l===64&&o===-1)break;t(o<<2|i>>4),s!=64&&(t(i<<4&240|s>>2),l!=64&&t(s<<6&192|l))}};goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var e=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=e.concat(t[n].split(""));goog.crypt.base64.byteToCharMaps_[n]=r;for(var o=0;o<r.length;o++){var i=r[o],s=goog.crypt.base64.charToByteMap_[i];s===void 0?goog.crypt.base64.charToByteMap_[i]=o:goog.asserts.assert(s===o)}}}};var module$exports$jspb$internal_bytes={};module$exports$jspb$internal_bytes.SUPPORTS_UINT8ARRAY=typeof Uint8Array=="function";function module$contents$jspb$internal_bytes_dataAsB64(e){return e==null||typeof e=="string"?e:module$exports$jspb$internal_bytes.SUPPORTS_UINT8ARRAY&&e instanceof Uint8Array?goog.crypt.base64.encodeByteArray(e):((0,goog.asserts.fail)("Cannot coerce to b64 string: "+goog.typeOf(e)),null)}function module$contents$jspb$internal_bytes_dataAsU8(e){return e==null||module$contents$jspb$internal_bytes_isU8(e)?e:typeof e=="string"?goog.crypt.base64.decodeStringToUint8Array(e):((0,goog.asserts.fail)("Cannot coerce to Uint8Array: "+goog.typeOf(e)),null)}function module$contents$jspb$internal_bytes_isU8(e){return module$exports$jspb$internal_bytes.SUPPORTS_UINT8ARRAY&&e!=null&&e instanceof Uint8Array}var module$contents$jspb$internal_bytes_emptyUint8Array_;function module$contents$jspb$internal_bytes_emptyUint8Array(){return module$contents$jspb$internal_bytes_emptyUint8Array_||(module$contents$jspb$internal_bytes_emptyUint8Array_=new Uint8Array(0))}module$exports$jspb$internal_bytes.dataAsB64=module$contents$jspb$internal_bytes_dataAsB64;module$exports$jspb$internal_bytes.dataAsU8=module$contents$jspb$internal_bytes_dataAsU8;module$exports$jspb$internal_bytes.emptyUint8Array=module$contents$jspb$internal_bytes_emptyUint8Array;module$exports$jspb$internal_bytes.isU8=module$contents$jspb$internal_bytes_isU8;var module$exports$jspb$bytestring={},module$contents$jspb$bytestring_emptyByteString;module$exports$jspb$bytestring.ByteString=function(e){if(this.value_=e,e!==null&&e.length===0)throw Error("ByteString should be constructed with non-empty values")};module$exports$jspb$bytestring.ByteString.fromBase64=function(e){return e?new module$exports$jspb$bytestring.ByteString(e):module$exports$jspb$bytestring.ByteString.empty()};module$exports$jspb$bytestring.ByteString.fromUint8Array=function(e){return e.length?new module$exports$jspb$bytestring.ByteString(new Uint8Array(e)):module$exports$jspb$bytestring.ByteString.empty()};module$exports$jspb$bytestring.ByteString.fromStringUtf8=function(e){return e.length?new module$exports$jspb$bytestring.ByteString(module$contents$jspb$binary$utf8_encodeUtf8(e,!0)):module$exports$jspb$bytestring.ByteString.empty()};module$exports$jspb$bytestring.ByteString.empty=function(){return module$contents$jspb$bytestring_emptyByteString||(module$contents$jspb$bytestring_emptyByteString=new module$exports$jspb$bytestring.ByteString(null))};module$exports$jspb$bytestring.ByteString.prototype.asBase64=function(){return this.isEmpty()?"":this.ensureBase64String_()};module$exports$jspb$bytestring.ByteString.prototype.asUint8Array=function(){return this.isEmpty()?module$contents$jspb$internal_bytes_emptyUint8Array():new Uint8Array(this.ensureUint8Array_())};module$exports$jspb$bytestring.ByteString.prototype.isEmpty=function(){return this.value_==null};module$exports$jspb$bytestring.ByteString.prototype.asStringUtf8=function(){var e=this.ensureUint8Array_();if(e){var t=e.length;e=module$contents$jspb$binary$utf8_useTextDecoderDecode?(module$contents$jspb$binary$utf8_utf8ErrorsAreFatal(!0)?module$contents$jspb$binary$utf8_getFatalDecoderInstance():module$contents$jspb$binary$utf8_getNonFatalDecoderInstance()).decode(e.subarray(0,0+t)):module$contents$jspb$binary$utf8_polyfillDecodeUtf8(e,0,t,!0)}else e="";return e};module$exports$jspb$bytestring.ByteString.prototype.ensureBase64String_=function(){return this.value_=module$contents$jspb$internal_bytes_dataAsB64(this.value_)};module$exports$jspb$bytestring.ByteString.prototype.ensureUint8Array_=function(){return this.value_=module$contents$jspb$internal_bytes_dataAsU8(this.value_)};var module$contents$jspb$utils_SUPPORTS_UINT8ARRAY_SLICING=typeof Uint8Array.prototype.slice=="function";function module$contents$jspb$utils_sliceUint8Array(e,t,n){return t===n?module$contents$jspb$internal_bytes_emptyUint8Array():module$contents$jspb$utils_SUPPORTS_UINT8ARRAY_SLICING?e.slice(t,n):new Uint8Array(e.subarray(t,n))}var module$contents$jspb$utils_split64Low=0,module$contents$jspb$utils_split64High=0;function module$contents$jspb$utils_splitUint64(e){var t=e>>>0;e=Math.floor((e-t)/module$exports$jspb$BinaryConstants.TWO_TO_32)>>>0,module$contents$jspb$utils_split64Low=t,module$contents$jspb$utils_split64High=e}function module$contents$jspb$utils_splitInt64(e){var t=0>e;e=Math.abs(e);var n=e>>>0;e=Math.floor((e-n)/module$exports$jspb$BinaryConstants.TWO_TO_32),e>>>=0,t&&(e=~e>>>0,n=(~n>>>0)+1,4294967295<n&&(n=0,e++,4294967295<e&&(e=0))),module$contents$jspb$utils_split64Low=n,module$contents$jspb$utils_split64High=e}function module$contents$jspb$utils_splitBytes64(e){var t=$jscomp.makeIterator(e);e=t.next().value;var n=t.next().value,r=t.next().value,o=t.next().value,i=t.next().value,s=t.next().value,l=t.next().value;t=t.next().value,module$contents$jspb$utils_split64Low=e+(n<<8)+(r<<16)+(o<<24)>>>0,module$contents$jspb$utils_split64High=i+(s<<8)+(l<<16)+(t<<24)>>>0}function module$contents$jspb$utils_joinUint64(e,t){return t*module$exports$jspb$BinaryConstants.TWO_TO_32+(e>>>0)}function module$contents$jspb$utils_joinInt64(e,t){var n=t&2147483648;return n&&(e=~e+1>>>0,t=~t>>>0,e==0&&(t=t+1>>>0)),e=module$contents$jspb$utils_joinUint64(e,t),n?-e:e}function module$contents$jspb$utils_toZigzag64(e,t,n){var r=t>>31;return n(e<<1^r,(t<<1|e>>>31)^r)}function module$contents$jspb$utils_joinZigzag64(e,t){return module$contents$jspb$utils_fromZigzag64(e,t,module$contents$jspb$utils_joinInt64)}function module$contents$jspb$utils_fromZigzag64(e,t,n){var r=-(e&1);return n((e>>>1|t<<31)^r,t>>>1^r)}function module$contents$jspb$utils_joinUnsignedDecimalString(e,t){function n(o,i){return o=o?String(o):"",i?"0000000".slice(o.length)+o:o}if(2097151>=t)return""+(module$exports$jspb$BinaryConstants.TWO_TO_32*t+e);var r=(e>>>24|t<<8)>>>0&16777215;return t=t>>16&65535,e=(e&16777215)+6777216*r+6710656*t,r+=8147497*t,t*=2,1e7<=e&&(r+=Math.floor(e/1e7),e%=1e7),1e7<=r&&(t+=Math.floor(r/1e7),r%=1e7),n(t,0)+n(r,t)+n(e,1)}function module$contents$jspb$utils_joinSignedDecimalString(e,t){var n=t&2147483648;return n&&(e=~e+1>>>0,t=~t+(e==0?1:0)>>>0),e=module$contents$jspb$utils_joinUnsignedDecimalString(e,t),n?"-"+e:e}function module$contents$jspb$utils_decimalStringToBytes64(e){function t(s,l){for(var c=0;8>c&&(s!==1||0<l);c++)l=s*o[c]+l,o[c]=l&255,l>>>=8}function n(){for(var s=0;8>s;s++)o[s]=~o[s]&255}(0,goog.asserts.assert)(0<e.length);var r=!1;e[0]==="-"&&(r=!0,e=e.slice(1));for(var o=[0,0,0,0,0,0,0,0],i=0;i<e.length;i++)t(10,e.charCodeAt(i)-48);return r&&(n(),t(1,1)),o}function module$contents$jspb$utils_byteSourceToUint8Array(e){if(e.constructor===Uint8Array)return e;if(e.constructor===ArrayBuffer)return new Uint8Array(e);if(e.constructor===Array)return new Uint8Array(e);if(e.constructor===String)return goog.crypt.base64.decodeStringToUint8Array(e);if(e.constructor===module$exports$jspb$bytestring.ByteString)return e.asUint8Array();if(e instanceof Uint8Array)return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}var module$exports$jspb$binary$decoder={BinaryDecoderOptions:function(){},BinaryDecoder:function(e,t,n,r){r=r===void 0?{}:r,r=r.bytesFieldsAsMutableViews===void 0?!1:r.bytesFieldsAsMutableViews,this.dataView_=this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.bytesFieldsAsMutableViews=r,e&&this.setBlock(e,t,n)}};module$exports$jspb$binary$decoder.BinaryDecoder.alloc=function(e,t,n,r){if(module$exports$jspb$binary$decoder.BinaryDecoder.instanceCache_.length){var o=module$exports$jspb$binary$decoder.BinaryDecoder.instanceCache_.pop();return r&&(o.bytesFieldsAsMutableViews=r.bytesFieldsAsMutableViews),e&&o.setBlock(e,t,n),o}return new module$exports$jspb$binary$decoder.BinaryDecoder(e,t,n,r)};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.free=function(){this.clear(),100>module$exports$jspb$binary$decoder.BinaryDecoder.instanceCache_.length&&module$exports$jspb$binary$decoder.BinaryDecoder.instanceCache_.push(this)};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.clear=function(){this.dataView_=this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.bytesFieldsAsMutableViews=!1};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.setBlock=function(e,t,n){this.bytes_=module$contents$jspb$utils_byteSourceToUint8Array(e),module$contents$jspb$binary$decoder_ASSUME_DATAVIEW_IS_FAST&&(this.dataView_=new DataView(this.bytes_.buffer,this.bytes_.byteOffset,this.bytes_.byteLength)),this.start_=t!==void 0?t:0,this.end_=n!==void 0?this.start_+n:this.bytes_.length,this.cursor_=this.start_};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.getEnd=function(){return this.end_};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.setEnd=function(e){this.end_=e};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.getCursor=function(){return this.cursor_};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.setCursor=function(e){this.cursor_=e};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.advance=function(e){this.cursor_+=e,this.checkCursor()};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readSplitVarint64=function(e){for(var t=128,n=0,r=0,o=0;4>o&&128<=t;o++)t=this.bytes_[this.cursor_++],n|=(t&127)<<7*o;if(128<=t&&(t=this.bytes_[this.cursor_++],n|=(t&127)<<28,r|=(t&127)>>4),128<=t)for(o=0;5>o&&128<=t;o++)t=this.bytes_[this.cursor_++],r|=(t&127)<<7*o+3;if(128>t)return e(n>>>0,r>>>0);throw module$contents$jspb$binary$errors_invalidVarintError()};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readSplitZigzagVarint64=function(e){return this.readSplitVarint64(function(t,n){return module$contents$jspb$utils_fromZigzag64(t,n,e)})};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readSplitFixed64=function(e){var t=this.bytes_,n=this.cursor_;this.cursor_+=8,this.checkCursor();for(var r=0,o=0,i=n+7;i>=n;i--)r=r<<8|t[i],o=o<<8|t[i+4];return e(r,o)};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.skipVarint=function(){for(var e=this.cursor_,t=0;10>t;t++){if(!(this.bytes_[e]&128)){this.cursor_=e+1,this.checkCursor();return}e++}throw module$contents$jspb$binary$errors_invalidVarintError()};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.checkCursor=function(){if(this.cursor_>this.end_)throw module$contents$jspb$binary$errors_readTooFarError(this.end_,this.cursor_)};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readUnsignedVarint32=function(){var e=this.bytes_,t=e[this.cursor_+0],n=t&127;if(128>t)return this.cursor_+=1,this.checkCursor(),n;if(t=e[this.cursor_+1],n|=(t&127)<<7,128>t)return this.cursor_+=2,this.checkCursor(),n;if(t=e[this.cursor_+2],n|=(t&127)<<14,128>t)return this.cursor_+=3,this.checkCursor(),n;if(t=e[this.cursor_+3],n|=(t&127)<<21,128>t)return this.cursor_+=4,this.checkCursor(),n;if(t=e[this.cursor_+4],n|=(t&15)<<28,128>t)return this.cursor_+=5,this.checkCursor(),n>>>0;if(this.cursor_+=5,128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++])throw module$contents$jspb$binary$errors_invalidVarintError();return this.checkCursor(),n};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readSignedVarint32=function(){return this.readUnsignedVarint32()};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readZigzagVarint32=function(){var e=this.readUnsignedVarint32();return e>>>1^-(e&1)};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(module$contents$jspb$utils_joinUint64)};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(module$contents$jspb$utils_joinUnsignedDecimalString)};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(module$contents$jspb$utils_joinInt64)};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(module$contents$jspb$utils_joinSignedDecimalString)};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(module$contents$jspb$utils_joinZigzag64)};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(module$contents$jspb$utils_joinSignedDecimalString)};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readUint8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,this.checkCursor(),e};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readUint16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,this.checkCursor(),e<<0|t<<8};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readUint32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],n=this.bytes_[this.cursor_+2],r=this.bytes_[this.cursor_+3];return this.cursor_+=4,this.checkCursor(),(e<<0|t<<8|n<<16|r<<24)>>>0};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readUint64=function(){var e=this.readUint32(),t=this.readUint32();return module$contents$jspb$utils_joinUint64(e,t)};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readUint64String=function(){var e=this.readUint32(),t=this.readUint32();return module$contents$jspb$utils_joinUnsignedDecimalString(e,t)};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readInt8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,this.checkCursor(),e<<24>>24};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readInt16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,this.checkCursor(),(e<<0|t<<8)<<16>>16};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readInt32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],n=this.bytes_[this.cursor_+2],r=this.bytes_[this.cursor_+3];return this.cursor_+=4,this.checkCursor(),e<<0|t<<8|n<<16|r<<24};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readInt64=function(){var e=this.readUint32(),t=this.readUint32();return module$contents$jspb$utils_joinInt64(e,t)};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readInt64String=function(){var e=this.readUint32(),t=this.readUint32();return module$contents$jspb$utils_joinSignedDecimalString(e,t)};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readFloat=function(){var e=this.readUint32(),t=2*(e>>31)+1,n=e>>>23&255;return e&=8388607,n==255?e?NaN:1/0*t:n==0?t*Math.pow(2,-149)*e:t*Math.pow(2,n-150)*(e+Math.pow(2,23))};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readDouble=function(){if(module$contents$jspb$binary$decoder_ASSUME_DATAVIEW_IS_FAST){var e=this.dataView_.getFloat64(this.cursor_,!0);return this.cursor_+=8,this.checkCursor(),e}var t=this.readUint32(),n=this.readUint32();e=2*(n>>31)+1;var r=n>>>20&2047;return t=module$exports$jspb$BinaryConstants.TWO_TO_32*(n&1048575)+t,r==2047?t?NaN:1/0*e:r==0?e*Math.pow(2,-1074)*t:e*Math.pow(2,r-1075)*(t+module$exports$jspb$BinaryConstants.TWO_TO_52)};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readDoubleArrayInto=function(e,t){var n=this.cursor_,r=8*e;if(n+r>this.end_)throw module$contents$jspb$binary$errors_readTooFarError(r,this.end_-n);if(n+=this.bytes_.byteOffset,module$contents$jspb$binary$decoder_ASSUME_DATAVIEW_IS_FAST)for(this.cursor_+=r,e=new DataView(this.bytes_.buffer,n,r),r=0;n=r+8,!(n>e.byteLength);)t.push(e.getFloat64(r,!0)),r=n;else if(module$contents$jspb$binary$decoder_isLittleEndianCache===void 0&&(module$contents$jspb$binary$decoder_isLittleEndianCache=new Uint16Array(new Uint8Array([1,2]).buffer)[0]==513),goog.asserts.assertBoolean(module$contents$jspb$binary$decoder_isLittleEndianCache))for(this.cursor_+=r,e=new Float64Array(this.bytes_.buffer.slice(n,n+r)),r=0;r<e.length;r++)t.push(e[r]);else for(r=0;r<e;r++)t.push(this.readDouble())};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readBool=function(){var e=!!this.bytes_[this.cursor_++];return this.checkCursor(),e};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readString=function(e,t){var n=this.cursor_;this.cursor_+=e,this.checkCursor();var r=goog.asserts.assert(this.bytes_);return module$contents$jspb$binary$utf8_useTextDecoderDecode?(module$contents$jspb$binary$utf8_utf8ErrorsAreFatal(t)?module$contents$jspb$binary$utf8_getFatalDecoderInstance():module$contents$jspb$binary$utf8_getNonFatalDecoderInstance()).decode(r.subarray(n,n+e)):module$contents$jspb$binary$utf8_polyfillDecodeUtf8(r,n,e,t)};module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readBytes=function(e){if(0>e||this.cursor_+e>this.bytes_.length)throw 0>e?Error("Tried to read a negative byte length: "+e):module$contents$jspb$binary$errors_readTooFarError(e,this.bytes_.length-this.cursor_);var t=this.bytesFieldsAsMutableViews?this.bytes_.subarray(this.cursor_,this.cursor_+e):module$contents$jspb$utils_sliceUint8Array(this.bytes_,this.cursor_,this.cursor_+e);return this.cursor_+=e,t};module$exports$jspb$binary$decoder.BinaryDecoder.resetInstanceCache=function(){module$exports$jspb$binary$decoder.BinaryDecoder.instanceCache_=[]};module$exports$jspb$binary$decoder.BinaryDecoder.getInstanceCache=function(){return module$exports$jspb$binary$decoder.BinaryDecoder.instanceCache_};module$exports$jspb$binary$decoder.BinaryDecoder.instanceCache_=[];var module$contents$jspb$binary$decoder_isLittleEndianCache=void 0,module$contents$jspb$binary$decoder_ASSUME_DATAVIEW_IS_FAST=2019<=goog.FEATURESET_YEAR,module$exports$jspb$binary$reader={BinaryReader:function(e,t,n,r){r=r===void 0?{}:r;var o=r.discardUnknownFields===void 0?!1:r.discardUnknownFields;this.decoderOptions={bytesFieldsAsMutableViews:r.bytesFieldsAsMutableViews===void 0?!1:r.bytesFieldsAsMutableViews},this.discardUnknownFields=o,this.decoder_=module$exports$jspb$binary$decoder.BinaryDecoder.alloc(e,t,n,this.decoderOptions),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=module$exports$jspb$BinaryConstants.INVALID_FIELD_NUMBER,this.nextTag_=module$exports$jspb$BinaryConstants.INVALID_TAG,this.nextWireType_=module$exports$jspb$BinaryConstants.WireType.INVALID}};module$exports$jspb$binary$reader.BinaryReader.alloc=function(e,t,n){if(module$exports$jspb$binary$reader.BinaryReader.instanceCache_.length){var r=module$exports$jspb$binary$reader.BinaryReader.instanceCache_.pop();return e&&r.setBlock(e,t,n),r}return new module$exports$jspb$binary$reader.BinaryReader(e,t,n)};module$exports$jspb$binary$reader.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextTag_=module$exports$jspb$BinaryConstants.INVALID_TAG,this.nextField_=module$exports$jspb$BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=module$exports$jspb$BinaryConstants.WireType.INVALID,100>module$exports$jspb$binary$reader.BinaryReader.instanceCache_.length&&module$exports$jspb$binary$reader.BinaryReader.instanceCache_.push(this)};module$exports$jspb$binary$reader.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_};module$exports$jspb$binary$reader.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()};module$exports$jspb$binary$reader.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()};module$exports$jspb$binary$reader.BinaryReader.prototype.getTag=function(){return this.nextTag_};module$exports$jspb$binary$reader.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_};module$exports$jspb$binary$reader.BinaryReader.prototype.getWireType=function(){return this.nextWireType_};module$exports$jspb$binary$reader.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.END_GROUP};module$exports$jspb$binary$reader.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.DELIMITED};module$exports$jspb$binary$reader.BinaryReader.prototype.setBlock=function(e,t,n){this.decoder_.setBlock(e,t,n),this.nextField_=module$exports$jspb$BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=module$exports$jspb$BinaryConstants.WireType.INVALID};module$exports$jspb$binary$reader.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=module$exports$jspb$BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=module$exports$jspb$BinaryConstants.WireType.INVALID};module$exports$jspb$binary$reader.BinaryReader.prototype.advance=function(e){this.decoder_.advance(e)};module$exports$jspb$binary$reader.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;this.fieldCursor_=this.decoder_.getCursor();var e=this.decoder_.readUnsignedVarint32(),t=e&7;if(!module$contents$jspb$BinaryConstants_isValidWireType(t))throw module$contents$jspb$binary$errors_invalidWireTypeError(t,this.fieldCursor_);return this.nextTag_=e,this.nextField_=e>>>3,this.nextWireType_=t,!0};module$exports$jspb$binary$reader.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=module$exports$jspb$BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()};module$exports$jspb$binary$reader.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=module$exports$jspb$BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var e=this.decoder_.readUnsignedVarint32();this.decoder_.advance(e)}};module$exports$jspb$binary$reader.BinaryReader.prototype.skipFixed32Field=function(){goog.asserts.assert(this.nextWireType_===module$exports$jspb$BinaryConstants.WireType.FIXED32),this.decoder_.advance(4)};module$exports$jspb$binary$reader.BinaryReader.prototype.skipFixed64Field=function(){goog.asserts.assert(this.nextWireType_===module$exports$jspb$BinaryConstants.WireType.FIXED64),this.decoder_.advance(8)};module$exports$jspb$binary$reader.BinaryReader.prototype.skipGroup=function(){var e=this.nextField_;do{if(!this.nextField())throw Error("Unmatched start-group tag: stream EOF");if(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.END_GROUP){if(this.nextField_!=e)throw Error("Unmatched end-group tag");break}this.skipField()}while(!0)};module$exports$jspb$binary$reader.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case module$exports$jspb$BinaryConstants.WireType.VARINT:this.skipVarintField();break;case module$exports$jspb$BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case module$exports$jspb$BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case module$exports$jspb$BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case module$exports$jspb$BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:throw module$contents$jspb$binary$errors_invalidWireTypeError(this.nextWireType_,this.fieldCursor_)}};module$exports$jspb$binary$reader.BinaryReader.prototype.handleUnknownField=function(e){var t=this.getFieldCursor();this.skipField(),this.addUnknownFieldsStartingFrom(e,t)};module$exports$jspb$binary$reader.BinaryReader.prototype.addUnknownFieldsStartingFrom=function(e,t){if(!this.discardUnknownFields){t=module$contents$jspb$utils_sliceUint8Array(goog.asserts.assert(this.decoder_.getBuffer()),t,this.decoder_.getCursor());var n=e.internalUnknownFields_;n?n.push(t):e.internalUnknownFields_=[t]}};module$exports$jspb$binary$reader.BinaryReader.prototype.readAny=function(e){if(module$contents$jspb$BinaryConstants_FieldTypeToWireType(e)!==this.nextWireType_)return null;var t=module$exports$jspb$BinaryConstants.FieldType;switch(e){case t.DOUBLE:return this.readDouble();case t.FLOAT:return this.readFloat();case t.INT64:return this.readInt64();case t.UINT64:return this.readUint64();case t.INT32:return this.readInt32();case t.FIXED64:return this.readFixed64();case t.FIXED32:return this.readFixed32();case t.BOOL:return this.readBool();case t.STRING:return this.readString();case t.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case t.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case t.BYTES:return this.readBytes();case t.UINT32:return this.readUint32();case t.ENUM:return this.readEnum();case t.SFIXED32:return this.readSfixed32();case t.SFIXED64:return this.readSfixed64();case t.SINT32:return this.readSint32();case t.SINT64:return this.readSint64();default:goog.asserts.fail("Invalid field type in readAny()")}return null};module$exports$jspb$binary$reader.BinaryReader.prototype.readMessage=function(e,t){goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.DELIMITED);var n=this.decoder_.getEnd(),r=this.decoder_.readUnsignedVarint32(),o=this.decoder_.getCursor()+r;if(this.decoder_.setEnd(o),t(e,this),t=o-this.decoder_.getCursor(),t!==0)throw Error("Message parsing ended unexpectedly. Expected to read "+(r+" bytes, instead read "+(r-t)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return this.decoder_.setCursor(o),this.decoder_.setEnd(n),e};module$exports$jspb$binary$reader.BinaryReader.prototype.readGroup=function(e,t,n){if(goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==e),n(t,this),this.nextWireType_!==module$exports$jspb$BinaryConstants.WireType.END_GROUP)throw Error("Group submessage did not end with an END_GROUP tag");if(this.nextField_!==e)throw Error("Unmatched end-group tag");return t};module$exports$jspb$binary$reader.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()};module$exports$jspb$binary$reader.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()};module$exports$jspb$binary$reader.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()};module$exports$jspb$binary$reader.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()};module$exports$jspb$binary$reader.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()};module$exports$jspb$binary$reader.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()};module$exports$jspb$binary$reader.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()};module$exports$jspb$binary$reader.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()};module$exports$jspb$binary$reader.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()};module$exports$jspb$binary$reader.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()};module$exports$jspb$binary$reader.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()};module$exports$jspb$binary$reader.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()};module$exports$jspb$binary$reader.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()};module$exports$jspb$binary$reader.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()};module$exports$jspb$binary$reader.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()};module$exports$jspb$binary$reader.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()};module$exports$jspb$binary$reader.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()};module$exports$jspb$binary$reader.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()};module$exports$jspb$binary$reader.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()};module$exports$jspb$binary$reader.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()};module$exports$jspb$binary$reader.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(e,!1)};module$exports$jspb$binary$reader.BinaryReader.prototype.readStringRequireUtf8=function(){goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(e,!0)};module$exports$jspb$binary$reader.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(e)};module$exports$jspb$binary$reader.BinaryReader.prototype.readSplitVarint64=function(e){return goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(e)};module$exports$jspb$binary$reader.BinaryReader.prototype.readSplitZigzagVarint64=function(e){return goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(function(t,n){return module$contents$jspb$utils_fromZigzag64(t,n,e)})};module$exports$jspb$binary$reader.BinaryReader.prototype.readSplitFixed64=function(e){return goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(e)};module$exports$jspb$binary$reader.BinaryReader.prototype.readPackedFieldInto_=function(e,t){var n=this.readPackedFieldLength_();for(n=this.decoder_.getCursor()+n;this.decoder_.getCursor()<n;)t.push(e.call(this.decoder_))};module$exports$jspb$binary$reader.BinaryReader.prototype.readPackedFieldLength_=function(){return goog.asserts.assert(this.nextWireType_==module$exports$jspb$BinaryConstants.WireType.DELIMITED),this.decoder_.readUnsignedVarint32()};module$exports$jspb$binary$reader.BinaryReader.prototype.readPackableInt32Into=function(e){this.isDelimited()?this.readPackedFieldInto_(module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readSignedVarint32,e):e.push(this.readInt32())};module$exports$jspb$binary$reader.BinaryReader.prototype.readPackableInt64Into=function(e){this.isDelimited()?this.readPackedFieldInto_(module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readSignedVarint64,e):e.push(this.readInt64())};module$exports$jspb$binary$reader.BinaryReader.prototype.readPackableInt64StringInto=function(e){this.isDelimited()?this.readPackedFieldInto_(module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readSignedVarint64String,e):e.push(this.readInt64String())};module$exports$jspb$binary$reader.BinaryReader.prototype.readPackableUint32Into=function(e){this.isDelimited()?this.readPackedFieldInto_(module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readUnsignedVarint32,e):e.push(this.readUint32())};module$exports$jspb$binary$reader.BinaryReader.prototype.readPackableUint64Into=function(e){this.isDelimited()?this.readPackedFieldInto_(module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readUnsignedVarint64,e):e.push(this.readUint64())};module$exports$jspb$binary$reader.BinaryReader.prototype.readPackableUint64StringInto=function(e){this.isDelimited()?this.readPackedFieldInto_(module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readUnsignedVarint64String,e):e.push(this.readUint64String())};module$exports$jspb$binary$reader.BinaryReader.prototype.readPackableSint32Into=function(e){this.isDelimited()?this.readPackedFieldInto_(module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readZigzagVarint32,e):e.push(this.readSint32())};module$exports$jspb$binary$reader.BinaryReader.prototype.readPackableSint64Into=function(e){this.isDelimited()?this.readPackedFieldInto_(module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readZigzagVarint64,e):e.push(this.readSint64())};module$exports$jspb$binary$reader.BinaryReader.prototype.readPackableSint64StringInto=function(e){this.isDelimited()?this.readPackedFieldInto_(module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readZigzagVarint64String,e):e.push(this.readSint64String())};module$exports$jspb$binary$reader.BinaryReader.prototype.readPackableFixed32Into=function(e){this.isDelimited()?this.readPackedFieldInto_(module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readUint32,e):e.push(this.readFixed32())};module$exports$jspb$binary$reader.BinaryReader.prototype.readPackableFixed64Into=function(e){this.isDelimited()?this.readPackedFieldInto_(module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readUint64,e):e.push(this.readFixed64())};module$exports$jspb$binary$reader.BinaryReader.prototype.readPackableFixed64StringInto=function(e){this.isDelimited()?this.readPackedFieldInto_(module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readUint64String,e):e.push(this.readFixed64String())};module$exports$jspb$binary$reader.BinaryReader.prototype.readPackableSfixed32Into=function(e){this.isDelimited()?this.readPackedFieldInto_(module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readInt32,e):e.push(this.readSfixed32())};module$exports$jspb$binary$reader.BinaryReader.prototype.readPackableSfixed64Into=function(e){this.isDelimited()?this.readPackedFieldInto_(module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readInt64,e):e.push(this.readSfixed64())};module$exports$jspb$binary$reader.BinaryReader.prototype.readPackableSfixed64StringInto=function(e){this.isDelimited()?this.readPackedFieldInto_(module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readInt64String,e):e.push(this.readSfixed64String())};module$exports$jspb$binary$reader.BinaryReader.prototype.readPackableFloatInto=function(e){this.isDelimited()?this.readPackedFieldInto_(module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readFloat,e):e.push(this.readFloat())};module$exports$jspb$binary$reader.BinaryReader.prototype.readPackableDoubleInto=function(e){this.isDelimited()?this.decoder_.readDoubleArrayInto(this.readPackedFieldLength_()/8,e):e.push(this.readDouble())};module$exports$jspb$binary$reader.BinaryReader.prototype.readPackableBoolInto=function(e){this.isDelimited()?this.readPackedFieldInto_(module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readBool,e):e.push(this.readBool())};module$exports$jspb$binary$reader.BinaryReader.prototype.readPackableEnumInto=function(e){this.isDelimited()?this.readPackedFieldInto_(module$exports$jspb$binary$decoder.BinaryDecoder.prototype.readEnum,e):e.push(this.readEnum())};module$exports$jspb$binary$reader.BinaryReader.resetInstanceCache=function(){module$exports$jspb$binary$reader.BinaryReader.instanceCache_=[]};module$exports$jspb$binary$reader.BinaryReader.getInstanceCache=function(){return module$exports$jspb$binary$reader.BinaryReader.instanceCache_};module$exports$jspb$binary$reader.BinaryReader.instanceCache_=[];var module$exports$jspb$arith={UInt64:function(e,t){this.lo=e,this.hi=t}};module$exports$jspb$arith.UInt64.prototype.cmp=function(e){return this.hi<e.hi||this.hi==e.hi&&this.lo<e.lo?-1:this.hi==e.hi&&this.lo==e.lo?0:1};module$exports$jspb$arith.UInt64.prototype.rightShift=function(){return new module$exports$jspb$arith.UInt64((this.lo>>>1|(this.hi&1)<<31)>>>0,this.hi>>>1>>>0)};module$exports$jspb$arith.UInt64.prototype.leftShift=function(){return new module$exports$jspb$arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)};module$exports$jspb$arith.UInt64.prototype.msb=function(){return!!(this.hi&2147483648)};module$exports$jspb$arith.UInt64.prototype.lsb=function(){return!!(this.lo&1)};module$exports$jspb$arith.UInt64.prototype.zero=function(){return this.lo==0&&this.hi==0};module$exports$jspb$arith.UInt64.prototype.add=function(e){return new module$exports$jspb$arith.UInt64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)};module$exports$jspb$arith.UInt64.prototype.sub=function(e){return new module$exports$jspb$arith.UInt64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)};module$exports$jspb$arith.UInt64.mul32x32=function(e,t){var n=e&65535;e>>>=16;var r=t&65535,o=t>>>16;for(t=n*r+65536*(n*o&65535)+65536*(e*r&65535),n=e*o+(n*o>>>16)+(e*r>>>16);4294967296<=t;)t-=4294967296,n+=1;return new module$exports$jspb$arith.UInt64(t>>>0,n>>>0)};module$exports$jspb$arith.UInt64.prototype.mul=function(e){var t=module$exports$jspb$arith.UInt64.mul32x32(this.lo,e);return e=module$exports$jspb$arith.UInt64.mul32x32(this.hi,e),e.hi=e.lo,e.lo=0,t.add(e)};module$exports$jspb$arith.UInt64.prototype.div=function(e){if(e==0)return[];for(var t=new module$exports$jspb$arith.UInt64(0,0),n=new module$exports$jspb$arith.UInt64(this.lo,this.hi),r=new module$exports$jspb$arith.UInt64(e,0),o=new module$exports$jspb$arith.UInt64(1,0);!r.msb();)r=r.leftShift(),o=o.leftShift();for(;!o.zero();)0>=r.cmp(n)&&(t=t.add(o),n=n.sub(r)),r=r.rightShift(),o=o.rightShift();return[t,n]};module$exports$jspb$arith.UInt64.prototype.toString=function(){for(var e="",t=this;!t.zero();){t=t.div(10);var n=t[0];e=t[1].lo+e,t=n}return e==""&&(e="0"),e};module$exports$jspb$arith.UInt64.fromString=function(e){for(var t=new module$exports$jspb$arith.UInt64(0,0),n=new module$exports$jspb$arith.UInt64(0,0),r=0;r<e.length;r++){if("0">e[r]||"9"<e[r])return null;n.lo=parseInt(e[r],10),t=t.mul(10).add(n)}return t};module$exports$jspb$arith.UInt64.prototype.clone=function(){return new module$exports$jspb$arith.UInt64(this.lo,this.hi)};module$exports$jspb$arith.Int64=function(e,t){this.lo=e,this.hi=t};module$exports$jspb$arith.Int64.prototype.add=function(e){return new module$exports$jspb$arith.Int64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)};module$exports$jspb$arith.Int64.prototype.sub=function(e){return new module$exports$jspb$arith.Int64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)};module$exports$jspb$arith.Int64.prototype.clone=function(){return new module$exports$jspb$arith.Int64(this.lo,this.hi)};module$exports$jspb$arith.Int64.prototype.toString=function(){var e=(this.hi&2147483648)!=0,t=new module$exports$jspb$arith.UInt64(this.lo,this.hi);return e&&(t=new module$exports$jspb$arith.UInt64(0,0).sub(t)),(e?"-":"")+t.toString()};module$exports$jspb$arith.Int64.fromString=function(e){var t=0<e.length&&e[0]=="-";return t&&(e=e.substring(1)),e=module$exports$jspb$arith.UInt64.fromString(e),e===null?null:(t&&(e=new module$exports$jspb$arith.UInt64(0,0).sub(e)),new module$exports$jspb$arith.Int64(e.lo,e.hi))};var module$exports$jspb$binary$encoder={BinaryEncoder:function(){this.buffer_=new Uint8Array(64),this.length_=0}};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.ensureSpace_=function(e){if(!(this.length_+e<this.buffer_.length)){var t=this.buffer_;this.buffer_=new Uint8Array(Math.ceil(e+2*this.buffer_.length)),this.buffer_.set(t)}};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.push=function(e){this.ensureSpace_(1),this.buffer_[this.length_++]=e};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.writeBytes=function(e){this.ensureSpace_(e.length),this.buffer_.set(e,this.length_),this.length_+=e.length};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.length=function(){return this.length_};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.end=function(){var e=this.buffer_,t=this.length_;return this.length_=0,module$contents$jspb$utils_sliceUint8Array(e,0,t)};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.writeAndEnd=function(e,t){var n=this.length_;return n===0?0:(e.set(this.buffer_.subarray(0,n),t),this.length_=0,n)};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.writeSplitVarint64=function(e,t){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<module$exports$jspb$BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<module$exports$jspb$BinaryConstants.TWO_TO_32);0<t||127<e;)this.push(e&127|128),e=(e>>>7|t<<25)>>>0,t>>>=7;this.push(e)};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.writeSplitFixed64=function(e,t){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<module$exports$jspb$BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<module$exports$jspb$BinaryConstants.TWO_TO_32),this.writeUint32(e),this.writeUint32(t)};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.writeSplitZigzagVarint64=function(e,t){var n=this;module$contents$jspb$utils_toZigzag64(e,t,function(r,o){n.writeSplitVarint64(r>>>0,o>>>0)})};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.writeUnsignedVarint32=function(e){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<module$exports$jspb$BinaryConstants.TWO_TO_32);127<e;)this.push(e&127|128),e>>>=7;this.push(e)};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.writeSignedVarint32=function(e){if(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-module$exports$jspb$BinaryConstants.TWO_TO_31&&e<module$exports$jspb$BinaryConstants.TWO_TO_31),0<=e)this.writeUnsignedVarint32(e);else{for(var t=0;9>t;t++)this.push(e&127|128),e>>=7;this.push(1)}};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.writeUnsignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<module$exports$jspb$BinaryConstants.TWO_TO_64),module$contents$jspb$utils_splitInt64(e),this.writeSplitVarint64(module$contents$jspb$utils_split64Low,module$contents$jspb$utils_split64High)};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.writeSignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-module$exports$jspb$BinaryConstants.TWO_TO_63&&e<module$exports$jspb$BinaryConstants.TWO_TO_63),module$contents$jspb$utils_splitInt64(e),this.writeSplitVarint64(module$contents$jspb$utils_split64Low,module$contents$jspb$utils_split64High)};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.writeZigzagVarint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-module$exports$jspb$BinaryConstants.TWO_TO_31&&e<module$exports$jspb$BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((e<<1^e>>31)>>>0)};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.writeZigzagVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-module$exports$jspb$BinaryConstants.TWO_TO_63&&e<module$exports$jspb$BinaryConstants.TWO_TO_63);var t=e;e=0>t,t=2*Math.abs(t),module$contents$jspb$utils_splitUint64(t),t=module$contents$jspb$utils_split64Low;var n=module$contents$jspb$utils_split64High;e&&(t==0?n==0?n=t=4294967295:(n--,t=4294967295):t--),module$contents$jspb$utils_split64Low=t,module$contents$jspb$utils_split64High=n,this.writeSplitVarint64(module$contents$jspb$utils_split64Low,module$contents$jspb$utils_split64High)};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.writeZigzagVarint64String=function(e){var t=this;module$contents$jspb$utils_splitBytes64(module$contents$jspb$utils_decimalStringToBytes64(e)),module$contents$jspb$utils_toZigzag64(module$contents$jspb$utils_split64Low,module$contents$jspb$utils_split64High,function(n,r){t.writeSplitVarint64(n>>>0,r>>>0)})};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.writeUint8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&256>e),this.push(e>>>0&255)};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.writeUint16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&65536>e),this.push(e>>>0&255),this.push(e>>>8&255)};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.writeUint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<module$exports$jspb$BinaryConstants.TWO_TO_32),this.push(e>>>0&255),this.push(e>>>8&255),this.push(e>>>16&255),this.push(e>>>24&255)};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.writeUint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<module$exports$jspb$BinaryConstants.TWO_TO_64),module$contents$jspb$utils_splitUint64(e),this.writeUint32(module$contents$jspb$utils_split64Low),this.writeUint32(module$contents$jspb$utils_split64High)};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.writeInt8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-128<=e&&128>e),this.push(e>>>0&255)};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.writeInt16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-32768<=e&&32768>e),this.push(e>>>0&255),this.push(e>>>8&255)};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.writeInt32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-module$exports$jspb$BinaryConstants.TWO_TO_31&&e<module$exports$jspb$BinaryConstants.TWO_TO_31),this.push(e>>>0&255),this.push(e>>>8&255),this.push(e>>>16&255),this.push(e>>>24&255)};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.writeInt64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-module$exports$jspb$BinaryConstants.TWO_TO_63&&e<module$exports$jspb$BinaryConstants.TWO_TO_63),module$contents$jspb$utils_splitInt64(e),this.writeSplitFixed64(module$contents$jspb$utils_split64Low,module$contents$jspb$utils_split64High)};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.writeFloat=function(e){goog.asserts.assert(e===1/0||e===-1/0||isNaN(e)||e>=-module$exports$jspb$BinaryConstants.FLOAT32_MAX&&e<=module$exports$jspb$BinaryConstants.FLOAT32_MAX);var t=e;if(t=(e=0>t?1:0)?-t:t,t===0)0<1/t?module$contents$jspb$utils_split64Low=module$contents$jspb$utils_split64High=0:(module$contents$jspb$utils_split64High=0,module$contents$jspb$utils_split64Low=2147483648);else if(isNaN(t))module$contents$jspb$utils_split64High=0,module$contents$jspb$utils_split64Low=2147483647;else if(t>module$exports$jspb$BinaryConstants.FLOAT32_MAX)module$contents$jspb$utils_split64High=0,module$contents$jspb$utils_split64Low=(e<<31|2139095040)>>>0;else if(t<module$exports$jspb$BinaryConstants.FLOAT32_MIN)t=Math.round(t/Math.pow(2,-149)),module$contents$jspb$utils_split64High=0,module$contents$jspb$utils_split64Low=(e<<31|t)>>>0;else{var n=Math.floor(Math.log(t)/Math.LN2);t*=Math.pow(2,-n),t=Math.round(t*module$exports$jspb$BinaryConstants.TWO_TO_23),16777216<=t&&++n,module$contents$jspb$utils_split64High=0,module$contents$jspb$utils_split64Low=(e<<31|n+127<<23|t&8388607)>>>0}this.writeUint32(module$contents$jspb$utils_split64Low)};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.writeDouble=function(e){goog.asserts.assert(e===1/0||e===-1/0||isNaN(e)||e>=-module$exports$jspb$BinaryConstants.FLOAT64_MAX&&e<=module$exports$jspb$BinaryConstants.FLOAT64_MAX);var t=e;if(t=(e=0>t?1:0)?-t:t,t===0)module$contents$jspb$utils_split64High=0<1/t?0:2147483648,module$contents$jspb$utils_split64Low=0;else if(isNaN(t))module$contents$jspb$utils_split64High=2147483647,module$contents$jspb$utils_split64Low=4294967295;else if(t>module$exports$jspb$BinaryConstants.FLOAT64_MAX)module$contents$jspb$utils_split64High=(e<<31|2146435072)>>>0,module$contents$jspb$utils_split64Low=0;else if(t<module$exports$jspb$BinaryConstants.FLOAT64_MIN){var n=t/Math.pow(2,-1074);module$contents$jspb$utils_split64High=(e<<31|n/module$exports$jspb$BinaryConstants.TWO_TO_32)>>>0,module$contents$jspb$utils_split64Low=n>>>0}else{var r=t;if(n=0,2<=r)for(;2<=r&&1023>n;)n++,r/=2;else for(;1>r&&-1022<n;)r*=2,n--;t*=Math.pow(2,-n),r=t*module$exports$jspb$BinaryConstants.TWO_TO_52>>>0,module$contents$jspb$utils_split64High=(e<<31|n+1023<<20|t*module$exports$jspb$BinaryConstants.TWO_TO_20&1048575)>>>0,module$contents$jspb$utils_split64Low=r}this.writeUint32(module$contents$jspb$utils_split64Low),this.writeUint32(module$contents$jspb$utils_split64High)};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.writeBool=function(e){goog.asserts.assert(typeof e=="boolean"||typeof e=="number"),this.push(e?1:0)};module$exports$jspb$binary$encoder.BinaryEncoder.prototype.writeEnum=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-module$exports$jspb$BinaryConstants.TWO_TO_31&&e<module$exports$jspb$BinaryConstants.TWO_TO_31),this.writeSignedVarint32(e)};var module$exports$jspb$binary$writer={BinaryWriter:function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new module$exports$jspb$binary$encoder.BinaryEncoder}};module$exports$jspb$binary$writer.BinaryWriter.prototype.pushBlock=function(e){e.length!==0&&(this.blocks_.push(e),this.totalLength_+=e.length)};module$exports$jspb$binary$writer.BinaryWriter.prototype.endAndAccumulate=function(){this.pushBlock(this.encoder_.end())};module$exports$jspb$binary$writer.BinaryWriter.prototype.appendUint8Array_=function(e){this.endAndAccumulate(),this.pushBlock(e)};module$exports$jspb$binary$writer.BinaryWriter.prototype.beginDelimited_=function(e){return this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.DELIMITED),this.endAndAccumulate(),{lengthAtStart:this.totalLength_,blockIndex:this.blocks_.length-1}};module$exports$jspb$binary$writer.BinaryWriter.prototype.endDelimited_=function(e){this.endAndAccumulate(),this.encoder_.writeUnsignedVarint32(this.totalLength_+this.encoder_.length()-e.lengthAtStart);var t=this.encoder_.end();this.totalLength_+=t.length,this.blocks_.splice(1+e.blockIndex,0,t)};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUnknownFields=function(e){if(e=e.internalUnknownFields_){this.endAndAccumulate();for(var t=0;t<e.length;t++)this.pushBlock(e[t])}};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSerializedMessage=function(e,t,n){this.appendUint8Array_(e.subarray(t,n))};module$exports$jspb$binary$writer.BinaryWriter.prototype.maybeWriteSerializedMessage=function(e,t,n){e!=null&&t!=null&&n!=null&&this.writeSerializedMessage(e,t,n)};module$exports$jspb$binary$writer.BinaryWriter.prototype.getResultBuffer=function(){var e=this.totalLength_+this.encoder_.length();if(e===0)return new Uint8Array(0);e=new Uint8Array(e);for(var t=this.blocks_,n=t.length,r=0,o=0;o<n;o++){var i=t[o];i.length!==0&&(e.set(i,r),r+=i.length)}return r+=this.encoder_.writeAndEnd(e,r),(0,goog.asserts.assert)(r==e.length),this.blocks_=[e],e};module$exports$jspb$binary$writer.BinaryWriter.prototype.getResultBase64String=function(e){return(0,goog.crypt.base64.encodeByteArray)(this.getResultBuffer(),e)};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFieldHeader_=function(e,t){(0,goog.asserts.assert)(1<=e&&e==Math.floor(e)),this.encoder_.writeUnsignedVarint32(8*e+t)};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeAny=function(e,t,n){switch(e){case module$exports$jspb$BinaryConstants.FieldType.DOUBLE:this.writeDouble(t,n);break;case module$exports$jspb$BinaryConstants.FieldType.FLOAT:this.writeFloat(t,n);break;case module$exports$jspb$BinaryConstants.FieldType.INT64:this.writeInt64(t,n);break;case module$exports$jspb$BinaryConstants.FieldType.UINT64:this.writeUint64(t,n);break;case module$exports$jspb$BinaryConstants.FieldType.INT32:this.writeInt32(t,n);break;case module$exports$jspb$BinaryConstants.FieldType.FIXED64:this.writeFixed64(t,n);break;case module$exports$jspb$BinaryConstants.FieldType.FIXED32:this.writeFixed32(t,n);break;case module$exports$jspb$BinaryConstants.FieldType.BOOL:this.writeBool(t,n);break;case module$exports$jspb$BinaryConstants.FieldType.STRING:this.writeString(t,n);break;case module$exports$jspb$BinaryConstants.FieldType.GROUP:(0,goog.asserts.fail)("Group field type not supported in writeAny()");break;case module$exports$jspb$BinaryConstants.FieldType.MESSAGE:(0,goog.asserts.fail)("Message field type not supported in writeAny()");break;case module$exports$jspb$BinaryConstants.FieldType.BYTES:this.writeBytes(t,n);break;case module$exports$jspb$BinaryConstants.FieldType.UINT32:this.writeUint32(t,n);break;case module$exports$jspb$BinaryConstants.FieldType.ENUM:this.writeEnum(t,n);break;case module$exports$jspb$BinaryConstants.FieldType.SFIXED32:this.writeSfixed32(t,n);break;case module$exports$jspb$BinaryConstants.FieldType.SFIXED64:this.writeSfixed64(t,n);break;case module$exports$jspb$BinaryConstants.FieldType.SINT32:this.writeSint32(t,n);break;case module$exports$jspb$BinaryConstants.FieldType.SINT64:this.writeSint64(t,n);break;default:(0,goog.asserts.fail)("Invalid field type in writeAny()")}};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUnsignedVarint32_=function(e,t){t!=null&&(this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(t))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSignedVarint32_=function(e,t){t!=null&&(module$contents$jspb$binary$writer_assertSignedInteger(e,t),this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUnsignedVarint64_=function(e,t){t!=null&&(this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(t))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSignedVarint64_=function(e,t){t!=null&&(this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(t))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeZigzagVarint32_=function(e,t){t!=null&&(this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(t))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeZigzagVarint64_=function(e,t){t!=null&&(this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(t))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeZigzagVarint64String_=function(e,t){t!=null&&(this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(t))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32=function(e,t){t!=null&&(module$contents$jspb$binary$writer_assertThat(e,t,t>=-module$exports$jspb$BinaryConstants.TWO_TO_31&&t<module$exports$jspb$BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64=function(e,t){t!=null&&(module$contents$jspb$binary$writer_assertThat(e,t,t>=-module$exports$jspb$BinaryConstants.TWO_TO_63&&t<module$exports$jspb$BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(e,t))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64String=function(e,t){t!=null&&(t=module$exports$jspb$arith.Int64.fromString(t),this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32=function(e,t){t!=null&&(module$contents$jspb$binary$writer_assertThat(e,t,0<=t&&t<module$exports$jspb$BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64=function(e,t){t!=null&&(module$contents$jspb$binary$writer_assertThat(e,t,0<=t&&t<module$exports$jspb$BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(e,t))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64String=function(e,t){t!=null&&(t=module$exports$jspb$arith.UInt64.fromString(t),this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32=function(e,t){t!=null&&(module$contents$jspb$binary$writer_assertThat(e,t,t>=-module$exports$jspb$BinaryConstants.TWO_TO_31&&t<module$exports$jspb$BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(e,t))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64=function(e,t){t!=null&&(module$contents$jspb$binary$writer_assertThat(e,t,t>=-module$exports$jspb$BinaryConstants.TWO_TO_63&&t<module$exports$jspb$BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(e,t))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64String=function(e,t){t!=null&&this.writeZigzagVarint64String_(e,t)};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32=function(e,t){t!=null&&(module$contents$jspb$binary$writer_assertThat(e,t,0<=t&&t<module$exports$jspb$BinaryConstants.TWO_TO_32),this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(t))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64=function(e,t){t!=null&&(module$contents$jspb$binary$writer_assertThat(e,t,0<=t&&t<module$exports$jspb$BinaryConstants.TWO_TO_64),this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(t))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64String=function(e,t){t!=null&&(t=module$exports$jspb$arith.UInt64.fromString(t),this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32=function(e,t){t!=null&&(module$contents$jspb$binary$writer_assertThat(e,t,t>=-module$exports$jspb$BinaryConstants.TWO_TO_31&&t<module$exports$jspb$BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(t))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64=function(e,t){t!=null&&(module$contents$jspb$binary$writer_assertThat(e,t,t>=-module$exports$jspb$BinaryConstants.TWO_TO_63&&t<module$exports$jspb$BinaryConstants.TWO_TO_63),this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(t))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64String=function(e,t){t!=null&&(t=module$exports$jspb$arith.Int64.fromString(t),this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFloat=function(e,t){t!=null&&(this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(t))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeDouble=function(e,t){t!=null&&(this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(t))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool=function(e,t){t!=null&&(module$contents$jspb$binary$writer_assertThat(e,t,typeof t=="boolean"||typeof t=="number"),this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.VARINT),this.encoder_.writeBool(t))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeEnum=function(e,t){t!=null&&(t=parseInt(t,10),module$contents$jspb$binary$writer_assertSignedInteger(e,t),this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString=function(e,t){t!=null&&this.writeUint8Array(e,module$contents$jspb$binary$utf8_encodeUtf8(t))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBytes=function(e,t){t!=null&&this.writeUint8Array(e,module$contents$jspb$utils_byteSourceToUint8Array(t))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint8Array=function(e,t){this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),this.appendUint8Array_(t)};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeMessage=function(e,t,n){t!=null&&(e=this.beginDelimited_(e),n(t,this),this.endDelimited_(e))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeMessageSet=function(e,t,n){t!=null&&(this.writeFieldHeader_(1,module$exports$jspb$BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,module$exports$jspb$BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e),e=this.beginDelimited_(3),n(t,this),this.endDelimited_(e),this.writeFieldHeader_(1,module$exports$jspb$BinaryConstants.WireType.END_GROUP))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeGroup=function(e,t,n){t!=null&&(this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.START_GROUP),n(t,this),this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.END_GROUP))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSplitFixed64=function(e,t,n){this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t,n)};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSplitVarint64=function(e,t,n){this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t,n)};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSplitZigzagVarint64=function(e,t,n){this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.VARINT),this.encoder_.writeSplitZigzagVarint64(t>>>0,n>>>0)};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedInt32=function(e,t){if(t!=null)for(var n=0;n<t.length;n++)this.writeSignedVarint32_(e,t[n])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedInt64=function(e,t){if(t!=null)for(var n=0;n<t.length;n++)this.writeSignedVarint64_(e,t[n])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(e,t,n,r){if(t!=null)for(var o=0;o<t.length;o++)this.writeSplitFixed64(e,n(t[o]),r(t[o]))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(e,t,n,r){if(t!=null)for(var o=0;o<t.length;o++)this.writeSplitVarint64(e,n(t[o]),r(t[o]))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(e,t,n,r){if(t!=null)for(var o=0;o<t.length;o++)this.writeSplitZigzagVarint64(e,n(t[o]),r(t[o]))};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedInt64String=function(e,t){if(t!=null)for(var n=0;n<t.length;n++)this.writeInt64String(e,t[n])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedUint32=function(e,t){if(t!=null)for(var n=0;n<t.length;n++)this.writeUnsignedVarint32_(e,t[n])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedUint64=function(e,t){if(t!=null)for(var n=0;n<t.length;n++)this.writeUnsignedVarint64_(e,t[n])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedUint64String=function(e,t){if(t!=null)for(var n=0;n<t.length;n++)this.writeUint64String(e,t[n])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedSint32=function(e,t){if(t!=null)for(var n=0;n<t.length;n++)this.writeZigzagVarint32_(e,t[n])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedSint64=function(e,t){if(t!=null)for(var n=0;n<t.length;n++)this.writeZigzagVarint64_(e,t[n])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedSint64String=function(e,t){if(t!=null)for(var n=0;n<t.length;n++)this.writeZigzagVarint64String_(e,t[n])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedFixed32=function(e,t){if(t!=null)for(var n=0;n<t.length;n++)this.writeFixed32(e,t[n])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedFixed64=function(e,t){if(t!=null)for(var n=0;n<t.length;n++)this.writeFixed64(e,t[n])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedFixed64String=function(e,t){if(t!=null)for(var n=0;n<t.length;n++)this.writeFixed64String(e,t[n])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedSfixed32=function(e,t){if(t!=null)for(var n=0;n<t.length;n++)this.writeSfixed32(e,t[n])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedSfixed64=function(e,t){if(t!=null)for(var n=0;n<t.length;n++)this.writeSfixed64(e,t[n])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedSfixed64String=function(e,t){if(t!=null)for(var n=0;n<t.length;n++)this.writeSfixed64String(e,t[n])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedFloat=function(e,t){if(t!=null)for(var n=0;n<t.length;n++)this.writeFloat(e,t[n])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedDouble=function(e,t){if(t!=null)for(var n=0;n<t.length;n++)this.writeDouble(e,t[n])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedBool=function(e,t){if(t!=null)for(var n=0;n<t.length;n++)this.writeBool(e,t[n])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedEnum=function(e,t){if(t!=null)for(var n=0;n<t.length;n++)this.writeEnum(e,t[n])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedString=function(e,t){if(t!=null)for(var n=0;n<t.length;n++)this.writeString(e,t[n])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedBytes=function(e,t){if(t!=null)for(var n=0;n<t.length;n++)this.writeBytes(e,t[n])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedMessage=function(e,t,n){if(t!=null)for(var r=0;r<t.length;r++){var o=this.beginDelimited_(e);n(t[r],this),this.endDelimited_(o)}};module$exports$jspb$binary$writer.BinaryWriter.prototype.writeRepeatedGroup=function(e,t,n){if(t!=null)for(var r=0;r<t.length;r++)this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.START_GROUP),n(t[r],this),this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.END_GROUP)};module$exports$jspb$binary$writer.BinaryWriter.prototype.writePackedInt32=function(e,t){if(t!=null&&t.length){for(var n=this.beginDelimited_(e),r=0;r<t.length;r++)module$contents$jspb$binary$writer_assertSignedInteger(e,t[r]),this.encoder_.writeSignedVarint32(t[r]);this.endDelimited_(n)}};module$exports$jspb$binary$writer.BinaryWriter.prototype.writePackedInt32String=function(e,t){if(t!=null&&t.length){for(var n=this.beginDelimited_(e),r=0;r<t.length;r++){var o=parseInt(t[r],10);module$contents$jspb$binary$writer_assertSignedInteger(e,o),this.encoder_.writeSignedVarint32(o)}this.endDelimited_(n)}};module$exports$jspb$binary$writer.BinaryWriter.prototype.writePackedInt64=function(e,t){if(t!=null&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeSignedVarint64(t[n]);this.endDelimited_(e)}};module$exports$jspb$binary$writer.BinaryWriter.prototype.writePackedSplitFixed64=function(e,t,n,r){if(t!=null){e=this.beginDelimited_(e);for(var o=0;o<t.length;o++)this.encoder_.writeSplitFixed64(n(t[o]),r(t[o]));this.endDelimited_(e)}};module$exports$jspb$binary$writer.BinaryWriter.prototype.writePackedSplitVarint64=function(e,t,n,r){if(t!=null){e=this.beginDelimited_(e);for(var o=0;o<t.length;o++)this.encoder_.writeSplitVarint64(n(t[o]),r(t[o]));this.endDelimited_(e)}};module$exports$jspb$binary$writer.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(e,t,n,r){if(t!=null){e=this.beginDelimited_(e);for(var o=this.encoder_,i=0;i<t.length;i++)o.writeSplitZigzagVarint64(n(t[i]),r(t[i]));this.endDelimited_(e)}};module$exports$jspb$binary$writer.BinaryWriter.prototype.writePackedInt64String=function(e,t){if(t!=null&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++){var r=module$exports$jspb$arith.Int64.fromString(t[n]);this.encoder_.writeSplitVarint64(r.lo,r.hi)}this.endDelimited_(e)}};module$exports$jspb$binary$writer.BinaryWriter.prototype.writePackedUint32=function(e,t){if(t!=null&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeUnsignedVarint32(t[n]);this.endDelimited_(e)}};module$exports$jspb$binary$writer.BinaryWriter.prototype.writePackedUint64=function(e,t){if(t!=null&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeUnsignedVarint64(t[n]);this.endDelimited_(e)}};module$exports$jspb$binary$writer.BinaryWriter.prototype.writePackedUint64String=function(e,t){if(t!=null&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++){var r=module$exports$jspb$arith.UInt64.fromString(t[n]);this.encoder_.writeSplitVarint64(r.lo,r.hi)}this.endDelimited_(e)}};module$exports$jspb$binary$writer.BinaryWriter.prototype.writePackedSint32=function(e,t){if(t!=null&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeZigzagVarint32(t[n]);this.endDelimited_(e)}};module$exports$jspb$binary$writer.BinaryWriter.prototype.writePackedSint64=function(e,t){if(t!=null&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeZigzagVarint64(t[n]);this.endDelimited_(e)}};module$exports$jspb$binary$writer.BinaryWriter.prototype.writePackedSint64String=function(e,t){if(t!=null&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeZigzagVarint64String(t[n]);this.endDelimited_(e)}};module$exports$jspb$binary$writer.BinaryWriter.prototype.writePackedFixed32=function(e,t){if(t!=null&&t.length)for(this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeUint32(t[e])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writePackedFixed64=function(e,t){if(t!=null&&t.length)for(this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeUint64(t[e])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writePackedFixed64String=function(e,t){if(t!=null&&t.length)for(this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++){var n=module$exports$jspb$arith.UInt64.fromString(t[e]);this.encoder_.writeSplitFixed64(n.lo,n.hi)}};module$exports$jspb$binary$writer.BinaryWriter.prototype.writePackedSfixed32=function(e,t){if(t!=null&&t.length)for(this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeInt32(t[e])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writePackedSfixed64=function(e,t){if(t!=null&&t.length)for(this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64(t[e])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writePackedSfixed64String=function(e,t){if(t!=null&&t.length)for(this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++){var n=module$exports$jspb$arith.Int64.fromString(t[e]);this.encoder_.writeSplitFixed64(n.lo,n.hi)}};module$exports$jspb$binary$writer.BinaryWriter.prototype.writePackedFloat=function(e,t){if(t!=null&&t.length)for(this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeFloat(t[e])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writePackedDouble=function(e,t){if(t!=null&&t.length)for(this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeDouble(t[e])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writePackedBool=function(e,t){if(t!=null&&t.length)for(this.writeFieldHeader_(e,module$exports$jspb$BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),e=0;e<t.length;e++)this.encoder_.writeBool(t[e])};module$exports$jspb$binary$writer.BinaryWriter.prototype.writePackedEnum=function(e,t){if(t!=null&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeEnum(t[n]);this.endDelimited_(e)}};function module$contents$jspb$binary$writer_assertSignedInteger(e,t){module$contents$jspb$binary$writer_assertThat(e,t,t===Math.floor(t)),module$contents$jspb$binary$writer_assertThat(e,t,t>=-module$exports$jspb$BinaryConstants.TWO_TO_31&&t<module$exports$jspb$BinaryConstants.TWO_TO_31)}function module$contents$jspb$binary$writer_assertThat(e,t,n){n||(0,goog.asserts.fail)("for ["+t+"] at ["+e+"]")}var module$exports$jspb$internal_options={},module$contents$jspb$internal_options_freezerLoaded=!1,module$contents$jspb$internal_options_skipMessageIdValidation=!0,module$contents$jspb$internal_options_skipMessageArgumentTypeValidation=!1;module$exports$jspb$internal_options.SERIALIZE_EMPTY_TRAILING_FIELDS=!0;module$exports$jspb$internal_options.isFreezerLoaded=function(){return module$contents$jspb$internal_options_freezerLoaded};module$exports$jspb$internal_options.markFreezerLoaded=function(){module$contents$jspb$internal_options_freezerLoaded=!0};module$exports$jspb$internal_options.skipMessageIdValidation=function(){return module$contents$jspb$internal_options_skipMessageIdValidation};module$exports$jspb$internal_options.skipMessageArgumentTypeValidation=function(){return module$contents$jspb$internal_options_skipMessageArgumentTypeValidation};module$exports$jspb$internal_options.setMessageArgumentTypeValidation=function(e){module$contents$jspb$internal_options_skipMessageArgumentTypeValidation=!e};module$exports$jspb$internal_options.setValidateMessageIds=function(e){module$contents$jspb$internal_options_skipMessageIdValidation=!e};var module$contents$jspb$internal_array_state_ARRAY_STATE_SYMBOL=2018<=goog.FEATURESET_YEAR||typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(goog.DEBUG?"INTERNAL_ARRAY_STATE":void 0):void 0,module$contents$jspb$internal_array_state_ARRAY_STATE_BIT_MASKS={IS_REPEATED_FIELD:1,IS_IMMUTABLE_ARRAY:2};function module$contents$jspb$internal_array_state_addMask(e,t){Object.isFrozen(e)||(module$contents$jspb$internal_array_state_ARRAY_STATE_SYMBOL?e[module$contents$jspb$internal_array_state_ARRAY_STATE_SYMBOL]|=t:e.internalArrayState!==void 0?e.internalArrayState|=t:Object.defineProperties(e,{internalArrayState:{value:t,configurable:!0,writable:!0,enumerable:!1}}))}function module$contents$jspb$internal_array_state_getState(e){return goog.asserts.assertArray(e,"state is only maintained on arrays."),e=module$contents$jspb$internal_array_state_ARRAY_STATE_SYMBOL?e[module$contents$jspb$internal_array_state_ARRAY_STATE_SYMBOL]:e.internalArrayState,e??0}function module$contents$jspb$internal_array_state_isRepeatedField(e){return Array.isArray(e)?!!(module$contents$jspb$internal_array_state_getState(e)&module$contents$jspb$internal_array_state_ARRAY_STATE_BIT_MASKS.IS_REPEATED_FIELD):!1}function module$contents$jspb$internal_array_state_markRepeatedField(e){return goog.asserts.assertArray(e,"state is only maintained on arrays."),module$contents$jspb$internal_array_state_addMask(e,module$contents$jspb$internal_array_state_ARRAY_STATE_BIT_MASKS.IS_REPEATED_FIELD),e}function module$contents$jspb$internal_array_state_isImmutableArray(e){return module$contents$jspb$internal_options_freezerLoaded&&Array.isArray(e)?!!(module$contents$jspb$internal_array_state_getState(e)&module$contents$jspb$internal_array_state_ARRAY_STATE_BIT_MASKS.IS_IMMUTABLE_ARRAY):!1}function module$contents$jspb$internal_array_state_markArrayImmutable(e){if(!Array.isArray(e))throw Error("cannot mark non-array as immutable");return module$contents$jspb$internal_array_state_addMask(e,module$contents$jspb$internal_array_state_ARRAY_STATE_BIT_MASKS.IS_IMMUTABLE_ARRAY),e}var module$exports$jspb$internal={InternalMessage:function(){}};function module$contents$jspb$internal_isImmutableMessage(e){return module$contents$jspb$internal_options_freezerLoaded?module$contents$jspb$internal_array_state_isImmutableArray(e.internalArray_):!1}function module$contents$jspb$internal_internalMarkMessageImmutable(e){(0,goog.asserts.assert)(module$contents$jspb$internal_options_freezerLoaded),module$contents$jspb$internal_array_state_markArrayImmutable(e.internalArray_)}function module$contents$jspb$internal_isExtensionObject(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function module$contents$jspb$internal_hasOwnPropertyIfNotTrusted(e,t){return goog.TRUSTED_SITE||Object.prototype.hasOwnProperty.call(e,t)}function module$contents$jspb$internal_newRepeatedField(){return module$contents$jspb$internal_array_state_markRepeatedField([])}var module$contents$jspb$internal_inSerialize;module$exports$jspb$internal.EXEMPTED_SUBCLASS_MARKER=goog.asserts.ENABLE_ASSERTS?Symbol(goog.DEBUG?"exempted jspb subclass":void 0):void 0;module$exports$jspb$internal.GENERATED_SUBCLASS_MARKER=goog.asserts.ENABLE_ASSERTS?Symbol(goog.DEBUG?"generated by jspb":void 0):void 0;function module$contents$jspb$internal_bytesAsB64(e){return module$contents$jspb$internal_bytes_dataAsB64(module$contents$jspb$internal_maybeUnwrapByteString(e))}function module$contents$jspb$internal_bytesAsU8(e){return module$contents$jspb$internal_bytes_dataAsU8(module$contents$jspb$internal_maybeUnwrapByteString(e))}function module$contents$jspb$internal_bytesAsByteString(e){return e==null?module$exports$jspb$bytestring.ByteString.empty():e.constructor===module$exports$jspb$bytestring.ByteString?e:typeof e=="string"?module$exports$jspb$bytestring.ByteString.fromBase64(e):module$contents$jspb$internal_bytes_isU8(e)?module$exports$jspb$bytestring.ByteString.fromUint8Array(e):((0,goog.asserts.fail)("Cannot coerce to ByteString: "+goog.typeOf(e)),module$exports$jspb$bytestring.ByteString.empty())}function module$contents$jspb$internal_maybeUnwrapByteString(e){return e instanceof module$exports$jspb$bytestring.ByteString?e.value_||"":e}function module$contents$jspb$internal_isEmptyRepeatedField(e){return Array.isArray(e)&&module$contents$jspb$internal_array_state_isRepeatedField(e)&&!e.length}module$exports$jspb$internal.bytesAsB64=module$contents$jspb$internal_bytesAsB64;module$exports$jspb$internal.bytesAsByteString=module$contents$jspb$internal_bytesAsByteString;module$exports$jspb$internal.bytesAsU8=module$contents$jspb$internal_bytesAsU8;module$exports$jspb$internal.fieldNumberFromIndex=function(e,t){return t-e.arrayIndexOffset};module$exports$jspb$internal.getInSerialize=function(){return module$contents$jspb$internal_inSerialize};module$exports$jspb$internal.hasOwnPropertyIfNotTrusted=module$contents$jspb$internal_hasOwnPropertyIfNotTrusted;module$exports$jspb$internal.indexFromFieldNumber=function(e,t){return t+e.arrayIndexOffset};module$exports$jspb$internal.internalMarkMessageImmutable=module$contents$jspb$internal_internalMarkMessageImmutable;module$exports$jspb$internal.isEmptyRepeatedField=module$contents$jspb$internal_isEmptyRepeatedField;module$exports$jspb$internal.isExtensionObject=module$contents$jspb$internal_isExtensionObject;module$exports$jspb$internal.isImmutableMessage=module$contents$jspb$internal_isImmutableMessage;module$exports$jspb$internal.newRepeatedField=module$contents$jspb$internal_newRepeatedField;module$exports$jspb$internal.setInSerialize=function(e){module$contents$jspb$internal_inSerialize=e};module$exports$jspb$internal.maybeUnwrapByteString=module$contents$jspb$internal_maybeUnwrapByteString;jspb.extension_field_info={};var module$contents$jspb$extension_field_info_ExtensionFieldInfo=function(e,t,n,r,o){this.fieldIndex=e,this.fieldName=t,this.ctor=n,this.toObjectFn=r,this.isRepeated=o};module$contents$jspb$extension_field_info_ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor};jspb.extension_field_info.ExtensionFieldInfo=module$contents$jspb$extension_field_info_ExtensionFieldInfo;var module$exports$jspb$map={Map:function(e,t){this.arr_=e,this.valueCtor=t,this.map={},this.arrClean=!0,this.isImmutable_=!1,0<this.arr_.length&&this.loadFromArray_()}};module$exports$jspb$map.Map.prototype.internalMarkImmutable=function(){goog.asserts.assert(module$contents$jspb$internal_options_freezerLoaded),this.isImmutable_=!0};module$exports$jspb$map.Map.prototype.checkNotImmutable_=function(){if(module$contents$jspb$internal_options_freezerLoaded&&this.isImmutable_)throw Error("Cannot mutate an immutable Map")};module$exports$jspb$map.Map.prototype.loadFromArray_=function(){for(var e=0;e<this.arr_.length;e++){var t=this.arr_[e],n=t[0];this.map[n.toString()]=new module$contents$jspb$map_Entry_(n,t[1])}this.arrClean=!0};module$exports$jspb$map.Map.prototype.toArrayInternal=function(){if(!this.arrClean){this.arr_.length=0;var e=this.stringKeys_();e.sort();for(var t=0;t<e.length;t++){var n=this.map[e[t]];this.arr_.push([n.key,n.value])}this.arrClean=!0}return this.arr_};module$exports$jspb$map.Map.prototype.internalClone=function(e,t){var n=this.valueCtor,r=new module$exports$jspb$map.Map(module$contents$jspb$internal_newRepeatedField(),n),o;for(o in this.map){var i=this.map[o];n?r.set(i.key,t(this.wrapEntry_(i))):r.set(i.key,e(i.value))}return r};module$exports$jspb$map.Map.prototype.getLength=function(){return this.size};module$exports$jspb$map.Map.prototype.clear=function(){this.checkNotImmutable_(),this.map={},this.arrClean=!1};module$exports$jspb$map.Map.prototype.delete=function(e){this.checkNotImmutable_(),e=e.toString();var t=this.map.hasOwnProperty(e);return delete this.map[e],this.arrClean=!1,t};module$exports$jspb$map.Map.prototype.del=function(e){return this.delete(e)};module$exports$jspb$map.Map.prototype.getEntryList=function(){var e=[],t=this.stringKeys_();t.sort();for(var n=0;n<t.length;n++){var r=this.map[t[n]];e.push([r.key,r.value])}return e};module$exports$jspb$map.Map.prototype.entries=function(){var e=[],t=this.stringKeys_();t.sort();for(var n=0;n<t.length;n++){var r=this.map[t[n]];e.push([r.key,this.wrapEntry_(r)])}return new module$contents$jspb$map_ArrayIteratorIterable(e)};module$exports$jspb$map.Map.prototype.keys=function(){var e=[],t=this.stringKeys_();t.sort();for(var n=0;n<t.length;n++)e.push(this.map[t[n]].key);return new module$contents$jspb$map_ArrayIteratorIterable(e)};module$exports$jspb$map.Map.prototype.values=function(){var e=[],t=this.stringKeys_();t.sort();for(var n=0;n<t.length;n++)e.push(this.wrapEntry_(this.map[t[n]]));return new module$contents$jspb$map_ArrayIteratorIterable(e)};module$exports$jspb$map.Map.prototype.forEach=function(e,t){var n=this.stringKeys_();n.sort();for(var r=0;r<n.length;r++){var o=this.map[n[r]];e.call(t,this.wrapEntry_(o),o.key,this)}};module$exports$jspb$map.Map.prototype.set=function(e,t){this.checkNotImmutable_();var n=new module$contents$jspb$map_Entry_(e);return this.valueCtor?(n.valueWrapper=t,n.value=t.toArrayInternal()):n.value=t,this.map[e.toString()]=n,this.arrClean=!1,this};module$exports$jspb$map.Map.prototype.wrapEntry_=function(e){return this.valueCtor?(e.valueWrapper||(e.valueWrapper=new this.valueCtor(e.value),this.isImmutable_&&module$contents$jspb$internal_internalMarkMessageImmutable(e.valueWrapper)),e.valueWrapper):e.value};module$exports$jspb$map.Map.prototype.get=function(e){if(e=this.map[e.toString()])return this.wrapEntry_(e)};module$exports$jspb$map.Map.prototype.has=function(e){return e.toString()in this.map};module$exports$jspb$map.Map.prototype.stringKeys_=function(){var e=this.map,t=[],n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t};module$exports$jspb$map.Map.prototype[Symbol.iterator]=function(){return this.entries()};$jscomp.global.Object.defineProperties(module$exports$jspb$map.Map.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.stringKeys_().length}}});var module$contents$jspb$map_Entry_=function(e,t){this.key=e,this.value=t,this.valueWrapper=void 0},module$contents$jspb$map_ArrayIteratorIterable=function(e){this.idx_=0,this.arr_=e};module$contents$jspb$map_ArrayIteratorIterable.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}};module$contents$jspb$map_ArrayIteratorIterable.prototype[Symbol.iterator]=function(){return this};function module$contents$jspb$internal_compare_compareExtensions(e,t){e=e||{},t=t||{};var n={},r;for(r in e)module$contents$jspb$internal_hasOwnPropertyIfNotTrusted(e,r)&&(n[r]=0);for(var o in t)module$contents$jspb$internal_hasOwnPropertyIfNotTrusted(t,o)&&(n[o]=0);for(var i in n)if(module$contents$jspb$internal_hasOwnPropertyIfNotTrusted(n,i)&&!module$contents$jspb$internal_compare_compareFields(e[i],t[i]))return!1;return!0}function module$contents$jspb$internal_compare_maybeUnwrapMap(e){return e instanceof module$exports$jspb$map.Map?e.toArrayInternal():e}function module$contents$jspb$internal_compare_compareFields(e,t){if(e=module$contents$jspb$internal_maybeUnwrapByteString(e),t=module$contents$jspb$internal_maybeUnwrapByteString(t),e=module$contents$jspb$internal_compare_maybeUnwrapMap(e),t=module$contents$jspb$internal_compare_maybeUnwrapMap(t),e==t)return!0;if(module$exports$jspb$internal_bytes.SUPPORTS_UINT8ARRAY){var n=module$contents$jspb$internal_bytes_isU8(e),r=module$contents$jspb$internal_bytes_isU8(t);if(n||r){if(!n)if(typeof e=="string")e=module$contents$jspb$internal_bytes_dataAsU8(e);else return!1;if(r)r=t;else if(typeof t=="string")r=module$contents$jspb$internal_bytes_dataAsU8(t);else return!1;if(e.length!==r.length)return!1;for(t=0;t<e.length;t++)if(e[t]!==r[t])return!1;return!0}}if(e==null&&module$contents$jspb$internal_isEmptyRepeatedField(t)||t==null&&module$contents$jspb$internal_isEmptyRepeatedField(e))return!0;if(!goog.isObject(e)||!goog.isObject(t))return typeof e=="number"&&isNaN(e)||typeof t=="number"&&isNaN(t)?String(e)==String(t):!1;if(e.constructor!=t.constructor)return!1;if(e.constructor===Array){r=e,n=e=void 0;for(var o=Math.max(r.length,t.length),i=0;i<o;i++){var s=r[i],l=t[i];if(s&&s.constructor==Object&&((0,goog.asserts.assert)(e===void 0),(0,goog.asserts.assert)(i===r.length-1),e=s,s=void 0),l&&l.constructor==Object&&((0,goog.asserts.assert)(n===void 0),(0,goog.asserts.assert)(i===t.length-1),n=l,l=void 0),!module$contents$jspb$internal_compare_compareFields(s,l))return!1}return e||n?(e=e||{},n=n||{},module$contents$jspb$internal_compare_compareExtensions(e,n)):!0}if(e.constructor===Object)return module$contents$jspb$internal_compare_compareExtensions(e,t);throw Error("Invalid type in JSPB array")}function module$contents$jspb$internal_json_convertToJsonFormat(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":if(module$contents$jspb$internal_bytes_isU8(e))return(0,goog.crypt.base64.encodeByteArray)(e);if(e instanceof module$exports$jspb$bytestring.ByteString)return e.asBase64();if(e instanceof module$exports$jspb$map.Map)return e=e.toArrayInternal(),module$exports$jspb$internal_options.SERIALIZE_EMPTY_TRAILING_FIELDS||e.length!==0?e:void 0}return e}function module$contents$jspb$internal_copy_cloneJspbField(e){return module$contents$jspb$internal_copy_cloneJspbFieldInternal(e,module$contents$jspb$internal_copy_convertToJspbFormat)}function module$contents$jspb$internal_copy_cloneJspbFieldInternal(e,t){if(e!=null)return Array.isArray(e)||module$contents$jspb$internal_isExtensionObject(e)?module$contents$jspb$internal_copy_cloneJspbObjectInternal(e,t):t(e)}function module$contents$jspb$internal_copy_cloneJspbObjectInternal(e,t){if(Array.isArray(e)){for(var n=Array(e.length),r=0;r<e.length;r++)n[r]=module$contents$jspb$internal_copy_cloneJspbFieldInternal(e[r],t);return module$contents$jspb$internal_array_state_isRepeatedField(e)&&module$contents$jspb$internal_array_state_markRepeatedField(n),n}n={};for(r in e)module$contents$jspb$internal_hasOwnPropertyIfNotTrusted(e,r)&&(n[r]=module$contents$jspb$internal_copy_cloneJspbFieldInternal(e[r],t));return n}function module$contents$jspb$internal_copy_convertToStructuredCloneableFormat(e){return e=module$contents$jspb$internal_maybeUnwrapByteString(e),module$contents$jspb$internal_bytes_isU8(e)?new Uint8Array(e):e instanceof module$exports$jspb$map.Map?module$contents$jspb$internal_copy_cloneJspbObjectInternal(e.toArrayInternal(),module$contents$jspb$internal_copy_convertToStructuredCloneableFormat):e}function module$contents$jspb$internal_copy_convertToJsonFormat(e){return e=module$contents$jspb$internal_json_convertToJsonFormat(e),Array.isArray(e)?module$contents$jspb$internal_copy_cloneJspbObjectInternal(e,module$contents$jspb$internal_copy_convertToJsonFormat):e}function module$contents$jspb$internal_copy_messageCloner(e){return e.clone()}function module$contents$jspb$internal_copy_convertToJspbFormat(e){return module$contents$jspb$internal_bytes_isU8(e)?new Uint8Array(e):e instanceof module$exports$jspb$map.Map?e.internalClone(module$contents$jspb$internal_copy_cloneJspbField,module$contents$jspb$internal_copy_messageCloner):e}var module$contents$jspb$message_ctor_alternateDataPayload;function module$contents$jspb$message_ctor_newMessage(e,t){return module$contents$jspb$message_ctor_alternateDataPayload=t,e=new e(t),module$contents$jspb$message_ctor_alternateDataPayload=null,e}var module$exports$jspb={Message:function(e,t,n){if(goog.asserts.assertInstanceof(this,module$exports$jspb.Message,"The message constructor should only be used by subclasses"),goog.asserts.assert(this.constructor!==module$exports$jspb.Message,"Message is an abstract class and cannot be directly constructed"),goog.asserts.ENABLE_ASSERTS&&this[module$exports$jspb$internal.EXEMPTED_SUBCLASS_MARKER]!==!0){goog.asserts.assert(this[module$exports$jspb$internal.GENERATED_SUBCLASS_MARKER]===!0,"Message can only be subclassed by proto gencode.");var r=Object.getPrototypeOf(goog.asserts.assert(Object.getPrototypeOf(this)));goog.asserts.assert(r.hasOwnProperty(module$exports$jspb$internal.GENERATED_SUBCLASS_MARKER),"Generated jspb classes should not be extended")}if(r=module$contents$jspb$message_ctor_alternateDataPayload,module$contents$jspb$message_ctor_alternateDataPayload=null,e||(e=r),r=this.getJsPbMessageId(),!e)e=r?[r]:[];else if(!module$contents$jspb$internal_options_skipMessageIdValidation&&r&&r!=="_"&&r!==e[0])throw Error('Expected message to have a message id: "'+r+'" in the array, got: '+JSON.stringify(e)+", are you parsing with the wrong proto?");if(this.arrayIndexOffset=(r?0:-1)-(this.constructor.internalGroupNumberDoNotUse||0),this.convertedPrimitiveFields_=this.internalWrappers_=null,this.internalArray_=e,module$contents$jspb_initPivotAndExtensionObject(this,t),n)for(e=0;e<n.length;e++)t=n[e],t<this.pivot_?(t+=this.arrayIndexOffset,(r=this.internalArray_[t])?Array.isArray(r)&&module$contents$jspb$internal_array_state_markRepeatedField(r):this.internalArray_[t]=module$contents$jspb_EMPTY_LIST_SENTINEL):(module$contents$jspb_maybeInitEmptyExtensionObject(this),(r=this.internalExtensionObject_[t])?Array.isArray(r)&&module$contents$jspb$internal_array_state_markRepeatedField(r):this.internalExtensionObject_[t]=module$contents$jspb_EMPTY_LIST_SENTINEL)}};module$exports$jspb.Message.prototype.getJsPbMessageId=function(){return this.constructor.messageId};var module$contents$jspb_EMPTY_LIST_SENTINEL=Object.freeze(module$contents$jspb$internal_newRepeatedField()),module$contents$jspb_initPivotAndExtensionObject=function(e,t){var n=e.internalArray_.length,r=n-1;if(n&&(n=e.internalArray_[r],module$contents$jspb$internal_isExtensionObject(n))){e.pivot_=r-e.arrayIndexOffset,e.internalExtensionObject_=n;return}t!==void 0&&-1<t?(e.pivot_=Math.max(t,r+1-e.arrayIndexOffset),e.internalExtensionObject_=null):e.pivot_=Number.MAX_VALUE},module$contents$jspb_maybeInitEmptyExtensionObject=function(e){var t=e.pivot_+e.arrayIndexOffset;e.internalArray_[t]||(module$contents$jspb$internal_isImmutableMessage(e)?(e.internalExtensionObject_={},Object.freeze(e.internalExtensionObject_)):e.internalExtensionObject_=e.internalArray_[t]={})};module$exports$jspb.Message.prototype.internal_getField=function(e,t){return e===-1?null:e>=this.pivot_?this.internalExtensionObject_?this.internalExtensionObject_[e]:void 0:t!==void 0&&t&&this.internalExtensionObject_&&this.internalExtensionObject_[e]?this.internalExtensionObject_[e]:this.internalArray_[e+this.arrayIndexOffset]};module$exports$jspb.Message.prototype.internal_hasField=function(e){return this.internal_getField(e)!=null};module$exports$jspb.Message.prototype.internal_hasOneofField=function(e,t){return this.internal_computeOneofCase(t)===e};module$exports$jspb.Message.prototype.internal_getRepeatedField=function(e,t,n){t=t===void 0?!0:t,n=n===void 0?!1:n;var r=this.internal_getField(e,n);return r==null&&(r=module$contents$jspb_EMPTY_LIST_SENTINEL),module$contents$jspb$internal_isImmutableMessage(this)?t&&(module$contents$jspb$internal_array_state_markArrayImmutable(r),Object.freeze(r)):(r===module$contents$jspb_EMPTY_LIST_SENTINEL||module$contents$jspb$internal_array_state_isImmutableArray(r))&&(r=module$contents$jspb$internal_array_state_markRepeatedField(r.slice()),this.internal_setField(e,r,n)),r};module$exports$jspb.Message.prototype.internal_getFloatingPointField=function(e){return e=this.internal_getField(e),e==null?e:+e};module$exports$jspb.Message.prototype.internal_getBooleanField=function(e){return e=this.internal_getField(e),e==null?e:!!e};module$exports$jspb.Message.prototype.internal_getRepeatedFloatingPointField=function(e){var t=this.internal_getRepeatedField(e,!1);if(this.convertedPrimitiveFields_||(this.convertedPrimitiveFields_={}),!this.convertedPrimitiveFields_[e]){for(var n=0;n<t.length;n++)t[n]=+t[n];this.convertedPrimitiveFields_[e]=!0}return module$contents$jspb$internal_isImmutableMessage(this)&&Object.freeze(t),t};module$exports$jspb.Message.prototype.internal_getRepeatedBooleanField=function(e){var t=this.internal_getRepeatedField(e,!1);if(this.convertedPrimitiveFields_||(this.convertedPrimitiveFields_={}),!this.convertedPrimitiveFields_[e]){for(var n=0;n<t.length;n++)t[n]=!!t[n];this.convertedPrimitiveFields_[e]=!0}return module$contents$jspb$internal_isImmutableMessage(this)&&Object.freeze(t),t};module$exports$jspb.Message.prototype.internal_getFieldWithDefault=function(e,t){return e=this.internal_getField(e),e??t};module$exports$jspb.Message.prototype.internal_getBooleanFieldWithDefault=function(e,t){return e=this.internal_getBooleanField(e),e??(t===void 0?!1:t)};module$exports$jspb.Message.prototype.internal_getFloatingPointFieldWithDefault=function(e,t){return e=this.internal_getFloatingPointField(e),e??(t===void 0?0:t)};function module$contents$jspb_getMapField(e,t,n,r,o){if(t==null){if(r)return;t=module$contents$jspb$internal_newRepeatedField()}return t.constructor===module$exports$jspb$map.Map||(t=new module$exports$jspb$map.Map(t,o),module$contents$jspb$internal_isImmutableMessage(e)&&t.internalMarkImmutable(),e.internal_setField(n,t,!1,!0)),t}module$exports$jspb.Message.prototype.internal_getMapField=function(e,t,n){return module$contents$jspb_getMapField(this,this.internal_getField(e),e,t,n)};module$exports$jspb.Message.prototype.internal_getBytesMapField=function(e,t){var n=this.internal_getField(e);if(Array.isArray(n)&&n)for(var r=0;r<n.length;r++)n[r][1]=module$contents$jspb$internal_bytesAsByteString(n[r][1]);return module$contents$jspb_getMapField(this,n,e,t)};module$exports$jspb.Message.prototype.internal_clearMapField=function(e){var t=this.internal_getField(e);return t instanceof module$exports$jspb$map.Map?t.clear():this.internal_clearField(e),this};module$exports$jspb.Message.prototype.internal_setField=function(e,t,n,r){return n=n===void 0?!1:n,r!==void 0&&r||module$contents$jspb_checkNotImmutable(this),n||e>=this.pivot_?(module$contents$jspb_maybeInitEmptyExtensionObject(this),this.internalExtensionObject_[e]=t):this.internalArray_[e+this.arrayIndexOffset]=t,this};module$exports$jspb.Message.prototype.internal_setRepeatedField=function(e,t,n){return n=n===void 0?!1:n,this.internal_setField(e,t==null?module$contents$jspb$internal_array_state_markRepeatedField([]):Array.isArray(t)?module$contents$jspb$internal_array_state_markRepeatedField(t):t,n)};module$exports$jspb.Message.prototype.internal_clearField=function(e,t){return this.internal_setField(e,void 0,!1,t===void 0?!1:t)};module$exports$jspb.Message.prototype.internal_clearRepeatedField=function(e){return this.internal_setField(e,module$contents$jspb_EMPTY_LIST_SENTINEL)};module$exports$jspb.Message.prototype.internal_clearWrapperField=function(e){return this.internal_setWrapperField(e,void 0)};module$exports$jspb.Message.prototype.internal_clearRepeatedWrapperField=function(e){return this.internal_setRepeatedWrapperField(e,void 0)};function module$contents$jspb_setFieldIgnoringDefault(e,t,n,r){return goog.asserts.assertInstanceof(e,module$exports$jspb.Message),module$contents$jspb_checkNotImmutable(e),n!==r?e.internal_setField(t,n):e.internal_clearField(t),e}module$exports$jspb.Message.prototype.internal_addToRepeatedField=function(e,t,n){return module$contents$jspb_checkNotImmutable(this),e=this.internal_getRepeatedField(e),n!=null?e.splice(n,0,t):e.push(t),this};module$exports$jspb.Message.prototype.internal_setOneofField=function(e,t,n){return module$contents$jspb_checkNotImmutable(this),(t=this.internal_computeOneofCase(t))&&t!==e&&n!=null&&(this.internalWrappers_&&t in this.internalWrappers_&&(this.internalWrappers_[t]=void 0),this.internal_setField(t,void 0)),this.internal_setField(e,n)};module$exports$jspb.Message.prototype.internal_computeOneofCase=function(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];this.internal_getField(r)!=null&&(t!==0&&this.internal_clearField(t,!0),t=r)}return t};module$exports$jspb.Message.prototype.internal_getWrapperField=function(e,t,n,r){if(t===-1)return null;this.internalWrappers_||(this.internalWrappers_={});var o=this.internalWrappers_[t];return o||(r=this.internal_getField(t,r===void 0?!1:r),r==null&&!n)?o:(e=new e(r),module$contents$jspb$internal_isImmutableMessage(this)&&module$contents$jspb$internal_internalMarkMessageImmutable(e),this.internalWrappers_[t]=e)};module$exports$jspb.Message.prototype.internal_getRepeatedWrapperField=function(e,t,n){n=n===void 0?!1:n,this.internalWrappers_||(this.internalWrappers_={});var r=module$contents$jspb$internal_isImmutableMessage(this),o=this.internalWrappers_[t];if(!o){n=this.internal_getRepeatedField(t,!0,n),o=[],r=r||module$contents$jspb$internal_array_state_isImmutableArray(n);for(var i=0;i<n.length;i++)o[i]=new e(n[i]),r&&module$contents$jspb$internal_internalMarkMessageImmutable(o[i]);r&&(module$contents$jspb$internal_array_state_markArrayImmutable(o),Object.freeze(o)),this.internalWrappers_[t]=o}return o};module$exports$jspb.Message.prototype.internal_setWrapperField=function(e,t,n){n=n===void 0?!1:n,module$contents$jspb_checkNotImmutable(this),this.internalWrappers_||(this.internalWrappers_={});var r=t&&t.toArrayInternal();return this.internalWrappers_[e]=t,this.internal_setField(e,r,n)};module$exports$jspb.Message.prototype.internal_setOneofWrapperField=function(e,t,n){module$contents$jspb_checkNotImmutable(this),this.internalWrappers_||(this.internalWrappers_={});var r=n&&n.toArrayInternal();return this.internalWrappers_[e]=n,this.internal_setOneofField(e,t,r)};module$exports$jspb.Message.prototype.internal_setRepeatedWrapperField=function(e,t,n){if(n=n===void 0?!1:n,module$contents$jspb_checkNotImmutable(this),t){for(var r=module$contents$jspb$internal_newRepeatedField(),o=0;o<t.length;o++)r[o]=t[o].toArrayInternal();this.internalWrappers_||(this.internalWrappers_={}),this.internalWrappers_[e]=t}else this.internalWrappers_&&(this.internalWrappers_[e]=void 0),r=module$contents$jspb_EMPTY_LIST_SENTINEL;return this.internal_setField(e,r,n)};module$exports$jspb.Message.prototype.internal_addAndReturnRepeatedWrapperField=function(e,t,n,r){module$contents$jspb_checkNotImmutable(this);var o=this.internal_getRepeatedWrapperField(n,e);return t=t||new n,e=this.internal_getRepeatedField(e),r!=null?(o.splice(r,0,t),e.splice(r,0,t.toArrayInternal())):(o.push(t),e.push(t.toArrayInternal())),t};module$exports$jspb.Message.prototype.internal_addToRepeatedWrapperField=function(e,t,n,r){return this.internal_addAndReturnRepeatedWrapperField(e,t,n,r),this};module$exports$jspb.Message.prototype.toArray=function(){return this.toJSON()};module$exports$jspb.Message.prototype.toJsonValue=function(){return this.toJSON()};module$exports$jspb.Message.prototype.toJSON=function(){var e=module$contents$jspb_prepareForSerialize(this.toArrayInternal());return module$contents$jspb$internal_inSerialize?e:module$contents$jspb$internal_copy_cloneJspbObjectInternal(e,module$contents$jspb$internal_copy_convertToJsonFormat)};module$exports$jspb.Message.prototype.toStructuredCloneableValue=function(){return module$contents$jspb$internal_copy_cloneJspbObjectInternal(this.toArrayInternal(),module$contents$jspb$internal_copy_convertToStructuredCloneableFormat)};module$exports$jspb.Message.prototype.toArrayInternal=function(){return this.internalArray_};function module$contents$jspb_serializeSpecialValues(e,t){return module$contents$jspb$internal_json_convertToJsonFormat(t)}module$exports$jspb.Message.prototype.serialize=function(){module$contents$jspb$internal_inSerialize=!0;try{return JSON.stringify(this.toJSON(),module$contents$jspb_serializeSpecialValues)}finally{module$contents$jspb$internal_inSerialize=!1}};var module$contents$jspb_prepareForSerialize=function(e){if(module$exports$jspb$internal_options.SERIALIZE_EMPTY_TRAILING_FIELDS)return e;for(var t,n=e.length,r=!1,o,i=e.length;i--;){var s=e[i];if(Array.isArray(s)){var l=s;s=module$contents$jspb$internal_isEmptyRepeatedField(s)?null:module$contents$jspb_prepareForSerialize(s),s!=l&&(r=!0)}else if(i===e.length-1&&module$contents$jspb$internal_isExtensionObject(s)){e:{l=o=void 0;var c=s;goog.asserts.assert(!module$exports$jspb$internal_options.SERIALIZE_EMPTY_TRAILING_FIELDS);var u={},d=!1;for(l in c)if(module$contents$jspb$internal_hasOwnPropertyIfNotTrusted(c,l)){var p=c[l];if(Array.isArray(p)){var f=p;p=module$contents$jspb$internal_isEmptyRepeatedField(p)?null:module$contents$jspb_prepareForSerialize(p),p!=f&&(d=!0)}p!=null?u[l]=p:d=!0}if(d){for(o in u){o=u;break e}o=null}else o=c}o!=s&&(r=!0),n--;continue}s==null&&n==i+1?(r=!0,n--):r&&(t||(t=e.slice(0,n)),t[i]=s)}return r?(t||(t=e.slice(0,n)),o&&t.push(o),t):e};module$exports$jspb.Message.deserializeWithCtor=function(e,t){return e=module$contents$jspb$message_ctor_newMessage(e,t?JSON.parse(t):null),goog.asserts.assertInstanceof(e,module$exports$jspb.Message),e};module$exports$jspb.Message.prototype.toString=function(){return this.toArrayInternal().toString()};module$exports$jspb.Message.prototype.getExtension=function(e){var t=e.fieldIndex,n=e.ctor;return e.isRepeated?n?this.internal_getRepeatedWrapperField(n,t,!0):this.internal_getRepeatedField(t,!0,!0):n?this.internal_getWrapperField(n,t,void 0,!0):this.internal_getField(t,!0)};module$exports$jspb.Message.prototype.setExtension=function(e,t){module$contents$jspb_checkNotImmutable(this);var n=e.fieldIndex,r=e.ctor;return e.isRepeated?r?this.internal_setRepeatedWrapperField(n,t,!0):this.internal_setRepeatedField(n,t,!0):r?this.internal_setWrapperField(n,t,!0):this.internal_setField(n,t,!0)};module$exports$jspb.Message.difference=function(e,t){if(!(e instanceof t.constructor))throw Error("Messages have different types.");var n=e.toArrayInternal();t=t.toArrayInternal();var r=[],o=0,i=n.length>t.length?n.length:t.length;for(e.getJsPbMessageId()&&(r[0]=e.getJsPbMessageId(),o=1);o<i;o++)module$contents$jspb$internal_compare_compareFields(n[o],t[o])||(r[o]=t[o]);return module$contents$jspb$message_ctor_newMessage(e.constructor,r)};module$exports$jspb.Message.equals=function(e,t){return e==t||!(!e||!t)&&e instanceof t.constructor&&module$contents$jspb$internal_compare_compareFields(e.toArrayInternal(),t.toArrayInternal())};module$exports$jspb.Message.prototype.clone=function(){var e=goog.asserts.assertInstanceof(this,module$exports$jspb.Message),t=e.constructor,n=module$contents$jspb$internal_copy_cloneJspbObjectInternal(e.toArrayInternal(),module$contents$jspb$internal_copy_convertToJspbFormat);return t=module$contents$jspb$message_ctor_newMessage(t,n),module$contents$jspb_copyUnknownFields(t,e),t};function module$contents$jspb_clearMessage(e){goog.asserts.assertInstanceof(e,module$exports$jspb.Message),module$contents$jspb_checkNotImmutable(e);for(var t=e.internalArray_,n=e.internalExtensionObject_,r=t.length+(n!=null?-1:0),o=e.getJsPbMessageId()!=null?1:0;o<r;o++)t[o]=module$contents$jspb$internal_array_state_isRepeatedField(t[o])?module$contents$jspb_EMPTY_LIST_SENTINEL:void 0;if(n)for(var i in n)module$contents$jspb$internal_hasOwnPropertyIfNotTrusted(n,i)&&(n[i]=module$contents$jspb$internal_array_state_isRepeatedField(n[i])?module$contents$jspb_EMPTY_LIST_SENTINEL:void 0);return e.internalWrappers_=null,e.convertedPrimitiveFields_=null,delete e.internalUnknownFields_,e}function module$contents$jspb_copyUnknownFields(e,t){goog.asserts.assert(e,"expected `to` to be non-null"),goog.asserts.assert(t,"expected `from` to be non-null"),t.internalUnknownFields_&&(e.internalUnknownFields_=t.internalUnknownFields_.slice());var n=t.internalWrappers_;if(n){t=t.internalExtensionObject_;for(var r in n)if(module$contents$jspb$internal_hasOwnPropertyIfNotTrusted(n,r)){var o=n[r];if(o){var i=!(!t||!t[r]),s=+r;if(Array.isArray(o)){if(o.length)for(i=e.internal_getRepeatedWrapperField(o[0].constructor,s,i),s=0;s<Math.min(i.length,o.length);s++)module$contents$jspb_copyUnknownFields(i[s],goog.asserts.assertInstanceof(o[s],module$exports$jspb.Message))}else goog.asserts.assertInstanceof(o,module$exports$jspb.Message),(i=e.internal_getWrapperField(o.constructor,s,void 0,i))&&module$contents$jspb_copyUnknownFields(i,o)}}}}var module$contents$jspb_checkNotImmutable=function(e){if(module$contents$jspb$internal_options_freezerLoaded&&module$contents$jspb$internal_isImmutableMessage(e))throw Error("Cannot mutate an immutable Message")};function module$contents$jspb_isOneofCase(e,t,n){return e.internal_computeOneofCase(t)===n?n:-1}module$exports$jspb.Message.prototype.internal_getIntegerFieldWithDefault=function(e,t){return this.internal_getFieldWithDefault(e,t===void 0?0:t)};module$exports$jspb.Message.prototype.internal_getIntegerInStringFieldWithDefault=function(e,t){return this.internal_getFieldWithDefault(e,t===void 0?"0":t)};module$exports$jspb.Message.prototype.internal_getStringFieldWithDefault=function(e,t){return this.internal_getFieldWithDefault(e,t===void 0?"":t)};module$exports$jspb.Message.prototype.internal_getOneofFieldWithDefault=function(e,t,n){return this.internal_getFieldWithDefault(module$contents$jspb_isOneofCase(this,t,e),n)};module$exports$jspb.Message.prototype.internal_getOneofBooleanFieldWithDefault=function(e,t,n){return this.internal_getBooleanFieldWithDefault(module$contents$jspb_isOneofCase(this,t,e),n)};module$exports$jspb.Message.prototype.internal_getOneofIntegerFieldWithDefault=function(e,t,n){return this.internal_getIntegerFieldWithDefault(module$contents$jspb_isOneofCase(this,t,e),n)};module$exports$jspb.Message.prototype.internal_getOneofIntegerInStringFieldWithDefault=function(e,t,n){return this.internal_getIntegerInStringFieldWithDefault(module$contents$jspb_isOneofCase(this,t,e),n)};module$exports$jspb.Message.prototype.internal_getOneofFloatingPointFieldWithDefault=function(e,t,n){return this.internal_getFloatingPointFieldWithDefault(module$contents$jspb_isOneofCase(this,t,e),n)};module$exports$jspb.Message.prototype.internal_getOneofStringFieldWithDefault=function(e,t,n){return this.internal_getStringFieldWithDefault(module$contents$jspb_isOneofCase(this,t,e),n)};module$exports$jspb.Message.prototype.internal_getOneofField=function(e,t){return this.internal_getField(module$contents$jspb_isOneofCase(this,t,e))};module$exports$jspb.Message.prototype.internal_getOneofBooleanField=function(e,t){return this.internal_getBooleanField(module$contents$jspb_isOneofCase(this,t,e))};module$exports$jspb.Message.prototype.internal_getOneofFloatingPointField=function(e,t){return this.internal_getFloatingPointField(module$contents$jspb_isOneofCase(this,t,e))};module$exports$jspb.Message.prototype.internal_getOneofWrapperField=function(e,t,n){return this.internal_getWrapperField(e,module$contents$jspb_isOneofCase(this,n,t))};module$exports$jspb.Message.prototype.internal_setProto3BooleanField=function(e,t){return module$contents$jspb_setFieldIgnoringDefault(this,e,t,!1)};module$exports$jspb.Message.prototype.internal_setProto3IntField=function(e,t){return module$contents$jspb_setFieldIgnoringDefault(this,e,t,0)};module$exports$jspb.Message.prototype.internal_setProto3FloatField=function(e,t){return module$contents$jspb_setFieldIgnoringDefault(this,e,t,0)};module$exports$jspb.Message.prototype.internal_setProto3StringField=function(e,t){return module$contents$jspb_setFieldIgnoringDefault(this,e,t,"")};module$exports$jspb.Message.prototype.internal_setProto3EnumField=function(e,t){return module$contents$jspb_setFieldIgnoringDefault(this,e,t,0)};module$exports$jspb.Message.prototype.internal_setProto3StringIntField=function(e,t){return goog.asserts.assertInstanceof(this,module$exports$jspb.Message),module$contents$jspb_checkNotImmutable(this),t!=null&&+t!=0?this.internal_setField(e,t):this.internal_clearField(e),this};module$exports$jspb.Message.prototype.internal_setProto3BytesField=function(e,t){return goog.asserts.assertInstanceof(this,module$exports$jspb.Message),module$contents$jspb_checkNotImmutable(this),t!=null&&t.length!==0?this.internal_setField(e,t):this.internal_clearField(e),this};module$exports$jspb.clearMessage=module$contents$jspb_clearMessage;module$exports$jspb.copyMessage=function(e,t){goog.asserts.assertInstanceof(e,module$exports$jspb.Message),goog.asserts.assertInstanceof(t,module$exports$jspb.Message),goog.asserts.assert(t.constructor==e.constructor,"Copy source and target message should have the same type."),module$contents$jspb_checkNotImmutable(e);var n=t.toArrayInternal(),r=e.internalArray_;r.length=n.length;for(var o=0;o<n.length;o++)r[o]=module$contents$jspb$internal_copy_cloneJspbField(n[o]);return e.internalWrappers_=null,e.convertedPrimitiveFields_=null,e.internalExtensionObject_=null,module$contents$jspb_initPivotAndExtensionObject(e,e.pivot_),module$contents$jspb_copyUnknownFields(e,t),e};jspb.internal={};jspb.internal.binary={};function module$contents$jspb$internal$binary_newBinaryExtension(e,t,n,r,o,i,s){return{fieldInfo:e,binaryReaderFn:t,binaryWriterFn:n,binaryMessageSerializeFn:r,binaryFieldsInitializer:o,messageSetReaderFn:i,messageSetExtensions:s}}jspb.internal.binary.createBinaryExtension=function(e,t,n,r,o){return module$contents$jspb$internal$binary_newBinaryExtension(e,t,n,r,o)};jspb.internal.binary.createBinaryMessageSetExtension=function(e,t,n,r,o){return module$contents$jspb$internal$binary_newBinaryExtension(e,t,n,r,void 0,module$contents$jspb$internal$binary_readBinaryExtensionMessageSet,o)};jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields=function(e,t,n){if(t.writeUnknownFields(e),n){for(var r in n)if(module$contents$jspb$internal_hasOwnPropertyIfNotTrusted(n,r)){var o=n[r];goog.asserts.assert(o.binaryWriterFn),o.binaryWriterFn(t,e,o.fieldInfo,o.binaryMessageSerializeFn)}}};jspb.internal.binary.writeMessageSetExt=function(e,t,n,r){e.writeMessageSet(n.fieldIndex,t.getExtension(n),r)};var module$contents$jspb$internal$binary_MESSAGE_SET_START_TAG=8+module$exports$jspb$BinaryConstants.WireType.START_GROUP,module$contents$jspb$internal$binary_MESSAGE_SET_END_TAG=8+module$exports$jspb$BinaryConstants.WireType.END_GROUP,module$contents$jspb$internal$binary_MESSAGE_SET_TYPE_ID_TAG=16+module$exports$jspb$BinaryConstants.WireType.VARINT,module$contents$jspb$internal$binary_MESSAGE_SET_MESSAGE_TAG=24+module$exports$jspb$BinaryConstants.WireType.DELIMITED,module$contents$jspb$internal$binary_readBinaryExtensionMessageSet=function(e,t,n){goog.asserts.assertInstanceof(e,module$exports$jspb.Message);var r=e.constructor;r=r[module$contents$jspb$internal$binary_binaryFieldsCache]||(r[module$contents$jspb$internal$binary_binaryFieldsCache]={});for(var o={};t.nextField()&&!t.isEndGroup();){if(t.getTag()===module$contents$jspb$internal$binary_MESSAGE_SET_START_TAG){for(var i=t.getFieldCursor(),s=0,l=null;t.nextField();)if(t.getTag()===module$contents$jspb$internal$binary_MESSAGE_SET_TYPE_ID_TAG)s=t.readUint32();else if(t.getTag()===module$contents$jspb$internal$binary_MESSAGE_SET_MESSAGE_TAG)l=t.readBytes();else{if(t.getWireType()===module$exports$jspb$BinaryConstants.WireType.END_GROUP)break;t.skipField()}if(t.getTag()!==module$contents$jspb$internal$binary_MESSAGE_SET_END_TAG||l===null||s===0)throw Error("Malformed binary bytes for message set");var c=r[s];if(!c){var u=n[s];u&&(o.$jscomp$loop$prop$fieldInfo$55=u.fieldInfo,o.$jscomp$loop$prop$deserializeBinaryFromReader$56=module$contents$jspb$internal$binary_makeDeserializeBinaryFromReaderFromBinaryExtension(u),c=r[s]=function(d){return function(p,f){return p.setExtension(d.$jscomp$loop$prop$fieldInfo$55,d.$jscomp$loop$prop$deserializeBinaryFromReader$56(new d.$jscomp$loop$prop$fieldInfo$55.ctor,new module$exports$jspb$binary$reader.BinaryReader(f)))}}(o))}c?c(e,l):t.addUnknownFieldsStartingFrom(e,i)}else t.handleUnknownField(e);o={$jscomp$loop$prop$fieldInfo$55:o.$jscomp$loop$prop$fieldInfo$55,$jscomp$loop$prop$deserializeBinaryFromReader$56:o.$jscomp$loop$prop$deserializeBinaryFromReader$56}}return e};jspb.internal.binary.readBinaryExtensionMessageSet=module$contents$jspb$internal$binary_readBinaryExtensionMessageSet;function module$contents$jspb$internal$binary_writeMap(e,t,n,r,o,i){(e=e.internal_getMapField(t,!0))&&e.forEach(function(s,l){r.writeMessage(n,s,function(c,u){o.call(u,1,l),i.call(u,2,s)})})}function module$contents$jspb$internal$binary_writeMessageMap(e,t,n,r,o,i,s){(e=e.internal_getMapField(t,!0,n))&&e.forEach(function(l,c){o.writeMessage(r,l,function(u,d){i.call(d,1,c),d.writeMessage(2,l,s)})})}var module$contents$jspb$internal$binary_primitiveMapEntry,module$contents$jspb$internal$binary_MapEntry=function(){module$exports$jspb.Message.call(this,null)};$jscomp.inherits(module$contents$jspb$internal$binary_MapEntry,module$exports$jspb.Message);module$contents$jspb$internal$binary_MapEntry.prototype.applyToMap=function(e,t,n){e.set(this.internal_getFieldWithDefault(1,t),this.internal_getFieldWithDefault(2,n))};module$contents$jspb$internal$binary_MapEntry.prototype.applyToMessageValuedMap=function(e,t,n){e.set(this.internal_getFieldWithDefault(1,t),this.internal_getWrapperField(n,2)||new n)};module$contents$jspb$internal$binary_MapEntry.prototype.applyToBytesValuedMap=function(e,t){e.set(this.internal_getFieldWithDefault(1,t),module$contents$jspb$internal_bytesAsByteString(this.internal_getFieldWithDefault(2,module$exports$jspb$bytestring.ByteString.empty())))};goog.asserts.ENABLE_ASSERTS&&(module$contents$jspb$internal$binary_MapEntry.prototype[module$exports$jspb$internal.EXEMPTED_SUBCLASS_MARKER]=!0);function module$contents$jspb$internal$binary_readMessageMapEntry(e,t,n,r,o,i,s){if(e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED)return!1;var l=new module$contents$jspb$internal$binary_MapEntry;return e.readMessage(l,function(c,u){for(;u.nextField();){var d=u.getFieldNumber();d===1?o(u,c,1):d===2&&jspb.internal.binary.readMessage(u,c,2,r,s)}}),l.applyToMessageValuedMap(goog.asserts.assert(t.internal_getMapField(n,!1,r)),i,r),!0}function module$contents$jspb$internal$binary_readMapEntry(e,t,n,r,o,i,s){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(module$contents$jspb$internal$binary_primitiveMapEntry===void 0?module$contents$jspb$internal$binary_primitiveMapEntry=new module$contents$jspb$internal$binary_MapEntry:module$contents$jspb_clearMessage(module$contents$jspb$internal$binary_primitiveMapEntry),e.readMessage(module$contents$jspb$internal$binary_primitiveMapEntry,function(l,c){for(;c.nextField();){var u=c.getFieldNumber();u===1?r(c,l,1):u===2&&o(c,l,2)}}),e=goog.asserts.assert(t.internal_getMapField(n,!1)),s===module$exports$jspb$bytestring.ByteString.empty()?module$contents$jspb$internal$binary_primitiveMapEntry.applyToBytesValuedMap(e,i):module$contents$jspb$internal$binary_primitiveMapEntry.applyToMap(e,i,s),!0)}var module$contents$jspb$internal$binary_deserializeBinaryFromReaderCache=goog.DEBUG?Symbol("deserializeBinaryFromReaderCache"):Symbol();function module$contents$jspb$internal$binary_makeDeserializeBinaryFromReaderFromMessageSetAndReader(e,t,n){return goog.asserts.assertFunction(t),goog.asserts.assertObject(n),e[module$contents$jspb$internal$binary_deserializeBinaryFromReaderCache]||(e[module$contents$jspb$internal$binary_deserializeBinaryFromReaderCache]=function(r,o){return t(r,o,n)})}function module$contents$jspb$internal$binary_makeDeserializeBinaryFromReaderFromBinaryFields(e){var t=e[module$contents$jspb$internal$binary_deserializeBinaryFromReaderCache];if(!t){var n=module$contents$jspb$internal$binary_getBinaryFields(e);t=function(r,o){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGenericImpl(r,o,n)},e[module$contents$jspb$internal$binary_deserializeBinaryFromReaderCache]=t}return t}function module$contents$jspb$internal$binary_makeDeserializeBinaryFromReaderFromBinaryExtension(e){var t=e.binaryFieldsInitializer;if(goog.DEBUG&&delete e.binaryFieldsInitializer,t)return module$contents$jspb$internal$binary_makeDeserializeBinaryFromReaderFromBinaryFields(t);if(t=e.messageSetReaderFn,goog.DEBUG&&delete e.messageSetReaderFn,t){var n=goog.asserts.assert(e.messageSetExtensions);return delete e.messageSetExtensions,module$contents$jspb$internal$binary_makeDeserializeBinaryFromReaderFromMessageSetAndReader(goog.asserts.assert(e.fieldInfo.ctor),t,n)}}function module$contents$jspb$internal$binary_makeParserFromBinaryExtension(e){var t=module$contents$jspb$internal$binary_makeDeserializeBinaryFromReaderFromBinaryExtension(e),n=e.fieldInfo,r=goog.asserts.assert(e.binaryReaderFn);return goog.DEBUG&&delete e.binaryReaderFn,t?function(o,i){return r(o,i,n,t)}:function(o,i){return r(o,i,n)}}var module$contents$jspb$internal$binary_makeParserFromArray=function(e){var t=e[0];switch(e.length){case 2:var n=e[1];return goog.asserts.assertArray(n),function(g,_,$){return t(g,_,$,n)};case 3:goog.asserts.assert(t.length===5);var r=e[1];e=e[2],goog.asserts.assertFunction(r);var o=module$contents$jspb$internal$binary_makeDeserializeBinaryFromReaderFromBinaryFields(e);return function(g,_,$){return t(g,_,$,r,o)};case 4:goog.asserts.assert(t.length===6);var i=e[1],s=e[2],l=e[3];goog.asserts.assertFunction(i);var c=module$contents$jspb$internal$binary_makeDeserializeBinaryFromReaderFromBinaryFields(s);return goog.asserts.assertArray(l),function(g,_,$){return t(g,_,$,i,c,l)};case 5:goog.asserts.assert(t.length===5);var u=e[1];s=e[3];var d=e[4];goog.asserts.assert(e[2]===void 0),goog.asserts.assertFunction(u);var p=module$contents$jspb$internal$binary_makeDeserializeBinaryFromReaderFromMessageSetAndReader(u,s,d);return function(g,_,$){return t(g,_,$,u,p)};case 6:goog.asserts.assert(t.length===6);var f=e[1];s=e[3],d=e[4];var m=e[5];goog.asserts.assert(e[2]===void 0),goog.asserts.assertFunction(f),goog.asserts.assertArray(m);var h=module$contents$jspb$internal$binary_makeDeserializeBinaryFromReaderFromMessageSetAndReader(f,s,d);return function(g,_,$){return t(g,_,$,f,h,m)};default:throw Error("Unsupported number of parameters, expected [2-6], got "+e.length)}},module$contents$jspb$internal$binary_binaryFieldsCache=goog.DEBUG?Symbol("binaryFieldsCache"):Symbol();function module$contents$jspb$internal$binary_getBinaryFields(e){return goog.asserts.assertFunction(e),goog.asserts.assert(e.length===0),e[module$contents$jspb$internal$binary_binaryFieldsCache]||(e[module$contents$jspb$internal$binary_binaryFieldsCache]=goog.asserts.assertObject(e()))}var module$contents$jspb$internal$binary_deserializeBinaryFromReaderGenericImpl=function(e,t,n){for(;t.nextField()&&!t.isEndGroup();){var r=t.getFieldNumber(),o=n[r];if(o)Array.isArray(o)&&(o=n[r]=module$contents$jspb$internal$binary_makeParserFromArray(o));else{var i=n[0];i&&(i=i[r])&&(o=n[r]=module$contents$jspb$internal$binary_makeParserFromBinaryExtension(i))}o&&o(t,e,r)||t.handleUnknownField(e)}return e},module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric=function(e,t,n){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGenericImpl(e,t,module$contents$jspb$internal$binary_getBinaryFields(n))};jspb.internal.binary.deserializeBinaryFromReaderGeneric=module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric;jspb.internal.binary.serializeBinary=function(e,t){var n=new module$exports$jspb$binary$writer.BinaryWriter;return t(e,n),n.getResultBuffer()};jspb.internal.binary.deserializeBinary=function(e,t,n){e=module$exports$jspb$binary$reader.BinaryReader.alloc(e);try{return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(new t,e,n)}finally{e.free()}};jspb.internal.binary.deserializeBinaryMessageSet=function(e,t,n){e=module$exports$jspb$binary$reader.BinaryReader.alloc(e);try{return module$contents$jspb$internal$binary_readBinaryExtensionMessageSet(new t,e,n)}finally{e.free()}};jspb.internal.binary.writeDoubleExt=function(e,t,n){e.writeDouble(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeRepeatedDoubleExt=function(e,t,n){e.writeRepeatedDouble(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writePackedDoubleExt=function(e,t,n){e.writePackedDouble(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeDouble=function(e,t,n){e.writeDouble(n,t.internal_getField(n))};jspb.internal.binary.writeRepeatedDouble=function(e,t,n){e.writeRepeatedDouble(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writePackedDouble=function(e,t,n){e.writePackedDouble(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writeFloatExt=function(e,t,n){e.writeFloat(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeRepeatedFloatExt=function(e,t,n){e.writeRepeatedFloat(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writePackedFloatExt=function(e,t,n){e.writePackedFloat(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeFloat=function(e,t,n){e.writeFloat(n,t.internal_getField(n))};jspb.internal.binary.writeRepeatedFloat=function(e,t,n){e.writeRepeatedFloat(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writePackedFloat=function(e,t,n){e.writePackedFloat(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writeInt64StringExt=function(e,t,n){e.writeInt64String(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeRepeatedInt64StringExt=function(e,t,n){e.writeRepeatedInt64String(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writePackedInt64StringExt=function(e,t,n){e.writePackedInt64String(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeInt64Ext=function(e,t,n){e.writeInt64(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeRepeatedInt64Ext=function(e,t,n){e.writeRepeatedInt64(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writePackedInt64Ext=function(e,t,n){e.writePackedInt64(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeInt64String=function(e,t,n){e.writeInt64String(n,t.internal_getField(n))};jspb.internal.binary.writeRepeatedInt64String=function(e,t,n){e.writeRepeatedInt64String(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writePackedInt64String=function(e,t,n){e.writePackedInt64String(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writeInt64=function(e,t,n){e.writeInt64(n,t.internal_getField(n))};jspb.internal.binary.writeRepeatedInt64=function(e,t,n){e.writeRepeatedInt64(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writePackedInt64=function(e,t,n){e.writePackedInt64(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writeUint64StringExt=function(e,t,n){e.writeUint64String(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeRepeatedUint64StringExt=function(e,t,n){e.writeRepeatedUint64String(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writePackedUint64StringExt=function(e,t,n){e.writePackedUint64String(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeUint64Ext=function(e,t,n){e.writeUint64(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeRepeatedUint64Ext=function(e,t,n){e.writeRepeatedUint64(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writePackedUint64Ext=function(e,t,n){e.writePackedUint64(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeUint64String=function(e,t,n){e.writeUint64String(n,t.internal_getField(n))};jspb.internal.binary.writeRepeatedUint64String=function(e,t,n){e.writeRepeatedUint64String(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writePackedUint64String=function(e,t,n){e.writePackedUint64String(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writeUint64=function(e,t,n){e.writeUint64(n,t.internal_getField(n))};jspb.internal.binary.writeRepeatedUint64=function(e,t,n){e.writeRepeatedUint64(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writePackedUint64=function(e,t,n){e.writePackedUint64(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writeInt32Ext=function(e,t,n){e.writeInt32(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeRepeatedInt32Ext=function(e,t,n){e.writeRepeatedInt32(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writePackedInt32Ext=function(e,t,n){e.writePackedInt32(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeInt32=function(e,t,n){e.writeInt32(n,t.internal_getField(n))};jspb.internal.binary.writeRepeatedInt32=function(e,t,n){e.writeRepeatedInt32(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writePackedInt32=function(e,t,n){e.writePackedInt32(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writeFixed64StringExt=function(e,t,n){e.writeFixed64String(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeRepeatedFixed64StringExt=function(e,t,n){e.writeRepeatedFixed64String(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writePackedFixed64StringExt=function(e,t,n){e.writePackedFixed64String(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeFixed64Ext=function(e,t,n){e.writeFixed64(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeRepeatedFixed64Ext=function(e,t,n){e.writeRepeatedFixed64(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writePackedFixed64Ext=function(e,t,n){e.writePackedFixed64(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeFixed64String=function(e,t,n){e.writeFixed64String(n,t.internal_getField(n))};jspb.internal.binary.writeRepeatedFixed64String=function(e,t,n){e.writeRepeatedFixed64String(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writePackedFixed64String=function(e,t,n){e.writePackedFixed64String(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writeFixed64=function(e,t,n){e.writeFixed64(n,t.internal_getField(n))};jspb.internal.binary.writeRepeatedFixed64=function(e,t,n){e.writeRepeatedFixed64(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writePackedFixed64=function(e,t,n){e.writePackedFixed64(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writeFixed32Ext=function(e,t,n){e.writeFixed32(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeRepeatedFixed32Ext=function(e,t,n){e.writeRepeatedFixed32(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writePackedFixed32Ext=function(e,t,n){e.writePackedFixed32(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeFixed32=function(e,t,n){e.writeFixed32(n,t.internal_getField(n))};jspb.internal.binary.writeRepeatedFixed32=function(e,t,n){e.writeRepeatedFixed32(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writePackedFixed32=function(e,t,n){e.writePackedFixed32(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writeBoolExt=function(e,t,n){e.writeBool(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeRepeatedBoolExt=function(e,t,n){e.writeRepeatedBool(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writePackedBoolExt=function(e,t,n){e.writePackedBool(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeBool=function(e,t,n){e.writeBool(n,t.internal_getField(n))};jspb.internal.binary.writeRepeatedBool=function(e,t,n){e.writeRepeatedBool(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writePackedBool=function(e,t,n){e.writePackedBool(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writeStringExt=function(e,t,n){e.writeString(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeRepeatedStringExt=function(e,t,n){e.writeRepeatedString(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeString=function(e,t,n){e.writeString(n,t.internal_getField(n))};jspb.internal.binary.writeRepeatedString=function(e,t,n){e.writeRepeatedString(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writeGroupExt=function(e,t,n,r){e.writeGroup(n.fieldIndex,t.getExtension(n),r)};jspb.internal.binary.writeRepeatedGroupExt=function(e,t,n,r){e.writeRepeatedGroup(n.fieldIndex,t.getExtension(n),r)};jspb.internal.binary.writeGroup=function(e,t,n,r,o){e.writeGroup(n,t.internal_getWrapperField(r,n),o)};jspb.internal.binary.writeRepeatedGroup=function(e,t,n,r,o){e.writeRepeatedGroup(n,t.internal_getRepeatedWrapperField(r,n),o)};jspb.internal.binary.writeMessageExt=function(e,t,n,r){e.writeMessage(n.fieldIndex,t.getExtension(n),r)};jspb.internal.binary.writeRepeatedMessageExt=function(e,t,n,r){e.writeRepeatedMessage(n.fieldIndex,t.getExtension(n),r)};jspb.internal.binary.writeMessage=function(e,t,n,r,o){e.writeMessage(n,t.internal_getWrapperField(r,n),o)};jspb.internal.binary.writeRepeatedMessage=function(e,t,n,r,o){e.writeRepeatedMessage(n,t.internal_getRepeatedWrapperField(r,n),o)};jspb.internal.binary.writeBytesExt=function(e,t,n){e.writeBytes(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeRepeatedBytesExt=function(e,t,n){e.writeRepeatedBytes(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeBytes=function(e,t,n){e.writeBytes(n,t.internal_getField(n))};jspb.internal.binary.writeRepeatedBytes=function(e,t,n){e.writeRepeatedBytes(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writeUint32Ext=function(e,t,n){e.writeUint32(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeRepeatedUint32Ext=function(e,t,n){e.writeRepeatedUint32(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writePackedUint32Ext=function(e,t,n){e.writePackedUint32(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeUint32=function(e,t,n){e.writeUint32(n,t.internal_getField(n))};jspb.internal.binary.writeRepeatedUint32=function(e,t,n){e.writeRepeatedUint32(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writePackedUint32=function(e,t,n){e.writePackedUint32(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writeEnumExt=function(e,t,n){e.writeEnum(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeRepeatedEnumExt=function(e,t,n){e.writeRepeatedEnum(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writePackedEnumExt=function(e,t,n){e.writePackedEnum(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeEnum=function(e,t,n){e.writeEnum(n,t.internal_getField(n))};jspb.internal.binary.writeRepeatedEnum=function(e,t,n){e.writeRepeatedEnum(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writePackedEnum=function(e,t,n){e.writePackedEnum(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writeSfixed32Ext=function(e,t,n){e.writeSfixed32(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeRepeatedSfixed32Ext=function(e,t,n){e.writeRepeatedSfixed32(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writePackedSfixed32Ext=function(e,t,n){e.writePackedSfixed32(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeSfixed32=function(e,t,n){e.writeSfixed32(n,t.internal_getField(n))};jspb.internal.binary.writeRepeatedSfixed32=function(e,t,n){e.writeRepeatedSfixed32(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writePackedSfixed32=function(e,t,n){e.writePackedSfixed32(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writeSfixed64StringExt=function(e,t,n){e.writeSfixed64String(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeRepeatedSfixed64StringExt=function(e,t,n){e.writeRepeatedSfixed64String(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writePackedSfixed64StringExt=function(e,t,n){e.writePackedSfixed64String(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeSfixed64Ext=function(e,t,n){e.writeSfixed64(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeRepeatedSfixed64Ext=function(e,t,n){e.writeRepeatedSfixed64(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writePackedSfixed64Ext=function(e,t,n){e.writePackedSfixed64(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeSfixed64String=function(e,t,n){e.writeSfixed64String(n,t.internal_getField(n))};jspb.internal.binary.writeRepeatedSfixed64String=function(e,t,n){e.writeRepeatedSfixed64String(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writePackedSfixed64String=function(e,t,n){e.writePackedSfixed64String(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writeSfixed64=function(e,t,n){e.writeSfixed64(n,t.internal_getField(n))};jspb.internal.binary.writeRepeatedSfixed64=function(e,t,n){e.writeRepeatedSfixed64(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writePackedSfixed64=function(e,t,n){e.writePackedSfixed64(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writeSint32Ext=function(e,t,n){e.writeSint32(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeRepeatedSint32Ext=function(e,t,n){e.writeRepeatedSint32(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writePackedSint32Ext=function(e,t,n){e.writePackedSint32(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeSint32=function(e,t,n){e.writeSint32(n,t.internal_getField(n))};jspb.internal.binary.writeRepeatedSint32=function(e,t,n){e.writeRepeatedSint32(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writePackedSint32=function(e,t,n){e.writePackedSint32(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writeSint64StringExt=function(e,t,n){e.writeSint64String(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeRepeatedSint64StringExt=function(e,t,n){e.writeRepeatedSint64String(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writePackedSint64StringExt=function(e,t,n){e.writePackedSint64String(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeSint64Ext=function(e,t,n){e.writeSint64(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeRepeatedSint64Ext=function(e,t,n){e.writeRepeatedSint64(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writePackedSint64Ext=function(e,t,n){e.writePackedSint64(n.fieldIndex,t.getExtension(n))};jspb.internal.binary.writeSint64String=function(e,t,n){e.writeSint64String(n,t.internal_getField(n))};jspb.internal.binary.writeRepeatedSint64String=function(e,t,n){e.writeRepeatedSint64String(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writePackedSint64String=function(e,t,n){e.writePackedSint64String(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writeSint64=function(e,t,n){e.writeSint64(n,t.internal_getField(n))};jspb.internal.binary.writeRepeatedSint64=function(e,t,n){e.writeRepeatedSint64(n,t.internal_getRepeatedField(n))};jspb.internal.binary.writePackedSint64=function(e,t,n){e.writePackedSint64(n,t.internal_getRepeatedField(n))};jspb.internal.binary.readDoubleExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64?!1:(t.setExtension(n,e.readDouble()),!0)};jspb.internal.binary.readPackableDoubleIntoExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableDoubleInto(t.getExtension(n)),!0)};jspb.internal.binary.readDouble=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64?!1:(t.internal_setField(n,e.readDouble()),!0)};jspb.internal.binary.readPackableDoubleInto=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableDoubleInto(t.internal_getRepeatedField(n)),!0)};jspb.internal.binary.readDoubleIgnoringDefault=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64?!1:(t.internal_setProto3FloatField(n,e.readDouble()),!0)};jspb.internal.binary.readDoubleOneof=function(e,t,n,r){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64?!1:(t.internal_setOneofField(n,r,e.readDouble()),!0)};jspb.internal.binary.readFloatExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED32?!1:(t.setExtension(n,e.readFloat()),!0)};jspb.internal.binary.readPackableFloatIntoExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED32&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableFloatInto(t.getExtension(n)),!0)};jspb.internal.binary.readFloat=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED32?!1:(t.internal_setField(n,e.readFloat()),!0)};jspb.internal.binary.readPackableFloatInto=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED32&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableFloatInto(t.internal_getRepeatedField(n)),!0)};jspb.internal.binary.readFloatIgnoringDefault=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED32?!1:(t.internal_setProto3FloatField(n,e.readFloat()),!0)};jspb.internal.binary.readFloatOneof=function(e,t,n,r){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED32?!1:(t.internal_setOneofField(n,r,e.readFloat()),!0)};jspb.internal.binary.readInt64StringExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.setExtension(n,e.readInt64String()),!0)};jspb.internal.binary.readPackableInt64StringIntoExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableInt64StringInto(t.getExtension(n)),!0)};jspb.internal.binary.readInt64Ext=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.setExtension(n,e.readInt64()),!0)};jspb.internal.binary.readPackableInt64IntoExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableInt64Into(t.getExtension(n)),!0)};jspb.internal.binary.readInt64String=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setField(n,e.readInt64String()),!0)};jspb.internal.binary.readPackableInt64StringInto=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableInt64StringInto(t.internal_getRepeatedField(n)),!0)};jspb.internal.binary.readInt64StringIgnoringDefault=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setProto3StringIntField(n,e.readInt64String()),!0)};jspb.internal.binary.readInt64StringOneof=function(e,t,n,r){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setOneofField(n,r,e.readInt64String()),!0)};jspb.internal.binary.readInt64=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setField(n,e.readInt64()),!0)};jspb.internal.binary.readPackableInt64Into=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableInt64Into(t.internal_getRepeatedField(n)),!0)};jspb.internal.binary.readInt64IgnoringDefault=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setProto3IntField(n,e.readInt64()),!0)};jspb.internal.binary.readInt64Oneof=function(e,t,n,r){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setOneofField(n,r,e.readInt64()),!0)};jspb.internal.binary.readUint64StringExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.setExtension(n,e.readUint64String()),!0)};jspb.internal.binary.readPackableUint64StringIntoExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableUint64StringInto(t.getExtension(n)),!0)};jspb.internal.binary.readUint64Ext=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.setExtension(n,e.readUint64()),!0)};jspb.internal.binary.readPackableUint64IntoExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableUint64Into(t.getExtension(n)),!0)};jspb.internal.binary.readUint64String=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setField(n,e.readUint64String()),!0)};jspb.internal.binary.readPackableUint64StringInto=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableUint64StringInto(t.internal_getRepeatedField(n)),!0)};jspb.internal.binary.readUint64StringIgnoringDefault=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setProto3StringIntField(n,e.readUint64String()),!0)};jspb.internal.binary.readUint64StringOneof=function(e,t,n,r){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setOneofField(n,r,e.readUint64String()),!0)};jspb.internal.binary.readUint64=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setField(n,e.readUint64()),!0)};jspb.internal.binary.readPackableUint64Into=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableUint64Into(t.internal_getRepeatedField(n)),!0)};jspb.internal.binary.readUint64IgnoringDefault=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setProto3IntField(n,e.readUint64()),!0)};jspb.internal.binary.readUint64Oneof=function(e,t,n,r){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setOneofField(n,r,e.readUint64()),!0)};jspb.internal.binary.readInt32Ext=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.setExtension(n,e.readInt32()),!0)};jspb.internal.binary.readPackableInt32IntoExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableInt32Into(t.getExtension(n)),!0)};jspb.internal.binary.readInt32=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setField(n,e.readInt32()),!0)};jspb.internal.binary.readPackableInt32Into=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableInt32Into(t.internal_getRepeatedField(n)),!0)};jspb.internal.binary.readInt32IgnoringDefault=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setProto3IntField(n,e.readInt32()),!0)};jspb.internal.binary.readInt32Oneof=function(e,t,n,r){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setOneofField(n,r,e.readInt32()),!0)};jspb.internal.binary.readFixed64StringExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64?!1:(t.setExtension(n,e.readFixed64String()),!0)};jspb.internal.binary.readPackableFixed64StringIntoExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableFixed64StringInto(t.getExtension(n)),!0)};jspb.internal.binary.readFixed64Ext=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64?!1:(t.setExtension(n,e.readFixed64()),!0)};jspb.internal.binary.readPackableFixed64IntoExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableFixed64Into(t.getExtension(n)),!0)};jspb.internal.binary.readFixed64String=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64?!1:(t.internal_setField(n,e.readFixed64String()),!0)};jspb.internal.binary.readPackableFixed64StringInto=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableFixed64StringInto(t.internal_getRepeatedField(n)),!0)};jspb.internal.binary.readFixed64StringIgnoringDefault=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64?!1:(t.internal_setProto3StringIntField(n,e.readFixed64String()),!0)};jspb.internal.binary.readFixed64StringOneof=function(e,t,n,r){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64?!1:(t.internal_setOneofField(n,r,e.readFixed64String()),!0)};jspb.internal.binary.readFixed64=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64?!1:(t.internal_setField(n,e.readFixed64()),!0)};jspb.internal.binary.readPackableFixed64Into=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableFixed64Into(t.internal_getRepeatedField(n)),!0)};jspb.internal.binary.readFixed64IgnoringDefault=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64?!1:(t.internal_setProto3IntField(n,e.readFixed64()),!0)};jspb.internal.binary.readFixed64Oneof=function(e,t,n,r){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64?!1:(t.internal_setOneofField(n,r,e.readFixed64()),!0)};jspb.internal.binary.readFixed32Ext=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED32?!1:(t.setExtension(n,e.readFixed32()),!0)};jspb.internal.binary.readPackableFixed32IntoExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED32&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableFixed32Into(t.getExtension(n)),!0)};jspb.internal.binary.readFixed32=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED32?!1:(t.internal_setField(n,e.readFixed32()),!0)};jspb.internal.binary.readPackableFixed32Into=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED32&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableFixed32Into(t.internal_getRepeatedField(n)),!0)};jspb.internal.binary.readFixed32IgnoringDefault=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED32?!1:(t.internal_setProto3IntField(n,e.readFixed32()),!0)};jspb.internal.binary.readFixed32Oneof=function(e,t,n,r){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED32?!1:(t.internal_setOneofField(n,r,e.readFixed32()),!0)};jspb.internal.binary.readBoolExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.setExtension(n,e.readBool()),!0)};jspb.internal.binary.readPackableBoolIntoExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableBoolInto(t.getExtension(n)),!0)};jspb.internal.binary.readBool=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setField(n,e.readBool()),!0)};jspb.internal.binary.readPackableBoolInto=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableBoolInto(t.internal_getRepeatedField(n)),!0)};jspb.internal.binary.readBoolIgnoringDefault=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setProto3BooleanField(n,e.readBool()),!0)};jspb.internal.binary.readBoolOneof=function(e,t,n,r){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setOneofField(n,r,e.readBool()),!0)};jspb.internal.binary.readStringRequireUtf8Ext=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(t.setExtension(n,e.readStringRequireUtf8()),!0)};jspb.internal.binary.readRepeatedStringRequireUtf8Ext=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(t.getExtension(n).push(e.readStringRequireUtf8()),!0)};jspb.internal.binary.readStringRequireUtf8=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(t.internal_setField(n,e.readStringRequireUtf8()),!0)};jspb.internal.binary.readRepeatedStringRequireUtf8=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(t.internal_addToRepeatedField(n,e.readStringRequireUtf8()),!0)};jspb.internal.binary.readStringRequireUtf8IgnoringDefault=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(t.internal_setProto3StringField(n,e.readStringRequireUtf8()),!0)};jspb.internal.binary.readStringRequireUtf8Oneof=function(e,t,n,r){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(t.internal_setOneofField(n,r,e.readStringRequireUtf8()),!0)};jspb.internal.binary.readStringExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(t.setExtension(n,e.readString()),!0)};jspb.internal.binary.readRepeatedStringExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(t.getExtension(n).push(e.readString()),!0)};jspb.internal.binary.readString=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(t.internal_setField(n,e.readString()),!0)};jspb.internal.binary.readRepeatedString=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(t.internal_addToRepeatedField(n,e.readString()),!0)};jspb.internal.binary.readStringOneof=function(e,t,n,r){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(t.internal_setOneofField(n,r,e.readString()),!0)};jspb.internal.binary.readGroupExt=function(e,t,n,r){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.START_GROUP?!1:(t.setExtension(n,e.readGroup(n.fieldIndex,new n.ctor,r)),!0)};jspb.internal.binary.readRepeatedGroupExt=function(e,t,n,r){if(e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.START_GROUP)return!1;var o=t.getExtension(n);return o.push(e.readGroup(n.fieldIndex,new n.ctor,r)),t.setExtension(n,o),!0};jspb.internal.binary.readGroup=function(e,t,n,r,o){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.START_GROUP?!1:(t.internal_setWrapperField(n,e.readGroup(n,new r,o)),!0)};jspb.internal.binary.readRepeatedGroup=function(e,t,n,r,o){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.START_GROUP?!1:(t.internal_addToRepeatedWrapperField(n,e.readGroup(n,new r,o),r),!0)};jspb.internal.binary.readGroupOneof=function(e,t,n,r,o,i){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.START_GROUP?!1:(t.internal_setOneofWrapperField(n,i,e.readGroup(n,new r,o)),!0)};jspb.internal.binary.readMessageExt=function(e,t,n,r){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(t.setExtension(n,e.readMessage(new n.ctor,r)),!0)};jspb.internal.binary.readRepeatedMessageExt=function(e,t,n,r){if(e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED)return!1;var o=t.getExtension(n);return o.push(e.readMessage(new n.ctor,r)),t.setExtension(n,o),!0};jspb.internal.binary.readMessage=function(e,t,n,r,o){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(t.internal_setWrapperField(n,e.readMessage(new r,o)),!0)};jspb.internal.binary.readRepeatedMessage=function(e,t,n,r,o){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(t.internal_addToRepeatedWrapperField(n,e.readMessage(new r,o),r),!0)};jspb.internal.binary.readMessageOneof=function(e,t,n,r,o,i){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(t.internal_setOneofWrapperField(n,i,e.readMessage(new r,o)),!0)};jspb.internal.binary.readBytesExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(t.setExtension(n,e.readBytes()),!0)};jspb.internal.binary.readRepeatedBytesExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(t.getExtension(n).push(e.readBytes()),!0)};jspb.internal.binary.readBytes=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(t.internal_setField(n,e.readBytes()),!0)};jspb.internal.binary.readRepeatedBytes=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(t.internal_addToRepeatedField(n,e.readBytes()),!0)};jspb.internal.binary.readBytesIgnoringDefault=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(t.internal_setProto3BytesField(n,e.readBytes()),!0)};jspb.internal.binary.readBytesOneof=function(e,t,n,r){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(t.internal_setOneofField(n,r,e.readBytes()),!0)};jspb.internal.binary.readUint32Ext=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.setExtension(n,e.readUint32()),!0)};jspb.internal.binary.readPackableUint32IntoExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableUint32Into(t.getExtension(n)),!0)};jspb.internal.binary.readUint32=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setField(n,e.readUint32()),!0)};jspb.internal.binary.readPackableUint32Into=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableUint32Into(t.internal_getRepeatedField(n)),!0)};jspb.internal.binary.readUint32IgnoringDefault=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setProto3IntField(n,e.readUint32()),!0)};jspb.internal.binary.readUint32Oneof=function(e,t,n,r){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setOneofField(n,r,e.readUint32()),!0)};jspb.internal.binary.readEnumExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.setExtension(n,e.readEnum()),!0)};jspb.internal.binary.readPackableEnumIntoExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableEnumInto(t.getExtension(n)),!0)};jspb.internal.binary.readEnum=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setField(n,e.readEnum()),!0)};jspb.internal.binary.readPackableEnumInto=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableEnumInto(t.internal_getRepeatedField(n)),!0)};jspb.internal.binary.readEnumIgnoringDefault=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setProto3EnumField(n,e.readEnum()),!0)};jspb.internal.binary.readEnumOneof=function(e,t,n,r){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setOneofField(n,r,e.readEnum()),!0)};jspb.internal.binary.readSfixed32Ext=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED32?!1:(t.setExtension(n,e.readSfixed32()),!0)};jspb.internal.binary.readPackableSfixed32IntoExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED32&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableSfixed32Into(t.getExtension(n)),!0)};jspb.internal.binary.readSfixed32=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED32?!1:(t.internal_setField(n,e.readSfixed32()),!0)};jspb.internal.binary.readPackableSfixed32Into=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED32&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableSfixed32Into(t.internal_getRepeatedField(n)),!0)};jspb.internal.binary.readSfixed32IgnoringDefault=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED32?!1:(t.internal_setProto3IntField(n,e.readSfixed32()),!0)};jspb.internal.binary.readSfixed32Oneof=function(e,t,n,r){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED32?!1:(t.internal_setOneofField(n,r,e.readSfixed32()),!0)};jspb.internal.binary.readSfixed64StringExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64?!1:(t.setExtension(n,e.readSfixed64String()),!0)};jspb.internal.binary.readPackableSfixed64StringIntoExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableSfixed64StringInto(t.getExtension(n)),!0)};jspb.internal.binary.readSfixed64Ext=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64?!1:(t.setExtension(n,e.readSfixed64()),!0)};jspb.internal.binary.readPackableSfixed64IntoExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableSfixed64Into(t.getExtension(n)),!0)};jspb.internal.binary.readSfixed64String=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64?!1:(t.internal_setField(n,e.readSfixed64String()),!0)};jspb.internal.binary.readPackableSfixed64StringInto=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableSfixed64StringInto(t.internal_getRepeatedField(n)),!0)};jspb.internal.binary.readSfixed64StringIgnoringDefault=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64?!1:(t.internal_setProto3StringIntField(n,e.readSfixed64String()),!0)};jspb.internal.binary.readSfixed64StringOneof=function(e,t,n,r){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64?!1:(t.internal_setOneofField(n,r,e.readSfixed64String()),!0)};jspb.internal.binary.readSfixed64=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64?!1:(t.internal_setField(n,e.readSfixed64()),!0)};jspb.internal.binary.readPackableSfixed64Into=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableSfixed64Into(t.internal_getRepeatedField(n)),!0)};jspb.internal.binary.readSfixed64IgnoringDefault=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64?!1:(t.internal_setProto3IntField(n,e.readSfixed64()),!0)};jspb.internal.binary.readSfixed64Oneof=function(e,t,n,r){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.FIXED64?!1:(t.internal_setOneofField(n,r,e.readSfixed64()),!0)};jspb.internal.binary.readSint32Ext=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.setExtension(n,e.readSint32()),!0)};jspb.internal.binary.readPackableSint32IntoExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableSint32Into(t.getExtension(n)),!0)};jspb.internal.binary.readSint32=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setField(n,e.readSint32()),!0)};jspb.internal.binary.readPackableSint32Into=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableSint32Into(t.internal_getRepeatedField(n)),!0)};jspb.internal.binary.readSint32IgnoringDefault=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setProto3IntField(n,e.readSint32()),!0)};jspb.internal.binary.readSint32Oneof=function(e,t,n,r){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setOneofField(n,r,e.readSint32()),!0)};jspb.internal.binary.readSint64StringExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.setExtension(n,e.readSint64String()),!0)};jspb.internal.binary.readPackableSint64StringIntoExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableSint64StringInto(t.getExtension(n)),!0)};jspb.internal.binary.readSint64Ext=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.setExtension(n,e.readSint64()),!0)};jspb.internal.binary.readPackableSint64IntoExt=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableSint64Into(t.getExtension(n)),!0)};jspb.internal.binary.readSint64String=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setField(n,e.readSint64String()),!0)};jspb.internal.binary.readPackableSint64StringInto=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableSint64StringInto(t.internal_getRepeatedField(n)),!0)};jspb.internal.binary.readSint64StringIgnoringDefault=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setProto3StringIntField(n,e.readSint64String()),!0)};jspb.internal.binary.readSint64StringOneof=function(e,t,n,r){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setOneofField(n,r,e.readSint64String()),!0)};jspb.internal.binary.readSint64=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setField(n,e.readSint64()),!0)};jspb.internal.binary.readPackableSint64Into=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT&&e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.DELIMITED?!1:(e.readPackableSint64Into(t.internal_getRepeatedField(n)),!0)};jspb.internal.binary.readSint64IgnoringDefault=function(e,t,n){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setProto3IntField(n,e.readSint64()),!0)};jspb.internal.binary.readSint64Oneof=function(e,t,n,r){return e.getWireType()!==module$exports$jspb$BinaryConstants.WireType.VARINT?!1:(t.internal_setOneofField(n,r,e.readSint64()),!0)};jspb.internal.binary.writeInt64DoubleMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeDouble)};jspb.internal.binary.writeInt64FloatMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFloat)};jspb.internal.binary.writeInt64Int64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64)};jspb.internal.binary.writeInt64Uint64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64)};jspb.internal.binary.writeInt64Int32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32)};jspb.internal.binary.writeInt64Fixed64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64)};jspb.internal.binary.writeInt64Fixed32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32)};jspb.internal.binary.writeInt64BoolMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool)};jspb.internal.binary.writeInt64StringMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString)};jspb.internal.binary.writeInt64MessageMap=function(e,t,n,r,o){module$contents$jspb$internal$binary_writeMessageMap(t,n,r,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64,o)};jspb.internal.binary.writeInt64BytesMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBytes)};jspb.internal.binary.writeInt64Uint32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32)};jspb.internal.binary.writeInt64EnumMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeEnum)};jspb.internal.binary.writeInt64Sfixed32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32)};jspb.internal.binary.writeInt64Sfixed64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64)};jspb.internal.binary.writeInt64Sint32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32)};jspb.internal.binary.writeInt64Sint64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64)};jspb.internal.binary.writeUint64DoubleMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeDouble)};jspb.internal.binary.writeUint64FloatMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFloat)};jspb.internal.binary.writeUint64Int64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64)};jspb.internal.binary.writeUint64Uint64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64)};jspb.internal.binary.writeUint64Int32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32)};jspb.internal.binary.writeUint64Fixed64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64)};jspb.internal.binary.writeUint64Fixed32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32)};jspb.internal.binary.writeUint64BoolMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool)};jspb.internal.binary.writeUint64StringMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString)};jspb.internal.binary.writeUint64MessageMap=function(e,t,n,r,o){module$contents$jspb$internal$binary_writeMessageMap(t,n,r,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64,o)};jspb.internal.binary.writeUint64BytesMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBytes)};jspb.internal.binary.writeUint64Uint32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32)};jspb.internal.binary.writeUint64EnumMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeEnum)};jspb.internal.binary.writeUint64Sfixed32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32)};jspb.internal.binary.writeUint64Sfixed64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64)};jspb.internal.binary.writeUint64Sint32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32)};jspb.internal.binary.writeUint64Sint64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64)};jspb.internal.binary.writeInt32DoubleMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeDouble)};jspb.internal.binary.writeInt32FloatMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFloat)};jspb.internal.binary.writeInt32Int64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64)};jspb.internal.binary.writeInt32Uint64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64)};jspb.internal.binary.writeInt32Int32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32)};jspb.internal.binary.writeInt32Fixed64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64)};jspb.internal.binary.writeInt32Fixed32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32)};jspb.internal.binary.writeInt32BoolMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool)};jspb.internal.binary.writeInt32StringMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString)};jspb.internal.binary.writeInt32MessageMap=function(e,t,n,r,o){module$contents$jspb$internal$binary_writeMessageMap(t,n,r,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32,o)};jspb.internal.binary.writeInt32BytesMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBytes)};jspb.internal.binary.writeInt32Uint32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32)};jspb.internal.binary.writeInt32EnumMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeEnum)};jspb.internal.binary.writeInt32Sfixed32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32)};jspb.internal.binary.writeInt32Sfixed64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64)};jspb.internal.binary.writeInt32Sint32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32)};jspb.internal.binary.writeInt32Sint64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64)};jspb.internal.binary.writeFixed64DoubleMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeDouble)};jspb.internal.binary.writeFixed64FloatMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFloat)};jspb.internal.binary.writeFixed64Int64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64)};jspb.internal.binary.writeFixed64Uint64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64)};jspb.internal.binary.writeFixed64Int32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32)};jspb.internal.binary.writeFixed64Fixed64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64)};jspb.internal.binary.writeFixed64Fixed32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32)};jspb.internal.binary.writeFixed64BoolMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool)};jspb.internal.binary.writeFixed64StringMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString)};jspb.internal.binary.writeFixed64MessageMap=function(e,t,n,r,o){module$contents$jspb$internal$binary_writeMessageMap(t,n,r,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64,o)};jspb.internal.binary.writeFixed64BytesMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBytes)};jspb.internal.binary.writeFixed64Uint32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32)};jspb.internal.binary.writeFixed64EnumMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeEnum)};jspb.internal.binary.writeFixed64Sfixed32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32)};jspb.internal.binary.writeFixed64Sfixed64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64)};jspb.internal.binary.writeFixed64Sint32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32)};jspb.internal.binary.writeFixed64Sint64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64)};jspb.internal.binary.writeFixed32DoubleMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeDouble)};jspb.internal.binary.writeFixed32FloatMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFloat)};jspb.internal.binary.writeFixed32Int64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64)};jspb.internal.binary.writeFixed32Uint64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64)};jspb.internal.binary.writeFixed32Int32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32)};jspb.internal.binary.writeFixed32Fixed64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64)};jspb.internal.binary.writeFixed32Fixed32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32)};jspb.internal.binary.writeFixed32BoolMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool)};jspb.internal.binary.writeFixed32StringMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString)};jspb.internal.binary.writeFixed32MessageMap=function(e,t,n,r,o){module$contents$jspb$internal$binary_writeMessageMap(t,n,r,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32,o)};jspb.internal.binary.writeFixed32BytesMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBytes)};jspb.internal.binary.writeFixed32Uint32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32)};jspb.internal.binary.writeFixed32EnumMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeEnum)};jspb.internal.binary.writeFixed32Sfixed32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32)};jspb.internal.binary.writeFixed32Sfixed64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64)};jspb.internal.binary.writeFixed32Sint32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32)};jspb.internal.binary.writeFixed32Sint64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64)};jspb.internal.binary.writeBoolDoubleMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeDouble)};jspb.internal.binary.writeBoolFloatMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFloat)};jspb.internal.binary.writeBoolInt64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64)};jspb.internal.binary.writeBoolUint64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64)};jspb.internal.binary.writeBoolInt32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32)};jspb.internal.binary.writeBoolFixed64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64)};jspb.internal.binary.writeBoolFixed32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32)};jspb.internal.binary.writeBoolBoolMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool)};jspb.internal.binary.writeBoolStringMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString)};jspb.internal.binary.writeBoolMessageMap=function(e,t,n,r,o){module$contents$jspb$internal$binary_writeMessageMap(t,n,r,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool,o)};jspb.internal.binary.writeBoolBytesMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBytes)};jspb.internal.binary.writeBoolUint32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32)};jspb.internal.binary.writeBoolEnumMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeEnum)};jspb.internal.binary.writeBoolSfixed32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32)};jspb.internal.binary.writeBoolSfixed64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64)};jspb.internal.binary.writeBoolSint32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32)};jspb.internal.binary.writeBoolSint64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64)};jspb.internal.binary.writeStringDoubleMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeDouble)};jspb.internal.binary.writeStringFloatMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFloat)};jspb.internal.binary.writeStringInt64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64)};jspb.internal.binary.writeStringUint64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64)};jspb.internal.binary.writeStringInt32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32)};jspb.internal.binary.writeStringFixed64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64)};jspb.internal.binary.writeStringFixed32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32)};jspb.internal.binary.writeStringBoolMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool)};jspb.internal.binary.writeStringStringMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString)};jspb.internal.binary.writeStringMessageMap=function(e,t,n,r,o){module$contents$jspb$internal$binary_writeMessageMap(t,n,r,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString,o)};jspb.internal.binary.writeStringBytesMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBytes)};jspb.internal.binary.writeStringUint32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32)};jspb.internal.binary.writeStringEnumMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeEnum)};jspb.internal.binary.writeStringSfixed32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32)};jspb.internal.binary.writeStringSfixed64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64)};jspb.internal.binary.writeStringSint32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32)};jspb.internal.binary.writeStringSint64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64)};jspb.internal.binary.writeUint32DoubleMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeDouble)};jspb.internal.binary.writeUint32FloatMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFloat)};jspb.internal.binary.writeUint32Int64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64)};jspb.internal.binary.writeUint32Uint64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64)};jspb.internal.binary.writeUint32Int32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32)};jspb.internal.binary.writeUint32Fixed64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64)};jspb.internal.binary.writeUint32Fixed32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32)};jspb.internal.binary.writeUint32BoolMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool)};jspb.internal.binary.writeUint32StringMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString)};jspb.internal.binary.writeUint32MessageMap=function(e,t,n,r,o){module$contents$jspb$internal$binary_writeMessageMap(t,n,r,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32,o)};jspb.internal.binary.writeUint32BytesMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBytes)};jspb.internal.binary.writeUint32Uint32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32)};jspb.internal.binary.writeUint32EnumMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeEnum)};jspb.internal.binary.writeUint32Sfixed32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32)};jspb.internal.binary.writeUint32Sfixed64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64)};jspb.internal.binary.writeUint32Sint32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32)};jspb.internal.binary.writeUint32Sint64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64)};jspb.internal.binary.writeSfixed32DoubleMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeDouble)};jspb.internal.binary.writeSfixed32FloatMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFloat)};jspb.internal.binary.writeSfixed32Int64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64)};jspb.internal.binary.writeSfixed32Uint64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64)};jspb.internal.binary.writeSfixed32Int32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32)};jspb.internal.binary.writeSfixed32Fixed64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64)};jspb.internal.binary.writeSfixed32Fixed32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32)};jspb.internal.binary.writeSfixed32BoolMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool)};jspb.internal.binary.writeSfixed32StringMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString)};jspb.internal.binary.writeSfixed32MessageMap=function(e,t,n,r,o){module$contents$jspb$internal$binary_writeMessageMap(t,n,r,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32,o)};jspb.internal.binary.writeSfixed32BytesMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBytes)};jspb.internal.binary.writeSfixed32Uint32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32)};jspb.internal.binary.writeSfixed32EnumMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeEnum)};jspb.internal.binary.writeSfixed32Sfixed32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32)};jspb.internal.binary.writeSfixed32Sfixed64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64)};jspb.internal.binary.writeSfixed32Sint32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32)};jspb.internal.binary.writeSfixed32Sint64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64)};jspb.internal.binary.writeSfixed64DoubleMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeDouble)};jspb.internal.binary.writeSfixed64FloatMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFloat)};jspb.internal.binary.writeSfixed64Int64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64)};jspb.internal.binary.writeSfixed64Uint64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64)};jspb.internal.binary.writeSfixed64Int32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32)};jspb.internal.binary.writeSfixed64Fixed64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64)};jspb.internal.binary.writeSfixed64Fixed32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32)};jspb.internal.binary.writeSfixed64BoolMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool)};jspb.internal.binary.writeSfixed64StringMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString)};jspb.internal.binary.writeSfixed64MessageMap=function(e,t,n,r,o){module$contents$jspb$internal$binary_writeMessageMap(t,n,r,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64,o)};jspb.internal.binary.writeSfixed64BytesMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBytes)};jspb.internal.binary.writeSfixed64Uint32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32)};jspb.internal.binary.writeSfixed64EnumMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeEnum)};jspb.internal.binary.writeSfixed64Sfixed32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32)};jspb.internal.binary.writeSfixed64Sfixed64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64)};jspb.internal.binary.writeSfixed64Sint32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32)};jspb.internal.binary.writeSfixed64Sint64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64)};jspb.internal.binary.writeSint32DoubleMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeDouble)};jspb.internal.binary.writeSint32FloatMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFloat)};jspb.internal.binary.writeSint32Int64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64)};jspb.internal.binary.writeSint32Uint64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64)};jspb.internal.binary.writeSint32Int32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32)};jspb.internal.binary.writeSint32Fixed64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64)};jspb.internal.binary.writeSint32Fixed32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32)};jspb.internal.binary.writeSint32BoolMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool)};jspb.internal.binary.writeSint32StringMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString)};jspb.internal.binary.writeSint32MessageMap=function(e,t,n,r,o){module$contents$jspb$internal$binary_writeMessageMap(t,n,r,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32,o)};jspb.internal.binary.writeSint32BytesMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBytes)};jspb.internal.binary.writeSint32Uint32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32)};jspb.internal.binary.writeSint32EnumMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeEnum)};jspb.internal.binary.writeSint32Sfixed32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32)};jspb.internal.binary.writeSint32Sfixed64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64)};jspb.internal.binary.writeSint32Sint32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32)};jspb.internal.binary.writeSint32Sint64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64)};jspb.internal.binary.writeSint64DoubleMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeDouble)};jspb.internal.binary.writeSint64FloatMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFloat)};jspb.internal.binary.writeSint64Int64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt64)};jspb.internal.binary.writeSint64Uint64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint64)};jspb.internal.binary.writeSint64Int32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeInt32)};jspb.internal.binary.writeSint64Fixed64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed64)};jspb.internal.binary.writeSint64Fixed32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeFixed32)};jspb.internal.binary.writeSint64BoolMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBool)};jspb.internal.binary.writeSint64StringMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeString)};jspb.internal.binary.writeSint64MessageMap=function(e,t,n,r,o){module$contents$jspb$internal$binary_writeMessageMap(t,n,r,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64,o)};jspb.internal.binary.writeSint64BytesMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeBytes)};jspb.internal.binary.writeSint64Uint32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeUint32)};jspb.internal.binary.writeSint64EnumMap=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeEnum)};jspb.internal.binary.writeSint64Sfixed32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed32)};jspb.internal.binary.writeSint64Sfixed64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSfixed64)};jspb.internal.binary.writeSint64Sint32Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint32)};jspb.internal.binary.writeSint64Sint64Map=function(e,t,n){module$contents$jspb$internal$binary_writeMap(t,n,n,e,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64,module$exports$jspb$binary$writer.BinaryWriter.prototype.writeSint64)};jspb.internal.binary.readInt64DoubleMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt64,jspb.internal.binary.readDouble,0,0)};jspb.internal.binary.readInt64FloatMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt64,jspb.internal.binary.readFloat,0,0)};jspb.internal.binary.readInt64Int64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt64,jspb.internal.binary.readInt64,0,0)};jspb.internal.binary.readInt64Uint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt64,jspb.internal.binary.readUint64,0,0)};jspb.internal.binary.readInt64Int32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt64,jspb.internal.binary.readInt32,0,0)};jspb.internal.binary.readInt64Fixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt64,jspb.internal.binary.readFixed64,0,0)};jspb.internal.binary.readInt64Fixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt64,jspb.internal.binary.readFixed32,0,0)};jspb.internal.binary.readInt64BoolMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt64,jspb.internal.binary.readBool,0,!1)};jspb.internal.binary.readInt64StringRequireUtf8Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt64,jspb.internal.binary.readStringRequireUtf8,0,"")};jspb.internal.binary.readInt64StringMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt64,jspb.internal.binary.readString,0,"")};jspb.internal.binary.readInt64MessageMap=function(e,t,n,r,o){return module$contents$jspb$internal$binary_readMessageMapEntry(e,t,n,r,jspb.internal.binary.readInt64,0,o)};jspb.internal.binary.readInt64BytesMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt64,jspb.internal.binary.readBytes,0,module$exports$jspb$bytestring.ByteString.empty())};jspb.internal.binary.readInt64Uint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt64,jspb.internal.binary.readUint32,0,0)};jspb.internal.binary.readInt64EnumMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt64,jspb.internal.binary.readEnum,0,0)};jspb.internal.binary.readInt64Sfixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt64,jspb.internal.binary.readSfixed32,0,0)};jspb.internal.binary.readInt64Sfixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt64,jspb.internal.binary.readSfixed64,0,0)};jspb.internal.binary.readInt64Sint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt64,jspb.internal.binary.readSint32,0,0)};jspb.internal.binary.readInt64Sint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt64,jspb.internal.binary.readSint64,0,0)};jspb.internal.binary.readUint64DoubleMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint64,jspb.internal.binary.readDouble,0,0)};jspb.internal.binary.readUint64FloatMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint64,jspb.internal.binary.readFloat,0,0)};jspb.internal.binary.readUint64Int64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint64,jspb.internal.binary.readInt64,0,0)};jspb.internal.binary.readUint64Uint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint64,jspb.internal.binary.readUint64,0,0)};jspb.internal.binary.readUint64Int32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint64,jspb.internal.binary.readInt32,0,0)};jspb.internal.binary.readUint64Fixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint64,jspb.internal.binary.readFixed64,0,0)};jspb.internal.binary.readUint64Fixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint64,jspb.internal.binary.readFixed32,0,0)};jspb.internal.binary.readUint64BoolMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint64,jspb.internal.binary.readBool,0,!1)};jspb.internal.binary.readUint64StringRequireUtf8Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint64,jspb.internal.binary.readStringRequireUtf8,0,"")};jspb.internal.binary.readUint64StringMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint64,jspb.internal.binary.readString,0,"")};jspb.internal.binary.readUint64MessageMap=function(e,t,n,r,o){return module$contents$jspb$internal$binary_readMessageMapEntry(e,t,n,r,jspb.internal.binary.readUint64,0,o)};jspb.internal.binary.readUint64BytesMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint64,jspb.internal.binary.readBytes,0,module$exports$jspb$bytestring.ByteString.empty())};jspb.internal.binary.readUint64Uint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint64,jspb.internal.binary.readUint32,0,0)};jspb.internal.binary.readUint64EnumMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint64,jspb.internal.binary.readEnum,0,0)};jspb.internal.binary.readUint64Sfixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint64,jspb.internal.binary.readSfixed32,0,0)};jspb.internal.binary.readUint64Sfixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint64,jspb.internal.binary.readSfixed64,0,0)};jspb.internal.binary.readUint64Sint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint64,jspb.internal.binary.readSint32,0,0)};jspb.internal.binary.readUint64Sint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint64,jspb.internal.binary.readSint64,0,0)};jspb.internal.binary.readInt32DoubleMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt32,jspb.internal.binary.readDouble,0,0)};jspb.internal.binary.readInt32FloatMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt32,jspb.internal.binary.readFloat,0,0)};jspb.internal.binary.readInt32Int64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt32,jspb.internal.binary.readInt64,0,0)};jspb.internal.binary.readInt32Uint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt32,jspb.internal.binary.readUint64,0,0)};jspb.internal.binary.readInt32Int32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt32,jspb.internal.binary.readInt32,0,0)};jspb.internal.binary.readInt32Fixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt32,jspb.internal.binary.readFixed64,0,0)};jspb.internal.binary.readInt32Fixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt32,jspb.internal.binary.readFixed32,0,0)};jspb.internal.binary.readInt32BoolMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt32,jspb.internal.binary.readBool,0,!1)};jspb.internal.binary.readInt32StringRequireUtf8Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt32,jspb.internal.binary.readStringRequireUtf8,0,"")};jspb.internal.binary.readInt32StringMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt32,jspb.internal.binary.readString,0,"")};jspb.internal.binary.readInt32MessageMap=function(e,t,n,r,o){return module$contents$jspb$internal$binary_readMessageMapEntry(e,t,n,r,jspb.internal.binary.readInt32,0,o)};jspb.internal.binary.readInt32BytesMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt32,jspb.internal.binary.readBytes,0,module$exports$jspb$bytestring.ByteString.empty())};jspb.internal.binary.readInt32Uint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt32,jspb.internal.binary.readUint32,0,0)};jspb.internal.binary.readInt32EnumMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt32,jspb.internal.binary.readEnum,0,0)};jspb.internal.binary.readInt32Sfixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt32,jspb.internal.binary.readSfixed32,0,0)};jspb.internal.binary.readInt32Sfixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt32,jspb.internal.binary.readSfixed64,0,0)};jspb.internal.binary.readInt32Sint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt32,jspb.internal.binary.readSint32,0,0)};jspb.internal.binary.readInt32Sint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readInt32,jspb.internal.binary.readSint64,0,0)};jspb.internal.binary.readFixed64DoubleMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed64,jspb.internal.binary.readDouble,0,0)};jspb.internal.binary.readFixed64FloatMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed64,jspb.internal.binary.readFloat,0,0)};jspb.internal.binary.readFixed64Int64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed64,jspb.internal.binary.readInt64,0,0)};jspb.internal.binary.readFixed64Uint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed64,jspb.internal.binary.readUint64,0,0)};jspb.internal.binary.readFixed64Int32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed64,jspb.internal.binary.readInt32,0,0)};jspb.internal.binary.readFixed64Fixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed64,jspb.internal.binary.readFixed64,0,0)};jspb.internal.binary.readFixed64Fixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed64,jspb.internal.binary.readFixed32,0,0)};jspb.internal.binary.readFixed64BoolMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed64,jspb.internal.binary.readBool,0,!1)};jspb.internal.binary.readFixed64StringRequireUtf8Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed64,jspb.internal.binary.readStringRequireUtf8,0,"")};jspb.internal.binary.readFixed64StringMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed64,jspb.internal.binary.readString,0,"")};jspb.internal.binary.readFixed64MessageMap=function(e,t,n,r,o){return module$contents$jspb$internal$binary_readMessageMapEntry(e,t,n,r,jspb.internal.binary.readFixed64,0,o)};jspb.internal.binary.readFixed64BytesMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed64,jspb.internal.binary.readBytes,0,module$exports$jspb$bytestring.ByteString.empty())};jspb.internal.binary.readFixed64Uint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed64,jspb.internal.binary.readUint32,0,0)};jspb.internal.binary.readFixed64EnumMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed64,jspb.internal.binary.readEnum,0,0)};jspb.internal.binary.readFixed64Sfixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed64,jspb.internal.binary.readSfixed32,0,0)};jspb.internal.binary.readFixed64Sfixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed64,jspb.internal.binary.readSfixed64,0,0)};jspb.internal.binary.readFixed64Sint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed64,jspb.internal.binary.readSint32,0,0)};jspb.internal.binary.readFixed64Sint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed64,jspb.internal.binary.readSint64,0,0)};jspb.internal.binary.readFixed32DoubleMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed32,jspb.internal.binary.readDouble,0,0)};jspb.internal.binary.readFixed32FloatMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed32,jspb.internal.binary.readFloat,0,0)};jspb.internal.binary.readFixed32Int64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed32,jspb.internal.binary.readInt64,0,0)};jspb.internal.binary.readFixed32Uint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed32,jspb.internal.binary.readUint64,0,0)};jspb.internal.binary.readFixed32Int32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed32,jspb.internal.binary.readInt32,0,0)};jspb.internal.binary.readFixed32Fixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed32,jspb.internal.binary.readFixed64,0,0)};jspb.internal.binary.readFixed32Fixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed32,jspb.internal.binary.readFixed32,0,0)};jspb.internal.binary.readFixed32BoolMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed32,jspb.internal.binary.readBool,0,!1)};jspb.internal.binary.readFixed32StringRequireUtf8Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed32,jspb.internal.binary.readStringRequireUtf8,0,"")};jspb.internal.binary.readFixed32StringMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed32,jspb.internal.binary.readString,0,"")};jspb.internal.binary.readFixed32MessageMap=function(e,t,n,r,o){return module$contents$jspb$internal$binary_readMessageMapEntry(e,t,n,r,jspb.internal.binary.readFixed32,0,o)};jspb.internal.binary.readFixed32BytesMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed32,jspb.internal.binary.readBytes,0,module$exports$jspb$bytestring.ByteString.empty())};jspb.internal.binary.readFixed32Uint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed32,jspb.internal.binary.readUint32,0,0)};jspb.internal.binary.readFixed32EnumMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed32,jspb.internal.binary.readEnum,0,0)};jspb.internal.binary.readFixed32Sfixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed32,jspb.internal.binary.readSfixed32,0,0)};jspb.internal.binary.readFixed32Sfixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed32,jspb.internal.binary.readSfixed64,0,0)};jspb.internal.binary.readFixed32Sint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed32,jspb.internal.binary.readSint32,0,0)};jspb.internal.binary.readFixed32Sint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readFixed32,jspb.internal.binary.readSint64,0,0)};jspb.internal.binary.readBoolDoubleMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readBool,jspb.internal.binary.readDouble,!1,0)};jspb.internal.binary.readBoolFloatMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readBool,jspb.internal.binary.readFloat,!1,0)};jspb.internal.binary.readBoolInt64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readBool,jspb.internal.binary.readInt64,!1,0)};jspb.internal.binary.readBoolUint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readBool,jspb.internal.binary.readUint64,!1,0)};jspb.internal.binary.readBoolInt32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readBool,jspb.internal.binary.readInt32,!1,0)};jspb.internal.binary.readBoolFixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readBool,jspb.internal.binary.readFixed64,!1,0)};jspb.internal.binary.readBoolFixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readBool,jspb.internal.binary.readFixed32,!1,0)};jspb.internal.binary.readBoolBoolMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readBool,jspb.internal.binary.readBool,!1,!1)};jspb.internal.binary.readBoolStringRequireUtf8Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readBool,jspb.internal.binary.readStringRequireUtf8,!1,"")};jspb.internal.binary.readBoolStringMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readBool,jspb.internal.binary.readString,!1,"")};jspb.internal.binary.readBoolMessageMap=function(e,t,n,r,o){return module$contents$jspb$internal$binary_readMessageMapEntry(e,t,n,r,jspb.internal.binary.readBool,!1,o)};jspb.internal.binary.readBoolBytesMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readBool,jspb.internal.binary.readBytes,!1,module$exports$jspb$bytestring.ByteString.empty())};jspb.internal.binary.readBoolUint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readBool,jspb.internal.binary.readUint32,!1,0)};jspb.internal.binary.readBoolEnumMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readBool,jspb.internal.binary.readEnum,!1,0)};jspb.internal.binary.readBoolSfixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readBool,jspb.internal.binary.readSfixed32,!1,0)};jspb.internal.binary.readBoolSfixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readBool,jspb.internal.binary.readSfixed64,!1,0)};jspb.internal.binary.readBoolSint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readBool,jspb.internal.binary.readSint32,!1,0)};jspb.internal.binary.readBoolSint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readBool,jspb.internal.binary.readSint64,!1,0)};jspb.internal.binary.readStringRequireUtf8DoubleMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readStringRequireUtf8,jspb.internal.binary.readDouble,"",0)};jspb.internal.binary.readStringDoubleMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readString,jspb.internal.binary.readDouble,"",0)};jspb.internal.binary.readStringRequireUtf8FloatMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readStringRequireUtf8,jspb.internal.binary.readFloat,"",0)};jspb.internal.binary.readStringFloatMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readString,jspb.internal.binary.readFloat,"",0)};jspb.internal.binary.readStringRequireUtf8Int64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readStringRequireUtf8,jspb.internal.binary.readInt64,"",0)};jspb.internal.binary.readStringInt64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readString,jspb.internal.binary.readInt64,"",0)};jspb.internal.binary.readStringRequireUtf8Uint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readStringRequireUtf8,jspb.internal.binary.readUint64,"",0)};jspb.internal.binary.readStringUint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readString,jspb.internal.binary.readUint64,"",0)};jspb.internal.binary.readStringRequireUtf8Int32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readStringRequireUtf8,jspb.internal.binary.readInt32,"",0)};jspb.internal.binary.readStringInt32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readString,jspb.internal.binary.readInt32,"",0)};jspb.internal.binary.readStringRequireUtf8Fixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readStringRequireUtf8,jspb.internal.binary.readFixed64,"",0)};jspb.internal.binary.readStringFixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readString,jspb.internal.binary.readFixed64,"",0)};jspb.internal.binary.readStringRequireUtf8Fixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readStringRequireUtf8,jspb.internal.binary.readFixed32,"",0)};jspb.internal.binary.readStringFixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readString,jspb.internal.binary.readFixed32,"",0)};jspb.internal.binary.readStringRequireUtf8BoolMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readStringRequireUtf8,jspb.internal.binary.readBool,"",!1)};jspb.internal.binary.readStringBoolMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readString,jspb.internal.binary.readBool,"",!1)};jspb.internal.binary.readStringRequireUtf8StringRequireUtf8Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readStringRequireUtf8,jspb.internal.binary.readStringRequireUtf8,"","")};jspb.internal.binary.readStringStringMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readString,jspb.internal.binary.readString,"","")};jspb.internal.binary.readStringRequireUtf8MessageMap=function(e,t,n,r,o){return module$contents$jspb$internal$binary_readMessageMapEntry(e,t,n,r,jspb.internal.binary.readStringRequireUtf8,"",o)};jspb.internal.binary.readStringMessageMap=function(e,t,n,r,o){return module$contents$jspb$internal$binary_readMessageMapEntry(e,t,n,r,jspb.internal.binary.readString,"",o)};jspb.internal.binary.readStringRequireUtf8BytesMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readStringRequireUtf8,jspb.internal.binary.readBytes,"",module$exports$jspb$bytestring.ByteString.empty())};jspb.internal.binary.readStringBytesMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readString,jspb.internal.binary.readBytes,"",module$exports$jspb$bytestring.ByteString.empty())};jspb.internal.binary.readStringRequireUtf8Uint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readStringRequireUtf8,jspb.internal.binary.readUint32,"",0)};jspb.internal.binary.readStringUint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readString,jspb.internal.binary.readUint32,"",0)};jspb.internal.binary.readStringRequireUtf8EnumMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readStringRequireUtf8,jspb.internal.binary.readEnum,"",0)};jspb.internal.binary.readStringEnumMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readString,jspb.internal.binary.readEnum,"",0)};jspb.internal.binary.readStringRequireUtf8Sfixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readStringRequireUtf8,jspb.internal.binary.readSfixed32,"",0)};jspb.internal.binary.readStringSfixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readString,jspb.internal.binary.readSfixed32,"",0)};jspb.internal.binary.readStringRequireUtf8Sfixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readStringRequireUtf8,jspb.internal.binary.readSfixed64,"",0)};jspb.internal.binary.readStringSfixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readString,jspb.internal.binary.readSfixed64,"",0)};jspb.internal.binary.readStringRequireUtf8Sint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readStringRequireUtf8,jspb.internal.binary.readSint32,"",0)};jspb.internal.binary.readStringSint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readString,jspb.internal.binary.readSint32,"",0)};jspb.internal.binary.readStringRequireUtf8Sint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readStringRequireUtf8,jspb.internal.binary.readSint64,"",0)};jspb.internal.binary.readStringSint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readString,jspb.internal.binary.readSint64,"",0)};jspb.internal.binary.readUint32DoubleMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint32,jspb.internal.binary.readDouble,0,0)};jspb.internal.binary.readUint32FloatMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint32,jspb.internal.binary.readFloat,0,0)};jspb.internal.binary.readUint32Int64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint32,jspb.internal.binary.readInt64,0,0)};jspb.internal.binary.readUint32Uint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint32,jspb.internal.binary.readUint64,0,0)};jspb.internal.binary.readUint32Int32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint32,jspb.internal.binary.readInt32,0,0)};jspb.internal.binary.readUint32Fixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint32,jspb.internal.binary.readFixed64,0,0)};jspb.internal.binary.readUint32Fixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint32,jspb.internal.binary.readFixed32,0,0)};jspb.internal.binary.readUint32BoolMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint32,jspb.internal.binary.readBool,0,!1)};jspb.internal.binary.readUint32StringRequireUtf8Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint32,jspb.internal.binary.readStringRequireUtf8,0,"")};jspb.internal.binary.readUint32StringMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint32,jspb.internal.binary.readString,0,"")};jspb.internal.binary.readUint32MessageMap=function(e,t,n,r,o){return module$contents$jspb$internal$binary_readMessageMapEntry(e,t,n,r,jspb.internal.binary.readUint32,0,o)};jspb.internal.binary.readUint32BytesMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint32,jspb.internal.binary.readBytes,0,module$exports$jspb$bytestring.ByteString.empty())};jspb.internal.binary.readUint32Uint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint32,jspb.internal.binary.readUint32,0,0)};jspb.internal.binary.readUint32EnumMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint32,jspb.internal.binary.readEnum,0,0)};jspb.internal.binary.readUint32Sfixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint32,jspb.internal.binary.readSfixed32,0,0)};jspb.internal.binary.readUint32Sfixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint32,jspb.internal.binary.readSfixed64,0,0)};jspb.internal.binary.readUint32Sint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint32,jspb.internal.binary.readSint32,0,0)};jspb.internal.binary.readUint32Sint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readUint32,jspb.internal.binary.readSint64,0,0)};jspb.internal.binary.readSfixed32DoubleMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed32,jspb.internal.binary.readDouble,0,0)};jspb.internal.binary.readSfixed32FloatMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed32,jspb.internal.binary.readFloat,0,0)};jspb.internal.binary.readSfixed32Int64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed32,jspb.internal.binary.readInt64,0,0)};jspb.internal.binary.readSfixed32Uint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed32,jspb.internal.binary.readUint64,0,0)};jspb.internal.binary.readSfixed32Int32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed32,jspb.internal.binary.readInt32,0,0)};jspb.internal.binary.readSfixed32Fixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed32,jspb.internal.binary.readFixed64,0,0)};jspb.internal.binary.readSfixed32Fixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed32,jspb.internal.binary.readFixed32,0,0)};jspb.internal.binary.readSfixed32BoolMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed32,jspb.internal.binary.readBool,0,!1)};jspb.internal.binary.readSfixed32StringRequireUtf8Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed32,jspb.internal.binary.readStringRequireUtf8,0,"")};jspb.internal.binary.readSfixed32StringMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed32,jspb.internal.binary.readString,0,"")};jspb.internal.binary.readSfixed32MessageMap=function(e,t,n,r,o){return module$contents$jspb$internal$binary_readMessageMapEntry(e,t,n,r,jspb.internal.binary.readSfixed32,0,o)};jspb.internal.binary.readSfixed32BytesMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed32,jspb.internal.binary.readBytes,0,module$exports$jspb$bytestring.ByteString.empty())};jspb.internal.binary.readSfixed32Uint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed32,jspb.internal.binary.readUint32,0,0)};jspb.internal.binary.readSfixed32EnumMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed32,jspb.internal.binary.readEnum,0,0)};jspb.internal.binary.readSfixed32Sfixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed32,jspb.internal.binary.readSfixed32,0,0)};jspb.internal.binary.readSfixed32Sfixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed32,jspb.internal.binary.readSfixed64,0,0)};jspb.internal.binary.readSfixed32Sint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed32,jspb.internal.binary.readSint32,0,0)};jspb.internal.binary.readSfixed32Sint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed32,jspb.internal.binary.readSint64,0,0)};jspb.internal.binary.readSfixed64DoubleMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed64,jspb.internal.binary.readDouble,0,0)};jspb.internal.binary.readSfixed64FloatMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed64,jspb.internal.binary.readFloat,0,0)};jspb.internal.binary.readSfixed64Int64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed64,jspb.internal.binary.readInt64,0,0)};jspb.internal.binary.readSfixed64Uint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed64,jspb.internal.binary.readUint64,0,0)};jspb.internal.binary.readSfixed64Int32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed64,jspb.internal.binary.readInt32,0,0)};jspb.internal.binary.readSfixed64Fixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed64,jspb.internal.binary.readFixed64,0,0)};jspb.internal.binary.readSfixed64Fixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed64,jspb.internal.binary.readFixed32,0,0)};jspb.internal.binary.readSfixed64BoolMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed64,jspb.internal.binary.readBool,0,!1)};jspb.internal.binary.readSfixed64StringRequireUtf8Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed64,jspb.internal.binary.readStringRequireUtf8,0,"")};jspb.internal.binary.readSfixed64StringMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed64,jspb.internal.binary.readString,0,"")};jspb.internal.binary.readSfixed64MessageMap=function(e,t,n,r,o){return module$contents$jspb$internal$binary_readMessageMapEntry(e,t,n,r,jspb.internal.binary.readSfixed64,0,o)};jspb.internal.binary.readSfixed64BytesMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed64,jspb.internal.binary.readBytes,0,module$exports$jspb$bytestring.ByteString.empty())};jspb.internal.binary.readSfixed64Uint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed64,jspb.internal.binary.readUint32,0,0)};jspb.internal.binary.readSfixed64EnumMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed64,jspb.internal.binary.readEnum,0,0)};jspb.internal.binary.readSfixed64Sfixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed64,jspb.internal.binary.readSfixed32,0,0)};jspb.internal.binary.readSfixed64Sfixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed64,jspb.internal.binary.readSfixed64,0,0)};jspb.internal.binary.readSfixed64Sint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed64,jspb.internal.binary.readSint32,0,0)};jspb.internal.binary.readSfixed64Sint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSfixed64,jspb.internal.binary.readSint64,0,0)};jspb.internal.binary.readSint32DoubleMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint32,jspb.internal.binary.readDouble,0,0)};jspb.internal.binary.readSint32FloatMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint32,jspb.internal.binary.readFloat,0,0)};jspb.internal.binary.readSint32Int64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint32,jspb.internal.binary.readInt64,0,0)};jspb.internal.binary.readSint32Uint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint32,jspb.internal.binary.readUint64,0,0)};jspb.internal.binary.readSint32Int32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint32,jspb.internal.binary.readInt32,0,0)};jspb.internal.binary.readSint32Fixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint32,jspb.internal.binary.readFixed64,0,0)};jspb.internal.binary.readSint32Fixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint32,jspb.internal.binary.readFixed32,0,0)};jspb.internal.binary.readSint32BoolMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint32,jspb.internal.binary.readBool,0,!1)};jspb.internal.binary.readSint32StringRequireUtf8Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint32,jspb.internal.binary.readStringRequireUtf8,0,"")};jspb.internal.binary.readSint32StringMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint32,jspb.internal.binary.readString,0,"")};jspb.internal.binary.readSint32MessageMap=function(e,t,n,r,o){return module$contents$jspb$internal$binary_readMessageMapEntry(e,t,n,r,jspb.internal.binary.readSint32,0,o)};jspb.internal.binary.readSint32BytesMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint32,jspb.internal.binary.readBytes,0,module$exports$jspb$bytestring.ByteString.empty())};jspb.internal.binary.readSint32Uint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint32,jspb.internal.binary.readUint32,0,0)};jspb.internal.binary.readSint32EnumMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint32,jspb.internal.binary.readEnum,0,0)};jspb.internal.binary.readSint32Sfixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint32,jspb.internal.binary.readSfixed32,0,0)};jspb.internal.binary.readSint32Sfixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint32,jspb.internal.binary.readSfixed64,0,0)};jspb.internal.binary.readSint32Sint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint32,jspb.internal.binary.readSint32,0,0)};jspb.internal.binary.readSint32Sint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint32,jspb.internal.binary.readSint64,0,0)};jspb.internal.binary.readSint64DoubleMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint64,jspb.internal.binary.readDouble,0,0)};jspb.internal.binary.readSint64FloatMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint64,jspb.internal.binary.readFloat,0,0)};jspb.internal.binary.readSint64Int64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint64,jspb.internal.binary.readInt64,0,0)};jspb.internal.binary.readSint64Uint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint64,jspb.internal.binary.readUint64,0,0)};jspb.internal.binary.readSint64Int32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint64,jspb.internal.binary.readInt32,0,0)};jspb.internal.binary.readSint64Fixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint64,jspb.internal.binary.readFixed64,0,0)};jspb.internal.binary.readSint64Fixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint64,jspb.internal.binary.readFixed32,0,0)};jspb.internal.binary.readSint64BoolMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint64,jspb.internal.binary.readBool,0,!1)};jspb.internal.binary.readSint64StringRequireUtf8Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint64,jspb.internal.binary.readStringRequireUtf8,0,"")};jspb.internal.binary.readSint64StringMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint64,jspb.internal.binary.readString,0,"")};jspb.internal.binary.readSint64MessageMap=function(e,t,n,r,o){return module$contents$jspb$internal$binary_readMessageMapEntry(e,t,n,r,jspb.internal.binary.readSint64,0,o)};jspb.internal.binary.readSint64BytesMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint64,jspb.internal.binary.readBytes,0,module$exports$jspb$bytestring.ByteString.empty())};jspb.internal.binary.readSint64Uint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint64,jspb.internal.binary.readUint32,0,0)};jspb.internal.binary.readSint64EnumMap=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint64,jspb.internal.binary.readEnum,0,0)};jspb.internal.binary.readSint64Sfixed32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint64,jspb.internal.binary.readSfixed32,0,0)};jspb.internal.binary.readSint64Sfixed64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint64,jspb.internal.binary.readSfixed64,0,0)};jspb.internal.binary.readSint64Sint32Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint64,jspb.internal.binary.readSint32,0,0)};jspb.internal.binary.readSint64Sint64Map=function(e,t,n){return module$contents$jspb$internal$binary_readMapEntry(e,t,n,jspb.internal.binary.readSint64,jspb.internal.binary.readSint64,0,0)};jspb.internal.public_for_gencode={};var module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE;function module$contents$jspb$internal$public_for_gencode_toObjectList(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(t(n,e[o]));return r}function module$contents$jspb$internal$public_for_gencode_assertConsistentTypes(e){if(goog.DEBUG&&e&&1<e.length){var t=goog.typeOf(e[0]);module$contents$goog$array_forEach(e,function(n){goog.typeOf(n)!=t&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(n)+" expected "+t)})}}function module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(e){return e===null?void 0:e}var module$contents$jspb$internal$public_for_gencode_GeneratedMessageImpl=function(){module$exports$jspb.Message.apply(this,arguments)};$jscomp.inherits(module$contents$jspb$internal$public_for_gencode_GeneratedMessageImpl,module$exports$jspb.Message);goog.asserts.ENABLE_ASSERTS&&(module$contents$jspb$internal$public_for_gencode_GeneratedMessageImpl.prototype[module$exports$jspb$internal.GENERATED_SUBCLASS_MARKER]=!0);var module$contents$jspb$internal$public_for_gencode_GeneratedMessage=goog.asserts.ENABLE_ASSERTS?module$contents$jspb$internal$public_for_gencode_GeneratedMessageImpl:module$exports$jspb.Message;jspb.internal.public_for_gencode.GENERATE_FROM_OBJECT=module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT;jspb.internal.public_for_gencode.GENERATE_TO_OBJECT=!0;jspb.internal.public_for_gencode.GeneratedMessage=module$contents$jspb$internal$public_for_gencode_GeneratedMessage;jspb.internal.public_for_gencode.bytesAsB64=module$contents$jspb$internal_bytesAsB64;jspb.internal.public_for_gencode.bytesAsU8=module$contents$jspb$internal_bytesAsU8;jspb.internal.public_for_gencode.bytesListAsB64=function(e){return module$contents$jspb$internal$public_for_gencode_assertConsistentTypes(e),e.length&&typeof e[0]!="string"?module$contents$goog$array_map(e,module$contents$jspb$internal_bytesAsB64):e};jspb.internal.public_for_gencode.bytesListAsU8=function(e){return module$contents$jspb$internal$public_for_gencode_assertConsistentTypes(e),!e.length||e[0]instanceof Uint8Array?e:module$contents$goog$array_map(e,module$contents$jspb$internal_bytesAsU8)};jspb.internal.public_for_gencode.createMessageExtension=function(e,t,n,r,o){return new module$contents$jspb$extension_field_info_ExtensionFieldInfo(e,t,n,r,o===void 0?0:o)};jspb.internal.public_for_gencode.createPrimitiveExtension=function(e,t,n){return new module$contents$jspb$extension_field_info_ExtensionFieldInfo(e,t,null,null,n===void 0?0:n)};jspb.internal.public_for_gencode.mapFromObject=function(e,t,n){for(var r=0;r<t.length;r++){var o=t[r][0],i=n(t[r][1]);e.set(o,i)}return e};jspb.internal.public_for_gencode.mapToObject=function(e,t,n){var r=[];return e.forEach(function(o,i){r.push([i,n?n(t,o):o])}),r};jspb.internal.public_for_gencode.toObjectExtension=function(e,t,n,r){for(var o in n)if(module$contents$jspb$internal_hasOwnPropertyIfNotTrusted(n,o)){var i=n[o],s=e.getExtension(i);if(s!=null){var l=void 0;for(l in i.fieldName)if(i.fieldName.hasOwnProperty(l))break;var c=i.toObjectFn;t[l]=c?i.isRepeated?module$contents$jspb$internal$public_for_gencode_toObjectList(s,c,r):c(r,s):s}}};jspb.internal.public_for_gencode.toObjectList=module$contents$jspb$internal$public_for_gencode_toObjectList;jspb.internal.public_for_gencode.toObjectPrimitive=module$contents$jspb$internal$public_for_gencode_toObjectPrimitive;jspb.internal.public_for_gencode.toObjectAnyValue=function(e){if(e=e.internal_getField(2),e==null)return"";if(typeof e=="string")return e;if(module$contents$jspb$internal_bytes_isU8(e))return goog.crypt.base64.encodeByteArray(e);if(Array.isArray(e))return module$contents$jspb$internal_copy_cloneJspbObjectInternal(e,module$contents$jspb$internal_copy_convertToJspbFormat);throw Error("invalid value in Any.value field: "+e)};jspb.internal.public_for_gencode.fromObjectAnyValue=function(e,t){if(t!=null)if(typeof t=="string")t.length&&e.internal_setField(2,t);else if(Array.isArray(t))e.internal_setField(2,module$contents$jspb$internal_copy_cloneJspbObjectInternal(t,module$contents$jspb$internal_copy_convertToJspbFormat));else throw Error("invalid value in Any.value field: "+t)};jspb.internal.public_for_gencode.packAnyValueBinary=function(e,t){return goog.asserts.assertInstanceof(e,module$exports$jspb.Message),e.internal_setProto3BytesField(2,module$contents$jspb$utils_byteSourceToUint8Array(t)),e};jspb.Message=module$exports$jspb.Message;var proto={acceleration:{}};proto.acceleration.ModelIdentifier=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.acceleration.ModelIdentifier,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.acceleration.ModelIdentifier.prototype.getModelFingerprint=function(){return this.internal_getField(1)};proto.acceleration.ModelIdentifier.prototype.setModelFingerprint=function(e){return this.internal_setField(1,e)};proto.acceleration.ModelIdentifier.prototype.clearModelFingerprint=function(){return this.internal_clearField(1)};proto.acceleration.ModelIdentifier.prototype.hasModelFingerprint=function(){return this.internal_hasField(1)};proto.acceleration.ModelIdentifier.prototype.getModelId=function(){return this.internal_getField(2)};proto.acceleration.ModelIdentifier.prototype.setModelId=function(e){return this.internal_setField(2,e)};proto.acceleration.ModelIdentifier.prototype.clearModelId=function(){return this.internal_clearField(2)};proto.acceleration.ModelIdentifier.prototype.hasModelId=function(){return this.internal_hasField(2)};proto.acceleration.ModelIdentifier.internalDoNotUse$proto$acceleration$ModelIdentifier$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readString,2:jspb.internal.binary.readString}};proto.acceleration.ModelIdentifier.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.acceleration.ModelIdentifier.serializeBinaryToWriter)};proto.acceleration.ModelIdentifier.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeString(t,e,1),jspb.internal.binary.writeString(t,e,2),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.acceleration.ModelIdentifier.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.acceleration.ModelIdentifier,proto.acceleration.ModelIdentifier.internalDoNotUse$proto$acceleration$ModelIdentifier$getBinaryFieldsObject)};proto.acceleration.ModelIdentifier.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.acceleration.ModelIdentifier.internalDoNotUse$proto$acceleration$ModelIdentifier$getBinaryFieldsObject)};proto.acceleration.ModelIdentifier.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.acceleration.ModelIdentifier,e)};proto.acceleration.ModelIdentifier.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.acceleration.ModelIdentifier.fromObject=function(e){var t=new proto.acceleration.ModelIdentifier;return e.modelFingerprint!=null&&t.internal_setField(1,e.modelFingerprint),e.modelId!=null&&t.internal_setField(2,e.modelId),t});proto.acceleration.ModelIdentifier.prototype.toObject=function(e){return proto.acceleration.ModelIdentifier.internal_toObject(e,this)};proto.acceleration.ModelIdentifier.internal_toObject=function(e,t){if(t!=null){var n={modelFingerprint:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),modelId:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(2))};return e&&(n.$jspbMessageInstance=t),n}};proto.acceleration.InferenceToUseFor=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.acceleration.InferenceToUseFor,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.acceleration.InferenceToUseFor.prototype.getModelNamespace=function(){return this.internal_getField(1)};proto.acceleration.InferenceToUseFor.prototype.setModelNamespace=function(e){return this.internal_setField(1,e)};proto.acceleration.InferenceToUseFor.prototype.clearModelNamespace=function(){return this.internal_clearField(1)};proto.acceleration.InferenceToUseFor.prototype.hasModelNamespace=function(){return this.internal_hasField(1)};proto.acceleration.InferenceToUseFor.prototype.getModel=function(){return this.internal_getWrapperField(proto.acceleration.ModelIdentifier,2)};proto.acceleration.InferenceToUseFor.prototype.setModel=function(e){return this.internal_setWrapperField(2,e)};proto.acceleration.InferenceToUseFor.prototype.clearModel=function(){return this.internal_clearWrapperField(2)};proto.acceleration.InferenceToUseFor.prototype.hasModel=function(){return this.internal_hasField(2)};proto.acceleration.InferenceToUseFor.internalDoNotUse$proto$acceleration$InferenceToUseFor$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readString,2:[jspb.internal.binary.readMessage,proto.acceleration.ModelIdentifier,proto.acceleration.ModelIdentifier.internalDoNotUse$proto$acceleration$ModelIdentifier$getBinaryFieldsObject]}};proto.acceleration.InferenceToUseFor.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.acceleration.InferenceToUseFor.serializeBinaryToWriter)};proto.acceleration.InferenceToUseFor.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeString(t,e,1),jspb.internal.binary.writeMessage(t,e,2,proto.acceleration.ModelIdentifier,proto.acceleration.ModelIdentifier.serializeBinaryToWriter),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.acceleration.InferenceToUseFor.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.acceleration.InferenceToUseFor,proto.acceleration.InferenceToUseFor.internalDoNotUse$proto$acceleration$InferenceToUseFor$getBinaryFieldsObject)};proto.acceleration.InferenceToUseFor.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.acceleration.InferenceToUseFor.internalDoNotUse$proto$acceleration$InferenceToUseFor$getBinaryFieldsObject)};proto.acceleration.InferenceToUseFor.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.acceleration.InferenceToUseFor,e)};proto.acceleration.InferenceToUseFor.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.acceleration.InferenceToUseFor.fromObject=function(e){var t=new proto.acceleration.InferenceToUseFor;return e.modelNamespace!=null&&t.internal_setField(1,e.modelNamespace),e.model&&t.internal_setWrapperField(2,proto.acceleration.ModelIdentifier.fromObject(e.model)),t});proto.acceleration.InferenceToUseFor.prototype.toObject=function(e){return proto.acceleration.InferenceToUseFor.internal_toObject(e,this)};proto.acceleration.InferenceToUseFor.internal_toObject=function(e,t){if(t!=null){var n={modelNamespace:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),model:proto.acceleration.ModelIdentifier.internal_toObject(e,t.getModel())};return e&&(n.$jspbMessageInstance=t),n}};proto.acceleration.BenchmarkStoragePaths=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.acceleration.BenchmarkStoragePaths,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.acceleration.BenchmarkStoragePaths.prototype.getStorageFilePath=function(){return this.internal_getField(1)};proto.acceleration.BenchmarkStoragePaths.prototype.setStorageFilePath=function(e){return this.internal_setField(1,e)};proto.acceleration.BenchmarkStoragePaths.prototype.clearStorageFilePath=function(){return this.internal_clearField(1)};proto.acceleration.BenchmarkStoragePaths.prototype.hasStorageFilePath=function(){return this.internal_hasField(1)};proto.acceleration.BenchmarkStoragePaths.prototype.getDataDirectoryPath=function(){return this.internal_getField(2)};proto.acceleration.BenchmarkStoragePaths.prototype.setDataDirectoryPath=function(e){return this.internal_setField(2,e)};proto.acceleration.BenchmarkStoragePaths.prototype.clearDataDirectoryPath=function(){return this.internal_clearField(2)};proto.acceleration.BenchmarkStoragePaths.prototype.hasDataDirectoryPath=function(){return this.internal_hasField(2)};proto.acceleration.BenchmarkStoragePaths.internalDoNotUse$proto$acceleration$BenchmarkStoragePaths$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readString,2:jspb.internal.binary.readString}};proto.acceleration.BenchmarkStoragePaths.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.acceleration.BenchmarkStoragePaths.serializeBinaryToWriter)};proto.acceleration.BenchmarkStoragePaths.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeString(t,e,1),jspb.internal.binary.writeString(t,e,2),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.acceleration.BenchmarkStoragePaths.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.acceleration.BenchmarkStoragePaths,proto.acceleration.BenchmarkStoragePaths.internalDoNotUse$proto$acceleration$BenchmarkStoragePaths$getBinaryFieldsObject)};proto.acceleration.BenchmarkStoragePaths.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.acceleration.BenchmarkStoragePaths.internalDoNotUse$proto$acceleration$BenchmarkStoragePaths$getBinaryFieldsObject)};proto.acceleration.BenchmarkStoragePaths.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.acceleration.BenchmarkStoragePaths,e)};proto.acceleration.BenchmarkStoragePaths.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.acceleration.BenchmarkStoragePaths.fromObject=function(e){var t=new proto.acceleration.BenchmarkStoragePaths;return e.storageFilePath!=null&&t.internal_setField(1,e.storageFilePath),e.dataDirectoryPath!=null&&t.internal_setField(2,e.dataDirectoryPath),t});proto.acceleration.BenchmarkStoragePaths.prototype.toObject=function(e){return proto.acceleration.BenchmarkStoragePaths.internal_toObject(e,this)};proto.acceleration.BenchmarkStoragePaths.internal_toObject=function(e,t){if(t!=null){var n={storageFilePath:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),dataDirectoryPath:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(2))};return e&&(n.$jspbMessageInstance=t),n}};proto.acceleration.ModelFile=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.acceleration.ModelFile,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.acceleration.ModelFile.prototype.getFilename=function(){return this.internal_getField(1)};proto.acceleration.ModelFile.prototype.setFilename=function(e){return this.internal_setField(1,e)};proto.acceleration.ModelFile.prototype.clearFilename=function(){return this.internal_clearField(1)};proto.acceleration.ModelFile.prototype.hasFilename=function(){return this.internal_hasField(1)};proto.acceleration.ModelFile.prototype.getFd=function(){return this.internal_getField(2)};proto.acceleration.ModelFile.prototype.setFd=function(e){return this.internal_setField(2,e)};proto.acceleration.ModelFile.prototype.clearFd=function(){return this.internal_clearField(2)};proto.acceleration.ModelFile.prototype.hasFd=function(){return this.internal_hasField(2)};proto.acceleration.ModelFile.prototype.getOffset=function(){return this.internal_getField(3)};proto.acceleration.ModelFile.prototype.setOffset=function(e){return this.internal_setField(3,e)};proto.acceleration.ModelFile.prototype.clearOffset=function(){return this.internal_clearField(3)};proto.acceleration.ModelFile.prototype.hasOffset=function(){return this.internal_hasField(3)};proto.acceleration.ModelFile.prototype.getLength=function(){return this.internal_getField(4)};proto.acceleration.ModelFile.prototype.setLength=function(e){return this.internal_setField(4,e)};proto.acceleration.ModelFile.prototype.clearLength=function(){return this.internal_clearField(4)};proto.acceleration.ModelFile.prototype.hasLength=function(){return this.internal_hasField(4)};proto.acceleration.ModelFile.internalDoNotUse$proto$acceleration$ModelFile$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readString,2:jspb.internal.binary.readInt64,3:jspb.internal.binary.readInt64,4:jspb.internal.binary.readInt64}};proto.acceleration.ModelFile.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.acceleration.ModelFile.serializeBinaryToWriter)};proto.acceleration.ModelFile.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeString(t,e,1),jspb.internal.binary.writeInt64(t,e,2),jspb.internal.binary.writeInt64(t,e,3),jspb.internal.binary.writeInt64(t,e,4),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.acceleration.ModelFile.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.acceleration.ModelFile,proto.acceleration.ModelFile.internalDoNotUse$proto$acceleration$ModelFile$getBinaryFieldsObject)};proto.acceleration.ModelFile.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.acceleration.ModelFile.internalDoNotUse$proto$acceleration$ModelFile$getBinaryFieldsObject)};proto.acceleration.ModelFile.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.acceleration.ModelFile,e)};proto.acceleration.ModelFile.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.acceleration.ModelFile.fromObject=function(e){var t=new proto.acceleration.ModelFile;return e.filename!=null&&t.internal_setField(1,e.filename),e.fd!=null&&t.internal_setField(2,e.fd),e.offset!=null&&t.internal_setField(3,e.offset),e.length!=null&&t.internal_setField(4,e.length),t});proto.acceleration.ModelFile.prototype.toObject=function(e){return proto.acceleration.ModelFile.internal_toObject(e,this)};proto.acceleration.ModelFile.internal_toObject=function(e,t){if(t!=null){var n={filename:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),fd:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(2)),offset:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(3)),length:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(4))};return e&&(n.$jspbMessageInstance=t),n}};proto.acceleration.CPUSettings=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.acceleration.CPUSettings,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.acceleration.CPUSettings.prototype.getNumThreads=function(){return this.internal_getIntegerFieldWithDefault(1,-1)};proto.acceleration.CPUSettings.prototype.setNumThreads=function(e){return this.internal_setField(1,e)};proto.acceleration.CPUSettings.prototype.clearNumThreads=function(){return this.internal_clearField(1)};proto.acceleration.CPUSettings.prototype.hasNumThreads=function(){return this.internal_hasField(1)};proto.acceleration.CPUSettings.internalDoNotUse$proto$acceleration$CPUSettings$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readInt32}};proto.acceleration.CPUSettings.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.acceleration.CPUSettings.serializeBinaryToWriter)};proto.acceleration.CPUSettings.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeInt32(t,e,1),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.acceleration.CPUSettings.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.acceleration.CPUSettings,proto.acceleration.CPUSettings.internalDoNotUse$proto$acceleration$CPUSettings$getBinaryFieldsObject)};proto.acceleration.CPUSettings.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.acceleration.CPUSettings.internalDoNotUse$proto$acceleration$CPUSettings$getBinaryFieldsObject)};proto.acceleration.CPUSettings.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.acceleration.CPUSettings,e)};proto.acceleration.CPUSettings.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.acceleration.CPUSettings.fromObject=function(e){var t=new proto.acceleration.CPUSettings;return e.numThreads!=null&&t.internal_setField(1,e.numThreads),t});proto.acceleration.CPUSettings.prototype.toObject=function(e){return proto.acceleration.CPUSettings.internal_toObject(e,this)};proto.acceleration.CPUSettings.internal_toObject=function(e,t){if(t!=null){var n={numThreads:t.internal_getIntegerFieldWithDefault(1,-1)};return e&&(n.$jspbMessageInstance=t),n}};proto.acceleration.CoralDelegateSettings=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.acceleration.CoralDelegateSettings,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.acceleration.CoralDelegateSettings.prototype.getDevice=function(){return this.internal_getField(1)};proto.acceleration.CoralDelegateSettings.prototype.setDevice=function(e){return this.internal_setField(1,e)};proto.acceleration.CoralDelegateSettings.prototype.clearDevice=function(){return this.internal_clearField(1)};proto.acceleration.CoralDelegateSettings.prototype.hasDevice=function(){return this.internal_hasField(1)};proto.acceleration.CoralDelegateSettings.prototype.getPerformance=function(){return this.internal_getFieldWithDefault(2,1)};proto.acceleration.CoralDelegateSettings.prototype.setPerformance=function(e){return this.internal_setField(2,e)};proto.acceleration.CoralDelegateSettings.prototype.clearPerformance=function(){return this.internal_clearField(2)};proto.acceleration.CoralDelegateSettings.prototype.hasPerformance=function(){return this.internal_hasField(2)};proto.acceleration.CoralDelegateSettings.prototype.getUsbAlwaysDfu=function(){return this.internal_getBooleanField(3)};proto.acceleration.CoralDelegateSettings.prototype.setUsbAlwaysDfu=function(e){return this.internal_setField(3,e)};proto.acceleration.CoralDelegateSettings.prototype.clearUsbAlwaysDfu=function(){return this.internal_clearField(3)};proto.acceleration.CoralDelegateSettings.prototype.hasUsbAlwaysDfu=function(){return this.internal_hasField(3)};proto.acceleration.CoralDelegateSettings.prototype.getUsbMaxBulkInQueueLength=function(){return this.internal_getField(4)};proto.acceleration.CoralDelegateSettings.prototype.setUsbMaxBulkInQueueLength=function(e){return this.internal_setField(4,e)};proto.acceleration.CoralDelegateSettings.prototype.clearUsbMaxBulkInQueueLength=function(){return this.internal_clearField(4)};proto.acceleration.CoralDelegateSettings.prototype.hasUsbMaxBulkInQueueLength=function(){return this.internal_hasField(4)};proto.acceleration.CoralDelegateSettings.internalDoNotUse$proto$acceleration$CoralDelegateSettings$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readString,2:jspb.internal.binary.readEnum,3:jspb.internal.binary.readBool,4:jspb.internal.binary.readInt32}};proto.acceleration.CoralDelegateSettings.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.acceleration.CoralDelegateSettings.serializeBinaryToWriter)};proto.acceleration.CoralDelegateSettings.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeString(t,e,1),jspb.internal.binary.writeEnum(t,e,2),jspb.internal.binary.writeBool(t,e,3),jspb.internal.binary.writeInt32(t,e,4),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.acceleration.CoralDelegateSettings.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.acceleration.CoralDelegateSettings,proto.acceleration.CoralDelegateSettings.internalDoNotUse$proto$acceleration$CoralDelegateSettings$getBinaryFieldsObject)};proto.acceleration.CoralDelegateSettings.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.acceleration.CoralDelegateSettings.internalDoNotUse$proto$acceleration$CoralDelegateSettings$getBinaryFieldsObject)};proto.acceleration.CoralDelegateSettings.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.acceleration.CoralDelegateSettings,e)};proto.acceleration.CoralDelegateSettings.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.acceleration.CoralDelegateSettings.fromObject=function(e){var t=new proto.acceleration.CoralDelegateSettings;return e.device!=null&&t.internal_setField(1,e.device),e.performance!=null&&t.internal_setField(2,e.performance),e.usbAlwaysDfu!=null&&t.internal_setField(3,e.usbAlwaysDfu),e.usbMaxBulkInQueueLength!=null&&t.internal_setField(4,e.usbMaxBulkInQueueLength),t});proto.acceleration.CoralDelegateSettings.prototype.toObject=function(e){return proto.acceleration.CoralDelegateSettings.internal_toObject(e,this)};proto.acceleration.CoralDelegateSettings.internal_toObject=function(e,t){if(t!=null){var n={device:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),performance:t.internal_getFieldWithDefault(2,1),usbAlwaysDfu:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getBooleanField(3)),usbMaxBulkInQueueLength:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(4))};return e&&(n.$jspbMessageInstance=t),n}};proto.acceleration.CoralDelegateSettings.Performance={UNDEFINED:0,MAXIMUM:1,HIGH:2,MEDIUM:3,LOW:4};proto.acceleration.EdgeTpuDelegateDeviceSpec=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e,-1,proto.acceleration.EdgeTpuDelegateDeviceSpec.repeatedFields_)};$jscomp.inherits(proto.acceleration.EdgeTpuDelegateDeviceSpec,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.acceleration.EdgeTpuDelegateDeviceSpec.prototype.getPlatformType=function(){return this.internal_getField(1)};proto.acceleration.EdgeTpuDelegateDeviceSpec.prototype.setPlatformType=function(e){return this.internal_setField(1,e)};proto.acceleration.EdgeTpuDelegateDeviceSpec.prototype.clearPlatformType=function(){return this.internal_clearField(1)};proto.acceleration.EdgeTpuDelegateDeviceSpec.prototype.hasPlatformType=function(){return this.internal_hasField(1)};proto.acceleration.EdgeTpuDelegateDeviceSpec.prototype.getNumChips=function(){return this.internal_getField(2)};proto.acceleration.EdgeTpuDelegateDeviceSpec.prototype.setNumChips=function(e){return this.internal_setField(2,e)};proto.acceleration.EdgeTpuDelegateDeviceSpec.prototype.clearNumChips=function(){return this.internal_clearField(2)};proto.acceleration.EdgeTpuDelegateDeviceSpec.prototype.hasNumChips=function(){return this.internal_hasField(2)};proto.acceleration.EdgeTpuDelegateDeviceSpec.prototype.getDevicePathsList=function(){return this.internal_getRepeatedField(3)};proto.acceleration.EdgeTpuDelegateDeviceSpec.prototype.setDevicePathsList=function(e){return this.internal_setRepeatedField(3,e)};proto.acceleration.EdgeTpuDelegateDeviceSpec.prototype.addDevicePaths=function(e,t){return this.internal_addToRepeatedField(3,e,t)};proto.acceleration.EdgeTpuDelegateDeviceSpec.prototype.clearDevicePathsList=function(){return this.internal_clearRepeatedField(3)};proto.acceleration.EdgeTpuDelegateDeviceSpec.prototype.getChipFamily=function(){return this.internal_getField(4)};proto.acceleration.EdgeTpuDelegateDeviceSpec.prototype.setChipFamily=function(e){return this.internal_setField(4,e)};proto.acceleration.EdgeTpuDelegateDeviceSpec.prototype.clearChipFamily=function(){return this.internal_clearField(4)};proto.acceleration.EdgeTpuDelegateDeviceSpec.prototype.hasChipFamily=function(){return this.internal_hasField(4)};proto.acceleration.EdgeTpuDelegateDeviceSpec.internalDoNotUse$proto$acceleration$EdgeTpuDelegateDeviceSpec$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readEnum,2:jspb.internal.binary.readInt32,3:jspb.internal.binary.readRepeatedString,4:jspb.internal.binary.readInt32}};proto.acceleration.EdgeTpuDelegateDeviceSpec.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.acceleration.EdgeTpuDelegateDeviceSpec.serializeBinaryToWriter)};proto.acceleration.EdgeTpuDelegateDeviceSpec.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeEnum(t,e,1),jspb.internal.binary.writeInt32(t,e,2),jspb.internal.binary.writeRepeatedString(t,e,3),jspb.internal.binary.writeInt32(t,e,4),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.acceleration.EdgeTpuDelegateDeviceSpec.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.acceleration.EdgeTpuDelegateDeviceSpec,proto.acceleration.EdgeTpuDelegateDeviceSpec.internalDoNotUse$proto$acceleration$EdgeTpuDelegateDeviceSpec$getBinaryFieldsObject)};proto.acceleration.EdgeTpuDelegateDeviceSpec.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.acceleration.EdgeTpuDelegateDeviceSpec.internalDoNotUse$proto$acceleration$EdgeTpuDelegateDeviceSpec$getBinaryFieldsObject)};proto.acceleration.EdgeTpuDelegateDeviceSpec.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.acceleration.EdgeTpuDelegateDeviceSpec,e)};proto.acceleration.EdgeTpuDelegateDeviceSpec.repeatedFields_=[3];proto.acceleration.EdgeTpuDelegateDeviceSpec.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.acceleration.EdgeTpuDelegateDeviceSpec.fromObject=function(e){var t=new proto.acceleration.EdgeTpuDelegateDeviceSpec;return e.platformType!=null&&t.internal_setField(1,e.platformType),e.numChips!=null&&t.internal_setField(2,e.numChips),e.devicePathsList!=null&&t.internal_setRepeatedField(3,e.devicePathsList),e.chipFamily!=null&&t.internal_setField(4,e.chipFamily),t});proto.acceleration.EdgeTpuDelegateDeviceSpec.prototype.toObject=function(e){return proto.acceleration.EdgeTpuDelegateDeviceSpec.internal_toObject(e,this)};proto.acceleration.EdgeTpuDelegateDeviceSpec.internal_toObject=function(e,t){if(t!=null){var n={platformType:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),numChips:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(2)),devicePathsList:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getRepeatedField(3)),chipFamily:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(4))};return e&&(n.$jspbMessageInstance=t),n}};proto.acceleration.EdgeTpuDelegateDeviceSpec.PlatformType={MMIO:0,REFERENCE:1,SIMULATOR:2,REMOTE_SIMULATOR:3};proto.acceleration.EdgeTpuDelegateInactivePowerConfig=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.acceleration.EdgeTpuDelegateInactivePowerConfig,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.acceleration.EdgeTpuDelegateInactivePowerConfig.prototype.getInactivePowerState=function(){return this.internal_getField(1)};proto.acceleration.EdgeTpuDelegateInactivePowerConfig.prototype.setInactivePowerState=function(e){return this.internal_setField(1,e)};proto.acceleration.EdgeTpuDelegateInactivePowerConfig.prototype.clearInactivePowerState=function(){return this.internal_clearField(1)};proto.acceleration.EdgeTpuDelegateInactivePowerConfig.prototype.hasInactivePowerState=function(){return this.internal_hasField(1)};proto.acceleration.EdgeTpuDelegateInactivePowerConfig.prototype.getInactiveTimeoutUs=function(){return this.internal_getField(2)};proto.acceleration.EdgeTpuDelegateInactivePowerConfig.prototype.setInactiveTimeoutUs=function(e){return this.internal_setField(2,e)};proto.acceleration.EdgeTpuDelegateInactivePowerConfig.prototype.clearInactiveTimeoutUs=function(){return this.internal_clearField(2)};proto.acceleration.EdgeTpuDelegateInactivePowerConfig.prototype.hasInactiveTimeoutUs=function(){return this.internal_hasField(2)};proto.acceleration.EdgeTpuDelegateInactivePowerConfig.internalDoNotUse$proto$acceleration$EdgeTpuDelegateInactivePowerConfig$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readEnum,2:jspb.internal.binary.readInt64}};proto.acceleration.EdgeTpuDelegateInactivePowerConfig.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.acceleration.EdgeTpuDelegateInactivePowerConfig.serializeBinaryToWriter)};proto.acceleration.EdgeTpuDelegateInactivePowerConfig.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeEnum(t,e,1),jspb.internal.binary.writeInt64(t,e,2),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.acceleration.EdgeTpuDelegateInactivePowerConfig.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.acceleration.EdgeTpuDelegateInactivePowerConfig,proto.acceleration.EdgeTpuDelegateInactivePowerConfig.internalDoNotUse$proto$acceleration$EdgeTpuDelegateInactivePowerConfig$getBinaryFieldsObject)};proto.acceleration.EdgeTpuDelegateInactivePowerConfig.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.acceleration.EdgeTpuDelegateInactivePowerConfig.internalDoNotUse$proto$acceleration$EdgeTpuDelegateInactivePowerConfig$getBinaryFieldsObject)};proto.acceleration.EdgeTpuDelegateInactivePowerConfig.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.acceleration.EdgeTpuDelegateInactivePowerConfig,e)};proto.acceleration.EdgeTpuDelegateInactivePowerConfig.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.acceleration.EdgeTpuDelegateInactivePowerConfig.fromObject=function(e){var t=new proto.acceleration.EdgeTpuDelegateInactivePowerConfig;return e.inactivePowerState!=null&&t.internal_setField(1,e.inactivePowerState),e.inactiveTimeoutUs!=null&&t.internal_setField(2,e.inactiveTimeoutUs),t});proto.acceleration.EdgeTpuDelegateInactivePowerConfig.prototype.toObject=function(e){return proto.acceleration.EdgeTpuDelegateInactivePowerConfig.internal_toObject(e,this)};proto.acceleration.EdgeTpuDelegateInactivePowerConfig.internal_toObject=function(e,t){if(t!=null){var n={inactivePowerState:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),inactiveTimeoutUs:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(2))};return e&&(n.$jspbMessageInstance=t),n}};proto.acceleration.EdgeTpuDelegateSettings=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e,-1,proto.acceleration.EdgeTpuDelegateSettings.repeatedFields_)};$jscomp.inherits(proto.acceleration.EdgeTpuDelegateSettings,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.acceleration.EdgeTpuDelegateSettings.prototype.getInferencePowerState=function(){return this.internal_getField(1)};proto.acceleration.EdgeTpuDelegateSettings.prototype.setInferencePowerState=function(e){return this.internal_setField(1,e)};proto.acceleration.EdgeTpuDelegateSettings.prototype.clearInferencePowerState=function(){return this.internal_clearField(1)};proto.acceleration.EdgeTpuDelegateSettings.prototype.hasInferencePowerState=function(){return this.internal_hasField(1)};proto.acceleration.EdgeTpuDelegateSettings.prototype.getInactivePowerConfigsList=function(){return this.internal_getRepeatedWrapperField(proto.acceleration.EdgeTpuDelegateInactivePowerConfig,2)};proto.acceleration.EdgeTpuDelegateSettings.prototype.setInactivePowerConfigsList=function(e){return this.internal_setRepeatedWrapperField(2,e)};proto.acceleration.EdgeTpuDelegateSettings.prototype.addInactivePowerConfigs=function(e,t){return this.internal_addToRepeatedWrapperField(2,e,proto.acceleration.EdgeTpuDelegateInactivePowerConfig,t)};proto.acceleration.EdgeTpuDelegateSettings.prototype.addAndReturnInactivePowerConfigs=function(e,t){return this.internal_addAndReturnRepeatedWrapperField(2,e,proto.acceleration.EdgeTpuDelegateInactivePowerConfig,t)};proto.acceleration.EdgeTpuDelegateSettings.prototype.clearInactivePowerConfigsList=function(){return this.internal_clearRepeatedWrapperField(2)};proto.acceleration.EdgeTpuDelegateSettings.prototype.getInferencePriority=function(){return this.internal_getIntegerFieldWithDefault(3,-1)};proto.acceleration.EdgeTpuDelegateSettings.prototype.setInferencePriority=function(e){return this.internal_setField(3,e)};proto.acceleration.EdgeTpuDelegateSettings.prototype.clearInferencePriority=function(){return this.internal_clearField(3)};proto.acceleration.EdgeTpuDelegateSettings.prototype.hasInferencePriority=function(){return this.internal_hasField(3)};proto.acceleration.EdgeTpuDelegateSettings.prototype.getEdgetpuDeviceSpec=function(){return this.internal_getWrapperField(proto.acceleration.EdgeTpuDelegateDeviceSpec,4)};proto.acceleration.EdgeTpuDelegateSettings.prototype.setEdgetpuDeviceSpec=function(e){return this.internal_setWrapperField(4,e)};proto.acceleration.EdgeTpuDelegateSettings.prototype.clearEdgetpuDeviceSpec=function(){return this.internal_clearWrapperField(4)};proto.acceleration.EdgeTpuDelegateSettings.prototype.hasEdgetpuDeviceSpec=function(){return this.internal_hasField(4)};proto.acceleration.EdgeTpuDelegateSettings.prototype.getModelToken=function(){return this.internal_getField(5)};proto.acceleration.EdgeTpuDelegateSettings.prototype.setModelToken=function(e){return this.internal_setField(5,e)};proto.acceleration.EdgeTpuDelegateSettings.prototype.clearModelToken=function(){return this.internal_clearField(5)};proto.acceleration.EdgeTpuDelegateSettings.prototype.hasModelToken=function(){return this.internal_hasField(5)};proto.acceleration.EdgeTpuDelegateSettings.prototype.getFloatTruncationType=function(){return this.internal_getField(6)};proto.acceleration.EdgeTpuDelegateSettings.prototype.setFloatTruncationType=function(e){return this.internal_setField(6,e)};proto.acceleration.EdgeTpuDelegateSettings.prototype.clearFloatTruncationType=function(){return this.internal_clearField(6)};proto.acceleration.EdgeTpuDelegateSettings.prototype.hasFloatTruncationType=function(){return this.internal_hasField(6)};proto.acceleration.EdgeTpuDelegateSettings.internalDoNotUse$proto$acceleration$EdgeTpuDelegateSettings$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readEnum,2:[jspb.internal.binary.readRepeatedMessage,proto.acceleration.EdgeTpuDelegateInactivePowerConfig,proto.acceleration.EdgeTpuDelegateInactivePowerConfig.internalDoNotUse$proto$acceleration$EdgeTpuDelegateInactivePowerConfig$getBinaryFieldsObject],3:jspb.internal.binary.readInt32,4:[jspb.internal.binary.readMessage,proto.acceleration.EdgeTpuDelegateDeviceSpec,proto.acceleration.EdgeTpuDelegateDeviceSpec.internalDoNotUse$proto$acceleration$EdgeTpuDelegateDeviceSpec$getBinaryFieldsObject],5:jspb.internal.binary.readString,6:jspb.internal.binary.readEnum}};proto.acceleration.EdgeTpuDelegateSettings.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.acceleration.EdgeTpuDelegateSettings.serializeBinaryToWriter)};proto.acceleration.EdgeTpuDelegateSettings.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeEnum(t,e,1),jspb.internal.binary.writeRepeatedMessage(t,e,2,proto.acceleration.EdgeTpuDelegateInactivePowerConfig,proto.acceleration.EdgeTpuDelegateInactivePowerConfig.serializeBinaryToWriter),jspb.internal.binary.writeInt32(t,e,3),jspb.internal.binary.writeMessage(t,e,4,proto.acceleration.EdgeTpuDelegateDeviceSpec,proto.acceleration.EdgeTpuDelegateDeviceSpec.serializeBinaryToWriter),jspb.internal.binary.writeString(t,e,5),jspb.internal.binary.writeEnum(t,e,6),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.acceleration.EdgeTpuDelegateSettings.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.acceleration.EdgeTpuDelegateSettings,proto.acceleration.EdgeTpuDelegateSettings.internalDoNotUse$proto$acceleration$EdgeTpuDelegateSettings$getBinaryFieldsObject)};proto.acceleration.EdgeTpuDelegateSettings.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.acceleration.EdgeTpuDelegateSettings.internalDoNotUse$proto$acceleration$EdgeTpuDelegateSettings$getBinaryFieldsObject)};proto.acceleration.EdgeTpuDelegateSettings.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.acceleration.EdgeTpuDelegateSettings,e)};proto.acceleration.EdgeTpuDelegateSettings.repeatedFields_=[2];proto.acceleration.EdgeTpuDelegateSettings.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.acceleration.EdgeTpuDelegateSettings.fromObject=function(e){var t=new proto.acceleration.EdgeTpuDelegateSettings;return e.inferencePowerState!=null&&t.internal_setField(1,e.inferencePowerState),e.inactivePowerConfigsList&&t.internal_setRepeatedWrapperField(2,e.inactivePowerConfigsList.map(proto.acceleration.EdgeTpuDelegateInactivePowerConfig.fromObject)),e.inferencePriority!=null&&t.internal_setField(3,e.inferencePriority),e.edgetpuDeviceSpec&&t.internal_setWrapperField(4,proto.acceleration.EdgeTpuDelegateDeviceSpec.fromObject(e.edgetpuDeviceSpec)),e.modelToken!=null&&t.internal_setField(5,e.modelToken),e.floatTruncationType!=null&&t.internal_setField(6,e.floatTruncationType),t});proto.acceleration.EdgeTpuDelegateSettings.prototype.toObject=function(e){return proto.acceleration.EdgeTpuDelegateSettings.internal_toObject(e,this)};proto.acceleration.EdgeTpuDelegateSettings.internal_toObject=function(e,t){if(t!=null){var n={inferencePowerState:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),inactivePowerConfigsList:module$contents$jspb$internal$public_for_gencode_toObjectList(t.getInactivePowerConfigsList(),proto.acceleration.EdgeTpuDelegateInactivePowerConfig.internal_toObject,e),inferencePriority:t.internal_getIntegerFieldWithDefault(3,-1),edgetpuDeviceSpec:proto.acceleration.EdgeTpuDelegateDeviceSpec.internal_toObject(e,t.getEdgetpuDeviceSpec()),modelToken:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(5)),floatTruncationType:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(6))};return e&&(n.$jspbMessageInstance=t),n}};proto.acceleration.EdgeTpuDelegateSettings.FloatTruncationType={UNSPECIFIED:0,NO_TRUNCATION:1,BFLOAT16:2,HALF:3};proto.acceleration.FallbackSettings=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.acceleration.FallbackSettings,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.acceleration.FallbackSettings.prototype.getAllowAutomaticFallbackOnCompilationError=function(){return this.internal_getBooleanField(5)};proto.acceleration.FallbackSettings.prototype.setAllowAutomaticFallbackOnCompilationError=function(e){return this.internal_setField(5,e)};proto.acceleration.FallbackSettings.prototype.clearAllowAutomaticFallbackOnCompilationError=function(){return this.internal_clearField(5)};proto.acceleration.FallbackSettings.prototype.hasAllowAutomaticFallbackOnCompilationError=function(){return this.internal_hasField(5)};proto.acceleration.FallbackSettings.prototype.getAllowAutomaticFallbackOnExecutionError=function(){return this.internal_getBooleanField(6)};proto.acceleration.FallbackSettings.prototype.setAllowAutomaticFallbackOnExecutionError=function(e){return this.internal_setField(6,e)};proto.acceleration.FallbackSettings.prototype.clearAllowAutomaticFallbackOnExecutionError=function(){return this.internal_clearField(6)};proto.acceleration.FallbackSettings.prototype.hasAllowAutomaticFallbackOnExecutionError=function(){return this.internal_hasField(6)};proto.acceleration.FallbackSettings.internalDoNotUse$proto$acceleration$FallbackSettings$getBinaryFieldsObject=function(){return{5:jspb.internal.binary.readBool,6:jspb.internal.binary.readBool}};proto.acceleration.FallbackSettings.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.acceleration.FallbackSettings.serializeBinaryToWriter)};proto.acceleration.FallbackSettings.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeBool(t,e,5),jspb.internal.binary.writeBool(t,e,6),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.acceleration.FallbackSettings.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.acceleration.FallbackSettings,proto.acceleration.FallbackSettings.internalDoNotUse$proto$acceleration$FallbackSettings$getBinaryFieldsObject)};proto.acceleration.FallbackSettings.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.acceleration.FallbackSettings.internalDoNotUse$proto$acceleration$FallbackSettings$getBinaryFieldsObject)};proto.acceleration.FallbackSettings.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.acceleration.FallbackSettings,e)};proto.acceleration.FallbackSettings.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.acceleration.FallbackSettings.fromObject=function(e){var t=new proto.acceleration.FallbackSettings;return e.allowAutomaticFallbackOnCompilationError!=null&&t.internal_setField(5,e.allowAutomaticFallbackOnCompilationError),e.allowAutomaticFallbackOnExecutionError!=null&&t.internal_setField(6,e.allowAutomaticFallbackOnExecutionError),t});proto.acceleration.FallbackSettings.prototype.toObject=function(e){return proto.acceleration.FallbackSettings.internal_toObject(e,this)};proto.acceleration.FallbackSettings.internal_toObject=function(e,t){if(t!=null){var n={allowAutomaticFallbackOnCompilationError:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getBooleanField(5)),allowAutomaticFallbackOnExecutionError:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getBooleanField(6))};return e&&(n.$jspbMessageInstance=t),n}};proto.acceleration.GPUDelegateSettings=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.acceleration.GPUDelegateSettings,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.acceleration.GPUDelegateSettings.prototype.getIsPrecisionLossAllowed=function(){return this.internal_getBooleanField(1)};proto.acceleration.GPUDelegateSettings.prototype.setIsPrecisionLossAllowed=function(e){return this.internal_setField(1,e)};proto.acceleration.GPUDelegateSettings.prototype.clearIsPrecisionLossAllowed=function(){return this.internal_clearField(1)};proto.acceleration.GPUDelegateSettings.prototype.hasIsPrecisionLossAllowed=function(){return this.internal_hasField(1)};proto.acceleration.GPUDelegateSettings.prototype.getInferencePreference=function(){return this.internal_getField(2)};proto.acceleration.GPUDelegateSettings.prototype.setInferencePreference=function(e){return this.internal_setField(2,e)};proto.acceleration.GPUDelegateSettings.prototype.clearInferencePreference=function(){return this.internal_clearField(2)};proto.acceleration.GPUDelegateSettings.prototype.hasInferencePreference=function(){return this.internal_hasField(2)};proto.acceleration.GPUDelegateSettings.prototype.getEnableQuantizedInference=function(){return this.internal_getBooleanFieldWithDefault(3,!0)};proto.acceleration.GPUDelegateSettings.prototype.setEnableQuantizedInference=function(e){return this.internal_setField(3,e)};proto.acceleration.GPUDelegateSettings.prototype.clearEnableQuantizedInference=function(){return this.internal_clearField(3)};proto.acceleration.GPUDelegateSettings.prototype.hasEnableQuantizedInference=function(){return this.internal_hasField(3)};proto.acceleration.GPUDelegateSettings.prototype.getForceBackend=function(){return this.internal_getField(4)};proto.acceleration.GPUDelegateSettings.prototype.setForceBackend=function(e){return this.internal_setField(4,e)};proto.acceleration.GPUDelegateSettings.prototype.clearForceBackend=function(){return this.internal_clearField(4)};proto.acceleration.GPUDelegateSettings.prototype.hasForceBackend=function(){return this.internal_hasField(4)};proto.acceleration.GPUDelegateSettings.prototype.getInferencePriority1=function(){return this.internal_getFieldWithDefault(5,0)};proto.acceleration.GPUDelegateSettings.prototype.setInferencePriority1=function(e){return this.internal_setField(5,e)};proto.acceleration.GPUDelegateSettings.prototype.clearInferencePriority1=function(){return this.internal_clearField(5)};proto.acceleration.GPUDelegateSettings.prototype.hasInferencePriority1=function(){return this.internal_hasField(5)};proto.acceleration.GPUDelegateSettings.prototype.getInferencePriority2=function(){return this.internal_getFieldWithDefault(6,0)};proto.acceleration.GPUDelegateSettings.prototype.setInferencePriority2=function(e){return this.internal_setField(6,e)};proto.acceleration.GPUDelegateSettings.prototype.clearInferencePriority2=function(){return this.internal_clearField(6)};proto.acceleration.GPUDelegateSettings.prototype.hasInferencePriority2=function(){return this.internal_hasField(6)};proto.acceleration.GPUDelegateSettings.prototype.getInferencePriority3=function(){return this.internal_getFieldWithDefault(7,0)};proto.acceleration.GPUDelegateSettings.prototype.setInferencePriority3=function(e){return this.internal_setField(7,e)};proto.acceleration.GPUDelegateSettings.prototype.clearInferencePriority3=function(){return this.internal_clearField(7)};proto.acceleration.GPUDelegateSettings.prototype.hasInferencePriority3=function(){return this.internal_hasField(7)};proto.acceleration.GPUDelegateSettings.prototype.getCacheDirectory=function(){return this.internal_getField(8)};proto.acceleration.GPUDelegateSettings.prototype.setCacheDirectory=function(e){return this.internal_setField(8,e)};proto.acceleration.GPUDelegateSettings.prototype.clearCacheDirectory=function(){return this.internal_clearField(8)};proto.acceleration.GPUDelegateSettings.prototype.hasCacheDirectory=function(){return this.internal_hasField(8)};proto.acceleration.GPUDelegateSettings.prototype.getModelToken=function(){return this.internal_getField(9)};proto.acceleration.GPUDelegateSettings.prototype.setModelToken=function(e){return this.internal_setField(9,e)};proto.acceleration.GPUDelegateSettings.prototype.clearModelToken=function(){return this.internal_clearField(9)};proto.acceleration.GPUDelegateSettings.prototype.hasModelToken=function(){return this.internal_hasField(9)};proto.acceleration.GPUDelegateSettings.internalDoNotUse$proto$acceleration$GPUDelegateSettings$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readBool,2:jspb.internal.binary.readEnum,3:jspb.internal.binary.readBool,4:jspb.internal.binary.readEnum,5:jspb.internal.binary.readEnum,6:jspb.internal.binary.readEnum,7:jspb.internal.binary.readEnum,8:jspb.internal.binary.readString,9:jspb.internal.binary.readString}};proto.acceleration.GPUDelegateSettings.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.acceleration.GPUDelegateSettings.serializeBinaryToWriter)};proto.acceleration.GPUDelegateSettings.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeBool(t,e,1),jspb.internal.binary.writeEnum(t,e,2),jspb.internal.binary.writeBool(t,e,3),jspb.internal.binary.writeEnum(t,e,4),jspb.internal.binary.writeEnum(t,e,5),jspb.internal.binary.writeEnum(t,e,6),jspb.internal.binary.writeEnum(t,e,7),jspb.internal.binary.writeString(t,e,8),jspb.internal.binary.writeString(t,e,9),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.acceleration.GPUDelegateSettings.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.acceleration.GPUDelegateSettings,proto.acceleration.GPUDelegateSettings.internalDoNotUse$proto$acceleration$GPUDelegateSettings$getBinaryFieldsObject)};proto.acceleration.GPUDelegateSettings.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.acceleration.GPUDelegateSettings.internalDoNotUse$proto$acceleration$GPUDelegateSettings$getBinaryFieldsObject)};proto.acceleration.GPUDelegateSettings.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.acceleration.GPUDelegateSettings,e)};proto.acceleration.GPUDelegateSettings.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.acceleration.GPUDelegateSettings.fromObject=function(e){var t=new proto.acceleration.GPUDelegateSettings;return e.isPrecisionLossAllowed!=null&&t.internal_setField(1,e.isPrecisionLossAllowed),e.inferencePreference!=null&&t.internal_setField(2,e.inferencePreference),e.enableQuantizedInference!=null&&t.internal_setField(3,e.enableQuantizedInference),e.forceBackend!=null&&t.internal_setField(4,e.forceBackend),e.inferencePriority1!=null&&t.internal_setField(5,e.inferencePriority1),e.inferencePriority2!=null&&t.internal_setField(6,e.inferencePriority2),e.inferencePriority3!=null&&t.internal_setField(7,e.inferencePriority3),e.cacheDirectory!=null&&t.internal_setField(8,e.cacheDirectory),e.modelToken!=null&&t.internal_setField(9,e.modelToken),t});proto.acceleration.GPUDelegateSettings.prototype.toObject=function(e){return proto.acceleration.GPUDelegateSettings.internal_toObject(e,this)};proto.acceleration.GPUDelegateSettings.internal_toObject=function(e,t){if(t!=null){var n={isPrecisionLossAllowed:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getBooleanField(1)),inferencePreference:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(2)),enableQuantizedInference:t.internal_getBooleanFieldWithDefault(3,!0),forceBackend:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(4)),inferencePriority1:t.internal_getFieldWithDefault(5,0),inferencePriority2:t.internal_getFieldWithDefault(6,0),inferencePriority3:t.internal_getFieldWithDefault(7,0),cacheDirectory:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(8)),modelToken:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(9))};return e&&(n.$jspbMessageInstance=t),n}};proto.acceleration.HangDetectionSettings=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.acceleration.HangDetectionSettings,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.acceleration.HangDetectionSettings.prototype.getBehaviour=function(){return this.internal_getField(1)};proto.acceleration.HangDetectionSettings.prototype.setBehaviour=function(e){return this.internal_setField(1,e)};proto.acceleration.HangDetectionSettings.prototype.clearBehaviour=function(){return this.internal_clearField(1)};proto.acceleration.HangDetectionSettings.prototype.hasBehaviour=function(){return this.internal_hasField(1)};proto.acceleration.HangDetectionSettings.prototype.getCrashTriggerPercentage=function(){return this.internal_getIntegerFieldWithDefault(2,100)};proto.acceleration.HangDetectionSettings.prototype.setCrashTriggerPercentage=function(e){return this.internal_setField(2,e)};proto.acceleration.HangDetectionSettings.prototype.clearCrashTriggerPercentage=function(){return this.internal_clearField(2)};proto.acceleration.HangDetectionSettings.prototype.hasCrashTriggerPercentage=function(){return this.internal_hasField(2)};proto.acceleration.HangDetectionSettings.prototype.getHangTimeoutMs=function(){return this.internal_getField(3)};proto.acceleration.HangDetectionSettings.prototype.setHangTimeoutMs=function(e){return this.internal_setField(3,e)};proto.acceleration.HangDetectionSettings.prototype.clearHangTimeoutMs=function(){return this.internal_clearField(3)};proto.acceleration.HangDetectionSettings.prototype.hasHangTimeoutMs=function(){return this.internal_hasField(3)};proto.acceleration.HangDetectionSettings.internalDoNotUse$proto$acceleration$HangDetectionSettings$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readEnum,2:jspb.internal.binary.readInt32,3:jspb.internal.binary.readInt32}};proto.acceleration.HangDetectionSettings.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.acceleration.HangDetectionSettings.serializeBinaryToWriter)};proto.acceleration.HangDetectionSettings.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeEnum(t,e,1),jspb.internal.binary.writeInt32(t,e,2),jspb.internal.binary.writeInt32(t,e,3),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.acceleration.HangDetectionSettings.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.acceleration.HangDetectionSettings,proto.acceleration.HangDetectionSettings.internalDoNotUse$proto$acceleration$HangDetectionSettings$getBinaryFieldsObject)};proto.acceleration.HangDetectionSettings.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.acceleration.HangDetectionSettings.internalDoNotUse$proto$acceleration$HangDetectionSettings$getBinaryFieldsObject)};proto.acceleration.HangDetectionSettings.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.acceleration.HangDetectionSettings,e)};proto.acceleration.HangDetectionSettings.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.acceleration.HangDetectionSettings.fromObject=function(e){var t=new proto.acceleration.HangDetectionSettings;return e.behaviour!=null&&t.internal_setField(1,e.behaviour),e.crashTriggerPercentage!=null&&t.internal_setField(2,e.crashTriggerPercentage),e.hangTimeoutMs!=null&&t.internal_setField(3,e.hangTimeoutMs),t});proto.acceleration.HangDetectionSettings.prototype.toObject=function(e){return proto.acceleration.HangDetectionSettings.internal_toObject(e,this)};proto.acceleration.HangDetectionSettings.internal_toObject=function(e,t){if(t!=null){var n={behaviour:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),crashTriggerPercentage:t.internal_getIntegerFieldWithDefault(2,100),hangTimeoutMs:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(3))};return e&&(n.$jspbMessageInstance=t),n}};proto.acceleration.HexagonDelegateSettings=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.acceleration.HexagonDelegateSettings,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.acceleration.HexagonDelegateSettings.prototype.getNoOfHexagonInstancesToCache=function(){return this.internal_getField(1)};proto.acceleration.HexagonDelegateSettings.prototype.setNoOfHexagonInstancesToCache=function(e){return this.internal_setField(1,e)};proto.acceleration.HexagonDelegateSettings.prototype.clearNoOfHexagonInstancesToCache=function(){return this.internal_clearField(1)};proto.acceleration.HexagonDelegateSettings.prototype.hasNoOfHexagonInstancesToCache=function(){return this.internal_hasField(1)};proto.acceleration.HexagonDelegateSettings.internalDoNotUse$proto$acceleration$HexagonDelegateSettings$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readInt32}};proto.acceleration.HexagonDelegateSettings.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.acceleration.HexagonDelegateSettings.serializeBinaryToWriter)};proto.acceleration.HexagonDelegateSettings.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeInt32(t,e,1),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.acceleration.HexagonDelegateSettings.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.acceleration.HexagonDelegateSettings,proto.acceleration.HexagonDelegateSettings.internalDoNotUse$proto$acceleration$HexagonDelegateSettings$getBinaryFieldsObject)};proto.acceleration.HexagonDelegateSettings.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.acceleration.HexagonDelegateSettings.internalDoNotUse$proto$acceleration$HexagonDelegateSettings$getBinaryFieldsObject)};proto.acceleration.HexagonDelegateSettings.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.acceleration.HexagonDelegateSettings,e)};proto.acceleration.HexagonDelegateSettings.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.acceleration.HexagonDelegateSettings.fromObject=function(e){var t=new proto.acceleration.HexagonDelegateSettings;return e.noOfHexagonInstancesToCache!=null&&t.internal_setField(1,e.noOfHexagonInstancesToCache),t});proto.acceleration.HexagonDelegateSettings.prototype.toObject=function(e){return proto.acceleration.HexagonDelegateSettings.internal_toObject(e,this)};proto.acceleration.HexagonDelegateSettings.internal_toObject=function(e,t){if(t!=null){var n={noOfHexagonInstancesToCache:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1))};return e&&(n.$jspbMessageInstance=t),n}};proto.acceleration.NNAPIDelegateSettings=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.acceleration.NNAPIDelegateSettings,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.acceleration.NNAPIDelegateSettings.prototype.getAcceleratorName=function(){return this.internal_getField(1)};proto.acceleration.NNAPIDelegateSettings.prototype.setAcceleratorName=function(e){return this.internal_setField(1,e)};proto.acceleration.NNAPIDelegateSettings.prototype.clearAcceleratorName=function(){return this.internal_clearField(1)};proto.acceleration.NNAPIDelegateSettings.prototype.hasAcceleratorName=function(){return this.internal_hasField(1)};proto.acceleration.NNAPIDelegateSettings.prototype.getCacheDirectory=function(){return this.internal_getField(2)};proto.acceleration.NNAPIDelegateSettings.prototype.setCacheDirectory=function(e){return this.internal_setField(2,e)};proto.acceleration.NNAPIDelegateSettings.prototype.clearCacheDirectory=function(){return this.internal_clearField(2)};proto.acceleration.NNAPIDelegateSettings.prototype.hasCacheDirectory=function(){return this.internal_hasField(2)};proto.acceleration.NNAPIDelegateSettings.prototype.getModelToken=function(){return this.internal_getField(3)};proto.acceleration.NNAPIDelegateSettings.prototype.setModelToken=function(e){return this.internal_setField(3,e)};proto.acceleration.NNAPIDelegateSettings.prototype.clearModelToken=function(){return this.internal_clearField(3)};proto.acceleration.NNAPIDelegateSettings.prototype.hasModelToken=function(){return this.internal_hasField(3)};proto.acceleration.NNAPIDelegateSettings.prototype.getExecutionPreference=function(){return this.internal_getField(4)};proto.acceleration.NNAPIDelegateSettings.prototype.setExecutionPreference=function(e){return this.internal_setField(4,e)};proto.acceleration.NNAPIDelegateSettings.prototype.clearExecutionPreference=function(){return this.internal_clearField(4)};proto.acceleration.NNAPIDelegateSettings.prototype.hasExecutionPreference=function(){return this.internal_hasField(4)};proto.acceleration.NNAPIDelegateSettings.prototype.getNoOfNnapiInstancesToCache=function(){return this.internal_getField(5)};proto.acceleration.NNAPIDelegateSettings.prototype.setNoOfNnapiInstancesToCache=function(e){return this.internal_setField(5,e)};proto.acceleration.NNAPIDelegateSettings.prototype.clearNoOfNnapiInstancesToCache=function(){return this.internal_clearField(5)};proto.acceleration.NNAPIDelegateSettings.prototype.hasNoOfNnapiInstancesToCache=function(){return this.internal_hasField(5)};proto.acceleration.NNAPIDelegateSettings.prototype.getFallbackSettings=function(){return this.internal_getWrapperField(proto.acceleration.FallbackSettings,6)};proto.acceleration.NNAPIDelegateSettings.prototype.setFallbackSettings=function(e){return this.internal_setWrapperField(6,e)};proto.acceleration.NNAPIDelegateSettings.prototype.clearFallbackSettings=function(){return this.internal_clearWrapperField(6)};proto.acceleration.NNAPIDelegateSettings.prototype.hasFallbackSettings=function(){return this.internal_hasField(6)};proto.acceleration.NNAPIDelegateSettings.prototype.getAllowNnapiCpuOnAndroid10Plus=function(){return this.internal_getBooleanField(7)};proto.acceleration.NNAPIDelegateSettings.prototype.setAllowNnapiCpuOnAndroid10Plus=function(e){return this.internal_setField(7,e)};proto.acceleration.NNAPIDelegateSettings.prototype.clearAllowNnapiCpuOnAndroid10Plus=function(){return this.internal_clearField(7)};proto.acceleration.NNAPIDelegateSettings.prototype.hasAllowNnapiCpuOnAndroid10Plus=function(){return this.internal_hasField(7)};proto.acceleration.NNAPIDelegateSettings.prototype.getExecutionPriority=function(){return this.internal_getField(8)};proto.acceleration.NNAPIDelegateSettings.prototype.setExecutionPriority=function(e){return this.internal_setField(8,e)};proto.acceleration.NNAPIDelegateSettings.prototype.clearExecutionPriority=function(){return this.internal_clearField(8)};proto.acceleration.NNAPIDelegateSettings.prototype.hasExecutionPriority=function(){return this.internal_hasField(8)};proto.acceleration.NNAPIDelegateSettings.prototype.getAllowDynamicDimensions=function(){return this.internal_getBooleanField(9)};proto.acceleration.NNAPIDelegateSettings.prototype.setAllowDynamicDimensions=function(e){return this.internal_setField(9,e)};proto.acceleration.NNAPIDelegateSettings.prototype.clearAllowDynamicDimensions=function(){return this.internal_clearField(9)};proto.acceleration.NNAPIDelegateSettings.prototype.hasAllowDynamicDimensions=function(){return this.internal_hasField(9)};proto.acceleration.NNAPIDelegateSettings.prototype.getAllowFp16PrecisionForFp32=function(){return this.internal_getBooleanField(10)};proto.acceleration.NNAPIDelegateSettings.prototype.setAllowFp16PrecisionForFp32=function(e){return this.internal_setField(10,e)};proto.acceleration.NNAPIDelegateSettings.prototype.clearAllowFp16PrecisionForFp32=function(){return this.internal_clearField(10)};proto.acceleration.NNAPIDelegateSettings.prototype.hasAllowFp16PrecisionForFp32=function(){return this.internal_hasField(10)};proto.acceleration.NNAPIDelegateSettings.prototype.getUseBurstComputation=function(){return this.internal_getBooleanField(11)};proto.acceleration.NNAPIDelegateSettings.prototype.setUseBurstComputation=function(e){return this.internal_setField(11,e)};proto.acceleration.NNAPIDelegateSettings.prototype.clearUseBurstComputation=function(){return this.internal_clearField(11)};proto.acceleration.NNAPIDelegateSettings.prototype.hasUseBurstComputation=function(){return this.internal_hasField(11)};proto.acceleration.NNAPIDelegateSettings.prototype.getSupportLibraryHandle=function(){return this.internal_getField(12)};proto.acceleration.NNAPIDelegateSettings.prototype.setSupportLibraryHandle=function(e){return this.internal_setField(12,e)};proto.acceleration.NNAPIDelegateSettings.prototype.clearSupportLibraryHandle=function(){return this.internal_clearField(12)};proto.acceleration.NNAPIDelegateSettings.prototype.hasSupportLibraryHandle=function(){return this.internal_hasField(12)};proto.acceleration.NNAPIDelegateSettings.internalDoNotUse$proto$acceleration$NNAPIDelegateSettings$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readString,2:jspb.internal.binary.readString,3:jspb.internal.binary.readString,4:jspb.internal.binary.readEnum,5:jspb.internal.binary.readInt32,6:[jspb.internal.binary.readMessage,proto.acceleration.FallbackSettings,proto.acceleration.FallbackSettings.internalDoNotUse$proto$acceleration$FallbackSettings$getBinaryFieldsObject],7:jspb.internal.binary.readBool,8:jspb.internal.binary.readEnum,9:jspb.internal.binary.readBool,10:jspb.internal.binary.readBool,11:jspb.internal.binary.readBool,12:jspb.internal.binary.readInt64}};proto.acceleration.NNAPIDelegateSettings.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.acceleration.NNAPIDelegateSettings.serializeBinaryToWriter)};proto.acceleration.NNAPIDelegateSettings.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeString(t,e,1),jspb.internal.binary.writeString(t,e,2),jspb.internal.binary.writeString(t,e,3),jspb.internal.binary.writeEnum(t,e,4),jspb.internal.binary.writeInt32(t,e,5),jspb.internal.binary.writeMessage(t,e,6,proto.acceleration.FallbackSettings,proto.acceleration.FallbackSettings.serializeBinaryToWriter),jspb.internal.binary.writeBool(t,e,7),jspb.internal.binary.writeEnum(t,e,8),jspb.internal.binary.writeBool(t,e,9),jspb.internal.binary.writeBool(t,e,10),jspb.internal.binary.writeBool(t,e,11),jspb.internal.binary.writeInt64(t,e,12),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.acceleration.NNAPIDelegateSettings.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.acceleration.NNAPIDelegateSettings,proto.acceleration.NNAPIDelegateSettings.internalDoNotUse$proto$acceleration$NNAPIDelegateSettings$getBinaryFieldsObject)};proto.acceleration.NNAPIDelegateSettings.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.acceleration.NNAPIDelegateSettings.internalDoNotUse$proto$acceleration$NNAPIDelegateSettings$getBinaryFieldsObject)};proto.acceleration.NNAPIDelegateSettings.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.acceleration.NNAPIDelegateSettings,e)};proto.acceleration.NNAPIDelegateSettings.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.acceleration.NNAPIDelegateSettings.fromObject=function(e){var t=new proto.acceleration.NNAPIDelegateSettings;return e.acceleratorName!=null&&t.internal_setField(1,e.acceleratorName),e.cacheDirectory!=null&&t.internal_setField(2,e.cacheDirectory),e.modelToken!=null&&t.internal_setField(3,e.modelToken),e.executionPreference!=null&&t.internal_setField(4,e.executionPreference),e.noOfNnapiInstancesToCache!=null&&t.internal_setField(5,e.noOfNnapiInstancesToCache),e.fallbackSettings&&t.internal_setWrapperField(6,proto.acceleration.FallbackSettings.fromObject(e.fallbackSettings)),e.allowNnapiCpuOnAndroid10Plus!=null&&t.internal_setField(7,e.allowNnapiCpuOnAndroid10Plus),e.executionPriority!=null&&t.internal_setField(8,e.executionPriority),e.allowDynamicDimensions!=null&&t.internal_setField(9,e.allowDynamicDimensions),e.allowFp16PrecisionForFp32!=null&&t.internal_setField(10,e.allowFp16PrecisionForFp32),e.useBurstComputation!=null&&t.internal_setField(11,e.useBurstComputation),e.supportLibraryHandle!=null&&t.internal_setField(12,e.supportLibraryHandle),t});proto.acceleration.NNAPIDelegateSettings.prototype.toObject=function(e){return proto.acceleration.NNAPIDelegateSettings.internal_toObject(e,this)};proto.acceleration.NNAPIDelegateSettings.internal_toObject=function(e,t){if(t!=null){var n={acceleratorName:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),cacheDirectory:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(2)),modelToken:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(3)),executionPreference:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(4)),noOfNnapiInstancesToCache:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(5)),fallbackSettings:proto.acceleration.FallbackSettings.internal_toObject(e,t.getFallbackSettings()),allowNnapiCpuOnAndroid10Plus:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getBooleanField(7)),executionPriority:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(8)),allowDynamicDimensions:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getBooleanField(9)),allowFp16PrecisionForFp32:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getBooleanField(10)),useBurstComputation:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getBooleanField(11)),supportLibraryHandle:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(12))};return e&&(n.$jspbMessageInstance=t),n}};proto.acceleration.XNNPackSettings=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.acceleration.XNNPackSettings,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.acceleration.XNNPackSettings.prototype.getNumThreads=function(){return this.internal_getField(1)};proto.acceleration.XNNPackSettings.prototype.setNumThreads=function(e){return this.internal_setField(1,e)};proto.acceleration.XNNPackSettings.prototype.clearNumThreads=function(){return this.internal_clearField(1)};proto.acceleration.XNNPackSettings.prototype.hasNumThreads=function(){return this.internal_hasField(1)};proto.acceleration.XNNPackSettings.internalDoNotUse$proto$acceleration$XNNPackSettings$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readInt32}};proto.acceleration.XNNPackSettings.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.acceleration.XNNPackSettings.serializeBinaryToWriter)};proto.acceleration.XNNPackSettings.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeInt32(t,e,1),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.acceleration.XNNPackSettings.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.acceleration.XNNPackSettings,proto.acceleration.XNNPackSettings.internalDoNotUse$proto$acceleration$XNNPackSettings$getBinaryFieldsObject)};proto.acceleration.XNNPackSettings.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.acceleration.XNNPackSettings.internalDoNotUse$proto$acceleration$XNNPackSettings$getBinaryFieldsObject)};proto.acceleration.XNNPackSettings.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.acceleration.XNNPackSettings,e)};proto.acceleration.XNNPackSettings.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.acceleration.XNNPackSettings.fromObject=function(e){var t=new proto.acceleration.XNNPackSettings;return e.numThreads!=null&&t.internal_setField(1,e.numThreads),t});proto.acceleration.XNNPackSettings.prototype.toObject=function(e){return proto.acceleration.XNNPackSettings.internal_toObject(e,this)};proto.acceleration.XNNPackSettings.internal_toObject=function(e,t){if(t!=null){var n={numThreads:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1))};return e&&(n.$jspbMessageInstance=t),n}};proto.acceleration.TFLiteSettings=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.acceleration.TFLiteSettings,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.acceleration.TFLiteSettings.prototype.getDelegate=function(){return this.internal_getField(1)};proto.acceleration.TFLiteSettings.prototype.setDelegate=function(e){return this.internal_setField(1,e)};proto.acceleration.TFLiteSettings.prototype.clearDelegate=function(){return this.internal_clearField(1)};proto.acceleration.TFLiteSettings.prototype.hasDelegate=function(){return this.internal_hasField(1)};proto.acceleration.TFLiteSettings.prototype.getNnapiSettings=function(){return this.internal_getWrapperField(proto.acceleration.NNAPIDelegateSettings,2)};proto.acceleration.TFLiteSettings.prototype.setNnapiSettings=function(e){return this.internal_setWrapperField(2,e)};proto.acceleration.TFLiteSettings.prototype.clearNnapiSettings=function(){return this.internal_clearWrapperField(2)};proto.acceleration.TFLiteSettings.prototype.hasNnapiSettings=function(){return this.internal_hasField(2)};proto.acceleration.TFLiteSettings.prototype.getGpuSettings=function(){return this.internal_getWrapperField(proto.acceleration.GPUDelegateSettings,3)};proto.acceleration.TFLiteSettings.prototype.setGpuSettings=function(e){return this.internal_setWrapperField(3,e)};proto.acceleration.TFLiteSettings.prototype.clearGpuSettings=function(){return this.internal_clearWrapperField(3)};proto.acceleration.TFLiteSettings.prototype.hasGpuSettings=function(){return this.internal_hasField(3)};proto.acceleration.TFLiteSettings.prototype.getCpuSettings=function(){return this.internal_getWrapperField(proto.acceleration.CPUSettings,4)};proto.acceleration.TFLiteSettings.prototype.setCpuSettings=function(e){return this.internal_setWrapperField(4,e)};proto.acceleration.TFLiteSettings.prototype.clearCpuSettings=function(){return this.internal_clearWrapperField(4)};proto.acceleration.TFLiteSettings.prototype.hasCpuSettings=function(){return this.internal_hasField(4)};proto.acceleration.TFLiteSettings.prototype.getHexagonSettings=function(){return this.internal_getWrapperField(proto.acceleration.HexagonDelegateSettings,5)};proto.acceleration.TFLiteSettings.prototype.setHexagonSettings=function(e){return this.internal_setWrapperField(5,e)};proto.acceleration.TFLiteSettings.prototype.clearHexagonSettings=function(){return this.internal_clearWrapperField(5)};proto.acceleration.TFLiteSettings.prototype.hasHexagonSettings=function(){return this.internal_hasField(5)};proto.acceleration.TFLiteSettings.prototype.getEdgetpuSettings=function(){return this.internal_getWrapperField(proto.acceleration.EdgeTpuDelegateSettings,10)};proto.acceleration.TFLiteSettings.prototype.setEdgetpuSettings=function(e){return this.internal_setWrapperField(10,e)};proto.acceleration.TFLiteSettings.prototype.clearEdgetpuSettings=function(){return this.internal_clearWrapperField(10)};proto.acceleration.TFLiteSettings.prototype.hasEdgetpuSettings=function(){return this.internal_hasField(10)};proto.acceleration.TFLiteSettings.prototype.getCoralSettings=function(){return this.internal_getWrapperField(proto.acceleration.CoralDelegateSettings,12)};proto.acceleration.TFLiteSettings.prototype.setCoralSettings=function(e){return this.internal_setWrapperField(12,e)};proto.acceleration.TFLiteSettings.prototype.clearCoralSettings=function(){return this.internal_clearWrapperField(12)};proto.acceleration.TFLiteSettings.prototype.hasCoralSettings=function(){return this.internal_hasField(12)};proto.acceleration.TFLiteSettings.prototype.getXnnpackSettings=function(){return this.internal_getWrapperField(proto.acceleration.XNNPackSettings,13)};proto.acceleration.TFLiteSettings.prototype.setXnnpackSettings=function(e){return this.internal_setWrapperField(13,e)};proto.acceleration.TFLiteSettings.prototype.clearXnnpackSettings=function(){return this.internal_clearWrapperField(13)};proto.acceleration.TFLiteSettings.prototype.hasXnnpackSettings=function(){return this.internal_hasField(13)};proto.acceleration.TFLiteSettings.prototype.getEnumerationHangDetection=function(){return this.internal_getWrapperField(proto.acceleration.HangDetectionSettings,6)};proto.acceleration.TFLiteSettings.prototype.setEnumerationHangDetection=function(e){return this.internal_setWrapperField(6,e)};proto.acceleration.TFLiteSettings.prototype.clearEnumerationHangDetection=function(){return this.internal_clearWrapperField(6)};proto.acceleration.TFLiteSettings.prototype.hasEnumerationHangDetection=function(){return this.internal_hasField(6)};proto.acceleration.TFLiteSettings.prototype.getCompilationHangDetection=function(){return this.internal_getWrapperField(proto.acceleration.HangDetectionSettings,7)};proto.acceleration.TFLiteSettings.prototype.setCompilationHangDetection=function(e){return this.internal_setWrapperField(7,e)};proto.acceleration.TFLiteSettings.prototype.clearCompilationHangDetection=function(){return this.internal_clearWrapperField(7)};proto.acceleration.TFLiteSettings.prototype.hasCompilationHangDetection=function(){return this.internal_hasField(7)};proto.acceleration.TFLiteSettings.prototype.getExecutionHangDetection=function(){return this.internal_getWrapperField(proto.acceleration.HangDetectionSettings,8)};proto.acceleration.TFLiteSettings.prototype.setExecutionHangDetection=function(e){return this.internal_setWrapperField(8,e)};proto.acceleration.TFLiteSettings.prototype.clearExecutionHangDetection=function(){return this.internal_clearWrapperField(8)};proto.acceleration.TFLiteSettings.prototype.hasExecutionHangDetection=function(){return this.internal_hasField(8)};proto.acceleration.TFLiteSettings.prototype.getAllowFp16PrecisionForFp32=function(){return this.internal_getBooleanField(9)};proto.acceleration.TFLiteSettings.prototype.setAllowFp16PrecisionForFp32=function(e){return this.internal_setField(9,e)};proto.acceleration.TFLiteSettings.prototype.clearAllowFp16PrecisionForFp32=function(){return this.internal_clearField(9)};proto.acceleration.TFLiteSettings.prototype.hasAllowFp16PrecisionForFp32=function(){return this.internal_hasField(9)};proto.acceleration.TFLiteSettings.prototype.getFallbackSettings=function(){return this.internal_getWrapperField(proto.acceleration.FallbackSettings,11)};proto.acceleration.TFLiteSettings.prototype.setFallbackSettings=function(e){return this.internal_setWrapperField(11,e)};proto.acceleration.TFLiteSettings.prototype.clearFallbackSettings=function(){return this.internal_clearWrapperField(11)};proto.acceleration.TFLiteSettings.prototype.hasFallbackSettings=function(){return this.internal_hasField(11)};proto.acceleration.TFLiteSettings.prototype.getMaxDelegatedPartitions=function(){return this.internal_getIntegerFieldWithDefault(14,-1)};proto.acceleration.TFLiteSettings.prototype.setMaxDelegatedPartitions=function(e){return this.internal_setField(14,e)};proto.acceleration.TFLiteSettings.prototype.clearMaxDelegatedPartitions=function(){return this.internal_clearField(14)};proto.acceleration.TFLiteSettings.prototype.hasMaxDelegatedPartitions=function(){return this.internal_hasField(14)};proto.acceleration.TFLiteSettings.internalDoNotUse$proto$acceleration$TFLiteSettings$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readEnum,2:[jspb.internal.binary.readMessage,proto.acceleration.NNAPIDelegateSettings,proto.acceleration.NNAPIDelegateSettings.internalDoNotUse$proto$acceleration$NNAPIDelegateSettings$getBinaryFieldsObject],3:[jspb.internal.binary.readMessage,proto.acceleration.GPUDelegateSettings,proto.acceleration.GPUDelegateSettings.internalDoNotUse$proto$acceleration$GPUDelegateSettings$getBinaryFieldsObject],4:[jspb.internal.binary.readMessage,proto.acceleration.CPUSettings,proto.acceleration.CPUSettings.internalDoNotUse$proto$acceleration$CPUSettings$getBinaryFieldsObject],5:[jspb.internal.binary.readMessage,proto.acceleration.HexagonDelegateSettings,proto.acceleration.HexagonDelegateSettings.internalDoNotUse$proto$acceleration$HexagonDelegateSettings$getBinaryFieldsObject],10:[jspb.internal.binary.readMessage,proto.acceleration.EdgeTpuDelegateSettings,proto.acceleration.EdgeTpuDelegateSettings.internalDoNotUse$proto$acceleration$EdgeTpuDelegateSettings$getBinaryFieldsObject],12:[jspb.internal.binary.readMessage,proto.acceleration.CoralDelegateSettings,proto.acceleration.CoralDelegateSettings.internalDoNotUse$proto$acceleration$CoralDelegateSettings$getBinaryFieldsObject],13:[jspb.internal.binary.readMessage,proto.acceleration.XNNPackSettings,proto.acceleration.XNNPackSettings.internalDoNotUse$proto$acceleration$XNNPackSettings$getBinaryFieldsObject],6:[jspb.internal.binary.readMessage,proto.acceleration.HangDetectionSettings,proto.acceleration.HangDetectionSettings.internalDoNotUse$proto$acceleration$HangDetectionSettings$getBinaryFieldsObject],7:[jspb.internal.binary.readMessage,proto.acceleration.HangDetectionSettings,proto.acceleration.HangDetectionSettings.internalDoNotUse$proto$acceleration$HangDetectionSettings$getBinaryFieldsObject],8:[jspb.internal.binary.readMessage,proto.acceleration.HangDetectionSettings,proto.acceleration.HangDetectionSettings.internalDoNotUse$proto$acceleration$HangDetectionSettings$getBinaryFieldsObject],9:jspb.internal.binary.readBool,11:[jspb.internal.binary.readMessage,proto.acceleration.FallbackSettings,proto.acceleration.FallbackSettings.internalDoNotUse$proto$acceleration$FallbackSettings$getBinaryFieldsObject],14:jspb.internal.binary.readInt32}};proto.acceleration.TFLiteSettings.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.acceleration.TFLiteSettings.serializeBinaryToWriter)};proto.acceleration.TFLiteSettings.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeEnum(t,e,1),jspb.internal.binary.writeMessage(t,e,2,proto.acceleration.NNAPIDelegateSettings,proto.acceleration.NNAPIDelegateSettings.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,3,proto.acceleration.GPUDelegateSettings,proto.acceleration.GPUDelegateSettings.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,4,proto.acceleration.CPUSettings,proto.acceleration.CPUSettings.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,5,proto.acceleration.HexagonDelegateSettings,proto.acceleration.HexagonDelegateSettings.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,10,proto.acceleration.EdgeTpuDelegateSettings,proto.acceleration.EdgeTpuDelegateSettings.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,12,proto.acceleration.CoralDelegateSettings,proto.acceleration.CoralDelegateSettings.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,13,proto.acceleration.XNNPackSettings,proto.acceleration.XNNPackSettings.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,6,proto.acceleration.HangDetectionSettings,proto.acceleration.HangDetectionSettings.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,7,proto.acceleration.HangDetectionSettings,proto.acceleration.HangDetectionSettings.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,8,proto.acceleration.HangDetectionSettings,proto.acceleration.HangDetectionSettings.serializeBinaryToWriter),jspb.internal.binary.writeBool(t,e,9),jspb.internal.binary.writeMessage(t,e,11,proto.acceleration.FallbackSettings,proto.acceleration.FallbackSettings.serializeBinaryToWriter),jspb.internal.binary.writeInt32(t,e,14),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.acceleration.TFLiteSettings.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.acceleration.TFLiteSettings,proto.acceleration.TFLiteSettings.internalDoNotUse$proto$acceleration$TFLiteSettings$getBinaryFieldsObject)};proto.acceleration.TFLiteSettings.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.acceleration.TFLiteSettings.internalDoNotUse$proto$acceleration$TFLiteSettings$getBinaryFieldsObject)};proto.acceleration.TFLiteSettings.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.acceleration.TFLiteSettings,e)};proto.acceleration.TFLiteSettings.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.acceleration.TFLiteSettings.fromObject=function(e){var t=new proto.acceleration.TFLiteSettings;return e.delegate!=null&&t.internal_setField(1,e.delegate),e.nnapiSettings&&t.internal_setWrapperField(2,proto.acceleration.NNAPIDelegateSettings.fromObject(e.nnapiSettings)),e.gpuSettings&&t.internal_setWrapperField(3,proto.acceleration.GPUDelegateSettings.fromObject(e.gpuSettings)),e.cpuSettings&&t.internal_setWrapperField(4,proto.acceleration.CPUSettings.fromObject(e.cpuSettings)),e.hexagonSettings&&t.internal_setWrapperField(5,proto.acceleration.HexagonDelegateSettings.fromObject(e.hexagonSettings)),e.edgetpuSettings&&t.internal_setWrapperField(10,proto.acceleration.EdgeTpuDelegateSettings.fromObject(e.edgetpuSettings)),e.coralSettings&&t.internal_setWrapperField(12,proto.acceleration.CoralDelegateSettings.fromObject(e.coralSettings)),e.xnnpackSettings&&t.internal_setWrapperField(13,proto.acceleration.XNNPackSettings.fromObject(e.xnnpackSettings)),e.enumerationHangDetection&&t.internal_setWrapperField(6,proto.acceleration.HangDetectionSettings.fromObject(e.enumerationHangDetection)),e.compilationHangDetection&&t.internal_setWrapperField(7,proto.acceleration.HangDetectionSettings.fromObject(e.compilationHangDetection)),e.executionHangDetection&&t.internal_setWrapperField(8,proto.acceleration.HangDetectionSettings.fromObject(e.executionHangDetection)),e.allowFp16PrecisionForFp32!=null&&t.internal_setField(9,e.allowFp16PrecisionForFp32),e.fallbackSettings&&t.internal_setWrapperField(11,proto.acceleration.FallbackSettings.fromObject(e.fallbackSettings)),e.maxDelegatedPartitions!=null&&t.internal_setField(14,e.maxDelegatedPartitions),t});proto.acceleration.TFLiteSettings.prototype.toObject=function(e){return proto.acceleration.TFLiteSettings.internal_toObject(e,this)};proto.acceleration.TFLiteSettings.internal_toObject=function(e,t){if(t!=null){var n={delegate:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),nnapiSettings:proto.acceleration.NNAPIDelegateSettings.internal_toObject(e,t.getNnapiSettings()),gpuSettings:proto.acceleration.GPUDelegateSettings.internal_toObject(e,t.getGpuSettings()),cpuSettings:proto.acceleration.CPUSettings.internal_toObject(e,t.getCpuSettings()),hexagonSettings:proto.acceleration.HexagonDelegateSettings.internal_toObject(e,t.getHexagonSettings()),edgetpuSettings:proto.acceleration.EdgeTpuDelegateSettings.internal_toObject(e,t.getEdgetpuSettings()),coralSettings:proto.acceleration.CoralDelegateSettings.internal_toObject(e,t.getCoralSettings()),xnnpackSettings:proto.acceleration.XNNPackSettings.internal_toObject(e,t.getXnnpackSettings()),enumerationHangDetection:proto.acceleration.HangDetectionSettings.internal_toObject(e,t.getEnumerationHangDetection()),compilationHangDetection:proto.acceleration.HangDetectionSettings.internal_toObject(e,t.getCompilationHangDetection()),executionHangDetection:proto.acceleration.HangDetectionSettings.internal_toObject(e,t.getExecutionHangDetection()),allowFp16PrecisionForFp32:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getBooleanField(9)),fallbackSettings:proto.acceleration.FallbackSettings.internal_toObject(e,t.getFallbackSettings()),maxDelegatedPartitions:t.internal_getIntegerFieldWithDefault(14,-1)};return e&&(n.$jspbMessageInstance=t),n}};proto.acceleration.MinibenchmarkSettings=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e,-1,proto.acceleration.MinibenchmarkSettings.repeatedFields_)};$jscomp.inherits(proto.acceleration.MinibenchmarkSettings,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.acceleration.MinibenchmarkSettings.prototype.getSettingsToTestList=function(){return this.internal_getRepeatedWrapperField(proto.acceleration.TFLiteSettings,1)};proto.acceleration.MinibenchmarkSettings.prototype.setSettingsToTestList=function(e){return this.internal_setRepeatedWrapperField(1,e)};proto.acceleration.MinibenchmarkSettings.prototype.addSettingsToTest=function(e,t){return this.internal_addToRepeatedWrapperField(1,e,proto.acceleration.TFLiteSettings,t)};proto.acceleration.MinibenchmarkSettings.prototype.addAndReturnSettingsToTest=function(e,t){return this.internal_addAndReturnRepeatedWrapperField(1,e,proto.acceleration.TFLiteSettings,t)};proto.acceleration.MinibenchmarkSettings.prototype.clearSettingsToTestList=function(){return this.internal_clearRepeatedWrapperField(1)};proto.acceleration.MinibenchmarkSettings.prototype.getModelFile=function(){return this.internal_getWrapperField(proto.acceleration.ModelFile,2)};proto.acceleration.MinibenchmarkSettings.prototype.setModelFile=function(e){return this.internal_setWrapperField(2,e)};proto.acceleration.MinibenchmarkSettings.prototype.clearModelFile=function(){return this.internal_clearWrapperField(2)};proto.acceleration.MinibenchmarkSettings.prototype.hasModelFile=function(){return this.internal_hasField(2)};proto.acceleration.MinibenchmarkSettings.prototype.getStoragePaths=function(){return this.internal_getWrapperField(proto.acceleration.BenchmarkStoragePaths,3)};proto.acceleration.MinibenchmarkSettings.prototype.setStoragePaths=function(e){return this.internal_setWrapperField(3,e)};proto.acceleration.MinibenchmarkSettings.prototype.clearStoragePaths=function(){return this.internal_clearWrapperField(3)};proto.acceleration.MinibenchmarkSettings.prototype.hasStoragePaths=function(){return this.internal_hasField(3)};proto.acceleration.MinibenchmarkSettings.internalDoNotUse$proto$acceleration$MinibenchmarkSettings$getBinaryFieldsObject=function(){return{1:[jspb.internal.binary.readRepeatedMessage,proto.acceleration.TFLiteSettings,proto.acceleration.TFLiteSettings.internalDoNotUse$proto$acceleration$TFLiteSettings$getBinaryFieldsObject],2:[jspb.internal.binary.readMessage,proto.acceleration.ModelFile,proto.acceleration.ModelFile.internalDoNotUse$proto$acceleration$ModelFile$getBinaryFieldsObject],3:[jspb.internal.binary.readMessage,proto.acceleration.BenchmarkStoragePaths,proto.acceleration.BenchmarkStoragePaths.internalDoNotUse$proto$acceleration$BenchmarkStoragePaths$getBinaryFieldsObject]}};proto.acceleration.MinibenchmarkSettings.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.acceleration.MinibenchmarkSettings.serializeBinaryToWriter)};proto.acceleration.MinibenchmarkSettings.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeRepeatedMessage(t,e,1,proto.acceleration.TFLiteSettings,proto.acceleration.TFLiteSettings.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,2,proto.acceleration.ModelFile,proto.acceleration.ModelFile.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,3,proto.acceleration.BenchmarkStoragePaths,proto.acceleration.BenchmarkStoragePaths.serializeBinaryToWriter),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.acceleration.MinibenchmarkSettings.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.acceleration.MinibenchmarkSettings,proto.acceleration.MinibenchmarkSettings.internalDoNotUse$proto$acceleration$MinibenchmarkSettings$getBinaryFieldsObject)};proto.acceleration.MinibenchmarkSettings.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.acceleration.MinibenchmarkSettings.internalDoNotUse$proto$acceleration$MinibenchmarkSettings$getBinaryFieldsObject)};proto.acceleration.MinibenchmarkSettings.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.acceleration.MinibenchmarkSettings,e)};proto.acceleration.MinibenchmarkSettings.repeatedFields_=[1];proto.acceleration.MinibenchmarkSettings.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.acceleration.MinibenchmarkSettings.fromObject=function(e){var t=new proto.acceleration.MinibenchmarkSettings;return e.settingsToTestList&&t.internal_setRepeatedWrapperField(1,e.settingsToTestList.map(proto.acceleration.TFLiteSettings.fromObject)),e.modelFile&&t.internal_setWrapperField(2,proto.acceleration.ModelFile.fromObject(e.modelFile)),e.storagePaths&&t.internal_setWrapperField(3,proto.acceleration.BenchmarkStoragePaths.fromObject(e.storagePaths)),t});proto.acceleration.MinibenchmarkSettings.prototype.toObject=function(e){return proto.acceleration.MinibenchmarkSettings.internal_toObject(e,this)};proto.acceleration.MinibenchmarkSettings.internal_toObject=function(e,t){if(t!=null){var n={settingsToTestList:module$contents$jspb$internal$public_for_gencode_toObjectList(t.getSettingsToTestList(),proto.acceleration.TFLiteSettings.internal_toObject,e),modelFile:proto.acceleration.ModelFile.internal_toObject(e,t.getModelFile()),storagePaths:proto.acceleration.BenchmarkStoragePaths.internal_toObject(e,t.getStoragePaths())};return e&&(n.$jspbMessageInstance=t),n}};proto.acceleration.Acceleration=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.acceleration.Acceleration,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.acceleration.Acceleration.prototype.getPreference=function(){return this.internal_getField(1)};proto.acceleration.Acceleration.prototype.setPreference=function(e){return this.internal_setField(1,e)};proto.acceleration.Acceleration.prototype.clearPreference=function(){return this.internal_clearField(1)};proto.acceleration.Acceleration.prototype.hasPreference=function(){return this.internal_hasField(1)};proto.acceleration.Acceleration.prototype.getTfliteSettings=function(){return this.internal_getWrapperField(proto.acceleration.TFLiteSettings,2)};proto.acceleration.Acceleration.prototype.setTfliteSettings=function(e){return this.internal_setWrapperField(2,e)};proto.acceleration.Acceleration.prototype.clearTfliteSettings=function(){return this.internal_clearWrapperField(2)};proto.acceleration.Acceleration.prototype.hasTfliteSettings=function(){return this.internal_hasField(2)};proto.acceleration.Acceleration.prototype.getModelIdentifierForStatistics=function(){return this.internal_getWrapperField(proto.acceleration.InferenceToUseFor,3)};proto.acceleration.Acceleration.prototype.setModelIdentifierForStatistics=function(e){return this.internal_setWrapperField(3,e)};proto.acceleration.Acceleration.prototype.clearModelIdentifierForStatistics=function(){return this.internal_clearWrapperField(3)};proto.acceleration.Acceleration.prototype.hasModelIdentifierForStatistics=function(){return this.internal_hasField(3)};proto.acceleration.Acceleration.prototype.getSettingsToTestLocally=function(){return this.internal_getWrapperField(proto.acceleration.MinibenchmarkSettings,5)};proto.acceleration.Acceleration.prototype.setSettingsToTestLocally=function(e){return this.internal_setWrapperField(5,e)};proto.acceleration.Acceleration.prototype.clearSettingsToTestLocally=function(){return this.internal_clearWrapperField(5)};proto.acceleration.Acceleration.prototype.hasSettingsToTestLocally=function(){return this.internal_hasField(5)};proto.acceleration.Acceleration.internalDoNotUse$proto$acceleration$Acceleration$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readEnum,2:[jspb.internal.binary.readMessage,proto.acceleration.TFLiteSettings,proto.acceleration.TFLiteSettings.internalDoNotUse$proto$acceleration$TFLiteSettings$getBinaryFieldsObject],3:[jspb.internal.binary.readMessage,proto.acceleration.InferenceToUseFor,proto.acceleration.InferenceToUseFor.internalDoNotUse$proto$acceleration$InferenceToUseFor$getBinaryFieldsObject],5:[jspb.internal.binary.readMessage,proto.acceleration.MinibenchmarkSettings,proto.acceleration.MinibenchmarkSettings.internalDoNotUse$proto$acceleration$MinibenchmarkSettings$getBinaryFieldsObject]}};proto.acceleration.Acceleration.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.acceleration.Acceleration.serializeBinaryToWriter)};proto.acceleration.Acceleration.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeEnum(t,e,1),jspb.internal.binary.writeMessage(t,e,2,proto.acceleration.TFLiteSettings,proto.acceleration.TFLiteSettings.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,3,proto.acceleration.InferenceToUseFor,proto.acceleration.InferenceToUseFor.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,5,proto.acceleration.MinibenchmarkSettings,proto.acceleration.MinibenchmarkSettings.serializeBinaryToWriter),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.acceleration.Acceleration.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.acceleration.Acceleration,proto.acceleration.Acceleration.internalDoNotUse$proto$acceleration$Acceleration$getBinaryFieldsObject)};proto.acceleration.Acceleration.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.acceleration.Acceleration.internalDoNotUse$proto$acceleration$Acceleration$getBinaryFieldsObject)};proto.acceleration.Acceleration.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.acceleration.Acceleration,e)};proto.acceleration.Acceleration.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.acceleration.Acceleration.fromObject=function(e){var t=new proto.acceleration.Acceleration;return e.preference!=null&&t.internal_setField(1,e.preference),e.tfliteSettings&&t.internal_setWrapperField(2,proto.acceleration.TFLiteSettings.fromObject(e.tfliteSettings)),e.modelIdentifierForStatistics&&t.internal_setWrapperField(3,proto.acceleration.InferenceToUseFor.fromObject(e.modelIdentifierForStatistics)),e.settingsToTestLocally&&t.internal_setWrapperField(5,proto.acceleration.MinibenchmarkSettings.fromObject(e.settingsToTestLocally)),t});proto.acceleration.Acceleration.prototype.toObject=function(e){return proto.acceleration.Acceleration.internal_toObject(e,this)};proto.acceleration.Acceleration.internal_toObject=function(e,t){if(t!=null){var n={preference:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),tfliteSettings:proto.acceleration.TFLiteSettings.internal_toObject(e,t.getTfliteSettings()),modelIdentifierForStatistics:proto.acceleration.InferenceToUseFor.internal_toObject(e,t.getModelIdentifierForStatistics()),settingsToTestLocally:proto.acceleration.MinibenchmarkSettings.internal_toObject(e,t.getSettingsToTestLocally())};return e&&(n.$jspbMessageInstance=t),n}};proto.visionkit={};proto.visionkit.FileDescriptorMeta=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.visionkit.FileDescriptorMeta,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.visionkit.FileDescriptorMeta.prototype.getFd=function(){return this.internal_getField(1)};proto.visionkit.FileDescriptorMeta.prototype.setFd=function(e){return this.internal_setField(1,e)};proto.visionkit.FileDescriptorMeta.prototype.clearFd=function(){return this.internal_clearField(1)};proto.visionkit.FileDescriptorMeta.prototype.hasFd=function(){return this.internal_hasField(1)};proto.visionkit.FileDescriptorMeta.prototype.getLength=function(){return this.internal_getField(2)};proto.visionkit.FileDescriptorMeta.prototype.setLength=function(e){return this.internal_setField(2,e)};proto.visionkit.FileDescriptorMeta.prototype.clearLength=function(){return this.internal_clearField(2)};proto.visionkit.FileDescriptorMeta.prototype.hasLength=function(){return this.internal_hasField(2)};proto.visionkit.FileDescriptorMeta.prototype.getOffset=function(){return this.internal_getField(3)};proto.visionkit.FileDescriptorMeta.prototype.setOffset=function(e){return this.internal_setField(3,e)};proto.visionkit.FileDescriptorMeta.prototype.clearOffset=function(){return this.internal_clearField(3)};proto.visionkit.FileDescriptorMeta.prototype.hasOffset=function(){return this.internal_hasField(3)};proto.visionkit.FileDescriptorMeta.internalDoNotUse$proto$visionkit$FileDescriptorMeta$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readInt32,2:jspb.internal.binary.readInt64,3:jspb.internal.binary.readInt64}};proto.visionkit.FileDescriptorMeta.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.visionkit.FileDescriptorMeta.serializeBinaryToWriter)};proto.visionkit.FileDescriptorMeta.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeInt32(t,e,1),jspb.internal.binary.writeInt64(t,e,2),jspb.internal.binary.writeInt64(t,e,3),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.visionkit.FileDescriptorMeta.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.visionkit.FileDescriptorMeta,proto.visionkit.FileDescriptorMeta.internalDoNotUse$proto$visionkit$FileDescriptorMeta$getBinaryFieldsObject)};proto.visionkit.FileDescriptorMeta.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.visionkit.FileDescriptorMeta.internalDoNotUse$proto$visionkit$FileDescriptorMeta$getBinaryFieldsObject)};proto.visionkit.FileDescriptorMeta.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.visionkit.FileDescriptorMeta,e)};proto.visionkit.FileDescriptorMeta.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.visionkit.FileDescriptorMeta.fromObject=function(e){var t=new proto.visionkit.FileDescriptorMeta;return e.fd!=null&&t.internal_setField(1,e.fd),e.length!=null&&t.internal_setField(2,e.length),e.offset!=null&&t.internal_setField(3,e.offset),t});proto.visionkit.FileDescriptorMeta.prototype.toObject=function(e){return proto.visionkit.FileDescriptorMeta.internal_toObject(e,this)};proto.visionkit.FileDescriptorMeta.internal_toObject=function(e,t){if(t!=null){var n={fd:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),length:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(2)),offset:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(3))};return e&&(n.$jspbMessageInstance=t),n}};proto.visionkit.ExternalFile=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.visionkit.ExternalFile,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.visionkit.ExternalFile.prototype.getFileContent=function(){return this.internal_getField(2)};proto.visionkit.ExternalFile.prototype.getFileContent_asB64=function(){return module$contents$jspb$internal_bytesAsB64(this.getFileContent())};proto.visionkit.ExternalFile.prototype.getFileContent_asU8=function(){return module$contents$jspb$internal_bytesAsU8(this.getFileContent())};proto.visionkit.ExternalFile.prototype.setFileContent=function(e){return this.internal_setField(2,e)};proto.visionkit.ExternalFile.prototype.clearFileContent=function(){return this.internal_clearField(2)};proto.visionkit.ExternalFile.prototype.hasFileContent=function(){return this.internal_hasField(2)};proto.visionkit.ExternalFile.prototype.getFileName=function(){return this.internal_getField(1)};proto.visionkit.ExternalFile.prototype.setFileName=function(e){return this.internal_setField(1,e)};proto.visionkit.ExternalFile.prototype.clearFileName=function(){return this.internal_clearField(1)};proto.visionkit.ExternalFile.prototype.hasFileName=function(){return this.internal_hasField(1)};proto.visionkit.ExternalFile.prototype.getFileDescriptorMeta=function(){return this.internal_getWrapperField(proto.visionkit.FileDescriptorMeta,4)};proto.visionkit.ExternalFile.prototype.setFileDescriptorMeta=function(e){return this.internal_setWrapperField(4,e)};proto.visionkit.ExternalFile.prototype.clearFileDescriptorMeta=function(){return this.internal_clearWrapperField(4)};proto.visionkit.ExternalFile.prototype.hasFileDescriptorMeta=function(){return this.internal_hasField(4)};proto.visionkit.ExternalFile.internalDoNotUse$proto$visionkit$ExternalFile$getBinaryFieldsObject=function(){return{2:jspb.internal.binary.readBytes,1:jspb.internal.binary.readString,4:[jspb.internal.binary.readMessage,proto.visionkit.FileDescriptorMeta,proto.visionkit.FileDescriptorMeta.internalDoNotUse$proto$visionkit$FileDescriptorMeta$getBinaryFieldsObject]}};proto.visionkit.ExternalFile.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.visionkit.ExternalFile.serializeBinaryToWriter)};proto.visionkit.ExternalFile.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeBytes(t,e,2),jspb.internal.binary.writeString(t,e,1),jspb.internal.binary.writeMessage(t,e,4,proto.visionkit.FileDescriptorMeta,proto.visionkit.FileDescriptorMeta.serializeBinaryToWriter),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.visionkit.ExternalFile.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.visionkit.ExternalFile,proto.visionkit.ExternalFile.internalDoNotUse$proto$visionkit$ExternalFile$getBinaryFieldsObject)};proto.visionkit.ExternalFile.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.visionkit.ExternalFile.internalDoNotUse$proto$visionkit$ExternalFile$getBinaryFieldsObject)};proto.visionkit.ExternalFile.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.visionkit.ExternalFile,e)};proto.visionkit.ExternalFile.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.visionkit.ExternalFile.fromObject=function(e){var t=new proto.visionkit.ExternalFile;return e.fileContent!=null&&t.internal_setField(2,e.fileContent),e.fileName!=null&&t.internal_setField(1,e.fileName),e.fileDescriptorMeta&&t.internal_setWrapperField(4,proto.visionkit.FileDescriptorMeta.fromObject(e.fileDescriptorMeta)),t});proto.visionkit.ExternalFile.prototype.toObject=function(e){return proto.visionkit.ExternalFile.internal_toObject(e,this)};proto.visionkit.ExternalFile.internal_toObject=function(e,t){if(t!=null){var n={fileContent:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.getFileContent_asB64()),fileName:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),fileDescriptorMeta:proto.visionkit.FileDescriptorMeta.internal_toObject(e,t.getFileDescriptorMeta())};return e&&(n.$jspbMessageInstance=t),n}};goog.dom.asserts={};goog.dom.asserts.assertIsLocation=function(e){if(goog.asserts.ENABLE_ASSERTS){var t=goog.dom.asserts.getWindow_(e);t&&(!e||!(e instanceof t.Location)&&e instanceof t.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(e))}return e};goog.dom.asserts.assertIsElementType_=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var n=goog.dom.asserts.getWindow_(e);n&&typeof n[t]<"u"&&(e&&(e instanceof n[t]||!(e instanceof n.Location||e instanceof n.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,goog.dom.asserts.debugStringForType_(e)))}return e};goog.dom.asserts.assertIsHTMLAnchorElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAnchorElement")};goog.dom.asserts.assertIsHTMLButtonElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLButtonElement")};goog.dom.asserts.assertIsHTMLLinkElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLLinkElement")};goog.dom.asserts.assertIsHTMLImageElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLImageElement")};goog.dom.asserts.assertIsHTMLAudioElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAudioElement")};goog.dom.asserts.assertIsHTMLVideoElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLVideoElement")};goog.dom.asserts.assertIsHTMLInputElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLInputElement")};goog.dom.asserts.assertIsHTMLTextAreaElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLTextAreaElement")};goog.dom.asserts.assertIsHTMLCanvasElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLCanvasElement")};goog.dom.asserts.assertIsHTMLEmbedElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLEmbedElement")};goog.dom.asserts.assertIsHTMLFormElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFormElement")};goog.dom.asserts.assertIsHTMLFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFrameElement")};goog.dom.asserts.assertIsHTMLIFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLIFrameElement")};goog.dom.asserts.assertIsHTMLObjectElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLObjectElement")};goog.dom.asserts.assertIsHTMLScriptElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLScriptElement")};goog.dom.asserts.debugStringForType_=function(e){if(goog.isObject(e))try{return e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch{return"<object could not be stringified>"}else return e===void 0?"undefined":e===null?"null":typeof e};goog.dom.asserts.getWindow_=function(e){try{var t=e&&e.ownerDocument,n=t&&(t.defaultView||t.parentWindow);if(n=n||goog.global,n.Element&&n.Location)return n}catch{}return null};goog.dom.HtmlElement=function(){};goog.functions={};goog.functions.constant=function(e){return function(){return e}};goog.functions.FALSE=function(){return!1};goog.functions.TRUE=function(){return!0};goog.functions.NULL=function(){return null};goog.functions.UNDEFINED=function(){};goog.functions.EMPTY=goog.functions.UNDEFINED;goog.functions.identity=function(e){return e};goog.functions.error=function(e){return function(){throw Error(e)}};goog.functions.fail=function(e){return function(){throw e}};goog.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}};goog.functions.nth=function(e){return function(){return arguments[e]}};goog.functions.partialRight=function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=this;r===goog.global&&(r=void 0);var o=Array.prototype.slice.call(arguments);return o.push.apply(o,n),e.apply(r,o)}};goog.functions.withReturnValue=function(e,t){return goog.functions.sequence(e,goog.functions.constant(t))};goog.functions.equalTo=function(e,t){return function(n){return t?e==n:e===n}};goog.functions.compose=function(e,t){var n=arguments,r=n.length;return function(){var o;r&&(o=n[r-1].apply(this,arguments));for(var i=r-2;0<=i;i--)o=n[i].call(this,o);return o}};goog.functions.sequence=function(e){var t=arguments,n=t.length;return function(){for(var r,o=0;o<n;o++)r=t[o].apply(this,arguments);return r}};goog.functions.and=function(e){var t=arguments,n=t.length;return function(){for(var r=0;r<n;r++)if(!t[r].apply(this,arguments))return!1;return!0}};goog.functions.or=function(e){var t=arguments,n=t.length;return function(){for(var r=0;r<n;r++)if(t[r].apply(this,arguments))return!0;return!1}};goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}};goog.functions.create=function(e,t){var n=function(){};return n.prototype=e.prototype,n=new n,e.apply(n,Array.prototype.slice.call(arguments,1)),n};goog.functions.CACHE_RETURN_VALUE=!0;goog.functions.cacheReturnValue=function(e){var t=!1,n;return function(){return goog.functions.CACHE_RETURN_VALUE?(t||(n=e(),t=!0),n):e()}};goog.functions.once=function(e){var t=e;return function(){if(t){var n=t;t=null,n()}}};goog.functions.debounce=function(e,t,n){var r=0;return function(o){goog.global.clearTimeout(r);var i=arguments;r=goog.global.setTimeout(function(){e.apply(n,i)},t)}};goog.functions.throttle=function(e,t,n){var r=0,o=!1,i=[],s=function(){r=0,o&&(o=!1,l())},l=function(){r=goog.global.setTimeout(s,t);var c=i;i=[],e.apply(n,c)};return function(c){i=arguments,r?o=!0:l()}};goog.functions.rateLimit=function(e,t,n){var r=0,o=function(){r=0};return function(i){r||(r=goog.global.setTimeout(o,t),e.apply(n,arguments))}};goog.functions.isFunction=function(e){return typeof e=="function"};goog.dom.TagName=function(){};goog.dom.TagName.cast=function(e){return e};goog.dom.TagName.prototype.toString=function(){};goog.dom.TagName.A="A";goog.dom.TagName.ABBR="ABBR";goog.dom.TagName.ACRONYM="ACRONYM";goog.dom.TagName.ADDRESS="ADDRESS";goog.dom.TagName.APPLET="APPLET";goog.dom.TagName.AREA="AREA";goog.dom.TagName.ARTICLE="ARTICLE";goog.dom.TagName.ASIDE="ASIDE";goog.dom.TagName.AUDIO="AUDIO";goog.dom.TagName.B="B";goog.dom.TagName.BASE="BASE";goog.dom.TagName.BASEFONT="BASEFONT";goog.dom.TagName.BDI="BDI";goog.dom.TagName.BDO="BDO";goog.dom.TagName.BIG="BIG";goog.dom.TagName.BLOCKQUOTE="BLOCKQUOTE";goog.dom.TagName.BODY="BODY";goog.dom.TagName.BR="BR";goog.dom.TagName.BUTTON="BUTTON";goog.dom.TagName.CANVAS="CANVAS";goog.dom.TagName.CAPTION="CAPTION";goog.dom.TagName.CENTER="CENTER";goog.dom.TagName.CITE="CITE";goog.dom.TagName.CODE="CODE";goog.dom.TagName.COL="COL";goog.dom.TagName.COLGROUP="COLGROUP";goog.dom.TagName.COMMAND="COMMAND";goog.dom.TagName.DATA="DATA";goog.dom.TagName.DATALIST="DATALIST";goog.dom.TagName.DD="DD";goog.dom.TagName.DEL="DEL";goog.dom.TagName.DETAILS="DETAILS";goog.dom.TagName.DFN="DFN";goog.dom.TagName.DIALOG="DIALOG";goog.dom.TagName.DIR="DIR";goog.dom.TagName.DIV="DIV";goog.dom.TagName.DL="DL";goog.dom.TagName.DT="DT";goog.dom.TagName.EM="EM";goog.dom.TagName.EMBED="EMBED";goog.dom.TagName.FIELDSET="FIELDSET";goog.dom.TagName.FIGCAPTION="FIGCAPTION";goog.dom.TagName.FIGURE="FIGURE";goog.dom.TagName.FONT="FONT";goog.dom.TagName.FOOTER="FOOTER";goog.dom.TagName.FORM="FORM";goog.dom.TagName.FRAME="FRAME";goog.dom.TagName.FRAMESET="FRAMESET";goog.dom.TagName.H1="H1";goog.dom.TagName.H2="H2";goog.dom.TagName.H3="H3";goog.dom.TagName.H4="H4";goog.dom.TagName.H5="H5";goog.dom.TagName.H6="H6";goog.dom.TagName.HEAD="HEAD";goog.dom.TagName.HEADER="HEADER";goog.dom.TagName.HGROUP="HGROUP";goog.dom.TagName.HR="HR";goog.dom.TagName.HTML="HTML";goog.dom.TagName.I="I";goog.dom.TagName.IFRAME="IFRAME";goog.dom.TagName.IMG="IMG";goog.dom.TagName.INPUT="INPUT";goog.dom.TagName.INS="INS";goog.dom.TagName.ISINDEX="ISINDEX";goog.dom.TagName.KBD="KBD";goog.dom.TagName.KEYGEN="KEYGEN";goog.dom.TagName.LABEL="LABEL";goog.dom.TagName.LEGEND="LEGEND";goog.dom.TagName.LI="LI";goog.dom.TagName.LINK="LINK";goog.dom.TagName.MAIN="MAIN";goog.dom.TagName.MAP="MAP";goog.dom.TagName.MARK="MARK";goog.dom.TagName.MATH="MATH";goog.dom.TagName.MENU="MENU";goog.dom.TagName.MENUITEM="MENUITEM";goog.dom.TagName.META="META";goog.dom.TagName.METER="METER";goog.dom.TagName.NAV="NAV";goog.dom.TagName.NOFRAMES="NOFRAMES";goog.dom.TagName.NOSCRIPT="NOSCRIPT";goog.dom.TagName.OBJECT="OBJECT";goog.dom.TagName.OL="OL";goog.dom.TagName.OPTGROUP="OPTGROUP";goog.dom.TagName.OPTION="OPTION";goog.dom.TagName.OUTPUT="OUTPUT";goog.dom.TagName.P="P";goog.dom.TagName.PARAM="PARAM";goog.dom.TagName.PICTURE="PICTURE";goog.dom.TagName.PRE="PRE";goog.dom.TagName.PROGRESS="PROGRESS";goog.dom.TagName.Q="Q";goog.dom.TagName.RP="RP";goog.dom.TagName.RT="RT";goog.dom.TagName.RTC="RTC";goog.dom.TagName.RUBY="RUBY";goog.dom.TagName.S="S";goog.dom.TagName.SAMP="SAMP";goog.dom.TagName.SCRIPT="SCRIPT";goog.dom.TagName.SECTION="SECTION";goog.dom.TagName.SELECT="SELECT";goog.dom.TagName.SMALL="SMALL";goog.dom.TagName.SOURCE="SOURCE";goog.dom.TagName.SPAN="SPAN";goog.dom.TagName.STRIKE="STRIKE";goog.dom.TagName.STRONG="STRONG";goog.dom.TagName.STYLE="STYLE";goog.dom.TagName.SUB="SUB";goog.dom.TagName.SUMMARY="SUMMARY";goog.dom.TagName.SUP="SUP";goog.dom.TagName.SVG="SVG";goog.dom.TagName.TABLE="TABLE";goog.dom.TagName.TBODY="TBODY";goog.dom.TagName.TD="TD";goog.dom.TagName.TEMPLATE="TEMPLATE";goog.dom.TagName.TEXTAREA="TEXTAREA";goog.dom.TagName.TFOOT="TFOOT";goog.dom.TagName.TH="TH";goog.dom.TagName.THEAD="THEAD";goog.dom.TagName.TIME="TIME";goog.dom.TagName.TITLE="TITLE";goog.dom.TagName.TR="TR";goog.dom.TagName.TRACK="TRACK";goog.dom.TagName.TT="TT";goog.dom.TagName.U="U";goog.dom.TagName.UL="UL";goog.dom.TagName.VAR="VAR";goog.dom.TagName.VIDEO="VIDEO";goog.dom.TagName.WBR="WBR";goog.object={};function module$contents$goog$object_getKeys(e){var t=[],n=0,r;for(r in e)t[n++]=r;return t}function module$contents$goog$object_containsValue(e,t){for(var n in e)if(e[n]==t)return!0;return!1}function module$contents$goog$object_findKey(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r}function module$contents$goog$object_unsafeClone(e){if(!e||typeof e!="object")return e;if(typeof e.clone=="function")return e.clone();if(typeof Map<"u"&&e instanceof Map)return new Map(e);if(typeof Set<"u"&&e instanceof Set)return new Set(e);var t=Array.isArray(e)?[]:typeof ArrayBuffer!="function"||typeof ArrayBuffer.isView!="function"||!ArrayBuffer.isView(e)||e instanceof DataView?{}:new e.constructor(e.length),n;for(n in e)t[n]=module$contents$goog$object_unsafeClone(e[n]);return t}var module$contents$goog$object_PROTOTYPE_FIELDS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function module$contents$goog$object_create(e){var t=arguments.length;if(t==1&&Array.isArray(arguments[0]))return module$contents$goog$object_create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var n={},r=0;r<t;r+=2)n[arguments[r]]=arguments[r+1];return n}function module$contents$goog$object_createSet(e){var t=arguments.length;if(t==1&&Array.isArray(arguments[0]))return module$contents$goog$object_createSet.apply(null,arguments[0]);for(var n={},r=0;r<t;r++)n[arguments[r]]=!0;return n}goog.object.add=function(e,t,n){if(e!==null&&t in e)throw Error('The object already contains the key "'+t+'"');e[t]=n};goog.object.clear=function(e){for(var t in e)delete e[t]};goog.object.clone=function(e){var t={},n;for(n in e)t[n]=e[n];return t};goog.object.contains=function(e,t){return module$contents$goog$object_containsValue(e,t)};goog.object.containsKey=function(e,t){return e!==null&&t in e};goog.object.containsValue=module$contents$goog$object_containsValue;goog.object.create=module$contents$goog$object_create;goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t};goog.object.createSet=module$contents$goog$object_createSet;goog.object.equals=function(e,t){for(var n in e)if(!(n in t)||e[n]!==t[n])return!1;for(var r in t)if(!(r in e))return!1;return!0};goog.object.every=function(e,t,n){for(var r in e)if(!t.call(n,e[r],r,e))return!1;return!0};goog.object.extend=function(e,t){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)e[n]=r[n];for(var i=0;i<module$contents$goog$object_PROTOTYPE_FIELDS.length;i++)n=module$contents$goog$object_PROTOTYPE_FIELDS[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}};goog.object.filter=function(e,t,n){var r={},o;for(o in e)t.call(n,e[o],o,e)&&(r[o]=e[o]);return r};goog.object.findKey=module$contents$goog$object_findKey;goog.object.findValue=function(e,t,n){return(t=module$contents$goog$object_findKey(e,t,n))&&e[t]};goog.object.forEach=function(e,t,n){for(var r in e)t.call(n,e[r],r,e)};goog.object.get=function(e,t,n){return e!==null&&t in e?e[t]:n};goog.object.getAllPropertyNames=function(e,t,n){if(!e)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return module$contents$goog$object_getKeys(e);for(var r={};e&&(e!==Object.prototype||t)&&(e!==Function.prototype||n);){for(var o=Object.getOwnPropertyNames(e),i=0;i<o.length;i++)r[o[i]]=!0;e=Object.getPrototypeOf(e)}return module$contents$goog$object_getKeys(r)};goog.object.getAnyKey=function(e){for(var t in e)return t};goog.object.getAnyValue=function(e){for(var t in e)return e[t]};goog.object.getCount=function(e){var t=0,n;for(n in e)t++;return t};goog.object.getKeys=module$contents$goog$object_getKeys;goog.object.getSuperClass=function(e){return(e=Object.getPrototypeOf(e.prototype))&&e.constructor};goog.object.getValueByKeys=function(e,t){var n=goog.isArrayLike(t),r=n?t:arguments;for(n=n?0:1;n<r.length;n++){if(e==null)return;e=e[r[n]]}return e};goog.object.getValues=function(e){var t=[],n=0,r;for(r in e)t[n++]=e[r];return t};goog.object.isEmpty=function(e){for(var t in e)return!1;return!0};goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)};goog.object.map=function(e,t,n){var r={},o;for(o in e)r[o]=t.call(n,e[o],o,e);return r};goog.object.remove=function(e,t){var n;return(n=t in e)&&delete e[t],n};goog.object.set=function(e,t,n){e[t]=n};goog.object.setIfUndefined=function(e,t,n){return t in e?e[t]:e[t]=n};goog.object.setWithReturnValueIfNotSet=function(e,t,n){return t in e?e[t]:(n=n(),e[t]=n)};goog.object.some=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return!0;return!1};goog.object.transpose=function(e){var t={},n;for(n in e)t[e[n]]=n;return t};goog.object.unsafeClone=module$contents$goog$object_unsafeClone;goog.dom.tags={};goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};goog.dom.tags.isVoidTag=function(e){return goog.dom.tags.VOID_TAGS_[e]===!0};goog.html={};goog.html.trustedtypes={};goog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse=function(){return goog.TRUSTED_TYPES_POLICY_NAME?(goog.html.trustedtypes.cachedPolicy_===void 0&&(goog.html.trustedtypes.cachedPolicy_=goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html")),goog.html.trustedtypes.cachedPolicy_):null};goog.string.TypedString=function(){};goog.string.Const=function(e,t){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_};goog.string.Const.prototype.implementsGoogStringTypedString=!0;goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_};goog.DEBUG&&(goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"});goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")};goog.string.Const.from=function(e){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,e)};goog.string.Const.TYPE_MARKER_={};goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={};goog.string.Const.EMPTY=goog.string.Const.from("");var module$contents$goog$html$SafeScript_CONSTRUCTOR_TOKEN_PRIVATE={},module$contents$goog$html$SafeScript_SafeScript=function(e,t){this.privateDoNotAccessOrElseSafeScriptWrappedValue_=t===module$contents$goog$html$SafeScript_CONSTRUCTOR_TOKEN_PRIVATE?e:"",this.implementsGoogStringTypedString=!0};module$contents$goog$html$SafeScript_SafeScript.fromConstant=function(e){return e=goog.string.Const.unwrap(e),e.length===0?module$contents$goog$html$SafeScript_SafeScript.EMPTY:module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)};module$contents$goog$html$SafeScript_SafeScript.fromJson=function(e){return module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(module$contents$goog$html$SafeScript_SafeScript.stringify_(e))};module$contents$goog$html$SafeScript_SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()};module$contents$goog$html$SafeScript_SafeScript.unwrap=function(e){return module$contents$goog$html$SafeScript_SafeScript.unwrapTrustedScript(e).toString()};module$contents$goog$html$SafeScript_SafeScript.unwrapTrustedScript=function(e){return e instanceof module$contents$goog$html$SafeScript_SafeScript&&e.constructor===module$contents$goog$html$SafeScript_SafeScript?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:((0,goog.asserts.fail)("expected object of type SafeScript, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeScript")};module$contents$goog$html$SafeScript_SafeScript.stringify_=function(e){return JSON.stringify(e).replace(/</g,"\\x3c")};module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){var t=goog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse();return e=t?t.createScript(e):e,new module$contents$goog$html$SafeScript_SafeScript(e,module$contents$goog$html$SafeScript_CONSTRUCTOR_TOKEN_PRIVATE)};module$contents$goog$html$SafeScript_SafeScript.prototype.toString=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()};module$contents$goog$html$SafeScript_SafeScript.EMPTY=module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("");goog.html.SafeScript=module$contents$goog$html$SafeScript_SafeScript;goog.fs={};goog.fs.url={};goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)};goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)};goog.fs.url.UrlObject_=function(){};goog.fs.url.UrlObject_.prototype.createObjectURL=function(){};goog.fs.url.UrlObject_.prototype.revokeObjectURL=function(){};goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(e!=null)return e;throw Error("This browser doesn't seem to support blob URLs")};goog.fs.url.findUrlObject_=function(){return goog.global.URL!==void 0&&goog.global.URL.createObjectURL!==void 0?goog.global.URL:goog.global.createObjectURL!==void 0?goog.global:null};goog.fs.url.browserSupportsObjectUrls=function(){return goog.fs.url.findUrlObject_()!=null};goog.fs.blob={};goog.fs.blob.getBlob=function(e){var t=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(t!==void 0){t=new t;for(var n=0;n<arguments.length;n++)t.append(arguments[n]);return t.getBlob()}return goog.fs.blob.getBlobWithProperties(Array.prototype.slice.call(arguments))};goog.fs.blob.getBlobWithProperties=function(e,t,n){var r=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(r!==void 0){r=new r;for(var o=0;o<e.length;o++)r.append(e[o],n);return r.getBlob(t)}if(goog.global.Blob!==void 0)return r={},t&&(r.type=t),n&&(r.endings=n),new Blob(e,r);throw Error("This browser doesn't seem to support creating Blobs")};goog.i18n={};goog.i18n.bidi={};goog.i18n.bidi.FORCE_RTL=!1;goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||(goog.LOCALE.substring(0,2).toLowerCase()=="ar"||goog.LOCALE.substring(0,2).toLowerCase()=="fa"||goog.LOCALE.substring(0,2).toLowerCase()=="he"||goog.LOCALE.substring(0,2).toLowerCase()=="iw"||goog.LOCALE.substring(0,2).toLowerCase()=="ps"||goog.LOCALE.substring(0,2).toLowerCase()=="sd"||goog.LOCALE.substring(0,2).toLowerCase()=="ug"||goog.LOCALE.substring(0,2).toLowerCase()=="ur"||goog.LOCALE.substring(0,2).toLowerCase()=="yi")&&(goog.LOCALE.length==2||goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")||3<=goog.LOCALE.length&&goog.LOCALE.substring(0,3).toLowerCase()=="ckb"&&(goog.LOCALE.length==3||goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")||7<=goog.LOCALE.length&&(goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")&&(goog.LOCALE.substring(3,7).toLowerCase()=="adlm"||goog.LOCALE.substring(3,7).toLowerCase()=="arab"||goog.LOCALE.substring(3,7).toLowerCase()=="hebr"||goog.LOCALE.substring(3,7).toLowerCase()=="nkoo"||goog.LOCALE.substring(3,7).toLowerCase()=="rohg"||goog.LOCALE.substring(3,7).toLowerCase()=="thaa")||8<=goog.LOCALE.length&&(goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")&&(goog.LOCALE.substring(4,8).toLowerCase()=="adlm"||goog.LOCALE.substring(4,8).toLowerCase()=="arab"||goog.LOCALE.substring(4,8).toLowerCase()=="hebr"||goog.LOCALE.substring(4,8).toLowerCase()=="nkoo"||goog.LOCALE.substring(4,8).toLowerCase()=="rohg"||goog.LOCALE.substring(4,8).toLowerCase()=="thaa");goog.i18n.bidi.Format={LRE:"\u202A",RLE:"\u202B",PDF:"\u202C",LRM:"\u200E",RLM:"\u200F"};goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0};goog.i18n.bidi.RIGHT="right";goog.i18n.bidi.LEFT="left";goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT;goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT;goog.i18n.bidi.toDir=function(e,t){return typeof e=="number"?0<e?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:e==null?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR};goog.i18n.bidi.ltrChars_="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0900-\u1FFF\u200E\u2C00-\uD801\uD804-\uD839\uD83C-\uDBFF\uF900-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF";goog.i18n.bidi.rtlChars_="\u0591-\u06EF\u06FA-\u08FF\u200F\uD802-\uD803\uD83A-\uD83B\uFB1D-\uFDFF\uFE70-\uFEFC";goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g;goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e};goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))};goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl;goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))};goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)};goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)};goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)};goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))};goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl;goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))};goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr;goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/;goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)};goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$");goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$");goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))};goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr;goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))};goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl;goog.i18n.bidi.rtlLocalesRe_=RegExp("^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)","i");goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)};goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g;goog.i18n.bidi.guardBracketInText=function(e,t){return t=(t===void 0?goog.i18n.bidi.hasAnyRtl(e):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,e.replace(goog.i18n.bidi.bracketGuardTextRe_,t+"$&"+t)};goog.i18n.bidi.enforceRtlInHtml=function(e){return e.charAt(0)=="<"?e.replace(/<\w+/,"$& dir=rtl"):`
<span dir=rtl>`+e+"</span>"};goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF};goog.i18n.bidi.enforceLtrInHtml=function(e){return e.charAt(0)=="<"?e.replace(/<\w+/,"$& dir=ltr"):`
<span dir=ltr>`+e+"</span>"};goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF};goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g;goog.i18n.bidi.leftRe_=/left/gi;goog.i18n.bidi.rightRe_=/right/gi;goog.i18n.bidi.tempRe_=/%%%%/g;goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)};goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g;goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g;goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1\u05F4").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1\u05F3")};goog.i18n.bidi.wordSeparatorRe_=/\s+/;goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/;goog.i18n.bidi.rtlDetectionThreshold_=.4;goog.i18n.bidi.estimateDirection=function(e,t){var n=0,r=0,o=!1;for(e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),t=0;t<e.length;t++){var i=e[t];goog.i18n.bidi.startsWithRtl(i)?(n++,r++):goog.i18n.bidi.isRequiredLtrRe_.test(i)?o=!0:goog.i18n.bidi.hasAnyLtr(i)?r++:goog.i18n.bidi.hasNumeralsRe_.test(i)&&(o=!0)}return r==0?o?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:n/r>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR};goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL};goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t))&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")};goog.i18n.bidi.setElementDirByTextDirectionality=function(e,t){switch(goog.i18n.bidi.estimateDirection(t)){case goog.i18n.bidi.Dir.LTR:e.dir!=="ltr"&&(e.dir="ltr");break;case goog.i18n.bidi.Dir.RTL:e.dir!=="rtl"&&(e.dir="rtl");break;default:e.removeAttribute("dir")}};goog.i18n.bidi.DirectionalString=function(){};goog.html.TrustedResourceUrl=function(e,t){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=t===goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_?e:""};goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0;goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()};goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0;goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR};goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(e,t){var n=goog.html.TrustedResourceUrl.unwrap(this);n=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(n);var r=n[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(n[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",n[2]||"",e)+goog.html.TrustedResourceUrl.stringifyParams_("#",r,t))};goog.html.TrustedResourceUrl.prototype.toString=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+""};goog.html.TrustedResourceUrl.unwrap=function(e){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e).toString()};goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:TrustedResourceUrl")};goog.html.TrustedResourceUrl.format=function(e,t){var n=goog.string.Const.unwrap(e);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(r,o){if(!Object.prototype.hasOwnProperty.call(t,o))throw Error('Found marker, "'+o+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return r=t[o],r instanceof goog.string.Const?goog.string.Const.unwrap(r):encodeURIComponent(String(r))}),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)};goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g;goog.html.TrustedResourceUrl.BASE_URL_=RegExp("^((https:)?//[0-9a-z.:[\\]-]+/|/[^/\\\\]|[^:/\\\\%]+/|[^:/\\\\%]*[?#]|about:blank#)","i");goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/;goog.html.TrustedResourceUrl.formatWithParams=function(e,t,n,r){return goog.html.TrustedResourceUrl.format(e,t).cloneWithParams(n,r)};goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))};goog.html.TrustedResourceUrl.fromConstants=function(e){for(var t="",n=0;n<e.length;n++)t+=goog.string.Const.unwrap(e[n]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)};goog.html.TrustedResourceUrl.fromSafeScript=function(e){return e=goog.fs.blob.getBlobWithProperties([module$contents$goog$html$SafeScript_SafeScript.unwrap(e)],"text/javascript"),e=goog.fs.url.createObjectUrl(e),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)};goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_={};goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=goog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse();return e=t?t.createScriptURL(e):e,new goog.html.TrustedResourceUrl(e,goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_)};goog.html.TrustedResourceUrl.stringifyParams_=function(e,t,n){if(n==null)return t;if(typeof n=="string")return n?e+encodeURIComponent(n):"";for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r];o=Array.isArray(o)?o:[o];for(var i=0;i<o.length;i++){var s=o[i];s!=null&&(t||(t=e),t+=(t.length>e.length?"&":"")+encodeURIComponent(r)+"="+encodeURIComponent(String(s)))}}return t};goog.html.SafeUrl=function(e,t){this.privateDoNotAccessOrElseSafeUrlWrappedValue_=t===goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_?e:""};goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez";goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0;goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()};goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0;goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR};goog.html.SafeUrl.prototype.toString=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()};goog.html.SafeUrl.unwrap=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl?e.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeUrl")};goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))};goog.html.SAFE_MIME_TYPE_PATTERN_=RegExp('^(?:audio/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font/\\w+|image/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|video/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\\w+=(?:\\w+|"[\\w;,= ]+"))*$',"i");goog.html.SafeUrl.isSafeMimeType=function(e){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(e)};goog.html.SafeUrl.fromBlob=function(e){return e=goog.html.SafeUrl.isSafeMimeType(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)};goog.html.SafeUrl.revokeObjectUrl=function(e){e=e.getTypedStringValue(),e!==goog.html.SafeUrl.INNOCUOUS_STRING&&goog.fs.url.revokeObjectUrl(e)};goog.html.SafeUrl.fromMediaSource=function(e){return goog.asserts.assert("MediaSource"in goog.global,"No support for MediaSource"),e=e instanceof MediaSource?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)};goog.html.DATA_URL_PATTERN_=/^data:(.*);base64,[a-z0-9+\/]+=*$/i;goog.html.SafeUrl.tryFromDataUrl=function(e){e=String(e),e=e.replace(/(%0A|%0D)/g,"");var t=e.match(goog.html.DATA_URL_PATTERN_);return t&&goog.html.SafeUrl.isSafeMimeType(t[1])?goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e):null};goog.html.SafeUrl.fromDataUrl=function(e){return goog.html.SafeUrl.tryFromDataUrl(e)||goog.html.SafeUrl.INNOCUOUS_URL};goog.html.SafeUrl.fromTelUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"tel:")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)};goog.html.SIP_URL_PATTERN_=RegExp("^sip[s]?:[+a-z0-9_.!$%&'*\\/=^`{|}~-]+@([a-z0-9-]+\\.)+[a-z0-9]{2,63}$","i");goog.html.SafeUrl.fromSipUrl=function(e){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(e))||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)};goog.html.SafeUrl.fromFacebookMessengerUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"fb-messenger://share")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)};goog.html.SafeUrl.fromWhatsAppUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"whatsapp://send")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)};goog.html.SafeUrl.fromSmsUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)};goog.html.SafeUrl.isSmsUrlBodyValid_=function(e){var t=e.indexOf("#");if(0<t&&(e=e.substring(0,t)),t=e.match(/[?&]body=/gi),!t)return!0;if(1<t.length)return!1;if(e=e.match(/[?&]body=([^&]*)/)[1],!e)return!0;try{decodeURIComponent(e)}catch{return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(e)};goog.html.SafeUrl.fromSshUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"ssh://")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)};goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,e,t)};goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,e,t)};goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,e,t)};goog.html.SafeUrl.sanitizeExtensionUrl_=function(e,t,n){return(e=e.exec(t))?(e=e[1],(n instanceof goog.string.Const?[goog.string.Const.unwrap(n)]:n.map(function(r){return goog.string.Const.unwrap(r)})).indexOf(e)==-1&&(t=goog.html.SafeUrl.INNOCUOUS_STRING)):t=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)};goog.html.SafeUrl.fromTrustedResourceUrl=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(e))};goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_;goog.html.SafeUrl.trySanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e=typeof e=="object"&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SAFE_URL_PATTERN_.test(e)?goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e):goog.html.SafeUrl.tryFromDataUrl(e))};goog.html.SafeUrl.sanitize=function(e){return goog.html.SafeUrl.trySanitize(e)||goog.html.SafeUrl.INNOCUOUS_URL};goog.html.SafeUrl.sanitizeAssertUnchanged=function(e,t){return e instanceof goog.html.SafeUrl?e:(e=typeof e=="object"&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),t&&/^data:/i.test(e)&&(t=goog.html.SafeUrl.fromDataUrl(e),t.getTypedStringValue()==e)?t:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(e),"%s does not match the safe URL pattern",e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)))};goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_={};goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){return new goog.html.SafeUrl(e,goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_)};goog.html.SafeUrl.INNOCUOUS_URL=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.SafeUrl.INNOCUOUS_STRING);goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank");var module$contents$goog$html$SafeStyle_CONSTRUCTOR_TOKEN_PRIVATE={},module$contents$goog$html$SafeStyle_SafeStyle=function(e,t){this.privateDoNotAccessOrElseSafeStyleWrappedValue_=t===module$contents$goog$html$SafeStyle_CONSTRUCTOR_TOKEN_PRIVATE?e:"",this.implementsGoogStringTypedString=!0};module$contents$goog$html$SafeStyle_SafeStyle.fromConstant=function(e){return e=goog.string.Const.unwrap(e),e.length===0?module$contents$goog$html$SafeStyle_SafeStyle.EMPTY:((0,goog.asserts.assert)((0,goog.string.internal.endsWith)(e,";"),"Last character of style string is not ';': "+e),(0,goog.asserts.assert)((0,goog.string.internal.contains)(e,":"),`Style string must contain at least one ':', to specify a "name: value" pair: `+e),module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e))};module$contents$goog$html$SafeStyle_SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_};module$contents$goog$html$SafeStyle_SafeStyle.prototype.toString=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_.toString()};module$contents$goog$html$SafeStyle_SafeStyle.unwrap=function(e){return e instanceof module$contents$goog$html$SafeStyle_SafeStyle&&e.constructor===module$contents$goog$html$SafeStyle_SafeStyle?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:((0,goog.asserts.fail)("expected object of type SafeStyle, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyle")};module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return new module$contents$goog$html$SafeStyle_SafeStyle(e,module$contents$goog$html$SafeStyle_CONSTRUCTOR_TOKEN_PRIVATE)};module$contents$goog$html$SafeStyle_SafeStyle.create=function(e){var t="",n;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(!/^[-_a-zA-Z0-9]+$/.test(n))throw Error("Name allows only [-_a-zA-Z0-9], got: "+n);var r=e[n];r!=null&&(r=Array.isArray(r)?r.map(module$contents$goog$html$SafeStyle_sanitizePropertyValue).join(" "):module$contents$goog$html$SafeStyle_sanitizePropertyValue(r),t+=n+":"+r+";")}return t?module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):module$contents$goog$html$SafeStyle_SafeStyle.EMPTY};module$contents$goog$html$SafeStyle_SafeStyle.concat=function(e){var t="",n=function(r){Array.isArray(r)?r.forEach(n):t+=module$contents$goog$html$SafeStyle_SafeStyle.unwrap(r)};return Array.prototype.forEach.call(arguments,n),t?module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):module$contents$goog$html$SafeStyle_SafeStyle.EMPTY};module$contents$goog$html$SafeStyle_SafeStyle.EMPTY=module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse("");module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING="zClosurez";function module$contents$goog$html$SafeStyle_sanitizePropertyValue(e){if(e instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(e).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(e=e instanceof goog.string.Const?goog.string.Const.unwrap(e):module$contents$goog$html$SafeStyle_sanitizePropertyValueString(String(e)),/[{;}]/.test(e))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[e]);return e}function module$contents$goog$html$SafeStyle_sanitizePropertyValueString(e){var t=e.replace(module$contents$goog$html$SafeStyle_FUNCTIONS_RE,"$1").replace(module$contents$goog$html$SafeStyle_FUNCTIONS_RE,"$1").replace(module$contents$goog$html$SafeStyle_URL_RE,"url");if(module$contents$goog$html$SafeStyle_VALUE_RE.test(t)){if(module$contents$goog$html$SafeStyle_COMMENT_RE.test(e))return(0,goog.asserts.fail)("String value disallows comments, got: "+e),module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING;for(var n=t=!0,r=0;r<e.length;r++){var o=e.charAt(r);o=="'"&&n?t=!t:o=='"'&&t&&(n=!n)}if(!t||!n)return(0,goog.asserts.fail)("String value requires balanced quotes, got: "+e),module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING;if(!module$contents$goog$html$SafeStyle_hasBalancedSquareBrackets(e))return(0,goog.asserts.fail)("String value requires balanced square brackets and one identifier per pair of brackets, got: "+e),module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING}else return(0,goog.asserts.fail)(`String value allows only [-,."'%_!#/ a-zA-Z0-9\\[\\]] and simple functions, got: `+e),module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING;return module$contents$goog$html$SafeStyle_sanitizeUrl(e)}function module$contents$goog$html$SafeStyle_hasBalancedSquareBrackets(e){for(var t=!0,n=/^[-_a-zA-Z0-9]$/,r=0;r<e.length;r++){var o=e.charAt(r);if(o=="]"){if(t)return!1;t=!0}else if(o=="["){if(!t)return!1;t=!1}else if(!t&&!n.test(o))return!1}return t}var module$contents$goog$html$SafeStyle_VALUE_RE=RegExp(`^[-,."'%_!#/ a-zA-Z0-9\\[\\]]+$`),module$contents$goog$html$SafeStyle_URL_RE=RegExp(`\\b(url\\([ 	
]*)('[ -&(-\\[\\]-~]*'|"[ !#-\\[\\]-~]*"|[!#-&*-\\[\\]-~]*)([ 	
]*\\))`,"g"),module$contents$goog$html$SafeStyle_FUNCTIONS_RE=RegExp("\\b(calc|cubic-bezier|fit-content|hsl|hsla|linear-gradient|matrix|minmax|repeat|rgb|rgba|(rotate|scale|translate)(X|Y|Z|3d)?|var)\\([-+*/0-9a-zA-Z.%#\\[\\], ]+\\)","g"),module$contents$goog$html$SafeStyle_COMMENT_RE=/\/\*/;function module$contents$goog$html$SafeStyle_sanitizeUrl(e){return e.replace(module$contents$goog$html$SafeStyle_URL_RE,function(t,n,r,o){var i="";return r=r.replace(/^(['"])(.*)\1$/,function(s,l,c){return i=l,c}),t=goog.html.SafeUrl.sanitize(r).getTypedStringValue(),n+i+t+i+o})}goog.html.SafeStyle=module$contents$goog$html$SafeStyle_SafeStyle;var module$contents$goog$html$SafeStyleSheet_CONSTRUCTOR_TOKEN_PRIVATE={},module$contents$goog$html$SafeStyleSheet_SafeStyleSheet=function(e,t){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=t===module$contents$goog$html$SafeStyleSheet_CONSTRUCTOR_TOKEN_PRIVATE?e:"",this.implementsGoogStringTypedString=!0};module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createRule=function(e,t){if((0,goog.string.internal.contains)(e,"<"))throw Error("Selector does not allow '<', got: "+e);var n=e.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(n))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+e);if(!module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.hasBalancedBrackets_(n))throw Error("() and [] in selector must be balanced, got: "+e);return t instanceof module$contents$goog$html$SafeStyle_SafeStyle||(t=module$contents$goog$html$SafeStyle_SafeStyle.create(t)),e=e+"{"+module$contents$goog$html$SafeStyle_SafeStyle.unwrap(t).replace(/</g,"\\3C ")+"}",module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)};module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.hasBalancedBrackets_=function(e){for(var t={"(":")","[":"]"},n=[],r=0;r<e.length;r++){var o=e[r];if(t[o])n.push(t[o]);else if(module$contents$goog$object_containsValue(t,o)&&n.pop()!=o)return!1}return n.length==0};module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.concat=function(e){var t="",n=function(r){Array.isArray(r)?r.forEach(n):t+=module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.unwrap(r)};return Array.prototype.forEach.call(arguments,n),module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)};module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.fromConstant=function(e){return e=goog.string.Const.unwrap(e),e.length===0?module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.EMPTY:((0,goog.asserts.assert)(!(0,goog.string.internal.contains)(e,"<"),"Forbidden '<' character in style sheet string: "+e),module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e))};module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_};module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.unwrap=function(e){return e instanceof module$contents$goog$html$SafeStyleSheet_SafeStyleSheet&&e.constructor===module$contents$goog$html$SafeStyleSheet_SafeStyleSheet?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:((0,goog.asserts.fail)("expected object of type SafeStyleSheet, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyleSheet")};module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return new module$contents$goog$html$SafeStyleSheet_SafeStyleSheet(e,module$contents$goog$html$SafeStyleSheet_CONSTRUCTOR_TOKEN_PRIVATE)};module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.prototype.toString=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_.toString()};module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.EMPTY=module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse("");goog.html.SafeStyleSheet=module$contents$goog$html$SafeStyleSheet_SafeStyleSheet;var module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE={},module$contents$goog$html$SafeHtml_SafeHtml=function(e,t,n){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=n===module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE?e:"",this.dir_=t,this.implementsGoogStringTypedString=this.implementsGoogI18nBidiDirectionalString=!0};module$contents$goog$html$SafeHtml_SafeHtml.prototype.getDirection=function(){return this.dir_};module$contents$goog$html$SafeHtml_SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()};module$contents$goog$html$SafeHtml_SafeHtml.prototype.toString=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()};module$contents$goog$html$SafeHtml_SafeHtml.unwrap=function(e){return module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(e).toString()};module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML=function(e){return e instanceof module$contents$goog$html$SafeHtml_SafeHtml&&e.constructor===module$contents$goog$html$SafeHtml_SafeHtml?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeHtml")};module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape=function(e){if(e instanceof module$contents$goog$html$SafeHtml_SafeHtml)return e;var t=typeof e=="object",n=null;return t&&e.implementsGoogI18nBidiDirectionalString&&(n=e.getDirection()),module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(t&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e)),n)};module$contents$goog$html$SafeHtml_SafeHtml.htmlEscapePreservingNewlines=function(e){return e instanceof module$contents$goog$html$SafeHtml_SafeHtml?e:(e=module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape(e),module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(module$contents$goog$html$SafeHtml_SafeHtml.unwrap(e)),e.getDirection()))};module$contents$goog$html$SafeHtml_SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){return e instanceof module$contents$goog$html$SafeHtml_SafeHtml?e:(e=module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape(e),module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(module$contents$goog$html$SafeHtml_SafeHtml.unwrap(e)),e.getDirection()))};module$contents$goog$html$SafeHtml_SafeHtml.comment=function(e){return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!--"+goog.string.internal.htmlEscape(e)+"-->",null)};module$contents$goog$html$SafeHtml_SafeHtml.create=function(e,t,n){return module$contents$goog$html$SafeHtml_SafeHtml.verifyTagName(String(e)),module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(e),t,n)};module$contents$goog$html$SafeHtml_SafeHtml.verifyTagName=function(e){if(!module$contents$goog$html$SafeHtml_VALID_NAMES_IN_TAG.test(e))throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?"Invalid tag name <"+e+">.":"");if(e.toUpperCase()in module$contents$goog$html$SafeHtml_NOT_ALLOWED_TAG_NAMES)throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?"Tag name <"+e+"> is not allowed for SafeHtml.":"")};module$contents$goog$html$SafeHtml_SafeHtml.createIframe=function(e,t,n,r){e&&goog.html.TrustedResourceUrl.unwrap(e);var o={};return o.src=e||null,o.srcdoc=t&&module$contents$goog$html$SafeHtml_SafeHtml.unwrap(t),e=module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes(o,{sandbox:""},n),module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,r)};module$contents$goog$html$SafeHtml_SafeHtml.createSandboxIframe=function(e,t,n,r){if(!module$contents$goog$html$SafeHtml_SafeHtml.canUseSandboxIframe())throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?"The browser does not support sandboxed iframes.":"");var o={};return o.src=e?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)):null,o.srcdoc=t||null,o.sandbox="",e=module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes(o,{},n),module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,r)};module$contents$goog$html$SafeHtml_SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype};module$contents$goog$html$SafeHtml_SafeHtml.createScriptSrc=function(e,t){return goog.html.TrustedResourceUrl.unwrap(e),e=module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes({src:e},{},t),module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",e)};module$contents$goog$html$SafeHtml_SafeHtml.createScript=function(e,t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=n.toLowerCase();if(r=="language"||r=="src"||r=="text"||r=="type")throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot set "'+r+'" attribute':"")}for(n="",e=module$contents$goog$array_concat(e),r=0;r<e.length;r++)n+=module$contents$goog$html$SafeScript_SafeScript.unwrap(e[r]);return e=module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n,goog.i18n.bidi.Dir.NEUTRAL),module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t,e)};module$contents$goog$html$SafeHtml_SafeHtml.createStyle=function(e,t){t=module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes({type:"text/css"},{},t);var n="";e=module$contents$goog$array_concat(e);for(var r=0;r<e.length;r++)n+=module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.unwrap(e[r]);return e=module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n,goog.i18n.bidi.Dir.NEUTRAL),module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",t,e)};module$contents$goog$html$SafeHtml_SafeHtml.createMetaRefresh=function(e,t){return e=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)),(module$contents$goog$labs$userAgent$browser_matchIE()||module$contents$goog$labs$userAgent$browser_matchEdgeHtml())&&goog.string.internal.contains(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(t||0)+"; url="+e})};module$contents$goog$html$SafeHtml_SafeHtml.createWithDir=function(e,t,n,r){return t=module$contents$goog$html$SafeHtml_SafeHtml.create(t,n,r),t.dir_=e,t};module$contents$goog$html$SafeHtml_SafeHtml.join=function(e,t){e=module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape(e);var n=e.getDirection(),r=[],o=function(i){Array.isArray(i)?i.forEach(o):(i=module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape(i),r.push(module$contents$goog$html$SafeHtml_SafeHtml.unwrap(i)),i=i.getDirection(),n==goog.i18n.bidi.Dir.NEUTRAL?n=i:i!=goog.i18n.bidi.Dir.NEUTRAL&&n!=i&&(n=null))};return t.forEach(o),module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r.join(module$contents$goog$html$SafeHtml_SafeHtml.unwrap(e)),n)};module$contents$goog$html$SafeHtml_SafeHtml.concat=function(e){return module$contents$goog$html$SafeHtml_SafeHtml.join(module$contents$goog$html$SafeHtml_SafeHtml.EMPTY,Array.prototype.slice.call(arguments))};module$contents$goog$html$SafeHtml_SafeHtml.concatWithDir=function(e,t){var n=module$contents$goog$html$SafeHtml_SafeHtml.concat(Array.prototype.slice.call(arguments,1));return n.dir_=e,n};module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,t){var n=goog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse();return e=n?n.createHTML(e):e,new module$contents$goog$html$SafeHtml_SafeHtml(e,t,module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE)};module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,t,n){var r=null,o="<"+e+module$contents$goog$html$SafeHtml_SafeHtml.stringifyAttributes(e,t);return n==null?n=[]:Array.isArray(n)||(n=[n]),goog.dom.tags.isVoidTag(e.toLowerCase())?(goog.asserts.assert(!n.length,"Void tag <"+e+"> does not allow content."),o+=">"):(r=module$contents$goog$html$SafeHtml_SafeHtml.concat(n),o+=">"+module$contents$goog$html$SafeHtml_SafeHtml.unwrap(r)+"</"+e+">",r=r.getDirection()),(e=t&&t.dir)&&(r=/^(ltr|rtl|auto)$/i.test(e)?goog.i18n.bidi.Dir.NEUTRAL:null),module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,r)};module$contents$goog$html$SafeHtml_SafeHtml.stringifyAttributes=function(e,t){var n="";if(t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(!module$contents$goog$html$SafeHtml_VALID_NAMES_IN_TAG.test(r))throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?'Invalid attribute name "'+r+'".':"");var o=t[r];if(o!=null){var i=e,s=r;if(o instanceof goog.string.Const)o=goog.string.Const.unwrap(o);else if(s.toLowerCase()=="style")if(module$contents$goog$html$SafeHtml_SafeHtml.SUPPORT_STYLE_ATTRIBUTE){if(!goog.isObject(o))throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?'The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof o+" given: "+o:"");o instanceof module$contents$goog$html$SafeStyle_SafeStyle||(o=module$contents$goog$html$SafeStyle_SafeStyle.create(o)),o=module$contents$goog$html$SafeStyle_SafeStyle.unwrap(o)}else throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "style" not supported.':"");else{if(/^on/i.test(s))throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+s+'" requires goog.string.Const value, "'+o+'" given.':"");if(s.toLowerCase()in module$contents$goog$html$SafeHtml_URL_ATTRIBUTES)if(o instanceof goog.html.TrustedResourceUrl)o=goog.html.TrustedResourceUrl.unwrap(o);else if(o instanceof goog.html.SafeUrl)o=goog.html.SafeUrl.unwrap(o);else if(typeof o=="string")o=goog.html.SafeUrl.sanitize(o).getTypedStringValue();else throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+s+'" on tag "'+i+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+o+'" given.':"")}o.implementsGoogStringTypedString&&(o=o.getTypedStringValue()),goog.asserts.assert(typeof o=="string"||typeof o=="number","String or number value expected, got "+typeof o+" with value: "+o),s=s+'="'+goog.string.internal.htmlEscape(String(o))+'"',n+=" "+s}}}return n};module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes=function(e,t,n){var r={};for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&(goog.asserts.assert(s.toLowerCase()==s,"Must be lower case"),r[s]=e[s]);for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(goog.asserts.assert(o.toLowerCase()==o,"Must be lower case"),r[o]=t[o]);if(n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var s=i.toLowerCase();if(s in e)throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot override "'+s+'" attribute, got "'+i+'" with value "'+n[i]+'"':"");s in t&&delete r[s],r[i]=n[i]}}return r};module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES=goog.DEBUG;module$contents$goog$html$SafeHtml_SafeHtml.SUPPORT_STYLE_ATTRIBUTE=!0;module$contents$goog$html$SafeHtml_SafeHtml.from=module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape;var module$contents$goog$html$SafeHtml_VALID_NAMES_IN_TAG=/^[a-zA-Z0-9-]+$/,module$contents$goog$html$SafeHtml_URL_ATTRIBUTES={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},module$contents$goog$html$SafeHtml_NOT_ALLOWED_TAG_NAMES=module$contents$goog$object_createSet(goog.dom.TagName.APPLET,goog.dom.TagName.BASE,goog.dom.TagName.EMBED,goog.dom.TagName.IFRAME,goog.dom.TagName.LINK,goog.dom.TagName.MATH,goog.dom.TagName.META,goog.dom.TagName.OBJECT,goog.dom.TagName.SCRIPT,goog.dom.TagName.STYLE,goog.dom.TagName.SVG,goog.dom.TagName.TEMPLATE);module$contents$goog$html$SafeHtml_SafeHtml.DOCTYPE_HTML=module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL);module$contents$goog$html$SafeHtml_SafeHtml.EMPTY=new module$contents$goog$html$SafeHtml_SafeHtml(goog.global.trustedTypes&&goog.global.trustedTypes.emptyHTML||"",goog.i18n.bidi.Dir.NEUTRAL,module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE);module$contents$goog$html$SafeHtml_SafeHtml.BR=module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL);goog.html.SafeHtml=module$contents$goog$html$SafeHtml_SafeHtml;goog.html.uncheckedconversions={};goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,t,n){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,n||null)};goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)};goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t)};goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)};goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)};goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)};goog.dom.safe={};goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"};goog.dom.safe.insertAdjacentHtml=function(e,t,n){e.insertAdjacentHTML(t,module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(n))};goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&typeof document>"u")return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),goog.DEBUG&&!e.firstChild?!1:(t=e.firstChild.firstChild,e.innerHTML=module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(module$contents$goog$html$SafeHtml_SafeHtml.EMPTY),!t.parentElement)});goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(e,t){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;e.lastChild;)e.removeChild(e.lastChild);e.innerHTML=module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(t)};goog.dom.safe.setInnerHtml=function(e,t){if(goog.asserts.ENABLE_ASSERTS&&e.tagName&&goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[e.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+e.tagName+".");goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(e,t)};goog.dom.safe.setInnerHtmlFromConstant=function(e,t){goog.dom.safe.setInnerHtml(e,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Constant HTML to be immediatelly used."),goog.string.Const.unwrap(t)))};goog.dom.safe.setOuterHtml=function(e,t){e.outerHTML=module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(t)};goog.dom.safe.setFormElementAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLFormElement(e).action=goog.html.SafeUrl.unwrap(t)};goog.dom.safe.setButtonFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLButtonElement(e).formAction=goog.html.SafeUrl.unwrap(t)};goog.dom.safe.setInputFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLInputElement(e).formAction=goog.html.SafeUrl.unwrap(t)};goog.dom.safe.setStyle=function(e,t){e.style.cssText=module$contents$goog$html$SafeStyle_SafeStyle.unwrap(t)};goog.dom.safe.documentWrite=function(e,t){e.write(module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(t))};goog.dom.safe.setAnchorHref=function(e,t){goog.dom.asserts.assertIsHTMLAnchorElement(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrap(t)};goog.dom.safe.setImageSrc=function(e,t){goog.dom.asserts.assertIsHTMLImageElement(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t,/^data:image\//i.test(t)),e.src=goog.html.SafeUrl.unwrap(t)};goog.dom.safe.setAudioSrc=function(e,t){goog.dom.asserts.assertIsHTMLAudioElement(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t,/^data:audio\//i.test(t)),e.src=goog.html.SafeUrl.unwrap(t)};goog.dom.safe.setVideoSrc=function(e,t){goog.dom.asserts.assertIsHTMLVideoElement(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t,/^data:video\//i.test(t)),e.src=goog.html.SafeUrl.unwrap(t)};goog.dom.safe.setEmbedSrc=function(e,t){goog.dom.asserts.assertIsHTMLEmbedElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)};goog.dom.safe.setFrameSrc=function(e,t){goog.dom.asserts.assertIsHTMLFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)};goog.dom.safe.setIframeSrc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)};goog.dom.safe.setIframeSrcdoc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.srcdoc=module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(t)};goog.dom.safe.setLinkHrefAndRel=function(e,t,n){goog.dom.asserts.assertIsHTMLLinkElement(e),e.rel=n,goog.string.internal.caseInsensitiveContains(n,"stylesheet")?(goog.asserts.assert(t instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),e.href=goog.html.TrustedResourceUrl.unwrap(t),(t=goog.dom.safe.getStyleNonce(e.ownerDocument&&e.ownerDocument.defaultView))&&e.setAttribute("nonce",t)):e.href=t instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(t):t instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(t):goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitizeAssertUnchanged(t))};goog.dom.safe.setObjectData=function(e,t){goog.dom.asserts.assertIsHTMLObjectElement(e),e.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)};goog.dom.safe.setScriptSrc=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t),goog.dom.safe.setNonceForScriptElement_(e)};goog.dom.safe.setScriptContent=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.textContent=module$contents$goog$html$SafeScript_SafeScript.unwrapTrustedScript(t),goog.dom.safe.setNonceForScriptElement_(e)};goog.dom.safe.setNonceForScriptElement_=function(e){var t=goog.dom.safe.getScriptNonce(e.ownerDocument&&e.ownerDocument.defaultView);t&&e.setAttribute("nonce",t)};goog.dom.safe.setLocationHref=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrap(t)};goog.dom.safe.assignLocation=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.assign(goog.html.SafeUrl.unwrap(t))};goog.dom.safe.replaceLocation=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.replace(goog.html.SafeUrl.unwrap(t))};goog.dom.safe.openInWindow=function(e,t,n,r){return e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t=t||goog.global,n=n instanceof goog.string.Const?goog.string.Const.unwrap(n):n||"",r!==void 0?t.open(goog.html.SafeUrl.unwrap(e),n,r):t.open(goog.html.SafeUrl.unwrap(e),n)};goog.dom.safe.parseFromStringHtml=function(e,t){return goog.dom.safe.parseFromString(e,t,"text/html")};goog.dom.safe.parseFromString=function(e,t,n){return e.parseFromString(module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(t),n)};goog.dom.safe.createImageFromBlob=function(e){if(!/^image\/.*/g.test(e.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var t=goog.global.URL.createObjectURL(e);return e=new goog.global.Image,e.onload=function(){goog.global.URL.revokeObjectURL(t)},goog.dom.safe.setImageSrc(e,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),t)),e};goog.dom.safe.createContextualFragment=function(e,t){return e.createContextualFragment(module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(t))};goog.dom.safe.getScriptNonce=function(e){return goog.dom.safe.getNonce_("script[nonce]",e)};goog.dom.safe.getStyleNonce=function(e){return goog.dom.safe.getNonce_('style[nonce],link[rel="stylesheet"][nonce]',e)};goog.dom.safe.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/;goog.dom.safe.getNonce_=function(e,t){return t=(t||goog.global).document,t.querySelector&&(e=t.querySelector(e))&&(e=e.nonce||e.getAttribute("nonce"))&&goog.dom.safe.NONCE_PATTERN_.test(e)?e:""};goog.string.DETECT_DOUBLE_ESCAPING=!1;goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1;goog.string.Unicode={NBSP:"\xA0"};goog.string.startsWith=goog.string.internal.startsWith;goog.string.endsWith=goog.string.internal.endsWith;goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith;goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith;goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals;goog.string.subs=function(e,t){for(var n=e.split("%s"),r="",o=Array.prototype.slice.call(arguments,1);o.length&&1<n.length;)r+=n.shift()+o.shift();return r+n.join("%s")};goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")};goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace;goog.string.isEmptyString=function(e){return e.length==0};goog.string.isEmpty=goog.string.isEmptyOrWhitespace;goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))};goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe;goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)};goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)};goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)};goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)};goog.string.isSpace=function(e){return e==" "};goog.string.isUnicodeChar=function(e){return e.length==1&&" "<=e&&"~">=e||"\x80"<=e&&"\uFFFD">=e};goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")};goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,`
`)};goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")};goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")};goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};goog.string.trim=goog.string.internal.trim;goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")};goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")};goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare;goog.string.numberAwareCompare_=function(e,t,n){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var r=e.toLowerCase().match(n),o=t.toLowerCase().match(n),i=Math.min(r.length,o.length),s=0;s<i;s++){n=r[s];var l=o[s];if(n!=l)return e=parseInt(n,10),!isNaN(e)&&(t=parseInt(l,10),!isNaN(t)&&e-t)?e-t:n<l?-1:1}return r.length!=o.length?r.length-o.length:e<t?-1:1};goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\D+/g)};goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\.\d+|\D+/g)};goog.string.numerateCompare=goog.string.floatAwareCompare;goog.string.urlEncode=function(e){return encodeURIComponent(String(e))};goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))};goog.string.newLineToBr=goog.string.internal.newLineToBr;goog.string.htmlEscape=function(e,t){return e=goog.string.internal.htmlEscape(e,t),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;")),e};goog.string.E_RE_=/e/g;goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e};goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e};goog.string.unescapeEntitiesUsingDom_=function(e,t){var n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},r=t?t.createElement("div"):goog.global.document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,function(o,i){var s=n[o];return s||(i.charAt(0)=="#"&&(i=+("0"+i.substr(1)),isNaN(i)||(s=String.fromCharCode(i))),s||(goog.dom.safe.setInnerHtml(r,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),o+" ")),s=r.firstChild.nodeValue.slice(0,-1)),n[o]=s)})};goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(t,n){switch(n){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return n.charAt(0)!="#"||(n=+("0"+n.substr(1)),isNaN(n))?t:String.fromCharCode(n)}})};goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g;goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)};goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)};goog.string.stripQuotes=function(e,t){for(var n=t.length,r=0;r<n;r++){var o=n==1?t:t.charAt(r);if(e.charAt(0)==o&&e.charAt(e.length-1)==o)return e.substring(1,e.length-1)}return e};goog.string.truncate=function(e,t,n){return n&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),n&&(e=goog.string.htmlEscape(e)),e};goog.string.truncateMiddle=function(e,t,n,r){return n&&(e=goog.string.unescapeEntities(e)),r&&e.length>t?(r>t&&(r=t),e=e.substring(0,t-r)+"..."+e.substring(e.length-r)):e.length>t&&(r=Math.floor(t/2),e=e.substring(0,r+t%2)+"..."+e.substring(e.length-r)),n&&(e=goog.string.htmlEscape(e)),e};goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"};goog.string.jsEscapeCache_={"'":"\\'"};goog.string.quote=function(e){e=String(e);for(var t=['"'],n=0;n<e.length;n++){var r=e.charAt(n),o=r.charCodeAt(0);t[n+1]=goog.string.specialEscapeChars_[r]||(31<o&&127>o?r:goog.string.escapeChar(r))}return t.push('"'),t.join("")};goog.string.escapeString=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=goog.string.escapeChar(e.charAt(n));return t.join("")};goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e.charCodeAt(0);if(31<t&&127>t)var n=e;else 256>t?(n="\\x",(16>t||256<t)&&(n+="0")):(n="\\u",4096>t&&(n+="0")),n+=t.toString(16).toUpperCase();return goog.string.jsEscapeCache_[e]=n};goog.string.contains=goog.string.internal.contains;goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains;goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0};goog.string.removeAt=function(e,t,n){var r=e;return 0<=t&&t<e.length&&0<n&&(r=e.substr(0,t)+e.substr(t+n,e.length-t-n)),r};goog.string.remove=function(e,t){return e.replace(t,"")};goog.string.removeAll=function(e,t){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,"")};goog.string.replaceAll=function(e,t,n){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,n.replace(/\$/g,"$$$$"))};goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)};goog.string.padNumber=function(e,t,n){if(!Number.isFinite(e))return String(e);e=n!==void 0?e.toFixed(n):String(e),n=e.indexOf("."),n===-1&&(n=e.length);var r=e[0]==="-"?"-":"";return r&&(e=e.substring(1)),r+goog.string.repeat("0",Math.max(0,t-n))+e};goog.string.makeSafe=function(e){return e==null?"":String(e)};goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")};goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)};goog.string.compareVersions=goog.string.internal.compareVersions;goog.string.hashCode=function(e){for(var t=0,n=0;n<e.length;++n)t=31*t+e.charCodeAt(n)>>>0;return t};goog.string.uniqueStringCounter_=2147483648*Math.random()|0;goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++};goog.string.toNumber=function(e){var t=Number(e);return t==0&&goog.string.isEmptyOrWhitespace(e)?NaN:t};goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)};goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)};goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(t,n){return n.toUpperCase()})};goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()};goog.string.toTitleCase=function(e,t){return t=typeof t=="string"?goog.string.regExpEscape(t):"\\s",e.replace(new RegExp("(^"+(t?"|["+t+"]+":"")+")([a-z])","g"),function(n,r,o){return r+o.toUpperCase()})};goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()};goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),typeof e=="string"?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN};goog.string.splitLimit=function(e,t,n){e=e.split(t);for(var r=[];0<n&&e.length;)r.push(e.shift()),n--;return e.length&&r.push(e.join(t)),r};goog.string.lastComponent=function(e,t){if(t)typeof t=="string"&&(t=[t]);else return e;for(var n=-1,r=0;r<t.length;r++)if(t[r]!=""){var o=e.lastIndexOf(t[r]);o>n&&(n=o)}return n==-1?e:e.slice(n+1)};goog.string.editDistance=function(e,t){var n=[],r=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var o=0;o<t.length+1;o++)n[o]=o;for(o=0;o<e.length;o++){r[0]=o+1;for(var i=0;i<t.length;i++)r[i+1]=Math.min(r[i]+1,n[i+1]+1,n[i]+ +(e[o]!=t[i]));for(i=0;i<n.length;i++)n[i]=r[i]}return r[t.length]};goog.uri={};goog.uri.utils={};goog.uri.utils.QueryArray={};goog.uri.utils.QueryValue={};goog.uri.utils.CharCode_={AMPERSAND:38,EQUAL:61,HASH:35,QUESTION:63};goog.uri.utils.buildFromEncodedParts=function(e,t,n,r,o,i,s){var l="";return e&&(l+=e+":"),n&&(l+="//",t&&(l+=t+"@"),l+=n,r&&(l+=":"+r)),o&&(l+=o),i&&(l+="?"+i),s&&(l+="#"+s),l};goog.uri.utils.splitRe_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");goog.uri.utils.ComponentIndex={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7};goog.uri.utils.urlPackageSupportLoggingHandler_=null;goog.uri.utils.setUrlPackageSupportLoggingHandler=function(e){goog.uri.utils.urlPackageSupportLoggingHandler_=e};goog.uri.utils.split=function(e){var t=e.match(goog.uri.utils.splitRe_);return goog.uri.utils.urlPackageSupportLoggingHandler_&&0<=["http","https","ws","wss","ftp"].indexOf(t[goog.uri.utils.ComponentIndex.SCHEME])&&goog.uri.utils.urlPackageSupportLoggingHandler_(e),t};goog.uri.utils.decodeIfPossible_=function(e,t){return e&&(t?decodeURI(e):decodeURIComponent(e))};goog.uri.utils.getComponentByIndex_=function(e,t){return goog.uri.utils.split(t)[e]||null};goog.uri.utils.getScheme=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.SCHEME,e)};goog.uri.utils.getEffectiveScheme=function(e){return e=goog.uri.utils.getScheme(e),!e&&goog.global.self&&goog.global.self.location&&(e=goog.global.self.location.protocol,e=e.substr(0,e.length-1)),e?e.toLowerCase():""};goog.uri.utils.getUserInfoEncoded=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.USER_INFO,e)};goog.uri.utils.getUserInfo=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getUserInfoEncoded(e))};goog.uri.utils.getDomainEncoded=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.DOMAIN,e)};goog.uri.utils.getDomain=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getDomainEncoded(e),!0)};goog.uri.utils.getPort=function(e){return Number(goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PORT,e))||null};goog.uri.utils.getPathEncoded=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PATH,e)};goog.uri.utils.getPath=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getPathEncoded(e),!0)};goog.uri.utils.getQueryData=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.QUERY_DATA,e)};goog.uri.utils.getFragmentEncoded=function(e){var t=e.indexOf("#");return 0>t?null:e.substr(t+1)};goog.uri.utils.setFragmentEncoded=function(e,t){return goog.uri.utils.removeFragment(e)+(t?"#"+t:"")};goog.uri.utils.getFragment=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getFragmentEncoded(e))};goog.uri.utils.getHost=function(e){return e=goog.uri.utils.split(e),goog.uri.utils.buildFromEncodedParts(e[goog.uri.utils.ComponentIndex.SCHEME],e[goog.uri.utils.ComponentIndex.USER_INFO],e[goog.uri.utils.ComponentIndex.DOMAIN],e[goog.uri.utils.ComponentIndex.PORT])};goog.uri.utils.getOrigin=function(e){return e=goog.uri.utils.split(e),goog.uri.utils.buildFromEncodedParts(e[goog.uri.utils.ComponentIndex.SCHEME],null,e[goog.uri.utils.ComponentIndex.DOMAIN],e[goog.uri.utils.ComponentIndex.PORT])};goog.uri.utils.getPathAndAfter=function(e){return e=goog.uri.utils.split(e),goog.uri.utils.buildFromEncodedParts(null,null,null,null,e[goog.uri.utils.ComponentIndex.PATH],e[goog.uri.utils.ComponentIndex.QUERY_DATA],e[goog.uri.utils.ComponentIndex.FRAGMENT])};goog.uri.utils.removeFragment=function(e){var t=e.indexOf("#");return 0>t?e:e.substr(0,t)};goog.uri.utils.haveSameDomain=function(e,t){return e=goog.uri.utils.split(e),t=goog.uri.utils.split(t),e[goog.uri.utils.ComponentIndex.DOMAIN]==t[goog.uri.utils.ComponentIndex.DOMAIN]&&e[goog.uri.utils.ComponentIndex.SCHEME]==t[goog.uri.utils.ComponentIndex.SCHEME]&&e[goog.uri.utils.ComponentIndex.PORT]==t[goog.uri.utils.ComponentIndex.PORT]};goog.uri.utils.assertNoFragmentsOrQueries_=function(e){goog.asserts.assert(0>e.indexOf("#")&&0>e.indexOf("?"),"goog.uri.utils: Fragment or query identifiers are not supported: [%s]",e)};goog.uri.utils.parseQueryData=function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var i=e[n].substring(0,r);o=e[n].substring(r+1)}else i=e[n];t(i,o?goog.string.urlDecode(o):"")}}};goog.uri.utils.splitQueryData_=function(e){var t=e.indexOf("#");0>t&&(t=e.length);var n=e.indexOf("?");if(0>n||n>t){n=t;var r=""}else r=e.substring(n+1,t);return[e.substr(0,n),r,e.substr(t)]};goog.uri.utils.joinQueryData_=function(e){return e[0]+(e[1]?"?"+e[1]:"")+e[2]};goog.uri.utils.appendQueryData_=function(e,t){return t?e?e+"&"+t:t:e};goog.uri.utils.appendQueryDataToUri_=function(e,t){return t?(e=goog.uri.utils.splitQueryData_(e),e[1]=goog.uri.utils.appendQueryData_(e[1],t),goog.uri.utils.joinQueryData_(e)):e};goog.uri.utils.appendKeyValuePairs_=function(e,t,n){if(goog.asserts.assertString(e),Array.isArray(t)){goog.asserts.assertArray(t);for(var r=0;r<t.length;r++)goog.uri.utils.appendKeyValuePairs_(e,String(t[r]),n)}else t!=null&&n.push(e+(t===""?"":"="+goog.string.urlEncode(t)))};goog.uri.utils.buildQueryData=function(e,t){goog.asserts.assert(Math.max(e.length-(t||0),0)%2==0,"goog.uri.utils: Key/value lists must be even in length.");var n=[];for(t=t||0;t<e.length;t+=2)goog.uri.utils.appendKeyValuePairs_(e[t],e[t+1],n);return n.join("&")};goog.uri.utils.buildQueryDataFromMap=function(e){var t=[],n;for(n in e)goog.uri.utils.appendKeyValuePairs_(n,e[n],t);return t.join("&")};goog.uri.utils.appendParams=function(e,t){var n=arguments.length==2?goog.uri.utils.buildQueryData(arguments[1],0):goog.uri.utils.buildQueryData(arguments,1);return goog.uri.utils.appendQueryDataToUri_(e,n)};goog.uri.utils.appendParamsFromMap=function(e,t){return t=goog.uri.utils.buildQueryDataFromMap(t),goog.uri.utils.appendQueryDataToUri_(e,t)};goog.uri.utils.appendParam=function(e,t,n){return n=n!=null?"="+goog.string.urlEncode(n):"",goog.uri.utils.appendQueryDataToUri_(e,t+n)};goog.uri.utils.findParam_=function(e,t,n,r){for(var o=n.length;0<=(t=e.indexOf(n,t))&&t<r;){var i=e.charCodeAt(t-1);if((i==goog.uri.utils.CharCode_.AMPERSAND||i==goog.uri.utils.CharCode_.QUESTION)&&(i=e.charCodeAt(t+o),!i||i==goog.uri.utils.CharCode_.EQUAL||i==goog.uri.utils.CharCode_.AMPERSAND||i==goog.uri.utils.CharCode_.HASH))return t;t+=o+1}return-1};goog.uri.utils.hashOrEndRe_=/#|$/;goog.uri.utils.hasParam=function(e,t){return 0<=goog.uri.utils.findParam_(e,0,t,e.search(goog.uri.utils.hashOrEndRe_))};goog.uri.utils.getParamValue=function(e,t){var n=e.search(goog.uri.utils.hashOrEndRe_),r=goog.uri.utils.findParam_(e,0,t,n);if(0>r)return null;var o=e.indexOf("&",r);return(0>o||o>n)&&(o=n),r+=t.length+1,goog.string.urlDecode(e.substr(r,o-r))};goog.uri.utils.getParamValues=function(e,t){for(var n=e.search(goog.uri.utils.hashOrEndRe_),r=0,o,i=[];0<=(o=goog.uri.utils.findParam_(e,r,t,n));)r=e.indexOf("&",o),(0>r||r>n)&&(r=n),o+=t.length+1,i.push(goog.string.urlDecode(e.substr(o,r-o)));return i};goog.uri.utils.trailingQueryPunctuationRe_=/[?&]($|#)/;goog.uri.utils.removeParam=function(e,t){for(var n=e.search(goog.uri.utils.hashOrEndRe_),r=0,o,i=[];0<=(o=goog.uri.utils.findParam_(e,r,t,n));)i.push(e.substring(r,o)),r=Math.min(e.indexOf("&",o)+1||n,n);return i.push(e.substr(r)),i.join("").replace(goog.uri.utils.trailingQueryPunctuationRe_,"$1")};goog.uri.utils.setParam=function(e,t,n){return goog.uri.utils.appendParam(goog.uri.utils.removeParam(e,t),t,n)};goog.uri.utils.setParamsFromMap=function(e,t){e=goog.uri.utils.splitQueryData_(e);var n=e[1],r=[];return n&&n.split("&").forEach(function(o){var i=o.indexOf("=");t.hasOwnProperty(0<=i?o.substr(0,i):o)||r.push(o)}),e[1]=goog.uri.utils.appendQueryData_(r.join("&"),goog.uri.utils.buildQueryDataFromMap(t)),goog.uri.utils.joinQueryData_(e)};goog.uri.utils.appendPath=function(e,t){return goog.uri.utils.assertNoFragmentsOrQueries_(e),goog.string.endsWith(e,"/")&&(e=e.substr(0,e.length-1)),goog.string.startsWith(t,"/")&&(t=t.substr(1)),""+e+"/"+t};goog.uri.utils.setPath=function(e,t){return goog.string.startsWith(t,"/")||(t="/"+t),e=goog.uri.utils.split(e),goog.uri.utils.buildFromEncodedParts(e[goog.uri.utils.ComponentIndex.SCHEME],e[goog.uri.utils.ComponentIndex.USER_INFO],e[goog.uri.utils.ComponentIndex.DOMAIN],e[goog.uri.utils.ComponentIndex.PORT],t,e[goog.uri.utils.ComponentIndex.QUERY_DATA],e[goog.uri.utils.ComponentIndex.FRAGMENT])};goog.uri.utils.StandardQueryParam={RANDOM:"zx"};goog.uri.utils.makeUnique=function(e){return goog.uri.utils.setParam(e,goog.uri.utils.StandardQueryParam.RANDOM,goog.string.getRandomString())};proto.tflite={};proto.tflite.proto={};proto.tflite.proto.BenchmarkStoragePaths=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.tflite.proto.BenchmarkStoragePaths,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.proto.BenchmarkStoragePaths.prototype.getStorageFilePath=function(){return this.internal_getStringFieldWithDefault(1)};proto.tflite.proto.BenchmarkStoragePaths.prototype.setStorageFilePath=function(e){return this.internal_setField(1,e)};proto.tflite.proto.BenchmarkStoragePaths.prototype.clearStorageFilePath=function(){return this.internal_clearField(1)};proto.tflite.proto.BenchmarkStoragePaths.prototype.hasStorageFilePath=function(){return this.internal_hasField(1)};proto.tflite.proto.BenchmarkStoragePaths.prototype.getDataDirectoryPath=function(){return this.internal_getStringFieldWithDefault(2)};proto.tflite.proto.BenchmarkStoragePaths.prototype.setDataDirectoryPath=function(e){return this.internal_setField(2,e)};proto.tflite.proto.BenchmarkStoragePaths.prototype.clearDataDirectoryPath=function(){return this.internal_clearField(2)};proto.tflite.proto.BenchmarkStoragePaths.prototype.hasDataDirectoryPath=function(){return this.internal_hasField(2)};proto.tflite.proto.BenchmarkStoragePaths.internalDoNotUse$proto$tflite$proto$BenchmarkStoragePaths$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readString,2:jspb.internal.binary.readString}};proto.tflite.proto.BenchmarkStoragePaths.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.proto.BenchmarkStoragePaths.serializeBinaryToWriter)};proto.tflite.proto.BenchmarkStoragePaths.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeString(t,e,1),jspb.internal.binary.writeString(t,e,2),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.proto.BenchmarkStoragePaths.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.proto.BenchmarkStoragePaths,proto.tflite.proto.BenchmarkStoragePaths.internalDoNotUse$proto$tflite$proto$BenchmarkStoragePaths$getBinaryFieldsObject)};proto.tflite.proto.BenchmarkStoragePaths.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.proto.BenchmarkStoragePaths.internalDoNotUse$proto$tflite$proto$BenchmarkStoragePaths$getBinaryFieldsObject)};proto.tflite.proto.BenchmarkStoragePaths.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.proto.BenchmarkStoragePaths,e)};proto.tflite.proto.BenchmarkStoragePaths.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.proto.BenchmarkStoragePaths.fromObject=function(e){var t=new proto.tflite.proto.BenchmarkStoragePaths;return e.storageFilePath!=null&&t.internal_setField(1,e.storageFilePath),e.dataDirectoryPath!=null&&t.internal_setField(2,e.dataDirectoryPath),t});proto.tflite.proto.BenchmarkStoragePaths.prototype.toObject=function(e){return proto.tflite.proto.BenchmarkStoragePaths.internal_toObject(e,this)};proto.tflite.proto.BenchmarkStoragePaths.internal_toObject=function(e,t){if(t!=null){var n={storageFilePath:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),dataDirectoryPath:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(2))};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.proto.CPUSettings=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.tflite.proto.CPUSettings,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.proto.CPUSettings.prototype.getNumThreads=function(){return this.internal_getIntegerFieldWithDefault(1,-1)};proto.tflite.proto.CPUSettings.prototype.setNumThreads=function(e){return this.internal_setField(1,e)};proto.tflite.proto.CPUSettings.prototype.clearNumThreads=function(){return this.internal_clearField(1)};proto.tflite.proto.CPUSettings.prototype.hasNumThreads=function(){return this.internal_hasField(1)};proto.tflite.proto.CPUSettings.internalDoNotUse$proto$tflite$proto$CPUSettings$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readInt32}};proto.tflite.proto.CPUSettings.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.proto.CPUSettings.serializeBinaryToWriter)};proto.tflite.proto.CPUSettings.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeInt32(t,e,1),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.proto.CPUSettings.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.proto.CPUSettings,proto.tflite.proto.CPUSettings.internalDoNotUse$proto$tflite$proto$CPUSettings$getBinaryFieldsObject)};proto.tflite.proto.CPUSettings.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.proto.CPUSettings.internalDoNotUse$proto$tflite$proto$CPUSettings$getBinaryFieldsObject)};proto.tflite.proto.CPUSettings.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.proto.CPUSettings,e)};proto.tflite.proto.CPUSettings.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.proto.CPUSettings.fromObject=function(e){var t=new proto.tflite.proto.CPUSettings;return e.numThreads!=null&&t.internal_setField(1,e.numThreads),t});proto.tflite.proto.CPUSettings.prototype.toObject=function(e){return proto.tflite.proto.CPUSettings.internal_toObject(e,this)};proto.tflite.proto.CPUSettings.internal_toObject=function(e,t){if(t!=null){var n={numThreads:t.internal_getIntegerFieldWithDefault(1,-1)};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.proto.ModelFile=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.tflite.proto.ModelFile,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.proto.ModelFile.prototype.getFilename=function(){return this.internal_getStringFieldWithDefault(1)};proto.tflite.proto.ModelFile.prototype.setFilename=function(e){return this.internal_setField(1,e)};proto.tflite.proto.ModelFile.prototype.clearFilename=function(){return this.internal_clearField(1)};proto.tflite.proto.ModelFile.prototype.hasFilename=function(){return this.internal_hasField(1)};proto.tflite.proto.ModelFile.prototype.getFd=function(){return this.internal_getIntegerFieldWithDefault(2)};proto.tflite.proto.ModelFile.prototype.setFd=function(e){return this.internal_setField(2,e)};proto.tflite.proto.ModelFile.prototype.clearFd=function(){return this.internal_clearField(2)};proto.tflite.proto.ModelFile.prototype.hasFd=function(){return this.internal_hasField(2)};proto.tflite.proto.ModelFile.prototype.getOffset=function(){return this.internal_getIntegerFieldWithDefault(3)};proto.tflite.proto.ModelFile.prototype.setOffset=function(e){return this.internal_setField(3,e)};proto.tflite.proto.ModelFile.prototype.clearOffset=function(){return this.internal_clearField(3)};proto.tflite.proto.ModelFile.prototype.hasOffset=function(){return this.internal_hasField(3)};proto.tflite.proto.ModelFile.prototype.getLength=function(){return this.internal_getIntegerFieldWithDefault(4)};proto.tflite.proto.ModelFile.prototype.setLength=function(e){return this.internal_setField(4,e)};proto.tflite.proto.ModelFile.prototype.clearLength=function(){return this.internal_clearField(4)};proto.tflite.proto.ModelFile.prototype.hasLength=function(){return this.internal_hasField(4)};proto.tflite.proto.ModelFile.internalDoNotUse$proto$tflite$proto$ModelFile$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readString,2:jspb.internal.binary.readInt64,3:jspb.internal.binary.readInt64,4:jspb.internal.binary.readInt64}};proto.tflite.proto.ModelFile.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.proto.ModelFile.serializeBinaryToWriter)};proto.tflite.proto.ModelFile.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeString(t,e,1),jspb.internal.binary.writeInt64(t,e,2),jspb.internal.binary.writeInt64(t,e,3),jspb.internal.binary.writeInt64(t,e,4),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.proto.ModelFile.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.proto.ModelFile,proto.tflite.proto.ModelFile.internalDoNotUse$proto$tflite$proto$ModelFile$getBinaryFieldsObject)};proto.tflite.proto.ModelFile.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.proto.ModelFile.internalDoNotUse$proto$tflite$proto$ModelFile$getBinaryFieldsObject)};proto.tflite.proto.ModelFile.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.proto.ModelFile,e)};proto.tflite.proto.ModelFile.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.proto.ModelFile.fromObject=function(e){var t=new proto.tflite.proto.ModelFile;return e.filename!=null&&t.internal_setField(1,e.filename),e.fd!=null&&t.internal_setField(2,e.fd),e.offset!=null&&t.internal_setField(3,e.offset),e.length!=null&&t.internal_setField(4,e.length),t});proto.tflite.proto.ModelFile.prototype.toObject=function(e){return proto.tflite.proto.ModelFile.internal_toObject(e,this)};proto.tflite.proto.ModelFile.internal_toObject=function(e,t){if(t!=null){var n={filename:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),fd:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(2)),offset:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(3)),length:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(4))};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.proto.CoralSettings=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.tflite.proto.CoralSettings,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.proto.CoralSettings.prototype.getDevice=function(){return this.internal_getStringFieldWithDefault(1)};proto.tflite.proto.CoralSettings.prototype.setDevice=function(e){return this.internal_setField(1,e)};proto.tflite.proto.CoralSettings.prototype.clearDevice=function(){return this.internal_clearField(1)};proto.tflite.proto.CoralSettings.prototype.hasDevice=function(){return this.internal_hasField(1)};proto.tflite.proto.CoralSettings.prototype.getPerformance=function(){return this.internal_getFieldWithDefault(2,1)};proto.tflite.proto.CoralSettings.prototype.setPerformance=function(e){return this.internal_setField(2,e)};proto.tflite.proto.CoralSettings.prototype.clearPerformance=function(){return this.internal_clearField(2)};proto.tflite.proto.CoralSettings.prototype.hasPerformance=function(){return this.internal_hasField(2)};proto.tflite.proto.CoralSettings.prototype.getUsbAlwaysDfu=function(){return this.internal_getBooleanFieldWithDefault(3)};proto.tflite.proto.CoralSettings.prototype.setUsbAlwaysDfu=function(e){return this.internal_setField(3,e)};proto.tflite.proto.CoralSettings.prototype.clearUsbAlwaysDfu=function(){return this.internal_clearField(3)};proto.tflite.proto.CoralSettings.prototype.hasUsbAlwaysDfu=function(){return this.internal_hasField(3)};proto.tflite.proto.CoralSettings.prototype.getUsbMaxBulkInQueueLength=function(){return this.internal_getIntegerFieldWithDefault(4)};proto.tflite.proto.CoralSettings.prototype.setUsbMaxBulkInQueueLength=function(e){return this.internal_setField(4,e)};proto.tflite.proto.CoralSettings.prototype.clearUsbMaxBulkInQueueLength=function(){return this.internal_clearField(4)};proto.tflite.proto.CoralSettings.prototype.hasUsbMaxBulkInQueueLength=function(){return this.internal_hasField(4)};proto.tflite.proto.CoralSettings.internalDoNotUse$proto$tflite$proto$CoralSettings$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readString,2:jspb.internal.binary.readEnum,3:jspb.internal.binary.readBool,4:jspb.internal.binary.readInt32}};proto.tflite.proto.CoralSettings.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.proto.CoralSettings.serializeBinaryToWriter)};proto.tflite.proto.CoralSettings.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeString(t,e,1),jspb.internal.binary.writeEnum(t,e,2),jspb.internal.binary.writeBool(t,e,3),jspb.internal.binary.writeInt32(t,e,4),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.proto.CoralSettings.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.proto.CoralSettings,proto.tflite.proto.CoralSettings.internalDoNotUse$proto$tflite$proto$CoralSettings$getBinaryFieldsObject)};proto.tflite.proto.CoralSettings.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.proto.CoralSettings.internalDoNotUse$proto$tflite$proto$CoralSettings$getBinaryFieldsObject)};proto.tflite.proto.CoralSettings.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.proto.CoralSettings,e)};proto.tflite.proto.CoralSettings.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.proto.CoralSettings.fromObject=function(e){var t=new proto.tflite.proto.CoralSettings;return e.device!=null&&t.internal_setField(1,e.device),e.performance!=null&&t.internal_setField(2,e.performance),e.usbAlwaysDfu!=null&&t.internal_setField(3,e.usbAlwaysDfu),e.usbMaxBulkInQueueLength!=null&&t.internal_setField(4,e.usbMaxBulkInQueueLength),t});proto.tflite.proto.CoralSettings.prototype.toObject=function(e){return proto.tflite.proto.CoralSettings.internal_toObject(e,this)};proto.tflite.proto.CoralSettings.internal_toObject=function(e,t){if(t!=null){var n={device:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),performance:t.internal_getFieldWithDefault(2,1),usbAlwaysDfu:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getBooleanField(3)),usbMaxBulkInQueueLength:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(4))};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.proto.CoralSettings.Performance={UNDEFINED:0,MAXIMUM:1,HIGH:2,MEDIUM:3,LOW:4};proto.tflite.proto.EdgeTpuDeviceSpec=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e,-1,proto.tflite.proto.EdgeTpuDeviceSpec.repeatedFields_)};$jscomp.inherits(proto.tflite.proto.EdgeTpuDeviceSpec,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.proto.EdgeTpuDeviceSpec.prototype.getPlatformType=function(){return this.internal_getFieldWithDefault(1,0)};proto.tflite.proto.EdgeTpuDeviceSpec.prototype.setPlatformType=function(e){return this.internal_setField(1,e)};proto.tflite.proto.EdgeTpuDeviceSpec.prototype.clearPlatformType=function(){return this.internal_clearField(1)};proto.tflite.proto.EdgeTpuDeviceSpec.prototype.hasPlatformType=function(){return this.internal_hasField(1)};proto.tflite.proto.EdgeTpuDeviceSpec.prototype.getNumChips=function(){return this.internal_getIntegerFieldWithDefault(2)};proto.tflite.proto.EdgeTpuDeviceSpec.prototype.setNumChips=function(e){return this.internal_setField(2,e)};proto.tflite.proto.EdgeTpuDeviceSpec.prototype.clearNumChips=function(){return this.internal_clearField(2)};proto.tflite.proto.EdgeTpuDeviceSpec.prototype.hasNumChips=function(){return this.internal_hasField(2)};proto.tflite.proto.EdgeTpuDeviceSpec.prototype.getDevicePathsList=function(){return this.internal_getRepeatedField(3)};proto.tflite.proto.EdgeTpuDeviceSpec.prototype.setDevicePathsList=function(e){return this.internal_setRepeatedField(3,e)};proto.tflite.proto.EdgeTpuDeviceSpec.prototype.addDevicePaths=function(e,t){return this.internal_addToRepeatedField(3,e,t)};proto.tflite.proto.EdgeTpuDeviceSpec.prototype.clearDevicePathsList=function(){return this.internal_clearRepeatedField(3)};proto.tflite.proto.EdgeTpuDeviceSpec.prototype.getChipFamily=function(){return this.internal_getIntegerFieldWithDefault(4)};proto.tflite.proto.EdgeTpuDeviceSpec.prototype.setChipFamily=function(e){return this.internal_setField(4,e)};proto.tflite.proto.EdgeTpuDeviceSpec.prototype.clearChipFamily=function(){return this.internal_clearField(4)};proto.tflite.proto.EdgeTpuDeviceSpec.prototype.hasChipFamily=function(){return this.internal_hasField(4)};proto.tflite.proto.EdgeTpuDeviceSpec.internalDoNotUse$proto$tflite$proto$EdgeTpuDeviceSpec$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readEnum,2:jspb.internal.binary.readInt32,3:jspb.internal.binary.readRepeatedString,4:jspb.internal.binary.readInt32}};proto.tflite.proto.EdgeTpuDeviceSpec.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.proto.EdgeTpuDeviceSpec.serializeBinaryToWriter)};proto.tflite.proto.EdgeTpuDeviceSpec.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeEnum(t,e,1),jspb.internal.binary.writeInt32(t,e,2),jspb.internal.binary.writeRepeatedString(t,e,3),jspb.internal.binary.writeInt32(t,e,4),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.proto.EdgeTpuDeviceSpec.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.proto.EdgeTpuDeviceSpec,proto.tflite.proto.EdgeTpuDeviceSpec.internalDoNotUse$proto$tflite$proto$EdgeTpuDeviceSpec$getBinaryFieldsObject)};proto.tflite.proto.EdgeTpuDeviceSpec.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.proto.EdgeTpuDeviceSpec.internalDoNotUse$proto$tflite$proto$EdgeTpuDeviceSpec$getBinaryFieldsObject)};proto.tflite.proto.EdgeTpuDeviceSpec.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.proto.EdgeTpuDeviceSpec,e)};proto.tflite.proto.EdgeTpuDeviceSpec.repeatedFields_=[3];proto.tflite.proto.EdgeTpuDeviceSpec.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.proto.EdgeTpuDeviceSpec.fromObject=function(e){var t=new proto.tflite.proto.EdgeTpuDeviceSpec;return e.platformType!=null&&t.internal_setField(1,e.platformType),e.numChips!=null&&t.internal_setField(2,e.numChips),e.devicePathsList!=null&&t.internal_setRepeatedField(3,e.devicePathsList),e.chipFamily!=null&&t.internal_setField(4,e.chipFamily),t});proto.tflite.proto.EdgeTpuDeviceSpec.prototype.toObject=function(e){return proto.tflite.proto.EdgeTpuDeviceSpec.internal_toObject(e,this)};proto.tflite.proto.EdgeTpuDeviceSpec.internal_toObject=function(e,t){if(t!=null){var n={platformType:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),numChips:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(2)),devicePathsList:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getRepeatedField(3)),chipFamily:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(4))};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.proto.EdgeTpuDeviceSpec.PlatformType={MMIO:0,REFERENCE:1,SIMULATOR:2,REMOTE_SIMULATOR:3};proto.tflite.proto.EdgeTpuInactivePowerConfig=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.tflite.proto.EdgeTpuInactivePowerConfig,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.proto.EdgeTpuInactivePowerConfig.prototype.getInactivePowerState=function(){return this.internal_getFieldWithDefault(1,0)};proto.tflite.proto.EdgeTpuInactivePowerConfig.prototype.setInactivePowerState=function(e){return this.internal_setField(1,e)};proto.tflite.proto.EdgeTpuInactivePowerConfig.prototype.clearInactivePowerState=function(){return this.internal_clearField(1)};proto.tflite.proto.EdgeTpuInactivePowerConfig.prototype.hasInactivePowerState=function(){return this.internal_hasField(1)};proto.tflite.proto.EdgeTpuInactivePowerConfig.prototype.getInactiveTimeoutUs=function(){return this.internal_getIntegerFieldWithDefault(2)};proto.tflite.proto.EdgeTpuInactivePowerConfig.prototype.setInactiveTimeoutUs=function(e){return this.internal_setField(2,e)};proto.tflite.proto.EdgeTpuInactivePowerConfig.prototype.clearInactiveTimeoutUs=function(){return this.internal_clearField(2)};proto.tflite.proto.EdgeTpuInactivePowerConfig.prototype.hasInactiveTimeoutUs=function(){return this.internal_hasField(2)};proto.tflite.proto.EdgeTpuInactivePowerConfig.internalDoNotUse$proto$tflite$proto$EdgeTpuInactivePowerConfig$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readEnum,2:jspb.internal.binary.readInt64}};proto.tflite.proto.EdgeTpuInactivePowerConfig.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.proto.EdgeTpuInactivePowerConfig.serializeBinaryToWriter)};proto.tflite.proto.EdgeTpuInactivePowerConfig.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeEnum(t,e,1),jspb.internal.binary.writeInt64(t,e,2),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.proto.EdgeTpuInactivePowerConfig.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.proto.EdgeTpuInactivePowerConfig,proto.tflite.proto.EdgeTpuInactivePowerConfig.internalDoNotUse$proto$tflite$proto$EdgeTpuInactivePowerConfig$getBinaryFieldsObject)};proto.tflite.proto.EdgeTpuInactivePowerConfig.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.proto.EdgeTpuInactivePowerConfig.internalDoNotUse$proto$tflite$proto$EdgeTpuInactivePowerConfig$getBinaryFieldsObject)};proto.tflite.proto.EdgeTpuInactivePowerConfig.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.proto.EdgeTpuInactivePowerConfig,e)};proto.tflite.proto.EdgeTpuInactivePowerConfig.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.proto.EdgeTpuInactivePowerConfig.fromObject=function(e){var t=new proto.tflite.proto.EdgeTpuInactivePowerConfig;return e.inactivePowerState!=null&&t.internal_setField(1,e.inactivePowerState),e.inactiveTimeoutUs!=null&&t.internal_setField(2,e.inactiveTimeoutUs),t});proto.tflite.proto.EdgeTpuInactivePowerConfig.prototype.toObject=function(e){return proto.tflite.proto.EdgeTpuInactivePowerConfig.internal_toObject(e,this)};proto.tflite.proto.EdgeTpuInactivePowerConfig.internal_toObject=function(e,t){if(t!=null){var n={inactivePowerState:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),inactiveTimeoutUs:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(2))};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.proto.EdgeTpuSettings=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e,-1,proto.tflite.proto.EdgeTpuSettings.repeatedFields_)};$jscomp.inherits(proto.tflite.proto.EdgeTpuSettings,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.proto.EdgeTpuSettings.prototype.getInferencePowerState=function(){return this.internal_getFieldWithDefault(1,0)};proto.tflite.proto.EdgeTpuSettings.prototype.setInferencePowerState=function(e){return this.internal_setField(1,e)};proto.tflite.proto.EdgeTpuSettings.prototype.clearInferencePowerState=function(){return this.internal_clearField(1)};proto.tflite.proto.EdgeTpuSettings.prototype.hasInferencePowerState=function(){return this.internal_hasField(1)};proto.tflite.proto.EdgeTpuSettings.prototype.getInactivePowerConfigsList=function(){return this.internal_getRepeatedWrapperField(proto.tflite.proto.EdgeTpuInactivePowerConfig,2)};proto.tflite.proto.EdgeTpuSettings.prototype.setInactivePowerConfigsList=function(e){return this.internal_setRepeatedWrapperField(2,e)};proto.tflite.proto.EdgeTpuSettings.prototype.addInactivePowerConfigs=function(e,t){return this.internal_addToRepeatedWrapperField(2,e,proto.tflite.proto.EdgeTpuInactivePowerConfig,t)};proto.tflite.proto.EdgeTpuSettings.prototype.addAndReturnInactivePowerConfigs=function(e,t){return this.internal_addAndReturnRepeatedWrapperField(2,e,proto.tflite.proto.EdgeTpuInactivePowerConfig,t)};proto.tflite.proto.EdgeTpuSettings.prototype.clearInactivePowerConfigsList=function(){return this.internal_clearRepeatedWrapperField(2)};proto.tflite.proto.EdgeTpuSettings.prototype.getInferencePriority=function(){return this.internal_getIntegerFieldWithDefault(3,-1)};proto.tflite.proto.EdgeTpuSettings.prototype.setInferencePriority=function(e){return this.internal_setField(3,e)};proto.tflite.proto.EdgeTpuSettings.prototype.clearInferencePriority=function(){return this.internal_clearField(3)};proto.tflite.proto.EdgeTpuSettings.prototype.hasInferencePriority=function(){return this.internal_hasField(3)};proto.tflite.proto.EdgeTpuSettings.prototype.getEdgetpuDeviceSpec=function(){return this.internal_getWrapperField(proto.tflite.proto.EdgeTpuDeviceSpec,4)};proto.tflite.proto.EdgeTpuSettings.prototype.setEdgetpuDeviceSpec=function(e){return this.internal_setWrapperField(4,e)};proto.tflite.proto.EdgeTpuSettings.prototype.clearEdgetpuDeviceSpec=function(){return this.internal_clearWrapperField(4)};proto.tflite.proto.EdgeTpuSettings.prototype.hasEdgetpuDeviceSpec=function(){return this.internal_hasField(4)};proto.tflite.proto.EdgeTpuSettings.prototype.getModelToken=function(){return this.internal_getStringFieldWithDefault(5)};proto.tflite.proto.EdgeTpuSettings.prototype.setModelToken=function(e){return this.internal_setField(5,e)};proto.tflite.proto.EdgeTpuSettings.prototype.clearModelToken=function(){return this.internal_clearField(5)};proto.tflite.proto.EdgeTpuSettings.prototype.hasModelToken=function(){return this.internal_hasField(5)};proto.tflite.proto.EdgeTpuSettings.prototype.getFloatTruncationType=function(){return this.internal_getFieldWithDefault(6,0)};proto.tflite.proto.EdgeTpuSettings.prototype.setFloatTruncationType=function(e){return this.internal_setField(6,e)};proto.tflite.proto.EdgeTpuSettings.prototype.clearFloatTruncationType=function(){return this.internal_clearField(6)};proto.tflite.proto.EdgeTpuSettings.prototype.hasFloatTruncationType=function(){return this.internal_hasField(6)};proto.tflite.proto.EdgeTpuSettings.internalDoNotUse$proto$tflite$proto$EdgeTpuSettings$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readEnum,2:[jspb.internal.binary.readRepeatedMessage,proto.tflite.proto.EdgeTpuInactivePowerConfig,proto.tflite.proto.EdgeTpuInactivePowerConfig.internalDoNotUse$proto$tflite$proto$EdgeTpuInactivePowerConfig$getBinaryFieldsObject],3:jspb.internal.binary.readInt32,4:[jspb.internal.binary.readMessage,proto.tflite.proto.EdgeTpuDeviceSpec,proto.tflite.proto.EdgeTpuDeviceSpec.internalDoNotUse$proto$tflite$proto$EdgeTpuDeviceSpec$getBinaryFieldsObject],5:jspb.internal.binary.readString,6:jspb.internal.binary.readEnum}};proto.tflite.proto.EdgeTpuSettings.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.proto.EdgeTpuSettings.serializeBinaryToWriter)};proto.tflite.proto.EdgeTpuSettings.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeEnum(t,e,1),jspb.internal.binary.writeRepeatedMessage(t,e,2,proto.tflite.proto.EdgeTpuInactivePowerConfig,proto.tflite.proto.EdgeTpuInactivePowerConfig.serializeBinaryToWriter),jspb.internal.binary.writeInt32(t,e,3),jspb.internal.binary.writeMessage(t,e,4,proto.tflite.proto.EdgeTpuDeviceSpec,proto.tflite.proto.EdgeTpuDeviceSpec.serializeBinaryToWriter),jspb.internal.binary.writeString(t,e,5),jspb.internal.binary.writeEnum(t,e,6),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.proto.EdgeTpuSettings.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.proto.EdgeTpuSettings,proto.tflite.proto.EdgeTpuSettings.internalDoNotUse$proto$tflite$proto$EdgeTpuSettings$getBinaryFieldsObject)};proto.tflite.proto.EdgeTpuSettings.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.proto.EdgeTpuSettings.internalDoNotUse$proto$tflite$proto$EdgeTpuSettings$getBinaryFieldsObject)};proto.tflite.proto.EdgeTpuSettings.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.proto.EdgeTpuSettings,e)};proto.tflite.proto.EdgeTpuSettings.repeatedFields_=[2];proto.tflite.proto.EdgeTpuSettings.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.proto.EdgeTpuSettings.fromObject=function(e){var t=new proto.tflite.proto.EdgeTpuSettings;return e.inferencePowerState!=null&&t.internal_setField(1,e.inferencePowerState),e.inactivePowerConfigsList&&t.internal_setRepeatedWrapperField(2,e.inactivePowerConfigsList.map(proto.tflite.proto.EdgeTpuInactivePowerConfig.fromObject)),e.inferencePriority!=null&&t.internal_setField(3,e.inferencePriority),e.edgetpuDeviceSpec&&t.internal_setWrapperField(4,proto.tflite.proto.EdgeTpuDeviceSpec.fromObject(e.edgetpuDeviceSpec)),e.modelToken!=null&&t.internal_setField(5,e.modelToken),e.floatTruncationType!=null&&t.internal_setField(6,e.floatTruncationType),t});proto.tflite.proto.EdgeTpuSettings.prototype.toObject=function(e){return proto.tflite.proto.EdgeTpuSettings.internal_toObject(e,this)};proto.tflite.proto.EdgeTpuSettings.internal_toObject=function(e,t){if(t!=null){var n={inferencePowerState:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),inactivePowerConfigsList:module$contents$jspb$internal$public_for_gencode_toObjectList(t.getInactivePowerConfigsList(),proto.tflite.proto.EdgeTpuInactivePowerConfig.internal_toObject,e),inferencePriority:t.internal_getIntegerFieldWithDefault(3,-1),edgetpuDeviceSpec:proto.tflite.proto.EdgeTpuDeviceSpec.internal_toObject(e,t.getEdgetpuDeviceSpec()),modelToken:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(5)),floatTruncationType:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(6))};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.proto.EdgeTpuSettings.FloatTruncationType={UNSPECIFIED:0,NO_TRUNCATION:1,BFLOAT16:2,HALF:3};proto.tflite.proto.FallbackSettings=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.tflite.proto.FallbackSettings,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.proto.FallbackSettings.prototype.getAllowAutomaticFallbackOnCompilationError=function(){return this.internal_getBooleanFieldWithDefault(7)};proto.tflite.proto.FallbackSettings.prototype.setAllowAutomaticFallbackOnCompilationError=function(e){return this.internal_setField(7,e)};proto.tflite.proto.FallbackSettings.prototype.clearAllowAutomaticFallbackOnCompilationError=function(){return this.internal_clearField(7)};proto.tflite.proto.FallbackSettings.prototype.hasAllowAutomaticFallbackOnCompilationError=function(){return this.internal_hasField(7)};proto.tflite.proto.FallbackSettings.prototype.getAllowAutomaticFallbackOnExecutionError=function(){return this.internal_getBooleanFieldWithDefault(8)};proto.tflite.proto.FallbackSettings.prototype.setAllowAutomaticFallbackOnExecutionError=function(e){return this.internal_setField(8,e)};proto.tflite.proto.FallbackSettings.prototype.clearAllowAutomaticFallbackOnExecutionError=function(){return this.internal_clearField(8)};proto.tflite.proto.FallbackSettings.prototype.hasAllowAutomaticFallbackOnExecutionError=function(){return this.internal_hasField(8)};proto.tflite.proto.FallbackSettings.internalDoNotUse$proto$tflite$proto$FallbackSettings$getBinaryFieldsObject=function(){return{7:jspb.internal.binary.readBool,8:jspb.internal.binary.readBool}};proto.tflite.proto.FallbackSettings.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.proto.FallbackSettings.serializeBinaryToWriter)};proto.tflite.proto.FallbackSettings.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeBool(t,e,7),jspb.internal.binary.writeBool(t,e,8),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.proto.FallbackSettings.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.proto.FallbackSettings,proto.tflite.proto.FallbackSettings.internalDoNotUse$proto$tflite$proto$FallbackSettings$getBinaryFieldsObject)};proto.tflite.proto.FallbackSettings.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.proto.FallbackSettings.internalDoNotUse$proto$tflite$proto$FallbackSettings$getBinaryFieldsObject)};proto.tflite.proto.FallbackSettings.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.proto.FallbackSettings,e)};proto.tflite.proto.FallbackSettings.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.proto.FallbackSettings.fromObject=function(e){var t=new proto.tflite.proto.FallbackSettings;return e.allowAutomaticFallbackOnCompilationError!=null&&t.internal_setField(7,e.allowAutomaticFallbackOnCompilationError),e.allowAutomaticFallbackOnExecutionError!=null&&t.internal_setField(8,e.allowAutomaticFallbackOnExecutionError),t});proto.tflite.proto.FallbackSettings.prototype.toObject=function(e){return proto.tflite.proto.FallbackSettings.internal_toObject(e,this)};proto.tflite.proto.FallbackSettings.internal_toObject=function(e,t){if(t!=null){var n={allowAutomaticFallbackOnCompilationError:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getBooleanField(7)),allowAutomaticFallbackOnExecutionError:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getBooleanField(8))};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.proto.GPUSettings=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.tflite.proto.GPUSettings,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.proto.GPUSettings.prototype.getIsPrecisionLossAllowed=function(){return this.internal_getBooleanFieldWithDefault(1)};proto.tflite.proto.GPUSettings.prototype.setIsPrecisionLossAllowed=function(e){return this.internal_setField(1,e)};proto.tflite.proto.GPUSettings.prototype.clearIsPrecisionLossAllowed=function(){return this.internal_clearField(1)};proto.tflite.proto.GPUSettings.prototype.hasIsPrecisionLossAllowed=function(){return this.internal_hasField(1)};proto.tflite.proto.GPUSettings.prototype.getEnableQuantizedInference=function(){return this.internal_getBooleanFieldWithDefault(2,!0)};proto.tflite.proto.GPUSettings.prototype.setEnableQuantizedInference=function(e){return this.internal_setField(2,e)};proto.tflite.proto.GPUSettings.prototype.clearEnableQuantizedInference=function(){return this.internal_clearField(2)};proto.tflite.proto.GPUSettings.prototype.hasEnableQuantizedInference=function(){return this.internal_hasField(2)};proto.tflite.proto.GPUSettings.prototype.getForceBackend=function(){return this.internal_getFieldWithDefault(3,0)};proto.tflite.proto.GPUSettings.prototype.setForceBackend=function(e){return this.internal_setField(3,e)};proto.tflite.proto.GPUSettings.prototype.clearForceBackend=function(){return this.internal_clearField(3)};proto.tflite.proto.GPUSettings.prototype.hasForceBackend=function(){return this.internal_hasField(3)};proto.tflite.proto.GPUSettings.prototype.getInferencePriority1=function(){return this.internal_getFieldWithDefault(4,0)};proto.tflite.proto.GPUSettings.prototype.setInferencePriority1=function(e){return this.internal_setField(4,e)};proto.tflite.proto.GPUSettings.prototype.clearInferencePriority1=function(){return this.internal_clearField(4)};proto.tflite.proto.GPUSettings.prototype.hasInferencePriority1=function(){return this.internal_hasField(4)};proto.tflite.proto.GPUSettings.prototype.getInferencePriority2=function(){return this.internal_getFieldWithDefault(5,0)};proto.tflite.proto.GPUSettings.prototype.setInferencePriority2=function(e){return this.internal_setField(5,e)};proto.tflite.proto.GPUSettings.prototype.clearInferencePriority2=function(){return this.internal_clearField(5)};proto.tflite.proto.GPUSettings.prototype.hasInferencePriority2=function(){return this.internal_hasField(5)};proto.tflite.proto.GPUSettings.prototype.getInferencePriority3=function(){return this.internal_getFieldWithDefault(6,0)};proto.tflite.proto.GPUSettings.prototype.setInferencePriority3=function(e){return this.internal_setField(6,e)};proto.tflite.proto.GPUSettings.prototype.clearInferencePriority3=function(){return this.internal_clearField(6)};proto.tflite.proto.GPUSettings.prototype.hasInferencePriority3=function(){return this.internal_hasField(6)};proto.tflite.proto.GPUSettings.prototype.getInferencePreference=function(){return this.internal_getFieldWithDefault(7,0)};proto.tflite.proto.GPUSettings.prototype.setInferencePreference=function(e){return this.internal_setField(7,e)};proto.tflite.proto.GPUSettings.prototype.clearInferencePreference=function(){return this.internal_clearField(7)};proto.tflite.proto.GPUSettings.prototype.hasInferencePreference=function(){return this.internal_hasField(7)};proto.tflite.proto.GPUSettings.prototype.getCacheDirectory=function(){return this.internal_getStringFieldWithDefault(8)};proto.tflite.proto.GPUSettings.prototype.setCacheDirectory=function(e){return this.internal_setField(8,e)};proto.tflite.proto.GPUSettings.prototype.clearCacheDirectory=function(){return this.internal_clearField(8)};proto.tflite.proto.GPUSettings.prototype.hasCacheDirectory=function(){return this.internal_hasField(8)};proto.tflite.proto.GPUSettings.prototype.getModelToken=function(){return this.internal_getStringFieldWithDefault(9)};proto.tflite.proto.GPUSettings.prototype.setModelToken=function(e){return this.internal_setField(9,e)};proto.tflite.proto.GPUSettings.prototype.clearModelToken=function(){return this.internal_clearField(9)};proto.tflite.proto.GPUSettings.prototype.hasModelToken=function(){return this.internal_hasField(9)};proto.tflite.proto.GPUSettings.internalDoNotUse$proto$tflite$proto$GPUSettings$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readBool,2:jspb.internal.binary.readBool,3:jspb.internal.binary.readEnum,4:jspb.internal.binary.readEnum,5:jspb.internal.binary.readEnum,6:jspb.internal.binary.readEnum,7:jspb.internal.binary.readEnum,8:jspb.internal.binary.readString,9:jspb.internal.binary.readString}};proto.tflite.proto.GPUSettings.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.proto.GPUSettings.serializeBinaryToWriter)};proto.tflite.proto.GPUSettings.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeBool(t,e,1),jspb.internal.binary.writeBool(t,e,2),jspb.internal.binary.writeEnum(t,e,3),jspb.internal.binary.writeEnum(t,e,4),jspb.internal.binary.writeEnum(t,e,5),jspb.internal.binary.writeEnum(t,e,6),jspb.internal.binary.writeEnum(t,e,7),jspb.internal.binary.writeString(t,e,8),jspb.internal.binary.writeString(t,e,9),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.proto.GPUSettings.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.proto.GPUSettings,proto.tflite.proto.GPUSettings.internalDoNotUse$proto$tflite$proto$GPUSettings$getBinaryFieldsObject)};proto.tflite.proto.GPUSettings.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.proto.GPUSettings.internalDoNotUse$proto$tflite$proto$GPUSettings$getBinaryFieldsObject)};proto.tflite.proto.GPUSettings.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.proto.GPUSettings,e)};proto.tflite.proto.GPUSettings.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.proto.GPUSettings.fromObject=function(e){var t=new proto.tflite.proto.GPUSettings;return e.isPrecisionLossAllowed!=null&&t.internal_setField(1,e.isPrecisionLossAllowed),e.enableQuantizedInference!=null&&t.internal_setField(2,e.enableQuantizedInference),e.forceBackend!=null&&t.internal_setField(3,e.forceBackend),e.inferencePriority1!=null&&t.internal_setField(4,e.inferencePriority1),e.inferencePriority2!=null&&t.internal_setField(5,e.inferencePriority2),e.inferencePriority3!=null&&t.internal_setField(6,e.inferencePriority3),e.inferencePreference!=null&&t.internal_setField(7,e.inferencePreference),e.cacheDirectory!=null&&t.internal_setField(8,e.cacheDirectory),e.modelToken!=null&&t.internal_setField(9,e.modelToken),t});proto.tflite.proto.GPUSettings.prototype.toObject=function(e){return proto.tflite.proto.GPUSettings.internal_toObject(e,this)};proto.tflite.proto.GPUSettings.internal_toObject=function(e,t){if(t!=null){var n={isPrecisionLossAllowed:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getBooleanField(1)),enableQuantizedInference:t.internal_getBooleanFieldWithDefault(2,!0),forceBackend:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(3)),inferencePriority1:t.internal_getFieldWithDefault(4,0),inferencePriority2:t.internal_getFieldWithDefault(5,0),inferencePriority3:t.internal_getFieldWithDefault(6,0),inferencePreference:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(7)),cacheDirectory:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(8)),modelToken:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(9))};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.proto.HexagonSettings=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.tflite.proto.HexagonSettings,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.proto.HexagonSettings.prototype.getDebugLevel=function(){return this.internal_getIntegerFieldWithDefault(1)};proto.tflite.proto.HexagonSettings.prototype.setDebugLevel=function(e){return this.internal_setField(1,e)};proto.tflite.proto.HexagonSettings.prototype.clearDebugLevel=function(){return this.internal_clearField(1)};proto.tflite.proto.HexagonSettings.prototype.hasDebugLevel=function(){return this.internal_hasField(1)};proto.tflite.proto.HexagonSettings.prototype.getPowersaveLevel=function(){return this.internal_getIntegerFieldWithDefault(2)};proto.tflite.proto.HexagonSettings.prototype.setPowersaveLevel=function(e){return this.internal_setField(2,e)};proto.tflite.proto.HexagonSettings.prototype.clearPowersaveLevel=function(){return this.internal_clearField(2)};proto.tflite.proto.HexagonSettings.prototype.hasPowersaveLevel=function(){return this.internal_hasField(2)};proto.tflite.proto.HexagonSettings.prototype.getPrintGraphProfile=function(){return this.internal_getBooleanFieldWithDefault(3)};proto.tflite.proto.HexagonSettings.prototype.setPrintGraphProfile=function(e){return this.internal_setField(3,e)};proto.tflite.proto.HexagonSettings.prototype.clearPrintGraphProfile=function(){return this.internal_clearField(3)};proto.tflite.proto.HexagonSettings.prototype.hasPrintGraphProfile=function(){return this.internal_hasField(3)};proto.tflite.proto.HexagonSettings.prototype.getPrintGraphDebug=function(){return this.internal_getBooleanFieldWithDefault(4)};proto.tflite.proto.HexagonSettings.prototype.setPrintGraphDebug=function(e){return this.internal_setField(4,e)};proto.tflite.proto.HexagonSettings.prototype.clearPrintGraphDebug=function(){return this.internal_clearField(4)};proto.tflite.proto.HexagonSettings.prototype.hasPrintGraphDebug=function(){return this.internal_hasField(4)};proto.tflite.proto.HexagonSettings.internalDoNotUse$proto$tflite$proto$HexagonSettings$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readInt32,2:jspb.internal.binary.readInt32,3:jspb.internal.binary.readBool,4:jspb.internal.binary.readBool}};proto.tflite.proto.HexagonSettings.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.proto.HexagonSettings.serializeBinaryToWriter)};proto.tflite.proto.HexagonSettings.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeInt32(t,e,1),jspb.internal.binary.writeInt32(t,e,2),jspb.internal.binary.writeBool(t,e,3),jspb.internal.binary.writeBool(t,e,4),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.proto.HexagonSettings.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.proto.HexagonSettings,proto.tflite.proto.HexagonSettings.internalDoNotUse$proto$tflite$proto$HexagonSettings$getBinaryFieldsObject)};proto.tflite.proto.HexagonSettings.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.proto.HexagonSettings.internalDoNotUse$proto$tflite$proto$HexagonSettings$getBinaryFieldsObject)};proto.tflite.proto.HexagonSettings.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.proto.HexagonSettings,e)};proto.tflite.proto.HexagonSettings.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.proto.HexagonSettings.fromObject=function(e){var t=new proto.tflite.proto.HexagonSettings;return e.debugLevel!=null&&t.internal_setField(1,e.debugLevel),e.powersaveLevel!=null&&t.internal_setField(2,e.powersaveLevel),e.printGraphProfile!=null&&t.internal_setField(3,e.printGraphProfile),e.printGraphDebug!=null&&t.internal_setField(4,e.printGraphDebug),t});proto.tflite.proto.HexagonSettings.prototype.toObject=function(e){return proto.tflite.proto.HexagonSettings.internal_toObject(e,this)};proto.tflite.proto.HexagonSettings.internal_toObject=function(e,t){if(t!=null){var n={debugLevel:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),powersaveLevel:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(2)),printGraphProfile:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getBooleanField(3)),printGraphDebug:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getBooleanField(4))};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.proto.NNAPISettings=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.tflite.proto.NNAPISettings,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.proto.NNAPISettings.prototype.getAcceleratorName=function(){return this.internal_getStringFieldWithDefault(1)};proto.tflite.proto.NNAPISettings.prototype.setAcceleratorName=function(e){return this.internal_setField(1,e)};proto.tflite.proto.NNAPISettings.prototype.clearAcceleratorName=function(){return this.internal_clearField(1)};proto.tflite.proto.NNAPISettings.prototype.hasAcceleratorName=function(){return this.internal_hasField(1)};proto.tflite.proto.NNAPISettings.prototype.getCacheDirectory=function(){return this.internal_getStringFieldWithDefault(2)};proto.tflite.proto.NNAPISettings.prototype.setCacheDirectory=function(e){return this.internal_setField(2,e)};proto.tflite.proto.NNAPISettings.prototype.clearCacheDirectory=function(){return this.internal_clearField(2)};proto.tflite.proto.NNAPISettings.prototype.hasCacheDirectory=function(){return this.internal_hasField(2)};proto.tflite.proto.NNAPISettings.prototype.getModelToken=function(){return this.internal_getStringFieldWithDefault(3)};proto.tflite.proto.NNAPISettings.prototype.setModelToken=function(e){return this.internal_setField(3,e)};proto.tflite.proto.NNAPISettings.prototype.clearModelToken=function(){return this.internal_clearField(3)};proto.tflite.proto.NNAPISettings.prototype.hasModelToken=function(){return this.internal_hasField(3)};proto.tflite.proto.NNAPISettings.prototype.getExecutionPreference=function(){return this.internal_getFieldWithDefault(4,0)};proto.tflite.proto.NNAPISettings.prototype.setExecutionPreference=function(e){return this.internal_setField(4,e)};proto.tflite.proto.NNAPISettings.prototype.clearExecutionPreference=function(){return this.internal_clearField(4)};proto.tflite.proto.NNAPISettings.prototype.hasExecutionPreference=function(){return this.internal_hasField(4)};proto.tflite.proto.NNAPISettings.prototype.getNoOfNnapiInstancesToCache=function(){return this.internal_getIntegerFieldWithDefault(5)};proto.tflite.proto.NNAPISettings.prototype.setNoOfNnapiInstancesToCache=function(e){return this.internal_setField(5,e)};proto.tflite.proto.NNAPISettings.prototype.clearNoOfNnapiInstancesToCache=function(){return this.internal_clearField(5)};proto.tflite.proto.NNAPISettings.prototype.hasNoOfNnapiInstancesToCache=function(){return this.internal_hasField(5)};proto.tflite.proto.NNAPISettings.prototype.getFallbackSettings=function(){return this.internal_getWrapperField(proto.tflite.proto.FallbackSettings,6)};proto.tflite.proto.NNAPISettings.prototype.setFallbackSettings=function(e){return this.internal_setWrapperField(6,e)};proto.tflite.proto.NNAPISettings.prototype.clearFallbackSettings=function(){return this.internal_clearWrapperField(6)};proto.tflite.proto.NNAPISettings.prototype.hasFallbackSettings=function(){return this.internal_hasField(6)};proto.tflite.proto.NNAPISettings.prototype.getAllowNnapiCpuOnAndroid10Plus=function(){return this.internal_getBooleanFieldWithDefault(7)};proto.tflite.proto.NNAPISettings.prototype.setAllowNnapiCpuOnAndroid10Plus=function(e){return this.internal_setField(7,e)};proto.tflite.proto.NNAPISettings.prototype.clearAllowNnapiCpuOnAndroid10Plus=function(){return this.internal_clearField(7)};proto.tflite.proto.NNAPISettings.prototype.hasAllowNnapiCpuOnAndroid10Plus=function(){return this.internal_hasField(7)};proto.tflite.proto.NNAPISettings.prototype.getExecutionPriority=function(){return this.internal_getFieldWithDefault(8,0)};proto.tflite.proto.NNAPISettings.prototype.setExecutionPriority=function(e){return this.internal_setField(8,e)};proto.tflite.proto.NNAPISettings.prototype.clearExecutionPriority=function(){return this.internal_clearField(8)};proto.tflite.proto.NNAPISettings.prototype.hasExecutionPriority=function(){return this.internal_hasField(8)};proto.tflite.proto.NNAPISettings.prototype.getAllowDynamicDimensions=function(){return this.internal_getBooleanFieldWithDefault(9)};proto.tflite.proto.NNAPISettings.prototype.setAllowDynamicDimensions=function(e){return this.internal_setField(9,e)};proto.tflite.proto.NNAPISettings.prototype.clearAllowDynamicDimensions=function(){return this.internal_clearField(9)};proto.tflite.proto.NNAPISettings.prototype.hasAllowDynamicDimensions=function(){return this.internal_hasField(9)};proto.tflite.proto.NNAPISettings.prototype.getAllowFp16PrecisionForFp32=function(){return this.internal_getBooleanFieldWithDefault(10)};proto.tflite.proto.NNAPISettings.prototype.setAllowFp16PrecisionForFp32=function(e){return this.internal_setField(10,e)};proto.tflite.proto.NNAPISettings.prototype.clearAllowFp16PrecisionForFp32=function(){return this.internal_clearField(10)};proto.tflite.proto.NNAPISettings.prototype.hasAllowFp16PrecisionForFp32=function(){return this.internal_hasField(10)};proto.tflite.proto.NNAPISettings.prototype.getUseBurstComputation=function(){return this.internal_getBooleanFieldWithDefault(11)};proto.tflite.proto.NNAPISettings.prototype.setUseBurstComputation=function(e){return this.internal_setField(11,e)};proto.tflite.proto.NNAPISettings.prototype.clearUseBurstComputation=function(){return this.internal_clearField(11)};proto.tflite.proto.NNAPISettings.prototype.hasUseBurstComputation=function(){return this.internal_hasField(11)};proto.tflite.proto.NNAPISettings.prototype.getSupportLibraryHandle=function(){return this.internal_getIntegerFieldWithDefault(12)};proto.tflite.proto.NNAPISettings.prototype.setSupportLibraryHandle=function(e){return this.internal_setField(12,e)};proto.tflite.proto.NNAPISettings.prototype.clearSupportLibraryHandle=function(){return this.internal_clearField(12)};proto.tflite.proto.NNAPISettings.prototype.hasSupportLibraryHandle=function(){return this.internal_hasField(12)};proto.tflite.proto.NNAPISettings.internalDoNotUse$proto$tflite$proto$NNAPISettings$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readString,2:jspb.internal.binary.readString,3:jspb.internal.binary.readString,4:jspb.internal.binary.readEnum,5:jspb.internal.binary.readInt32,6:[jspb.internal.binary.readMessage,proto.tflite.proto.FallbackSettings,proto.tflite.proto.FallbackSettings.internalDoNotUse$proto$tflite$proto$FallbackSettings$getBinaryFieldsObject],7:jspb.internal.binary.readBool,8:jspb.internal.binary.readEnum,9:jspb.internal.binary.readBool,10:jspb.internal.binary.readBool,11:jspb.internal.binary.readBool,12:jspb.internal.binary.readInt64}};proto.tflite.proto.NNAPISettings.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.proto.NNAPISettings.serializeBinaryToWriter)};proto.tflite.proto.NNAPISettings.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeString(t,e,1),jspb.internal.binary.writeString(t,e,2),jspb.internal.binary.writeString(t,e,3),jspb.internal.binary.writeEnum(t,e,4),jspb.internal.binary.writeInt32(t,e,5),jspb.internal.binary.writeMessage(t,e,6,proto.tflite.proto.FallbackSettings,proto.tflite.proto.FallbackSettings.serializeBinaryToWriter),jspb.internal.binary.writeBool(t,e,7),jspb.internal.binary.writeEnum(t,e,8),jspb.internal.binary.writeBool(t,e,9),jspb.internal.binary.writeBool(t,e,10),jspb.internal.binary.writeBool(t,e,11),jspb.internal.binary.writeInt64(t,e,12),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.proto.NNAPISettings.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.proto.NNAPISettings,proto.tflite.proto.NNAPISettings.internalDoNotUse$proto$tflite$proto$NNAPISettings$getBinaryFieldsObject)};proto.tflite.proto.NNAPISettings.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.proto.NNAPISettings.internalDoNotUse$proto$tflite$proto$NNAPISettings$getBinaryFieldsObject)};proto.tflite.proto.NNAPISettings.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.proto.NNAPISettings,e)};proto.tflite.proto.NNAPISettings.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.proto.NNAPISettings.fromObject=function(e){var t=new proto.tflite.proto.NNAPISettings;return e.acceleratorName!=null&&t.internal_setField(1,e.acceleratorName),e.cacheDirectory!=null&&t.internal_setField(2,e.cacheDirectory),e.modelToken!=null&&t.internal_setField(3,e.modelToken),e.executionPreference!=null&&t.internal_setField(4,e.executionPreference),e.noOfNnapiInstancesToCache!=null&&t.internal_setField(5,e.noOfNnapiInstancesToCache),e.fallbackSettings&&t.internal_setWrapperField(6,proto.tflite.proto.FallbackSettings.fromObject(e.fallbackSettings)),e.allowNnapiCpuOnAndroid10Plus!=null&&t.internal_setField(7,e.allowNnapiCpuOnAndroid10Plus),e.executionPriority!=null&&t.internal_setField(8,e.executionPriority),e.allowDynamicDimensions!=null&&t.internal_setField(9,e.allowDynamicDimensions),e.allowFp16PrecisionForFp32!=null&&t.internal_setField(10,e.allowFp16PrecisionForFp32),e.useBurstComputation!=null&&t.internal_setField(11,e.useBurstComputation),e.supportLibraryHandle!=null&&t.internal_setField(12,e.supportLibraryHandle),t});proto.tflite.proto.NNAPISettings.prototype.toObject=function(e){return proto.tflite.proto.NNAPISettings.internal_toObject(e,this)};proto.tflite.proto.NNAPISettings.internal_toObject=function(e,t){if(t!=null){var n={acceleratorName:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),cacheDirectory:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(2)),modelToken:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(3)),executionPreference:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(4)),noOfNnapiInstancesToCache:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(5)),fallbackSettings:proto.tflite.proto.FallbackSettings.internal_toObject(e,t.getFallbackSettings()),allowNnapiCpuOnAndroid10Plus:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getBooleanField(7)),executionPriority:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(8)),allowDynamicDimensions:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getBooleanField(9)),allowFp16PrecisionForFp32:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getBooleanField(10)),useBurstComputation:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getBooleanField(11)),supportLibraryHandle:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(12))};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.proto.XNNPackSettings=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.tflite.proto.XNNPackSettings,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.proto.XNNPackSettings.prototype.getNumThreads=function(){return this.internal_getIntegerFieldWithDefault(1)};proto.tflite.proto.XNNPackSettings.prototype.setNumThreads=function(e){return this.internal_setField(1,e)};proto.tflite.proto.XNNPackSettings.prototype.clearNumThreads=function(){return this.internal_clearField(1)};proto.tflite.proto.XNNPackSettings.prototype.hasNumThreads=function(){return this.internal_hasField(1)};proto.tflite.proto.XNNPackSettings.internalDoNotUse$proto$tflite$proto$XNNPackSettings$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readInt32}};proto.tflite.proto.XNNPackSettings.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.proto.XNNPackSettings.serializeBinaryToWriter)};proto.tflite.proto.XNNPackSettings.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeInt32(t,e,1),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.proto.XNNPackSettings.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.proto.XNNPackSettings,proto.tflite.proto.XNNPackSettings.internalDoNotUse$proto$tflite$proto$XNNPackSettings$getBinaryFieldsObject)};proto.tflite.proto.XNNPackSettings.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.proto.XNNPackSettings.internalDoNotUse$proto$tflite$proto$XNNPackSettings$getBinaryFieldsObject)};proto.tflite.proto.XNNPackSettings.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.proto.XNNPackSettings,e)};proto.tflite.proto.XNNPackSettings.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.proto.XNNPackSettings.fromObject=function(e){var t=new proto.tflite.proto.XNNPackSettings;return e.numThreads!=null&&t.internal_setField(1,e.numThreads),t});proto.tflite.proto.XNNPackSettings.prototype.toObject=function(e){return proto.tflite.proto.XNNPackSettings.internal_toObject(e,this)};proto.tflite.proto.XNNPackSettings.internal_toObject=function(e,t){if(t!=null){var n={numThreads:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1))};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.proto.TFLiteSettings=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.tflite.proto.TFLiteSettings,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.proto.TFLiteSettings.prototype.getDelegate=function(){return this.internal_getFieldWithDefault(1,0)};proto.tflite.proto.TFLiteSettings.prototype.setDelegate=function(e){return this.internal_setField(1,e)};proto.tflite.proto.TFLiteSettings.prototype.clearDelegate=function(){return this.internal_clearField(1)};proto.tflite.proto.TFLiteSettings.prototype.hasDelegate=function(){return this.internal_hasField(1)};proto.tflite.proto.TFLiteSettings.prototype.getNnapiSettings=function(){return this.internal_getWrapperField(proto.tflite.proto.NNAPISettings,2)};proto.tflite.proto.TFLiteSettings.prototype.setNnapiSettings=function(e){return this.internal_setWrapperField(2,e)};proto.tflite.proto.TFLiteSettings.prototype.clearNnapiSettings=function(){return this.internal_clearWrapperField(2)};proto.tflite.proto.TFLiteSettings.prototype.hasNnapiSettings=function(){return this.internal_hasField(2)};proto.tflite.proto.TFLiteSettings.prototype.getGpuSettings=function(){return this.internal_getWrapperField(proto.tflite.proto.GPUSettings,3)};proto.tflite.proto.TFLiteSettings.prototype.setGpuSettings=function(e){return this.internal_setWrapperField(3,e)};proto.tflite.proto.TFLiteSettings.prototype.clearGpuSettings=function(){return this.internal_clearWrapperField(3)};proto.tflite.proto.TFLiteSettings.prototype.hasGpuSettings=function(){return this.internal_hasField(3)};proto.tflite.proto.TFLiteSettings.prototype.getHexagonSettings=function(){return this.internal_getWrapperField(proto.tflite.proto.HexagonSettings,4)};proto.tflite.proto.TFLiteSettings.prototype.setHexagonSettings=function(e){return this.internal_setWrapperField(4,e)};proto.tflite.proto.TFLiteSettings.prototype.clearHexagonSettings=function(){return this.internal_clearWrapperField(4)};proto.tflite.proto.TFLiteSettings.prototype.hasHexagonSettings=function(){return this.internal_hasField(4)};proto.tflite.proto.TFLiteSettings.prototype.getXnnpackSettings=function(){return this.internal_getWrapperField(proto.tflite.proto.XNNPackSettings,5)};proto.tflite.proto.TFLiteSettings.prototype.setXnnpackSettings=function(e){return this.internal_setWrapperField(5,e)};proto.tflite.proto.TFLiteSettings.prototype.clearXnnpackSettings=function(){return this.internal_clearWrapperField(5)};proto.tflite.proto.TFLiteSettings.prototype.hasXnnpackSettings=function(){return this.internal_hasField(5)};proto.tflite.proto.TFLiteSettings.prototype.getCpuSettings=function(){return this.internal_getWrapperField(proto.tflite.proto.CPUSettings,6)};proto.tflite.proto.TFLiteSettings.prototype.setCpuSettings=function(e){return this.internal_setWrapperField(6,e)};proto.tflite.proto.TFLiteSettings.prototype.clearCpuSettings=function(){return this.internal_clearWrapperField(6)};proto.tflite.proto.TFLiteSettings.prototype.hasCpuSettings=function(){return this.internal_hasField(6)};proto.tflite.proto.TFLiteSettings.prototype.getMaxDelegatedPartitions=function(){return this.internal_getIntegerFieldWithDefault(7)};proto.tflite.proto.TFLiteSettings.prototype.setMaxDelegatedPartitions=function(e){return this.internal_setField(7,e)};proto.tflite.proto.TFLiteSettings.prototype.clearMaxDelegatedPartitions=function(){return this.internal_clearField(7)};proto.tflite.proto.TFLiteSettings.prototype.hasMaxDelegatedPartitions=function(){return this.internal_hasField(7)};proto.tflite.proto.TFLiteSettings.prototype.getEdgetpuSettings=function(){return this.internal_getWrapperField(proto.tflite.proto.EdgeTpuSettings,8)};proto.tflite.proto.TFLiteSettings.prototype.setEdgetpuSettings=function(e){return this.internal_setWrapperField(8,e)};proto.tflite.proto.TFLiteSettings.prototype.clearEdgetpuSettings=function(){return this.internal_clearWrapperField(8)};proto.tflite.proto.TFLiteSettings.prototype.hasEdgetpuSettings=function(){return this.internal_hasField(8)};proto.tflite.proto.TFLiteSettings.prototype.getCoralSettings=function(){return this.internal_getWrapperField(proto.tflite.proto.CoralSettings,10)};proto.tflite.proto.TFLiteSettings.prototype.setCoralSettings=function(e){return this.internal_setWrapperField(10,e)};proto.tflite.proto.TFLiteSettings.prototype.clearCoralSettings=function(){return this.internal_clearWrapperField(10)};proto.tflite.proto.TFLiteSettings.prototype.hasCoralSettings=function(){return this.internal_hasField(10)};proto.tflite.proto.TFLiteSettings.prototype.getFallbackSettings=function(){return this.internal_getWrapperField(proto.tflite.proto.FallbackSettings,9)};proto.tflite.proto.TFLiteSettings.prototype.setFallbackSettings=function(e){return this.internal_setWrapperField(9,e)};proto.tflite.proto.TFLiteSettings.prototype.clearFallbackSettings=function(){return this.internal_clearWrapperField(9)};proto.tflite.proto.TFLiteSettings.prototype.hasFallbackSettings=function(){return this.internal_hasField(9)};proto.tflite.proto.TFLiteSettings.internalDoNotUse$proto$tflite$proto$TFLiteSettings$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readEnum,2:[jspb.internal.binary.readMessage,proto.tflite.proto.NNAPISettings,proto.tflite.proto.NNAPISettings.internalDoNotUse$proto$tflite$proto$NNAPISettings$getBinaryFieldsObject],3:[jspb.internal.binary.readMessage,proto.tflite.proto.GPUSettings,proto.tflite.proto.GPUSettings.internalDoNotUse$proto$tflite$proto$GPUSettings$getBinaryFieldsObject],4:[jspb.internal.binary.readMessage,proto.tflite.proto.HexagonSettings,proto.tflite.proto.HexagonSettings.internalDoNotUse$proto$tflite$proto$HexagonSettings$getBinaryFieldsObject],5:[jspb.internal.binary.readMessage,proto.tflite.proto.XNNPackSettings,proto.tflite.proto.XNNPackSettings.internalDoNotUse$proto$tflite$proto$XNNPackSettings$getBinaryFieldsObject],6:[jspb.internal.binary.readMessage,proto.tflite.proto.CPUSettings,proto.tflite.proto.CPUSettings.internalDoNotUse$proto$tflite$proto$CPUSettings$getBinaryFieldsObject],7:jspb.internal.binary.readInt32,8:[jspb.internal.binary.readMessage,proto.tflite.proto.EdgeTpuSettings,proto.tflite.proto.EdgeTpuSettings.internalDoNotUse$proto$tflite$proto$EdgeTpuSettings$getBinaryFieldsObject],10:[jspb.internal.binary.readMessage,proto.tflite.proto.CoralSettings,proto.tflite.proto.CoralSettings.internalDoNotUse$proto$tflite$proto$CoralSettings$getBinaryFieldsObject],9:[jspb.internal.binary.readMessage,proto.tflite.proto.FallbackSettings,proto.tflite.proto.FallbackSettings.internalDoNotUse$proto$tflite$proto$FallbackSettings$getBinaryFieldsObject]}};proto.tflite.proto.TFLiteSettings.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.proto.TFLiteSettings.serializeBinaryToWriter)};proto.tflite.proto.TFLiteSettings.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeEnum(t,e,1),jspb.internal.binary.writeMessage(t,e,2,proto.tflite.proto.NNAPISettings,proto.tflite.proto.NNAPISettings.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,3,proto.tflite.proto.GPUSettings,proto.tflite.proto.GPUSettings.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,4,proto.tflite.proto.HexagonSettings,proto.tflite.proto.HexagonSettings.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,5,proto.tflite.proto.XNNPackSettings,proto.tflite.proto.XNNPackSettings.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,6,proto.tflite.proto.CPUSettings,proto.tflite.proto.CPUSettings.serializeBinaryToWriter),jspb.internal.binary.writeInt32(t,e,7),jspb.internal.binary.writeMessage(t,e,8,proto.tflite.proto.EdgeTpuSettings,proto.tflite.proto.EdgeTpuSettings.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,10,proto.tflite.proto.CoralSettings,proto.tflite.proto.CoralSettings.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,9,proto.tflite.proto.FallbackSettings,proto.tflite.proto.FallbackSettings.serializeBinaryToWriter),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.proto.TFLiteSettings.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.proto.TFLiteSettings,proto.tflite.proto.TFLiteSettings.internalDoNotUse$proto$tflite$proto$TFLiteSettings$getBinaryFieldsObject)};proto.tflite.proto.TFLiteSettings.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.proto.TFLiteSettings.internalDoNotUse$proto$tflite$proto$TFLiteSettings$getBinaryFieldsObject)};proto.tflite.proto.TFLiteSettings.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.proto.TFLiteSettings,e)};proto.tflite.proto.TFLiteSettings.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.proto.TFLiteSettings.fromObject=function(e){var t=new proto.tflite.proto.TFLiteSettings;return e.delegate!=null&&t.internal_setField(1,e.delegate),e.nnapiSettings&&t.internal_setWrapperField(2,proto.tflite.proto.NNAPISettings.fromObject(e.nnapiSettings)),e.gpuSettings&&t.internal_setWrapperField(3,proto.tflite.proto.GPUSettings.fromObject(e.gpuSettings)),e.hexagonSettings&&t.internal_setWrapperField(4,proto.tflite.proto.HexagonSettings.fromObject(e.hexagonSettings)),e.xnnpackSettings&&t.internal_setWrapperField(5,proto.tflite.proto.XNNPackSettings.fromObject(e.xnnpackSettings)),e.cpuSettings&&t.internal_setWrapperField(6,proto.tflite.proto.CPUSettings.fromObject(e.cpuSettings)),e.maxDelegatedPartitions!=null&&t.internal_setField(7,e.maxDelegatedPartitions),e.edgetpuSettings&&t.internal_setWrapperField(8,proto.tflite.proto.EdgeTpuSettings.fromObject(e.edgetpuSettings)),e.coralSettings&&t.internal_setWrapperField(10,proto.tflite.proto.CoralSettings.fromObject(e.coralSettings)),e.fallbackSettings&&t.internal_setWrapperField(9,proto.tflite.proto.FallbackSettings.fromObject(e.fallbackSettings)),t});proto.tflite.proto.TFLiteSettings.prototype.toObject=function(e){return proto.tflite.proto.TFLiteSettings.internal_toObject(e,this)};proto.tflite.proto.TFLiteSettings.internal_toObject=function(e,t){if(t!=null){var n={delegate:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),nnapiSettings:proto.tflite.proto.NNAPISettings.internal_toObject(e,t.getNnapiSettings()),gpuSettings:proto.tflite.proto.GPUSettings.internal_toObject(e,t.getGpuSettings()),hexagonSettings:proto.tflite.proto.HexagonSettings.internal_toObject(e,t.getHexagonSettings()),xnnpackSettings:proto.tflite.proto.XNNPackSettings.internal_toObject(e,t.getXnnpackSettings()),cpuSettings:proto.tflite.proto.CPUSettings.internal_toObject(e,t.getCpuSettings()),maxDelegatedPartitions:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(7)),edgetpuSettings:proto.tflite.proto.EdgeTpuSettings.internal_toObject(e,t.getEdgetpuSettings()),coralSettings:proto.tflite.proto.CoralSettings.internal_toObject(e,t.getCoralSettings()),fallbackSettings:proto.tflite.proto.FallbackSettings.internal_toObject(e,t.getFallbackSettings())};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.proto.MinibenchmarkSettings=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e,-1,proto.tflite.proto.MinibenchmarkSettings.repeatedFields_)};$jscomp.inherits(proto.tflite.proto.MinibenchmarkSettings,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.proto.MinibenchmarkSettings.prototype.getSettingsToTestList=function(){return this.internal_getRepeatedWrapperField(proto.tflite.proto.TFLiteSettings,1)};proto.tflite.proto.MinibenchmarkSettings.prototype.setSettingsToTestList=function(e){return this.internal_setRepeatedWrapperField(1,e)};proto.tflite.proto.MinibenchmarkSettings.prototype.addSettingsToTest=function(e,t){return this.internal_addToRepeatedWrapperField(1,e,proto.tflite.proto.TFLiteSettings,t)};proto.tflite.proto.MinibenchmarkSettings.prototype.addAndReturnSettingsToTest=function(e,t){return this.internal_addAndReturnRepeatedWrapperField(1,e,proto.tflite.proto.TFLiteSettings,t)};proto.tflite.proto.MinibenchmarkSettings.prototype.clearSettingsToTestList=function(){return this.internal_clearRepeatedWrapperField(1)};proto.tflite.proto.MinibenchmarkSettings.prototype.getModelFile=function(){return this.internal_getWrapperField(proto.tflite.proto.ModelFile,2)};proto.tflite.proto.MinibenchmarkSettings.prototype.setModelFile=function(e){return this.internal_setWrapperField(2,e)};proto.tflite.proto.MinibenchmarkSettings.prototype.clearModelFile=function(){return this.internal_clearWrapperField(2)};proto.tflite.proto.MinibenchmarkSettings.prototype.hasModelFile=function(){return this.internal_hasField(2)};proto.tflite.proto.MinibenchmarkSettings.prototype.getStoragePaths=function(){return this.internal_getWrapperField(proto.tflite.proto.BenchmarkStoragePaths,3)};proto.tflite.proto.MinibenchmarkSettings.prototype.setStoragePaths=function(e){return this.internal_setWrapperField(3,e)};proto.tflite.proto.MinibenchmarkSettings.prototype.clearStoragePaths=function(){return this.internal_clearWrapperField(3)};proto.tflite.proto.MinibenchmarkSettings.prototype.hasStoragePaths=function(){return this.internal_hasField(3)};proto.tflite.proto.MinibenchmarkSettings.internalDoNotUse$proto$tflite$proto$MinibenchmarkSettings$getBinaryFieldsObject=function(){return{1:[jspb.internal.binary.readRepeatedMessage,proto.tflite.proto.TFLiteSettings,proto.tflite.proto.TFLiteSettings.internalDoNotUse$proto$tflite$proto$TFLiteSettings$getBinaryFieldsObject],2:[jspb.internal.binary.readMessage,proto.tflite.proto.ModelFile,proto.tflite.proto.ModelFile.internalDoNotUse$proto$tflite$proto$ModelFile$getBinaryFieldsObject],3:[jspb.internal.binary.readMessage,proto.tflite.proto.BenchmarkStoragePaths,proto.tflite.proto.BenchmarkStoragePaths.internalDoNotUse$proto$tflite$proto$BenchmarkStoragePaths$getBinaryFieldsObject]}};proto.tflite.proto.MinibenchmarkSettings.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.proto.MinibenchmarkSettings.serializeBinaryToWriter)};proto.tflite.proto.MinibenchmarkSettings.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeRepeatedMessage(t,e,1,proto.tflite.proto.TFLiteSettings,proto.tflite.proto.TFLiteSettings.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,2,proto.tflite.proto.ModelFile,proto.tflite.proto.ModelFile.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,3,proto.tflite.proto.BenchmarkStoragePaths,proto.tflite.proto.BenchmarkStoragePaths.serializeBinaryToWriter),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.proto.MinibenchmarkSettings.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.proto.MinibenchmarkSettings,proto.tflite.proto.MinibenchmarkSettings.internalDoNotUse$proto$tflite$proto$MinibenchmarkSettings$getBinaryFieldsObject)};proto.tflite.proto.MinibenchmarkSettings.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.proto.MinibenchmarkSettings.internalDoNotUse$proto$tflite$proto$MinibenchmarkSettings$getBinaryFieldsObject)};proto.tflite.proto.MinibenchmarkSettings.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.proto.MinibenchmarkSettings,e)};proto.tflite.proto.MinibenchmarkSettings.repeatedFields_=[1];proto.tflite.proto.MinibenchmarkSettings.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.proto.MinibenchmarkSettings.fromObject=function(e){var t=new proto.tflite.proto.MinibenchmarkSettings;return e.settingsToTestList&&t.internal_setRepeatedWrapperField(1,e.settingsToTestList.map(proto.tflite.proto.TFLiteSettings.fromObject)),e.modelFile&&t.internal_setWrapperField(2,proto.tflite.proto.ModelFile.fromObject(e.modelFile)),e.storagePaths&&t.internal_setWrapperField(3,proto.tflite.proto.BenchmarkStoragePaths.fromObject(e.storagePaths)),t});proto.tflite.proto.MinibenchmarkSettings.prototype.toObject=function(e){return proto.tflite.proto.MinibenchmarkSettings.internal_toObject(e,this)};proto.tflite.proto.MinibenchmarkSettings.internal_toObject=function(e,t){if(t!=null){var n={settingsToTestList:module$contents$jspb$internal$public_for_gencode_toObjectList(t.getSettingsToTestList(),proto.tflite.proto.TFLiteSettings.internal_toObject,e),modelFile:proto.tflite.proto.ModelFile.internal_toObject(e,t.getModelFile()),storagePaths:proto.tflite.proto.BenchmarkStoragePaths.internal_toObject(e,t.getStoragePaths())};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.proto.ComputeSettings=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.tflite.proto.ComputeSettings,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.proto.ComputeSettings.prototype.getPreference=function(){return this.internal_getFieldWithDefault(1,0)};proto.tflite.proto.ComputeSettings.prototype.setPreference=function(e){return this.internal_setField(1,e)};proto.tflite.proto.ComputeSettings.prototype.clearPreference=function(){return this.internal_clearField(1)};proto.tflite.proto.ComputeSettings.prototype.hasPreference=function(){return this.internal_hasField(1)};proto.tflite.proto.ComputeSettings.prototype.getTfliteSettings=function(){return this.internal_getWrapperField(proto.tflite.proto.TFLiteSettings,2)};proto.tflite.proto.ComputeSettings.prototype.setTfliteSettings=function(e){return this.internal_setWrapperField(2,e)};proto.tflite.proto.ComputeSettings.prototype.clearTfliteSettings=function(){return this.internal_clearWrapperField(2)};proto.tflite.proto.ComputeSettings.prototype.hasTfliteSettings=function(){return this.internal_hasField(2)};proto.tflite.proto.ComputeSettings.prototype.getModelNamespaceForStatistics=function(){return this.internal_getStringFieldWithDefault(3)};proto.tflite.proto.ComputeSettings.prototype.setModelNamespaceForStatistics=function(e){return this.internal_setField(3,e)};proto.tflite.proto.ComputeSettings.prototype.clearModelNamespaceForStatistics=function(){return this.internal_clearField(3)};proto.tflite.proto.ComputeSettings.prototype.hasModelNamespaceForStatistics=function(){return this.internal_hasField(3)};proto.tflite.proto.ComputeSettings.prototype.getModelIdentifierForStatistics=function(){return this.internal_getStringFieldWithDefault(4)};proto.tflite.proto.ComputeSettings.prototype.setModelIdentifierForStatistics=function(e){return this.internal_setField(4,e)};proto.tflite.proto.ComputeSettings.prototype.clearModelIdentifierForStatistics=function(){return this.internal_clearField(4)};proto.tflite.proto.ComputeSettings.prototype.hasModelIdentifierForStatistics=function(){return this.internal_hasField(4)};proto.tflite.proto.ComputeSettings.prototype.getSettingsToTestLocally=function(){return this.internal_getWrapperField(proto.tflite.proto.MinibenchmarkSettings,5)};proto.tflite.proto.ComputeSettings.prototype.setSettingsToTestLocally=function(e){return this.internal_setWrapperField(5,e)};proto.tflite.proto.ComputeSettings.prototype.clearSettingsToTestLocally=function(){return this.internal_clearWrapperField(5)};proto.tflite.proto.ComputeSettings.prototype.hasSettingsToTestLocally=function(){return this.internal_hasField(5)};proto.tflite.proto.ComputeSettings.internalDoNotUse$proto$tflite$proto$ComputeSettings$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readEnum,2:[jspb.internal.binary.readMessage,proto.tflite.proto.TFLiteSettings,proto.tflite.proto.TFLiteSettings.internalDoNotUse$proto$tflite$proto$TFLiteSettings$getBinaryFieldsObject],3:jspb.internal.binary.readString,4:jspb.internal.binary.readString,5:[jspb.internal.binary.readMessage,proto.tflite.proto.MinibenchmarkSettings,proto.tflite.proto.MinibenchmarkSettings.internalDoNotUse$proto$tflite$proto$MinibenchmarkSettings$getBinaryFieldsObject]}};proto.tflite.proto.ComputeSettings.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.proto.ComputeSettings.serializeBinaryToWriter)};proto.tflite.proto.ComputeSettings.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeEnum(t,e,1),jspb.internal.binary.writeMessage(t,e,2,proto.tflite.proto.TFLiteSettings,proto.tflite.proto.TFLiteSettings.serializeBinaryToWriter),jspb.internal.binary.writeString(t,e,3),jspb.internal.binary.writeString(t,e,4),jspb.internal.binary.writeMessage(t,e,5,proto.tflite.proto.MinibenchmarkSettings,proto.tflite.proto.MinibenchmarkSettings.serializeBinaryToWriter),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.proto.ComputeSettings.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.proto.ComputeSettings,proto.tflite.proto.ComputeSettings.internalDoNotUse$proto$tflite$proto$ComputeSettings$getBinaryFieldsObject)};proto.tflite.proto.ComputeSettings.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.proto.ComputeSettings.internalDoNotUse$proto$tflite$proto$ComputeSettings$getBinaryFieldsObject)};proto.tflite.proto.ComputeSettings.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.proto.ComputeSettings,e)};proto.tflite.proto.ComputeSettings.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.proto.ComputeSettings.fromObject=function(e){var t=new proto.tflite.proto.ComputeSettings;return e.preference!=null&&t.internal_setField(1,e.preference),e.tfliteSettings&&t.internal_setWrapperField(2,proto.tflite.proto.TFLiteSettings.fromObject(e.tfliteSettings)),e.modelNamespaceForStatistics!=null&&t.internal_setField(3,e.modelNamespaceForStatistics),e.modelIdentifierForStatistics!=null&&t.internal_setField(4,e.modelIdentifierForStatistics),e.settingsToTestLocally&&t.internal_setWrapperField(5,proto.tflite.proto.MinibenchmarkSettings.fromObject(e.settingsToTestLocally)),t});proto.tflite.proto.ComputeSettings.prototype.toObject=function(e){return proto.tflite.proto.ComputeSettings.internal_toObject(e,this)};proto.tflite.proto.ComputeSettings.internal_toObject=function(e,t){if(t!=null){var n={preference:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),tfliteSettings:proto.tflite.proto.TFLiteSettings.internal_toObject(e,t.getTfliteSettings()),modelNamespaceForStatistics:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(3)),modelIdentifierForStatistics:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(4)),settingsToTestLocally:proto.tflite.proto.MinibenchmarkSettings.internal_toObject(e,t.getSettingsToTestLocally())};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.task={};proto.tflite.task.core={};proto.tflite.task.core.BaseOptions=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.tflite.task.core.BaseOptions,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.task.core.BaseOptions.prototype.getModelFile=function(){return this.internal_getWrapperField(proto.visionkit.ExternalFile,1)};proto.tflite.task.core.BaseOptions.prototype.setModelFile=function(e){return this.internal_setWrapperField(1,e)};proto.tflite.task.core.BaseOptions.prototype.clearModelFile=function(){return this.internal_clearWrapperField(1)};proto.tflite.task.core.BaseOptions.prototype.hasModelFile=function(){return this.internal_hasField(1)};proto.tflite.task.core.BaseOptions.prototype.getComputeSettings=function(){return this.internal_getWrapperField(proto.acceleration.Acceleration,2)};proto.tflite.task.core.BaseOptions.prototype.setComputeSettings=function(e){return this.internal_setWrapperField(2,e)};proto.tflite.task.core.BaseOptions.prototype.clearComputeSettings=function(){return this.internal_clearWrapperField(2)};proto.tflite.task.core.BaseOptions.prototype.hasComputeSettings=function(){return this.internal_hasField(2)};proto.tflite.task.core.BaseOptions.internalDoNotUse$proto$tflite$task$core$BaseOptions$getBinaryFieldsObject=function(){return{1:[jspb.internal.binary.readMessage,proto.visionkit.ExternalFile,proto.visionkit.ExternalFile.internalDoNotUse$proto$visionkit$ExternalFile$getBinaryFieldsObject],2:[jspb.internal.binary.readMessage,proto.acceleration.Acceleration,proto.acceleration.Acceleration.internalDoNotUse$proto$acceleration$Acceleration$getBinaryFieldsObject]}};proto.tflite.task.core.BaseOptions.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.task.core.BaseOptions.serializeBinaryToWriter)};proto.tflite.task.core.BaseOptions.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeMessage(t,e,1,proto.visionkit.ExternalFile,proto.visionkit.ExternalFile.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,2,proto.acceleration.Acceleration,proto.acceleration.Acceleration.serializeBinaryToWriter),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.task.core.BaseOptions.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.task.core.BaseOptions,proto.tflite.task.core.BaseOptions.internalDoNotUse$proto$tflite$task$core$BaseOptions$getBinaryFieldsObject)};proto.tflite.task.core.BaseOptions.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.task.core.BaseOptions.internalDoNotUse$proto$tflite$task$core$BaseOptions$getBinaryFieldsObject)};proto.tflite.task.core.BaseOptions.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.task.core.BaseOptions,e)};proto.tflite.task.core.BaseOptions.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.task.core.BaseOptions.fromObject=function(e){var t=new proto.tflite.task.core.BaseOptions;return e.modelFile&&t.internal_setWrapperField(1,proto.visionkit.ExternalFile.fromObject(e.modelFile)),e.computeSettings&&t.internal_setWrapperField(2,proto.acceleration.Acceleration.fromObject(e.computeSettings)),t});proto.tflite.task.core.BaseOptions.prototype.toObject=function(e){return proto.tflite.task.core.BaseOptions.internal_toObject(e,this)};proto.tflite.task.core.BaseOptions.internal_toObject=function(e,t){if(t!=null){var n={modelFile:proto.visionkit.ExternalFile.internal_toObject(e,t.getModelFile()),computeSettings:proto.acceleration.Acceleration.internal_toObject(e,t.getComputeSettings())};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.task.core.FileDescriptorMeta=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.tflite.task.core.FileDescriptorMeta,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.task.core.FileDescriptorMeta.prototype.getFd=function(){return this.internal_getIntegerFieldWithDefault(1)};proto.tflite.task.core.FileDescriptorMeta.prototype.setFd=function(e){return this.internal_setField(1,e)};proto.tflite.task.core.FileDescriptorMeta.prototype.clearFd=function(){return this.internal_clearField(1)};proto.tflite.task.core.FileDescriptorMeta.prototype.hasFd=function(){return this.internal_hasField(1)};proto.tflite.task.core.FileDescriptorMeta.prototype.getLength=function(){return this.internal_getIntegerFieldWithDefault(2)};proto.tflite.task.core.FileDescriptorMeta.prototype.setLength=function(e){return this.internal_setField(2,e)};proto.tflite.task.core.FileDescriptorMeta.prototype.clearLength=function(){return this.internal_clearField(2)};proto.tflite.task.core.FileDescriptorMeta.prototype.hasLength=function(){return this.internal_hasField(2)};proto.tflite.task.core.FileDescriptorMeta.prototype.getOffset=function(){return this.internal_getIntegerFieldWithDefault(3)};proto.tflite.task.core.FileDescriptorMeta.prototype.setOffset=function(e){return this.internal_setField(3,e)};proto.tflite.task.core.FileDescriptorMeta.prototype.clearOffset=function(){return this.internal_clearField(3)};proto.tflite.task.core.FileDescriptorMeta.prototype.hasOffset=function(){return this.internal_hasField(3)};proto.tflite.task.core.FileDescriptorMeta.internalDoNotUse$proto$tflite$task$core$FileDescriptorMeta$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readInt32,2:jspb.internal.binary.readInt64,3:jspb.internal.binary.readInt64}};proto.tflite.task.core.FileDescriptorMeta.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.task.core.FileDescriptorMeta.serializeBinaryToWriter)};proto.tflite.task.core.FileDescriptorMeta.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeInt32(t,e,1),jspb.internal.binary.writeInt64(t,e,2),jspb.internal.binary.writeInt64(t,e,3),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.task.core.FileDescriptorMeta.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.task.core.FileDescriptorMeta,proto.tflite.task.core.FileDescriptorMeta.internalDoNotUse$proto$tflite$task$core$FileDescriptorMeta$getBinaryFieldsObject)};proto.tflite.task.core.FileDescriptorMeta.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.task.core.FileDescriptorMeta.internalDoNotUse$proto$tflite$task$core$FileDescriptorMeta$getBinaryFieldsObject)};proto.tflite.task.core.FileDescriptorMeta.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.task.core.FileDescriptorMeta,e)};proto.tflite.task.core.FileDescriptorMeta.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.task.core.FileDescriptorMeta.fromObject=function(e){var t=new proto.tflite.task.core.FileDescriptorMeta;return e.fd!=null&&t.internal_setField(1,e.fd),e.length!=null&&t.internal_setField(2,e.length),e.offset!=null&&t.internal_setField(3,e.offset),t});proto.tflite.task.core.FileDescriptorMeta.prototype.toObject=function(e){return proto.tflite.task.core.FileDescriptorMeta.internal_toObject(e,this)};proto.tflite.task.core.FileDescriptorMeta.internal_toObject=function(e,t){if(t!=null){var n={fd:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),length:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(2)),offset:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(3))};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.task.core.ExternalFile=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.tflite.task.core.ExternalFile,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.task.core.ExternalFile.prototype.getFileName=function(){return this.internal_getStringFieldWithDefault(1)};proto.tflite.task.core.ExternalFile.prototype.setFileName=function(e){return this.internal_setField(1,e)};proto.tflite.task.core.ExternalFile.prototype.clearFileName=function(){return this.internal_clearField(1)};proto.tflite.task.core.ExternalFile.prototype.hasFileName=function(){return this.internal_hasField(1)};proto.tflite.task.core.ExternalFile.prototype.getFileContent=function(){return this.internal_getStringFieldWithDefault(2)};proto.tflite.task.core.ExternalFile.prototype.getFileContent_asB64=function(){return module$contents$jspb$internal_bytesAsB64(this.getFileContent())};proto.tflite.task.core.ExternalFile.prototype.getFileContent_asU8=function(){return module$contents$jspb$internal_bytesAsU8(this.getFileContent())};proto.tflite.task.core.ExternalFile.prototype.setFileContent=function(e){return this.internal_setField(2,e)};proto.tflite.task.core.ExternalFile.prototype.clearFileContent=function(){return this.internal_clearField(2)};proto.tflite.task.core.ExternalFile.prototype.hasFileContent=function(){return this.internal_hasField(2)};proto.tflite.task.core.ExternalFile.prototype.getFileDescriptorMeta=function(){return this.internal_getWrapperField(proto.tflite.task.core.FileDescriptorMeta,4)};proto.tflite.task.core.ExternalFile.prototype.setFileDescriptorMeta=function(e){return this.internal_setWrapperField(4,e)};proto.tflite.task.core.ExternalFile.prototype.clearFileDescriptorMeta=function(){return this.internal_clearWrapperField(4)};proto.tflite.task.core.ExternalFile.prototype.hasFileDescriptorMeta=function(){return this.internal_hasField(4)};proto.tflite.task.core.ExternalFile.internalDoNotUse$proto$tflite$task$core$ExternalFile$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readString,2:jspb.internal.binary.readBytes,4:[jspb.internal.binary.readMessage,proto.tflite.task.core.FileDescriptorMeta,proto.tflite.task.core.FileDescriptorMeta.internalDoNotUse$proto$tflite$task$core$FileDescriptorMeta$getBinaryFieldsObject]}};proto.tflite.task.core.ExternalFile.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.task.core.ExternalFile.serializeBinaryToWriter)};proto.tflite.task.core.ExternalFile.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeString(t,e,1),jspb.internal.binary.writeBytes(t,e,2),jspb.internal.binary.writeMessage(t,e,4,proto.tflite.task.core.FileDescriptorMeta,proto.tflite.task.core.FileDescriptorMeta.serializeBinaryToWriter),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.task.core.ExternalFile.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.task.core.ExternalFile,proto.tflite.task.core.ExternalFile.internalDoNotUse$proto$tflite$task$core$ExternalFile$getBinaryFieldsObject)};proto.tflite.task.core.ExternalFile.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.task.core.ExternalFile.internalDoNotUse$proto$tflite$task$core$ExternalFile$getBinaryFieldsObject)};proto.tflite.task.core.ExternalFile.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.task.core.ExternalFile,e)};proto.tflite.task.core.ExternalFile.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.task.core.ExternalFile.fromObject=function(e){var t=new proto.tflite.task.core.ExternalFile;return e.fileName!=null&&t.internal_setField(1,e.fileName),e.fileContent!=null&&t.internal_setField(2,e.fileContent),e.fileDescriptorMeta&&t.internal_setWrapperField(4,proto.tflite.task.core.FileDescriptorMeta.fromObject(e.fileDescriptorMeta)),t});proto.tflite.task.core.ExternalFile.prototype.toObject=function(e){return proto.tflite.task.core.ExternalFile.internal_toObject(e,this)};proto.tflite.task.core.ExternalFile.internal_toObject=function(e,t){if(t!=null){var n={fileName:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),fileContent:t.getFileContent_asB64(),fileDescriptorMeta:proto.tflite.task.core.FileDescriptorMeta.internal_toObject(e,t.getFileDescriptorMeta())};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.task.text={};proto.tflite.task.text.BertNLClassifierOptions=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.tflite.task.text.BertNLClassifierOptions,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.task.text.BertNLClassifierOptions.prototype.getBaseOptions=function(){return this.internal_getWrapperField(proto.tflite.task.core.BaseOptions,1)};proto.tflite.task.text.BertNLClassifierOptions.prototype.setBaseOptions=function(e){return this.internal_setWrapperField(1,e)};proto.tflite.task.text.BertNLClassifierOptions.prototype.clearBaseOptions=function(){return this.internal_clearWrapperField(1)};proto.tflite.task.text.BertNLClassifierOptions.prototype.hasBaseOptions=function(){return this.internal_hasField(1)};proto.tflite.task.text.BertNLClassifierOptions.prototype.getMaxSeqLen=function(){return this.internal_getIntegerFieldWithDefault(2,128)};proto.tflite.task.text.BertNLClassifierOptions.prototype.setMaxSeqLen=function(e){return this.internal_setField(2,e)};proto.tflite.task.text.BertNLClassifierOptions.prototype.clearMaxSeqLen=function(){return this.internal_clearField(2)};proto.tflite.task.text.BertNLClassifierOptions.prototype.hasMaxSeqLen=function(){return this.internal_hasField(2)};proto.tflite.task.text.BertNLClassifierOptions.internalDoNotUse$proto$tflite$task$text$BertNLClassifierOptions$getBinaryFieldsObject=function(){return{1:[jspb.internal.binary.readMessage,proto.tflite.task.core.BaseOptions,proto.tflite.task.core.BaseOptions.internalDoNotUse$proto$tflite$task$core$BaseOptions$getBinaryFieldsObject],2:jspb.internal.binary.readInt32}};proto.tflite.task.text.BertNLClassifierOptions.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.task.text.BertNLClassifierOptions.serializeBinaryToWriter)};proto.tflite.task.text.BertNLClassifierOptions.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeMessage(t,e,1,proto.tflite.task.core.BaseOptions,proto.tflite.task.core.BaseOptions.serializeBinaryToWriter),jspb.internal.binary.writeInt32(t,e,2),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.task.text.BertNLClassifierOptions.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.task.text.BertNLClassifierOptions,proto.tflite.task.text.BertNLClassifierOptions.internalDoNotUse$proto$tflite$task$text$BertNLClassifierOptions$getBinaryFieldsObject)};proto.tflite.task.text.BertNLClassifierOptions.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.task.text.BertNLClassifierOptions.internalDoNotUse$proto$tflite$task$text$BertNLClassifierOptions$getBinaryFieldsObject)};proto.tflite.task.text.BertNLClassifierOptions.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.task.text.BertNLClassifierOptions,e)};proto.tflite.task.text.BertNLClassifierOptions.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.task.text.BertNLClassifierOptions.fromObject=function(e){var t=new proto.tflite.task.text.BertNLClassifierOptions;return e.baseOptions&&t.internal_setWrapperField(1,proto.tflite.task.core.BaseOptions.fromObject(e.baseOptions)),e.maxSeqLen!=null&&t.internal_setField(2,e.maxSeqLen),t});proto.tflite.task.text.BertNLClassifierOptions.prototype.toObject=function(e){return proto.tflite.task.text.BertNLClassifierOptions.internal_toObject(e,this)};proto.tflite.task.text.BertNLClassifierOptions.internal_toObject=function(e,t){if(t!=null){var n={baseOptions:proto.tflite.task.core.BaseOptions.internal_toObject(e,t.getBaseOptions()),maxSeqLen:t.internal_getIntegerFieldWithDefault(2,128)};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.task.vision={};proto.tflite.task.vision.BoundingBox=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.tflite.task.vision.BoundingBox,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.task.vision.BoundingBox.prototype.getOriginX=function(){return this.internal_getIntegerFieldWithDefault(1)};proto.tflite.task.vision.BoundingBox.prototype.setOriginX=function(e){return this.internal_setField(1,e)};proto.tflite.task.vision.BoundingBox.prototype.clearOriginX=function(){return this.internal_clearField(1)};proto.tflite.task.vision.BoundingBox.prototype.hasOriginX=function(){return this.internal_hasField(1)};proto.tflite.task.vision.BoundingBox.prototype.getOriginY=function(){return this.internal_getIntegerFieldWithDefault(2)};proto.tflite.task.vision.BoundingBox.prototype.setOriginY=function(e){return this.internal_setField(2,e)};proto.tflite.task.vision.BoundingBox.prototype.clearOriginY=function(){return this.internal_clearField(2)};proto.tflite.task.vision.BoundingBox.prototype.hasOriginY=function(){return this.internal_hasField(2)};proto.tflite.task.vision.BoundingBox.prototype.getWidth=function(){return this.internal_getIntegerFieldWithDefault(3)};proto.tflite.task.vision.BoundingBox.prototype.setWidth=function(e){return this.internal_setField(3,e)};proto.tflite.task.vision.BoundingBox.prototype.clearWidth=function(){return this.internal_clearField(3)};proto.tflite.task.vision.BoundingBox.prototype.hasWidth=function(){return this.internal_hasField(3)};proto.tflite.task.vision.BoundingBox.prototype.getHeight=function(){return this.internal_getIntegerFieldWithDefault(4)};proto.tflite.task.vision.BoundingBox.prototype.setHeight=function(e){return this.internal_setField(4,e)};proto.tflite.task.vision.BoundingBox.prototype.clearHeight=function(){return this.internal_clearField(4)};proto.tflite.task.vision.BoundingBox.prototype.hasHeight=function(){return this.internal_hasField(4)};proto.tflite.task.vision.BoundingBox.internalDoNotUse$proto$tflite$task$vision$BoundingBox$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readInt32,2:jspb.internal.binary.readInt32,3:jspb.internal.binary.readInt32,4:jspb.internal.binary.readInt32}};proto.tflite.task.vision.BoundingBox.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.task.vision.BoundingBox.serializeBinaryToWriter)};proto.tflite.task.vision.BoundingBox.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeInt32(t,e,1),jspb.internal.binary.writeInt32(t,e,2),jspb.internal.binary.writeInt32(t,e,3),jspb.internal.binary.writeInt32(t,e,4),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.task.vision.BoundingBox.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.task.vision.BoundingBox,proto.tflite.task.vision.BoundingBox.internalDoNotUse$proto$tflite$task$vision$BoundingBox$getBinaryFieldsObject)};proto.tflite.task.vision.BoundingBox.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.task.vision.BoundingBox.internalDoNotUse$proto$tflite$task$vision$BoundingBox$getBinaryFieldsObject)};proto.tflite.task.vision.BoundingBox.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.task.vision.BoundingBox,e)};proto.tflite.task.vision.BoundingBox.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.task.vision.BoundingBox.fromObject=function(e){var t=new proto.tflite.task.vision.BoundingBox;return e.originX!=null&&t.internal_setField(1,e.originX),e.originY!=null&&t.internal_setField(2,e.originY),e.width!=null&&t.internal_setField(3,e.width),e.height!=null&&t.internal_setField(4,e.height),t});proto.tflite.task.vision.BoundingBox.prototype.toObject=function(e){return proto.tflite.task.vision.BoundingBox.internal_toObject(e,this)};proto.tflite.task.vision.BoundingBox.internal_toObject=function(e,t){if(t!=null){var n={originX:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),originY:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(2)),width:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(3)),height:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(4))};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.task.vision.Class=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.tflite.task.vision.Class,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.task.vision.Class.prototype.getIndex=function(){return this.internal_getIntegerFieldWithDefault(1)};proto.tflite.task.vision.Class.prototype.setIndex=function(e){return this.internal_setField(1,e)};proto.tflite.task.vision.Class.prototype.clearIndex=function(){return this.internal_clearField(1)};proto.tflite.task.vision.Class.prototype.hasIndex=function(){return this.internal_hasField(1)};proto.tflite.task.vision.Class.prototype.getScore=function(){return this.internal_getFloatingPointFieldWithDefault(2)};proto.tflite.task.vision.Class.prototype.setScore=function(e){return this.internal_setField(2,e)};proto.tflite.task.vision.Class.prototype.clearScore=function(){return this.internal_clearField(2)};proto.tflite.task.vision.Class.prototype.hasScore=function(){return this.internal_hasField(2)};proto.tflite.task.vision.Class.prototype.getDisplayName=function(){return this.internal_getStringFieldWithDefault(3)};proto.tflite.task.vision.Class.prototype.setDisplayName=function(e){return this.internal_setField(3,e)};proto.tflite.task.vision.Class.prototype.clearDisplayName=function(){return this.internal_clearField(3)};proto.tflite.task.vision.Class.prototype.hasDisplayName=function(){return this.internal_hasField(3)};proto.tflite.task.vision.Class.prototype.getClassName=function(){return this.internal_getStringFieldWithDefault(4)};proto.tflite.task.vision.Class.prototype.setClassName=function(e){return this.internal_setField(4,e)};proto.tflite.task.vision.Class.prototype.clearClassName=function(){return this.internal_clearField(4)};proto.tflite.task.vision.Class.prototype.hasClassName=function(){return this.internal_hasField(4)};proto.tflite.task.vision.Class.internalDoNotUse$proto$tflite$task$vision$Class$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readInt32,2:jspb.internal.binary.readFloat,3:jspb.internal.binary.readString,4:jspb.internal.binary.readString}};proto.tflite.task.vision.Class.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.task.vision.Class.serializeBinaryToWriter)};proto.tflite.task.vision.Class.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeInt32(t,e,1),jspb.internal.binary.writeFloat(t,e,2),jspb.internal.binary.writeString(t,e,3),jspb.internal.binary.writeString(t,e,4),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.task.vision.Class.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.task.vision.Class,proto.tflite.task.vision.Class.internalDoNotUse$proto$tflite$task$vision$Class$getBinaryFieldsObject)};proto.tflite.task.vision.Class.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.task.vision.Class.internalDoNotUse$proto$tflite$task$vision$Class$getBinaryFieldsObject)};proto.tflite.task.vision.Class.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.task.vision.Class,e)};proto.tflite.task.vision.Class.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.task.vision.Class.fromObject=function(e){var t=new proto.tflite.task.vision.Class;return e.index!=null&&t.internal_setField(1,e.index),e.score!=null&&t.internal_setField(2,e.score),e.displayName!=null&&t.internal_setField(3,e.displayName),e.className!=null&&t.internal_setField(4,e.className),t});proto.tflite.task.vision.Class.prototype.toObject=function(e){return proto.tflite.task.vision.Class.internal_toObject(e,this)};proto.tflite.task.vision.Class.internal_toObject=function(e,t){if(t!=null){var n={index:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),score:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getFloatingPointField(2)),displayName:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(3)),className:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(4))};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.task.vision.Classifications=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e,-1,proto.tflite.task.vision.Classifications.repeatedFields_)};$jscomp.inherits(proto.tflite.task.vision.Classifications,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.task.vision.Classifications.prototype.getClassesList=function(){return this.internal_getRepeatedWrapperField(proto.tflite.task.vision.Class,1)};proto.tflite.task.vision.Classifications.prototype.setClassesList=function(e){return this.internal_setRepeatedWrapperField(1,e)};proto.tflite.task.vision.Classifications.prototype.addClasses=function(e,t){return this.internal_addToRepeatedWrapperField(1,e,proto.tflite.task.vision.Class,t)};proto.tflite.task.vision.Classifications.prototype.addAndReturnClasses=function(e,t){return this.internal_addAndReturnRepeatedWrapperField(1,e,proto.tflite.task.vision.Class,t)};proto.tflite.task.vision.Classifications.prototype.clearClassesList=function(){return this.internal_clearRepeatedWrapperField(1)};proto.tflite.task.vision.Classifications.prototype.getHeadIndex=function(){return this.internal_getIntegerFieldWithDefault(2)};proto.tflite.task.vision.Classifications.prototype.setHeadIndex=function(e){return this.internal_setField(2,e)};proto.tflite.task.vision.Classifications.prototype.clearHeadIndex=function(){return this.internal_clearField(2)};proto.tflite.task.vision.Classifications.prototype.hasHeadIndex=function(){return this.internal_hasField(2)};proto.tflite.task.vision.Classifications.internalDoNotUse$proto$tflite$task$vision$Classifications$getBinaryFieldsObject=function(){return{1:[jspb.internal.binary.readRepeatedMessage,proto.tflite.task.vision.Class,proto.tflite.task.vision.Class.internalDoNotUse$proto$tflite$task$vision$Class$getBinaryFieldsObject],2:jspb.internal.binary.readInt32}};proto.tflite.task.vision.Classifications.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.task.vision.Classifications.serializeBinaryToWriter)};proto.tflite.task.vision.Classifications.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeRepeatedMessage(t,e,1,proto.tflite.task.vision.Class,proto.tflite.task.vision.Class.serializeBinaryToWriter),jspb.internal.binary.writeInt32(t,e,2),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.task.vision.Classifications.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.task.vision.Classifications,proto.tflite.task.vision.Classifications.internalDoNotUse$proto$tflite$task$vision$Classifications$getBinaryFieldsObject)};proto.tflite.task.vision.Classifications.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.task.vision.Classifications.internalDoNotUse$proto$tflite$task$vision$Classifications$getBinaryFieldsObject)};proto.tflite.task.vision.Classifications.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.task.vision.Classifications,e)};proto.tflite.task.vision.Classifications.repeatedFields_=[1];proto.tflite.task.vision.Classifications.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.task.vision.Classifications.fromObject=function(e){var t=new proto.tflite.task.vision.Classifications;return e.classesList&&t.internal_setRepeatedWrapperField(1,e.classesList.map(proto.tflite.task.vision.Class.fromObject)),e.headIndex!=null&&t.internal_setField(2,e.headIndex),t});proto.tflite.task.vision.Classifications.prototype.toObject=function(e){return proto.tflite.task.vision.Classifications.internal_toObject(e,this)};proto.tflite.task.vision.Classifications.internal_toObject=function(e,t){if(t!=null){var n={classesList:module$contents$jspb$internal$public_for_gencode_toObjectList(t.getClassesList(),proto.tflite.task.vision.Class.internal_toObject,e),headIndex:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(2))};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.task.vision.ClassificationResult=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e,-1,proto.tflite.task.vision.ClassificationResult.repeatedFields_)};$jscomp.inherits(proto.tflite.task.vision.ClassificationResult,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.task.vision.ClassificationResult.prototype.getClassificationsList=function(){return this.internal_getRepeatedWrapperField(proto.tflite.task.vision.Classifications,1)};proto.tflite.task.vision.ClassificationResult.prototype.setClassificationsList=function(e){return this.internal_setRepeatedWrapperField(1,e)};proto.tflite.task.vision.ClassificationResult.prototype.addClassifications=function(e,t){return this.internal_addToRepeatedWrapperField(1,e,proto.tflite.task.vision.Classifications,t)};proto.tflite.task.vision.ClassificationResult.prototype.addAndReturnClassifications=function(e,t){return this.internal_addAndReturnRepeatedWrapperField(1,e,proto.tflite.task.vision.Classifications,t)};proto.tflite.task.vision.ClassificationResult.prototype.clearClassificationsList=function(){return this.internal_clearRepeatedWrapperField(1)};proto.tflite.task.vision.ClassificationResult.internalDoNotUse$proto$tflite$task$vision$ClassificationResult$getBinaryFieldsObject=function(){return{1:[jspb.internal.binary.readRepeatedMessage,proto.tflite.task.vision.Classifications,proto.tflite.task.vision.Classifications.internalDoNotUse$proto$tflite$task$vision$Classifications$getBinaryFieldsObject]}};proto.tflite.task.vision.ClassificationResult.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.task.vision.ClassificationResult.serializeBinaryToWriter)};proto.tflite.task.vision.ClassificationResult.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeRepeatedMessage(t,e,1,proto.tflite.task.vision.Classifications,proto.tflite.task.vision.Classifications.serializeBinaryToWriter),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.task.vision.ClassificationResult.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.task.vision.ClassificationResult,proto.tflite.task.vision.ClassificationResult.internalDoNotUse$proto$tflite$task$vision$ClassificationResult$getBinaryFieldsObject)};proto.tflite.task.vision.ClassificationResult.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.task.vision.ClassificationResult.internalDoNotUse$proto$tflite$task$vision$ClassificationResult$getBinaryFieldsObject)};proto.tflite.task.vision.ClassificationResult.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.task.vision.ClassificationResult,e)};proto.tflite.task.vision.ClassificationResult.repeatedFields_=[1];proto.tflite.task.vision.ClassificationResult.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.task.vision.ClassificationResult.fromObject=function(e){var t=new proto.tflite.task.vision.ClassificationResult;return e.classificationsList&&t.internal_setRepeatedWrapperField(1,e.classificationsList.map(proto.tflite.task.vision.Classifications.fromObject)),t});proto.tflite.task.vision.ClassificationResult.prototype.toObject=function(e){return proto.tflite.task.vision.ClassificationResult.internal_toObject(e,this)};proto.tflite.task.vision.ClassificationResult.internal_toObject=function(e,t){if(t!=null){var n={classificationsList:module$contents$jspb$internal$public_for_gencode_toObjectList(t.getClassificationsList(),proto.tflite.task.vision.Classifications.internal_toObject,e)};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.task.vision.Detection=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e,-1,proto.tflite.task.vision.Detection.repeatedFields_)};$jscomp.inherits(proto.tflite.task.vision.Detection,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.task.vision.Detection.prototype.getBoundingBox=function(){return this.internal_getWrapperField(proto.tflite.task.vision.BoundingBox,2)};proto.tflite.task.vision.Detection.prototype.setBoundingBox=function(e){return this.internal_setWrapperField(2,e)};proto.tflite.task.vision.Detection.prototype.clearBoundingBox=function(){return this.internal_clearWrapperField(2)};proto.tflite.task.vision.Detection.prototype.hasBoundingBox=function(){return this.internal_hasField(2)};proto.tflite.task.vision.Detection.prototype.getClassesList=function(){return this.internal_getRepeatedWrapperField(proto.tflite.task.vision.Class,3)};proto.tflite.task.vision.Detection.prototype.setClassesList=function(e){return this.internal_setRepeatedWrapperField(3,e)};proto.tflite.task.vision.Detection.prototype.addClasses=function(e,t){return this.internal_addToRepeatedWrapperField(3,e,proto.tflite.task.vision.Class,t)};proto.tflite.task.vision.Detection.prototype.addAndReturnClasses=function(e,t){return this.internal_addAndReturnRepeatedWrapperField(3,e,proto.tflite.task.vision.Class,t)};proto.tflite.task.vision.Detection.prototype.clearClassesList=function(){return this.internal_clearRepeatedWrapperField(3)};proto.tflite.task.vision.Detection.internalDoNotUse$proto$tflite$task$vision$Detection$getBinaryFieldsObject=function(){return{2:[jspb.internal.binary.readMessage,proto.tflite.task.vision.BoundingBox,proto.tflite.task.vision.BoundingBox.internalDoNotUse$proto$tflite$task$vision$BoundingBox$getBinaryFieldsObject],3:[jspb.internal.binary.readRepeatedMessage,proto.tflite.task.vision.Class,proto.tflite.task.vision.Class.internalDoNotUse$proto$tflite$task$vision$Class$getBinaryFieldsObject]}};proto.tflite.task.vision.Detection.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.task.vision.Detection.serializeBinaryToWriter)};proto.tflite.task.vision.Detection.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeMessage(t,e,2,proto.tflite.task.vision.BoundingBox,proto.tflite.task.vision.BoundingBox.serializeBinaryToWriter),jspb.internal.binary.writeRepeatedMessage(t,e,3,proto.tflite.task.vision.Class,proto.tflite.task.vision.Class.serializeBinaryToWriter),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.task.vision.Detection.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.task.vision.Detection,proto.tflite.task.vision.Detection.internalDoNotUse$proto$tflite$task$vision$Detection$getBinaryFieldsObject)};proto.tflite.task.vision.Detection.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.task.vision.Detection.internalDoNotUse$proto$tflite$task$vision$Detection$getBinaryFieldsObject)};proto.tflite.task.vision.Detection.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.task.vision.Detection,e)};proto.tflite.task.vision.Detection.repeatedFields_=[3];proto.tflite.task.vision.Detection.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.task.vision.Detection.fromObject=function(e){var t=new proto.tflite.task.vision.Detection;return e.boundingBox&&t.internal_setWrapperField(2,proto.tflite.task.vision.BoundingBox.fromObject(e.boundingBox)),e.classesList&&t.internal_setRepeatedWrapperField(3,e.classesList.map(proto.tflite.task.vision.Class.fromObject)),t});proto.tflite.task.vision.Detection.prototype.toObject=function(e){return proto.tflite.task.vision.Detection.internal_toObject(e,this)};proto.tflite.task.vision.Detection.internal_toObject=function(e,t){if(t!=null){var n={boundingBox:proto.tflite.task.vision.BoundingBox.internal_toObject(e,t.getBoundingBox()),classesList:module$contents$jspb$internal$public_for_gencode_toObjectList(t.getClassesList(),proto.tflite.task.vision.Class.internal_toObject,e)};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.task.vision.DetectionResult=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e,-1,proto.tflite.task.vision.DetectionResult.repeatedFields_)};$jscomp.inherits(proto.tflite.task.vision.DetectionResult,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.task.vision.DetectionResult.prototype.getDetectionsList=function(){return this.internal_getRepeatedWrapperField(proto.tflite.task.vision.Detection,1)};proto.tflite.task.vision.DetectionResult.prototype.setDetectionsList=function(e){return this.internal_setRepeatedWrapperField(1,e)};proto.tflite.task.vision.DetectionResult.prototype.addDetections=function(e,t){return this.internal_addToRepeatedWrapperField(1,e,proto.tflite.task.vision.Detection,t)};proto.tflite.task.vision.DetectionResult.prototype.addAndReturnDetections=function(e,t){return this.internal_addAndReturnRepeatedWrapperField(1,e,proto.tflite.task.vision.Detection,t)};proto.tflite.task.vision.DetectionResult.prototype.clearDetectionsList=function(){return this.internal_clearRepeatedWrapperField(1)};proto.tflite.task.vision.DetectionResult.internalDoNotUse$proto$tflite$task$vision$DetectionResult$getBinaryFieldsObject=function(){return{1:[jspb.internal.binary.readRepeatedMessage,proto.tflite.task.vision.Detection,proto.tflite.task.vision.Detection.internalDoNotUse$proto$tflite$task$vision$Detection$getBinaryFieldsObject]}};proto.tflite.task.vision.DetectionResult.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.task.vision.DetectionResult.serializeBinaryToWriter)};proto.tflite.task.vision.DetectionResult.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeRepeatedMessage(t,e,1,proto.tflite.task.vision.Detection,proto.tflite.task.vision.Detection.serializeBinaryToWriter),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.task.vision.DetectionResult.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.task.vision.DetectionResult,proto.tflite.task.vision.DetectionResult.internalDoNotUse$proto$tflite$task$vision$DetectionResult$getBinaryFieldsObject)};proto.tflite.task.vision.DetectionResult.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.task.vision.DetectionResult.internalDoNotUse$proto$tflite$task$vision$DetectionResult$getBinaryFieldsObject)};proto.tflite.task.vision.DetectionResult.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.task.vision.DetectionResult,e)};proto.tflite.task.vision.DetectionResult.repeatedFields_=[1];proto.tflite.task.vision.DetectionResult.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.task.vision.DetectionResult.fromObject=function(e){var t=new proto.tflite.task.vision.DetectionResult;return e.detectionsList&&t.internal_setRepeatedWrapperField(1,e.detectionsList.map(proto.tflite.task.vision.Detection.fromObject)),t});proto.tflite.task.vision.DetectionResult.prototype.toObject=function(e){return proto.tflite.task.vision.DetectionResult.internal_toObject(e,this)};proto.tflite.task.vision.DetectionResult.internal_toObject=function(e,t){if(t!=null){var n={detectionsList:module$contents$jspb$internal$public_for_gencode_toObjectList(t.getDetectionsList(),proto.tflite.task.vision.Detection.internal_toObject,e)};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.task.vision.ImageClassifierOptions=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e,-1,proto.tflite.task.vision.ImageClassifierOptions.repeatedFields_)};$jscomp.inherits(proto.tflite.task.vision.ImageClassifierOptions,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.task.vision.ImageClassifierOptions.prototype.getBaseOptions=function(){return this.internal_getWrapperField(proto.tflite.task.core.BaseOptions,14)};proto.tflite.task.vision.ImageClassifierOptions.prototype.setBaseOptions=function(e){return this.internal_setWrapperField(14,e)};proto.tflite.task.vision.ImageClassifierOptions.prototype.clearBaseOptions=function(){return this.internal_clearWrapperField(14)};proto.tflite.task.vision.ImageClassifierOptions.prototype.hasBaseOptions=function(){return this.internal_hasField(14)};proto.tflite.task.vision.ImageClassifierOptions.prototype.getModelFileWithMetadata=function(){return this.internal_getWrapperField(proto.tflite.task.core.ExternalFile,10)};proto.tflite.task.vision.ImageClassifierOptions.prototype.setModelFileWithMetadata=function(e){return this.internal_setWrapperField(10,e)};proto.tflite.task.vision.ImageClassifierOptions.prototype.clearModelFileWithMetadata=function(){return this.internal_clearWrapperField(10)};proto.tflite.task.vision.ImageClassifierOptions.prototype.hasModelFileWithMetadata=function(){return this.internal_hasField(10)};proto.tflite.task.vision.ImageClassifierOptions.prototype.getDisplayNamesLocale=function(){return this.internal_getStringFieldWithDefault(11,"en")};proto.tflite.task.vision.ImageClassifierOptions.prototype.setDisplayNamesLocale=function(e){return this.internal_setField(11,e)};proto.tflite.task.vision.ImageClassifierOptions.prototype.clearDisplayNamesLocale=function(){return this.internal_clearField(11)};proto.tflite.task.vision.ImageClassifierOptions.prototype.hasDisplayNamesLocale=function(){return this.internal_hasField(11)};proto.tflite.task.vision.ImageClassifierOptions.prototype.getMaxResults=function(){return this.internal_getIntegerFieldWithDefault(2,-1)};proto.tflite.task.vision.ImageClassifierOptions.prototype.setMaxResults=function(e){return this.internal_setField(2,e)};proto.tflite.task.vision.ImageClassifierOptions.prototype.clearMaxResults=function(){return this.internal_clearField(2)};proto.tflite.task.vision.ImageClassifierOptions.prototype.hasMaxResults=function(){return this.internal_hasField(2)};proto.tflite.task.vision.ImageClassifierOptions.prototype.getScoreThreshold=function(){return this.internal_getFloatingPointFieldWithDefault(3)};proto.tflite.task.vision.ImageClassifierOptions.prototype.setScoreThreshold=function(e){return this.internal_setField(3,e)};proto.tflite.task.vision.ImageClassifierOptions.prototype.clearScoreThreshold=function(){return this.internal_clearField(3)};proto.tflite.task.vision.ImageClassifierOptions.prototype.hasScoreThreshold=function(){return this.internal_hasField(3)};proto.tflite.task.vision.ImageClassifierOptions.prototype.getClassNameWhitelistList=function(){return this.internal_getRepeatedField(4)};proto.tflite.task.vision.ImageClassifierOptions.prototype.setClassNameWhitelistList=function(e){return this.internal_setRepeatedField(4,e)};proto.tflite.task.vision.ImageClassifierOptions.prototype.addClassNameWhitelist=function(e,t){return this.internal_addToRepeatedField(4,e,t)};proto.tflite.task.vision.ImageClassifierOptions.prototype.clearClassNameWhitelistList=function(){return this.internal_clearRepeatedField(4)};proto.tflite.task.vision.ImageClassifierOptions.prototype.getClassNameBlacklistList=function(){return this.internal_getRepeatedField(5)};proto.tflite.task.vision.ImageClassifierOptions.prototype.setClassNameBlacklistList=function(e){return this.internal_setRepeatedField(5,e)};proto.tflite.task.vision.ImageClassifierOptions.prototype.addClassNameBlacklist=function(e,t){return this.internal_addToRepeatedField(5,e,t)};proto.tflite.task.vision.ImageClassifierOptions.prototype.clearClassNameBlacklistList=function(){return this.internal_clearRepeatedField(5)};proto.tflite.task.vision.ImageClassifierOptions.prototype.getNumThreads=function(){return this.internal_getIntegerFieldWithDefault(13,-1)};proto.tflite.task.vision.ImageClassifierOptions.prototype.setNumThreads=function(e){return this.internal_setField(13,e)};proto.tflite.task.vision.ImageClassifierOptions.prototype.clearNumThreads=function(){return this.internal_clearField(13)};proto.tflite.task.vision.ImageClassifierOptions.prototype.hasNumThreads=function(){return this.internal_hasField(13)};proto.tflite.task.vision.ImageClassifierOptions.prototype.getComputeSettings=function(){return this.internal_getWrapperField(proto.tflite.proto.ComputeSettings,9)};proto.tflite.task.vision.ImageClassifierOptions.prototype.setComputeSettings=function(e){return this.internal_setWrapperField(9,e)};proto.tflite.task.vision.ImageClassifierOptions.prototype.clearComputeSettings=function(){return this.internal_clearWrapperField(9)};proto.tflite.task.vision.ImageClassifierOptions.prototype.hasComputeSettings=function(){return this.internal_hasField(9)};proto.tflite.task.vision.ImageClassifierOptions.internalDoNotUse$proto$tflite$task$vision$ImageClassifierOptions$getBinaryFieldsObject=function(){return{14:[jspb.internal.binary.readMessage,proto.tflite.task.core.BaseOptions,proto.tflite.task.core.BaseOptions.internalDoNotUse$proto$tflite$task$core$BaseOptions$getBinaryFieldsObject],10:[jspb.internal.binary.readMessage,proto.tflite.task.core.ExternalFile,proto.tflite.task.core.ExternalFile.internalDoNotUse$proto$tflite$task$core$ExternalFile$getBinaryFieldsObject],11:jspb.internal.binary.readString,2:jspb.internal.binary.readInt32,3:jspb.internal.binary.readFloat,4:jspb.internal.binary.readRepeatedString,5:jspb.internal.binary.readRepeatedString,13:jspb.internal.binary.readInt32,9:[jspb.internal.binary.readMessage,proto.tflite.proto.ComputeSettings,proto.tflite.proto.ComputeSettings.internalDoNotUse$proto$tflite$proto$ComputeSettings$getBinaryFieldsObject]}};proto.tflite.task.vision.ImageClassifierOptions.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.task.vision.ImageClassifierOptions.serializeBinaryToWriter)};proto.tflite.task.vision.ImageClassifierOptions.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeMessage(t,e,14,proto.tflite.task.core.BaseOptions,proto.tflite.task.core.BaseOptions.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,10,proto.tflite.task.core.ExternalFile,proto.tflite.task.core.ExternalFile.serializeBinaryToWriter),jspb.internal.binary.writeString(t,e,11),jspb.internal.binary.writeInt32(t,e,2),jspb.internal.binary.writeFloat(t,e,3),jspb.internal.binary.writeRepeatedString(t,e,4),jspb.internal.binary.writeRepeatedString(t,e,5),jspb.internal.binary.writeInt32(t,e,13),jspb.internal.binary.writeMessage(t,e,9,proto.tflite.proto.ComputeSettings,proto.tflite.proto.ComputeSettings.serializeBinaryToWriter),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.task.vision.ImageClassifierOptions.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.task.vision.ImageClassifierOptions,proto.tflite.task.vision.ImageClassifierOptions.internalDoNotUse$proto$tflite$task$vision$ImageClassifierOptions$getBinaryFieldsObject)};proto.tflite.task.vision.ImageClassifierOptions.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.task.vision.ImageClassifierOptions.internalDoNotUse$proto$tflite$task$vision$ImageClassifierOptions$getBinaryFieldsObject)};proto.tflite.task.vision.ImageClassifierOptions.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.task.vision.ImageClassifierOptions,e)};proto.tflite.task.vision.ImageClassifierOptions.repeatedFields_=[4,5];proto.tflite.task.vision.ImageClassifierOptions.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.task.vision.ImageClassifierOptions.fromObject=function(e){var t=new proto.tflite.task.vision.ImageClassifierOptions;return e.baseOptions&&t.internal_setWrapperField(14,proto.tflite.task.core.BaseOptions.fromObject(e.baseOptions)),e.modelFileWithMetadata&&t.internal_setWrapperField(10,proto.tflite.task.core.ExternalFile.fromObject(e.modelFileWithMetadata)),e.displayNamesLocale!=null&&t.internal_setField(11,e.displayNamesLocale),e.maxResults!=null&&t.internal_setField(2,e.maxResults),e.scoreThreshold!=null&&t.internal_setField(3,e.scoreThreshold),e.classNameWhitelistList!=null&&t.internal_setRepeatedField(4,e.classNameWhitelistList),e.classNameBlacklistList!=null&&t.internal_setRepeatedField(5,e.classNameBlacklistList),e.numThreads!=null&&t.internal_setField(13,e.numThreads),e.computeSettings&&t.internal_setWrapperField(9,proto.tflite.proto.ComputeSettings.fromObject(e.computeSettings)),t});proto.tflite.task.vision.ImageClassifierOptions.prototype.toObject=function(e){return proto.tflite.task.vision.ImageClassifierOptions.internal_toObject(e,this)};proto.tflite.task.vision.ImageClassifierOptions.internal_toObject=function(e,t){if(t!=null){var n={baseOptions:proto.tflite.task.core.BaseOptions.internal_toObject(e,t.getBaseOptions()),modelFileWithMetadata:proto.tflite.task.core.ExternalFile.internal_toObject(e,t.getModelFileWithMetadata()),displayNamesLocale:t.internal_getStringFieldWithDefault(11,"en"),maxResults:t.internal_getIntegerFieldWithDefault(2,-1),scoreThreshold:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getFloatingPointField(3)),classNameWhitelistList:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getRepeatedField(4)),classNameBlacklistList:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getRepeatedField(5)),numThreads:t.internal_getIntegerFieldWithDefault(13,-1),computeSettings:proto.tflite.proto.ComputeSettings.internal_toObject(e,t.getComputeSettings())};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.task.vision.ImageSegmenterOptions=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.tflite.task.vision.ImageSegmenterOptions,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.task.vision.ImageSegmenterOptions.prototype.getBaseOptions=function(){return this.internal_getWrapperField(proto.tflite.task.core.BaseOptions,8)};proto.tflite.task.vision.ImageSegmenterOptions.prototype.setBaseOptions=function(e){return this.internal_setWrapperField(8,e)};proto.tflite.task.vision.ImageSegmenterOptions.prototype.clearBaseOptions=function(){return this.internal_clearWrapperField(8)};proto.tflite.task.vision.ImageSegmenterOptions.prototype.hasBaseOptions=function(){return this.internal_hasField(8)};proto.tflite.task.vision.ImageSegmenterOptions.prototype.getModelFileWithMetadata=function(){return this.internal_getWrapperField(proto.tflite.task.core.ExternalFile,5)};proto.tflite.task.vision.ImageSegmenterOptions.prototype.setModelFileWithMetadata=function(e){return this.internal_setWrapperField(5,e)};proto.tflite.task.vision.ImageSegmenterOptions.prototype.clearModelFileWithMetadata=function(){return this.internal_clearWrapperField(5)};proto.tflite.task.vision.ImageSegmenterOptions.prototype.hasModelFileWithMetadata=function(){return this.internal_hasField(5)};proto.tflite.task.vision.ImageSegmenterOptions.prototype.getDisplayNamesLocale=function(){return this.internal_getStringFieldWithDefault(6,"en")};proto.tflite.task.vision.ImageSegmenterOptions.prototype.setDisplayNamesLocale=function(e){return this.internal_setField(6,e)};proto.tflite.task.vision.ImageSegmenterOptions.prototype.clearDisplayNamesLocale=function(){return this.internal_clearField(6)};proto.tflite.task.vision.ImageSegmenterOptions.prototype.hasDisplayNamesLocale=function(){return this.internal_hasField(6)};proto.tflite.task.vision.ImageSegmenterOptions.prototype.getOutputType=function(){return this.internal_getFieldWithDefault(3,1)};proto.tflite.task.vision.ImageSegmenterOptions.prototype.setOutputType=function(e){return this.internal_setField(3,e)};proto.tflite.task.vision.ImageSegmenterOptions.prototype.clearOutputType=function(){return this.internal_clearField(3)};proto.tflite.task.vision.ImageSegmenterOptions.prototype.hasOutputType=function(){return this.internal_hasField(3)};proto.tflite.task.vision.ImageSegmenterOptions.prototype.getNumThreads=function(){return this.internal_getIntegerFieldWithDefault(7,-1)};proto.tflite.task.vision.ImageSegmenterOptions.prototype.setNumThreads=function(e){return this.internal_setField(7,e)};proto.tflite.task.vision.ImageSegmenterOptions.prototype.clearNumThreads=function(){return this.internal_clearField(7)};proto.tflite.task.vision.ImageSegmenterOptions.prototype.hasNumThreads=function(){return this.internal_hasField(7)};proto.tflite.task.vision.ImageSegmenterOptions.prototype.getComputeSettings=function(){return this.internal_getWrapperField(proto.tflite.proto.ComputeSettings,4)};proto.tflite.task.vision.ImageSegmenterOptions.prototype.setComputeSettings=function(e){return this.internal_setWrapperField(4,e)};proto.tflite.task.vision.ImageSegmenterOptions.prototype.clearComputeSettings=function(){return this.internal_clearWrapperField(4)};proto.tflite.task.vision.ImageSegmenterOptions.prototype.hasComputeSettings=function(){return this.internal_hasField(4)};proto.tflite.task.vision.ImageSegmenterOptions.internalDoNotUse$proto$tflite$task$vision$ImageSegmenterOptions$getBinaryFieldsObject=function(){return{8:[jspb.internal.binary.readMessage,proto.tflite.task.core.BaseOptions,proto.tflite.task.core.BaseOptions.internalDoNotUse$proto$tflite$task$core$BaseOptions$getBinaryFieldsObject],5:[jspb.internal.binary.readMessage,proto.tflite.task.core.ExternalFile,proto.tflite.task.core.ExternalFile.internalDoNotUse$proto$tflite$task$core$ExternalFile$getBinaryFieldsObject],6:jspb.internal.binary.readString,3:jspb.internal.binary.readEnum,7:jspb.internal.binary.readInt32,4:[jspb.internal.binary.readMessage,proto.tflite.proto.ComputeSettings,proto.tflite.proto.ComputeSettings.internalDoNotUse$proto$tflite$proto$ComputeSettings$getBinaryFieldsObject]}};proto.tflite.task.vision.ImageSegmenterOptions.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.task.vision.ImageSegmenterOptions.serializeBinaryToWriter)};proto.tflite.task.vision.ImageSegmenterOptions.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeMessage(t,e,8,proto.tflite.task.core.BaseOptions,proto.tflite.task.core.BaseOptions.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,5,proto.tflite.task.core.ExternalFile,proto.tflite.task.core.ExternalFile.serializeBinaryToWriter),jspb.internal.binary.writeString(t,e,6),jspb.internal.binary.writeEnum(t,e,3),jspb.internal.binary.writeInt32(t,e,7),jspb.internal.binary.writeMessage(t,e,4,proto.tflite.proto.ComputeSettings,proto.tflite.proto.ComputeSettings.serializeBinaryToWriter),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.task.vision.ImageSegmenterOptions.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.task.vision.ImageSegmenterOptions,proto.tflite.task.vision.ImageSegmenterOptions.internalDoNotUse$proto$tflite$task$vision$ImageSegmenterOptions$getBinaryFieldsObject)};proto.tflite.task.vision.ImageSegmenterOptions.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.task.vision.ImageSegmenterOptions.internalDoNotUse$proto$tflite$task$vision$ImageSegmenterOptions$getBinaryFieldsObject)};proto.tflite.task.vision.ImageSegmenterOptions.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.task.vision.ImageSegmenterOptions,e)};proto.tflite.task.vision.ImageSegmenterOptions.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.task.vision.ImageSegmenterOptions.fromObject=function(e){var t=new proto.tflite.task.vision.ImageSegmenterOptions;return e.baseOptions&&t.internal_setWrapperField(8,proto.tflite.task.core.BaseOptions.fromObject(e.baseOptions)),e.modelFileWithMetadata&&t.internal_setWrapperField(5,proto.tflite.task.core.ExternalFile.fromObject(e.modelFileWithMetadata)),e.displayNamesLocale!=null&&t.internal_setField(6,e.displayNamesLocale),e.outputType!=null&&t.internal_setField(3,e.outputType),e.numThreads!=null&&t.internal_setField(7,e.numThreads),e.computeSettings&&t.internal_setWrapperField(4,proto.tflite.proto.ComputeSettings.fromObject(e.computeSettings)),t});proto.tflite.task.vision.ImageSegmenterOptions.prototype.toObject=function(e){return proto.tflite.task.vision.ImageSegmenterOptions.internal_toObject(e,this)};proto.tflite.task.vision.ImageSegmenterOptions.internal_toObject=function(e,t){if(t!=null){var n={baseOptions:proto.tflite.task.core.BaseOptions.internal_toObject(e,t.getBaseOptions()),modelFileWithMetadata:proto.tflite.task.core.ExternalFile.internal_toObject(e,t.getModelFileWithMetadata()),displayNamesLocale:t.internal_getStringFieldWithDefault(6,"en"),outputType:t.internal_getFieldWithDefault(3,1),numThreads:t.internal_getIntegerFieldWithDefault(7,-1),computeSettings:proto.tflite.proto.ComputeSettings.internal_toObject(e,t.getComputeSettings())};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.task.vision.ImageSegmenterOptions.OutputType={UNSPECIFIED:0,CATEGORY_MASK:1,CONFIDENCE_MASK:2};proto.tflite.task.vision.ObjectDetectorOptions=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e,-1,proto.tflite.task.vision.ObjectDetectorOptions.repeatedFields_)};$jscomp.inherits(proto.tflite.task.vision.ObjectDetectorOptions,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.task.vision.ObjectDetectorOptions.prototype.getBaseOptions=function(){return this.internal_getWrapperField(proto.tflite.task.core.BaseOptions,9)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.setBaseOptions=function(e){return this.internal_setWrapperField(9,e)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.clearBaseOptions=function(){return this.internal_clearWrapperField(9)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.hasBaseOptions=function(){return this.internal_hasField(9)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.getModelFileWithMetadata=function(){return this.internal_getWrapperField(proto.tflite.task.core.ExternalFile,1)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.setModelFileWithMetadata=function(e){return this.internal_setWrapperField(1,e)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.clearModelFileWithMetadata=function(){return this.internal_clearWrapperField(1)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.hasModelFileWithMetadata=function(){return this.internal_hasField(1)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.getDisplayNamesLocale=function(){return this.internal_getStringFieldWithDefault(2,"en")};proto.tflite.task.vision.ObjectDetectorOptions.prototype.setDisplayNamesLocale=function(e){return this.internal_setField(2,e)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.clearDisplayNamesLocale=function(){return this.internal_clearField(2)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.hasDisplayNamesLocale=function(){return this.internal_hasField(2)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.getMaxResults=function(){return this.internal_getIntegerFieldWithDefault(3,-1)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.setMaxResults=function(e){return this.internal_setField(3,e)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.clearMaxResults=function(){return this.internal_clearField(3)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.hasMaxResults=function(){return this.internal_hasField(3)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.getScoreThreshold=function(){return this.internal_getFloatingPointFieldWithDefault(4)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.setScoreThreshold=function(e){return this.internal_setField(4,e)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.clearScoreThreshold=function(){return this.internal_clearField(4)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.hasScoreThreshold=function(){return this.internal_hasField(4)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.getClassNameWhitelistList=function(){return this.internal_getRepeatedField(5)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.setClassNameWhitelistList=function(e){return this.internal_setRepeatedField(5,e)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.addClassNameWhitelist=function(e,t){return this.internal_addToRepeatedField(5,e,t)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.clearClassNameWhitelistList=function(){return this.internal_clearRepeatedField(5)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.getClassNameBlacklistList=function(){return this.internal_getRepeatedField(6)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.setClassNameBlacklistList=function(e){return this.internal_setRepeatedField(6,e)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.addClassNameBlacklist=function(e,t){return this.internal_addToRepeatedField(6,e,t)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.clearClassNameBlacklistList=function(){return this.internal_clearRepeatedField(6)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.getNumThreads=function(){return this.internal_getIntegerFieldWithDefault(7,-1)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.setNumThreads=function(e){return this.internal_setField(7,e)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.clearNumThreads=function(){return this.internal_clearField(7)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.hasNumThreads=function(){return this.internal_hasField(7)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.getComputeSettings=function(){return this.internal_getWrapperField(proto.tflite.proto.ComputeSettings,8)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.setComputeSettings=function(e){return this.internal_setWrapperField(8,e)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.clearComputeSettings=function(){return this.internal_clearWrapperField(8)};proto.tflite.task.vision.ObjectDetectorOptions.prototype.hasComputeSettings=function(){return this.internal_hasField(8)};proto.tflite.task.vision.ObjectDetectorOptions.internalDoNotUse$proto$tflite$task$vision$ObjectDetectorOptions$getBinaryFieldsObject=function(){return{9:[jspb.internal.binary.readMessage,proto.tflite.task.core.BaseOptions,proto.tflite.task.core.BaseOptions.internalDoNotUse$proto$tflite$task$core$BaseOptions$getBinaryFieldsObject],1:[jspb.internal.binary.readMessage,proto.tflite.task.core.ExternalFile,proto.tflite.task.core.ExternalFile.internalDoNotUse$proto$tflite$task$core$ExternalFile$getBinaryFieldsObject],2:jspb.internal.binary.readString,3:jspb.internal.binary.readInt32,4:jspb.internal.binary.readFloat,5:jspb.internal.binary.readRepeatedString,6:jspb.internal.binary.readRepeatedString,7:jspb.internal.binary.readInt32,8:[jspb.internal.binary.readMessage,proto.tflite.proto.ComputeSettings,proto.tflite.proto.ComputeSettings.internalDoNotUse$proto$tflite$proto$ComputeSettings$getBinaryFieldsObject]}};proto.tflite.task.vision.ObjectDetectorOptions.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.task.vision.ObjectDetectorOptions.serializeBinaryToWriter)};proto.tflite.task.vision.ObjectDetectorOptions.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeMessage(t,e,9,proto.tflite.task.core.BaseOptions,proto.tflite.task.core.BaseOptions.serializeBinaryToWriter),jspb.internal.binary.writeMessage(t,e,1,proto.tflite.task.core.ExternalFile,proto.tflite.task.core.ExternalFile.serializeBinaryToWriter),jspb.internal.binary.writeString(t,e,2),jspb.internal.binary.writeInt32(t,e,3),jspb.internal.binary.writeFloat(t,e,4),jspb.internal.binary.writeRepeatedString(t,e,5),jspb.internal.binary.writeRepeatedString(t,e,6),jspb.internal.binary.writeInt32(t,e,7),jspb.internal.binary.writeMessage(t,e,8,proto.tflite.proto.ComputeSettings,proto.tflite.proto.ComputeSettings.serializeBinaryToWriter),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.task.vision.ObjectDetectorOptions.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.task.vision.ObjectDetectorOptions,proto.tflite.task.vision.ObjectDetectorOptions.internalDoNotUse$proto$tflite$task$vision$ObjectDetectorOptions$getBinaryFieldsObject)};proto.tflite.task.vision.ObjectDetectorOptions.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.task.vision.ObjectDetectorOptions.internalDoNotUse$proto$tflite$task$vision$ObjectDetectorOptions$getBinaryFieldsObject)};proto.tflite.task.vision.ObjectDetectorOptions.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.task.vision.ObjectDetectorOptions,e)};proto.tflite.task.vision.ObjectDetectorOptions.repeatedFields_=[5,6];proto.tflite.task.vision.ObjectDetectorOptions.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.task.vision.ObjectDetectorOptions.fromObject=function(e){var t=new proto.tflite.task.vision.ObjectDetectorOptions;return e.baseOptions&&t.internal_setWrapperField(9,proto.tflite.task.core.BaseOptions.fromObject(e.baseOptions)),e.modelFileWithMetadata&&t.internal_setWrapperField(1,proto.tflite.task.core.ExternalFile.fromObject(e.modelFileWithMetadata)),e.displayNamesLocale!=null&&t.internal_setField(2,e.displayNamesLocale),e.maxResults!=null&&t.internal_setField(3,e.maxResults),e.scoreThreshold!=null&&t.internal_setField(4,e.scoreThreshold),e.classNameWhitelistList!=null&&t.internal_setRepeatedField(5,e.classNameWhitelistList),e.classNameBlacklistList!=null&&t.internal_setRepeatedField(6,e.classNameBlacklistList),e.numThreads!=null&&t.internal_setField(7,e.numThreads),e.computeSettings&&t.internal_setWrapperField(8,proto.tflite.proto.ComputeSettings.fromObject(e.computeSettings)),t});proto.tflite.task.vision.ObjectDetectorOptions.prototype.toObject=function(e){return proto.tflite.task.vision.ObjectDetectorOptions.internal_toObject(e,this)};proto.tflite.task.vision.ObjectDetectorOptions.internal_toObject=function(e,t){if(t!=null){var n={baseOptions:proto.tflite.task.core.BaseOptions.internal_toObject(e,t.getBaseOptions()),modelFileWithMetadata:proto.tflite.task.core.ExternalFile.internal_toObject(e,t.getModelFileWithMetadata()),displayNamesLocale:t.internal_getStringFieldWithDefault(2,"en"),maxResults:t.internal_getIntegerFieldWithDefault(3,-1),scoreThreshold:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getFloatingPointField(4)),classNameWhitelistList:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getRepeatedField(5)),classNameBlacklistList:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getRepeatedField(6)),numThreads:t.internal_getIntegerFieldWithDefault(7,-1),computeSettings:proto.tflite.proto.ComputeSettings.internal_toObject(e,t.getComputeSettings())};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.task.vision.Segmentation=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e,-1,proto.tflite.task.vision.Segmentation.repeatedFields_)};$jscomp.inherits(proto.tflite.task.vision.Segmentation,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.task.vision.Segmentation.prototype.getMaskOneofCase=function(){return this.internal_computeOneofCase(proto.tflite.task.vision.Segmentation.oneofGroup_MaskOneof_)};proto.tflite.task.vision.Segmentation.prototype.getCategoryMask=function(){return this.internal_getOneofStringFieldWithDefault(1,proto.tflite.task.vision.Segmentation.oneofGroup_MaskOneof_)};proto.tflite.task.vision.Segmentation.prototype.getCategoryMask_asB64=function(){return module$contents$jspb$internal_bytesAsB64(this.getCategoryMask())};proto.tflite.task.vision.Segmentation.prototype.getCategoryMask_asU8=function(){return module$contents$jspb$internal_bytesAsU8(this.getCategoryMask())};proto.tflite.task.vision.Segmentation.prototype.setCategoryMask=function(e){return this.internal_setOneofField(1,proto.tflite.task.vision.Segmentation.oneofGroup_MaskOneof_,e)};proto.tflite.task.vision.Segmentation.prototype.clearCategoryMask=function(){return this.internal_clearField(1)};proto.tflite.task.vision.Segmentation.prototype.hasCategoryMask=function(){return this.internal_hasOneofField(1,proto.tflite.task.vision.Segmentation.oneofGroup_MaskOneof_)};proto.tflite.task.vision.Segmentation.prototype.getConfidenceMasks=function(){return this.internal_getOneofWrapperField(proto.tflite.task.vision.Segmentation.ConfidenceMasks,4,proto.tflite.task.vision.Segmentation.oneofGroup_MaskOneof_)};proto.tflite.task.vision.Segmentation.prototype.setConfidenceMasks=function(e){return this.internal_setOneofWrapperField(4,proto.tflite.task.vision.Segmentation.oneofGroup_MaskOneof_,e)};proto.tflite.task.vision.Segmentation.prototype.clearConfidenceMasks=function(){return this.internal_clearWrapperField(4)};proto.tflite.task.vision.Segmentation.prototype.hasConfidenceMasks=function(){return this.internal_hasOneofField(4,proto.tflite.task.vision.Segmentation.oneofGroup_MaskOneof_)};proto.tflite.task.vision.Segmentation.prototype.getWidth=function(){return this.internal_getIntegerFieldWithDefault(2)};proto.tflite.task.vision.Segmentation.prototype.setWidth=function(e){return this.internal_setField(2,e)};proto.tflite.task.vision.Segmentation.prototype.clearWidth=function(){return this.internal_clearField(2)};proto.tflite.task.vision.Segmentation.prototype.hasWidth=function(){return this.internal_hasField(2)};proto.tflite.task.vision.Segmentation.prototype.getHeight=function(){return this.internal_getIntegerFieldWithDefault(3)};proto.tflite.task.vision.Segmentation.prototype.setHeight=function(e){return this.internal_setField(3,e)};proto.tflite.task.vision.Segmentation.prototype.clearHeight=function(){return this.internal_clearField(3)};proto.tflite.task.vision.Segmentation.prototype.hasHeight=function(){return this.internal_hasField(3)};proto.tflite.task.vision.Segmentation.prototype.getColoredLabelsList=function(){return this.internal_getRepeatedWrapperField(proto.tflite.task.vision.Segmentation.ColoredLabel,5)};proto.tflite.task.vision.Segmentation.prototype.setColoredLabelsList=function(e){return this.internal_setRepeatedWrapperField(5,e)};proto.tflite.task.vision.Segmentation.prototype.addColoredLabels=function(e,t){return this.internal_addToRepeatedWrapperField(5,e,proto.tflite.task.vision.Segmentation.ColoredLabel,t)};proto.tflite.task.vision.Segmentation.prototype.addAndReturnColoredLabels=function(e,t){return this.internal_addAndReturnRepeatedWrapperField(5,e,proto.tflite.task.vision.Segmentation.ColoredLabel,t)};proto.tflite.task.vision.Segmentation.prototype.clearColoredLabelsList=function(){return this.internal_clearRepeatedWrapperField(5)};proto.tflite.task.vision.Segmentation.internalDoNotUse$proto$tflite$task$vision$Segmentation$getBinaryFieldsObject=function(){return{1:[jspb.internal.binary.readBytesOneof,proto.tflite.task.vision.Segmentation.oneofGroup_MaskOneof_],4:[jspb.internal.binary.readMessageOneof,proto.tflite.task.vision.Segmentation.ConfidenceMasks,proto.tflite.task.vision.Segmentation.ConfidenceMasks.internalDoNotUse$proto$tflite$task$vision$Segmentation$ConfidenceMasks$getBinaryFieldsObject,proto.tflite.task.vision.Segmentation.oneofGroup_MaskOneof_],2:jspb.internal.binary.readInt32,3:jspb.internal.binary.readInt32,5:[jspb.internal.binary.readRepeatedMessage,proto.tflite.task.vision.Segmentation.ColoredLabel,proto.tflite.task.vision.Segmentation.ColoredLabel.internalDoNotUse$proto$tflite$task$vision$Segmentation$ColoredLabel$getBinaryFieldsObject]}};proto.tflite.task.vision.Segmentation.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.task.vision.Segmentation.serializeBinaryToWriter)};proto.tflite.task.vision.Segmentation.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeBytes(t,e,1),jspb.internal.binary.writeMessage(t,e,4,proto.tflite.task.vision.Segmentation.ConfidenceMasks,proto.tflite.task.vision.Segmentation.ConfidenceMasks.serializeBinaryToWriter),jspb.internal.binary.writeInt32(t,e,2),jspb.internal.binary.writeInt32(t,e,3),jspb.internal.binary.writeRepeatedMessage(t,e,5,proto.tflite.task.vision.Segmentation.ColoredLabel,proto.tflite.task.vision.Segmentation.ColoredLabel.serializeBinaryToWriter),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.task.vision.Segmentation.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.task.vision.Segmentation,proto.tflite.task.vision.Segmentation.internalDoNotUse$proto$tflite$task$vision$Segmentation$getBinaryFieldsObject)};proto.tflite.task.vision.Segmentation.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.task.vision.Segmentation.internalDoNotUse$proto$tflite$task$vision$Segmentation$getBinaryFieldsObject)};proto.tflite.task.vision.Segmentation.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.task.vision.Segmentation,e)};proto.tflite.task.vision.Segmentation.ConfidenceMask=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e,-1,proto.tflite.task.vision.Segmentation.ConfidenceMask.repeatedFields_)};$jscomp.inherits(proto.tflite.task.vision.Segmentation.ConfidenceMask,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.task.vision.Segmentation.ConfidenceMask.prototype.getValueList=function(){return this.internal_getRepeatedFloatingPointField(1)};proto.tflite.task.vision.Segmentation.ConfidenceMask.prototype.setValueList=function(e){return this.internal_setRepeatedField(1,e)};proto.tflite.task.vision.Segmentation.ConfidenceMask.prototype.addValue=function(e,t){return this.internal_addToRepeatedField(1,e,t)};proto.tflite.task.vision.Segmentation.ConfidenceMask.prototype.clearValueList=function(){return this.internal_clearRepeatedField(1)};proto.tflite.task.vision.Segmentation.ConfidenceMask.internalDoNotUse$proto$tflite$task$vision$Segmentation$ConfidenceMask$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readPackableFloatInto}};proto.tflite.task.vision.Segmentation.ConfidenceMask.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.task.vision.Segmentation.ConfidenceMask.serializeBinaryToWriter)};proto.tflite.task.vision.Segmentation.ConfidenceMask.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writePackedFloat(t,e,1),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.task.vision.Segmentation.ConfidenceMask.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.task.vision.Segmentation.ConfidenceMask,proto.tflite.task.vision.Segmentation.ConfidenceMask.internalDoNotUse$proto$tflite$task$vision$Segmentation$ConfidenceMask$getBinaryFieldsObject)};proto.tflite.task.vision.Segmentation.ConfidenceMask.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.task.vision.Segmentation.ConfidenceMask.internalDoNotUse$proto$tflite$task$vision$Segmentation$ConfidenceMask$getBinaryFieldsObject)};proto.tflite.task.vision.Segmentation.ConfidenceMask.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.task.vision.Segmentation.ConfidenceMask,e)};proto.tflite.task.vision.Segmentation.ConfidenceMasks=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e,-1,proto.tflite.task.vision.Segmentation.ConfidenceMasks.repeatedFields_)};$jscomp.inherits(proto.tflite.task.vision.Segmentation.ConfidenceMasks,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.task.vision.Segmentation.ConfidenceMasks.prototype.getConfidenceMaskList=function(){return this.internal_getRepeatedWrapperField(proto.tflite.task.vision.Segmentation.ConfidenceMask,1)};proto.tflite.task.vision.Segmentation.ConfidenceMasks.prototype.setConfidenceMaskList=function(e){return this.internal_setRepeatedWrapperField(1,e)};proto.tflite.task.vision.Segmentation.ConfidenceMasks.prototype.addConfidenceMask=function(e,t){return this.internal_addToRepeatedWrapperField(1,e,proto.tflite.task.vision.Segmentation.ConfidenceMask,t)};proto.tflite.task.vision.Segmentation.ConfidenceMasks.prototype.addAndReturnConfidenceMask=function(e,t){return this.internal_addAndReturnRepeatedWrapperField(1,e,proto.tflite.task.vision.Segmentation.ConfidenceMask,t)};proto.tflite.task.vision.Segmentation.ConfidenceMasks.prototype.clearConfidenceMaskList=function(){return this.internal_clearRepeatedWrapperField(1)};proto.tflite.task.vision.Segmentation.ConfidenceMasks.internalDoNotUse$proto$tflite$task$vision$Segmentation$ConfidenceMasks$getBinaryFieldsObject=function(){return{1:[jspb.internal.binary.readRepeatedMessage,proto.tflite.task.vision.Segmentation.ConfidenceMask,proto.tflite.task.vision.Segmentation.ConfidenceMask.internalDoNotUse$proto$tflite$task$vision$Segmentation$ConfidenceMask$getBinaryFieldsObject]}};proto.tflite.task.vision.Segmentation.ConfidenceMasks.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.task.vision.Segmentation.ConfidenceMasks.serializeBinaryToWriter)};proto.tflite.task.vision.Segmentation.ConfidenceMasks.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeRepeatedMessage(t,e,1,proto.tflite.task.vision.Segmentation.ConfidenceMask,proto.tflite.task.vision.Segmentation.ConfidenceMask.serializeBinaryToWriter),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.task.vision.Segmentation.ConfidenceMasks.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.task.vision.Segmentation.ConfidenceMasks,proto.tflite.task.vision.Segmentation.ConfidenceMasks.internalDoNotUse$proto$tflite$task$vision$Segmentation$ConfidenceMasks$getBinaryFieldsObject)};proto.tflite.task.vision.Segmentation.ConfidenceMasks.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.task.vision.Segmentation.ConfidenceMasks.internalDoNotUse$proto$tflite$task$vision$Segmentation$ConfidenceMasks$getBinaryFieldsObject)};proto.tflite.task.vision.Segmentation.ConfidenceMasks.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.task.vision.Segmentation.ConfidenceMasks,e)};proto.tflite.task.vision.Segmentation.ColoredLabel=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e)};$jscomp.inherits(proto.tflite.task.vision.Segmentation.ColoredLabel,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.task.vision.Segmentation.ColoredLabel.prototype.getR=function(){return this.internal_getIntegerFieldWithDefault(1)};proto.tflite.task.vision.Segmentation.ColoredLabel.prototype.setR=function(e){return this.internal_setField(1,e)};proto.tflite.task.vision.Segmentation.ColoredLabel.prototype.clearR=function(){return this.internal_clearField(1)};proto.tflite.task.vision.Segmentation.ColoredLabel.prototype.hasR=function(){return this.internal_hasField(1)};proto.tflite.task.vision.Segmentation.ColoredLabel.prototype.getG=function(){return this.internal_getIntegerFieldWithDefault(2)};proto.tflite.task.vision.Segmentation.ColoredLabel.prototype.setG=function(e){return this.internal_setField(2,e)};proto.tflite.task.vision.Segmentation.ColoredLabel.prototype.clearG=function(){return this.internal_clearField(2)};proto.tflite.task.vision.Segmentation.ColoredLabel.prototype.hasG=function(){return this.internal_hasField(2)};proto.tflite.task.vision.Segmentation.ColoredLabel.prototype.getB=function(){return this.internal_getIntegerFieldWithDefault(3)};proto.tflite.task.vision.Segmentation.ColoredLabel.prototype.setB=function(e){return this.internal_setField(3,e)};proto.tflite.task.vision.Segmentation.ColoredLabel.prototype.clearB=function(){return this.internal_clearField(3)};proto.tflite.task.vision.Segmentation.ColoredLabel.prototype.hasB=function(){return this.internal_hasField(3)};proto.tflite.task.vision.Segmentation.ColoredLabel.prototype.getClassName=function(){return this.internal_getStringFieldWithDefault(4)};proto.tflite.task.vision.Segmentation.ColoredLabel.prototype.setClassName=function(e){return this.internal_setField(4,e)};proto.tflite.task.vision.Segmentation.ColoredLabel.prototype.clearClassName=function(){return this.internal_clearField(4)};proto.tflite.task.vision.Segmentation.ColoredLabel.prototype.hasClassName=function(){return this.internal_hasField(4)};proto.tflite.task.vision.Segmentation.ColoredLabel.prototype.getDisplayName=function(){return this.internal_getStringFieldWithDefault(5)};proto.tflite.task.vision.Segmentation.ColoredLabel.prototype.setDisplayName=function(e){return this.internal_setField(5,e)};proto.tflite.task.vision.Segmentation.ColoredLabel.prototype.clearDisplayName=function(){return this.internal_clearField(5)};proto.tflite.task.vision.Segmentation.ColoredLabel.prototype.hasDisplayName=function(){return this.internal_hasField(5)};proto.tflite.task.vision.Segmentation.ColoredLabel.internalDoNotUse$proto$tflite$task$vision$Segmentation$ColoredLabel$getBinaryFieldsObject=function(){return{1:jspb.internal.binary.readUint32,2:jspb.internal.binary.readUint32,3:jspb.internal.binary.readUint32,4:jspb.internal.binary.readString,5:jspb.internal.binary.readString}};proto.tflite.task.vision.Segmentation.ColoredLabel.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.task.vision.Segmentation.ColoredLabel.serializeBinaryToWriter)};proto.tflite.task.vision.Segmentation.ColoredLabel.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeUint32(t,e,1),jspb.internal.binary.writeUint32(t,e,2),jspb.internal.binary.writeUint32(t,e,3),jspb.internal.binary.writeString(t,e,4),jspb.internal.binary.writeString(t,e,5),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.task.vision.Segmentation.ColoredLabel.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.task.vision.Segmentation.ColoredLabel,proto.tflite.task.vision.Segmentation.ColoredLabel.internalDoNotUse$proto$tflite$task$vision$Segmentation$ColoredLabel$getBinaryFieldsObject)};proto.tflite.task.vision.Segmentation.ColoredLabel.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.task.vision.Segmentation.ColoredLabel.internalDoNotUse$proto$tflite$task$vision$Segmentation$ColoredLabel$getBinaryFieldsObject)};proto.tflite.task.vision.Segmentation.ColoredLabel.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.task.vision.Segmentation.ColoredLabel,e)};proto.tflite.task.vision.Segmentation.repeatedFields_=[5];proto.tflite.task.vision.Segmentation.oneofGroup_MaskOneof_=[1,4];proto.tflite.task.vision.Segmentation.MaskOneofCase={MASK_ONEOF_NOT_SET:0,CATEGORY_MASK:1,CONFIDENCE_MASKS:4};proto.tflite.task.vision.Segmentation.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.task.vision.Segmentation.fromObject=function(e){var t=new proto.tflite.task.vision.Segmentation;return e.categoryMask!=null&&t.internal_setOneofField(1,proto.tflite.task.vision.Segmentation.oneofGroup_MaskOneof_,e.categoryMask),e.confidenceMasks&&t.internal_setOneofWrapperField(4,proto.tflite.task.vision.Segmentation.oneofGroup_MaskOneof_,proto.tflite.task.vision.Segmentation.ConfidenceMasks.fromObject(e.confidenceMasks)),e.width!=null&&t.internal_setField(2,e.width),e.height!=null&&t.internal_setField(3,e.height),e.coloredLabelsList&&t.internal_setRepeatedWrapperField(5,e.coloredLabelsList.map(proto.tflite.task.vision.Segmentation.ColoredLabel.fromObject)),t});proto.tflite.task.vision.Segmentation.prototype.toObject=function(e){return proto.tflite.task.vision.Segmentation.internal_toObject(e,this)};proto.tflite.task.vision.Segmentation.internal_toObject=function(e,t){if(t!=null){var n={categoryMask:t.getCategoryMask_asB64(),confidenceMasks:proto.tflite.task.vision.Segmentation.ConfidenceMasks.internal_toObject(e,t.getConfidenceMasks()),width:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(2)),height:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(3)),coloredLabelsList:module$contents$jspb$internal$public_for_gencode_toObjectList(t.getColoredLabelsList(),proto.tflite.task.vision.Segmentation.ColoredLabel.internal_toObject,e)};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.task.vision.Segmentation.ConfidenceMask.repeatedFields_=[1];proto.tflite.task.vision.Segmentation.ConfidenceMask.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.task.vision.Segmentation.ConfidenceMask.fromObject=function(e){var t=new proto.tflite.task.vision.Segmentation.ConfidenceMask;return e.valueList!=null&&t.internal_setRepeatedField(1,e.valueList),t});proto.tflite.task.vision.Segmentation.ConfidenceMask.prototype.toObject=function(e){return proto.tflite.task.vision.Segmentation.ConfidenceMask.internal_toObject(e,this)};proto.tflite.task.vision.Segmentation.ConfidenceMask.internal_toObject=function(e,t){if(t!=null){var n={valueList:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getRepeatedFloatingPointField(1))};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.task.vision.Segmentation.ConfidenceMasks.repeatedFields_=[1];proto.tflite.task.vision.Segmentation.ConfidenceMasks.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.task.vision.Segmentation.ConfidenceMasks.fromObject=function(e){var t=new proto.tflite.task.vision.Segmentation.ConfidenceMasks;return e.confidenceMaskList&&t.internal_setRepeatedWrapperField(1,e.confidenceMaskList.map(proto.tflite.task.vision.Segmentation.ConfidenceMask.fromObject)),t});proto.tflite.task.vision.Segmentation.ConfidenceMasks.prototype.toObject=function(e){return proto.tflite.task.vision.Segmentation.ConfidenceMasks.internal_toObject(e,this)};proto.tflite.task.vision.Segmentation.ConfidenceMasks.internal_toObject=function(e,t){if(t!=null){var n={confidenceMaskList:module$contents$jspb$internal$public_for_gencode_toObjectList(t.getConfidenceMaskList(),proto.tflite.task.vision.Segmentation.ConfidenceMask.internal_toObject,e)};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.task.vision.Segmentation.ColoredLabel.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.task.vision.Segmentation.ColoredLabel.fromObject=function(e){var t=new proto.tflite.task.vision.Segmentation.ColoredLabel;return e.r!=null&&t.internal_setField(1,e.r),e.g!=null&&t.internal_setField(2,e.g),e.b!=null&&t.internal_setField(3,e.b),e.className!=null&&t.internal_setField(4,e.className),e.displayName!=null&&t.internal_setField(5,e.displayName),t});proto.tflite.task.vision.Segmentation.ColoredLabel.prototype.toObject=function(e){return proto.tflite.task.vision.Segmentation.ColoredLabel.internal_toObject(e,this)};proto.tflite.task.vision.Segmentation.ColoredLabel.internal_toObject=function(e,t){if(t!=null){var n={r:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(1)),g:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(2)),b:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(3)),className:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(4)),displayName:module$contents$jspb$internal$public_for_gencode_toObjectPrimitive(t.internal_getField(5))};return e&&(n.$jspbMessageInstance=t),n}};proto.tflite.task.vision.SegmentationResult=function(e){module$contents$jspb$internal$public_for_gencode_GeneratedMessage.call(this,e,-1,proto.tflite.task.vision.SegmentationResult.repeatedFields_)};$jscomp.inherits(proto.tflite.task.vision.SegmentationResult,module$contents$jspb$internal$public_for_gencode_GeneratedMessage);proto.tflite.task.vision.SegmentationResult.prototype.getSegmentationList=function(){return this.internal_getRepeatedWrapperField(proto.tflite.task.vision.Segmentation,1)};proto.tflite.task.vision.SegmentationResult.prototype.setSegmentationList=function(e){return this.internal_setRepeatedWrapperField(1,e)};proto.tflite.task.vision.SegmentationResult.prototype.addSegmentation=function(e,t){return this.internal_addToRepeatedWrapperField(1,e,proto.tflite.task.vision.Segmentation,t)};proto.tflite.task.vision.SegmentationResult.prototype.addAndReturnSegmentation=function(e,t){return this.internal_addAndReturnRepeatedWrapperField(1,e,proto.tflite.task.vision.Segmentation,t)};proto.tflite.task.vision.SegmentationResult.prototype.clearSegmentationList=function(){return this.internal_clearRepeatedWrapperField(1)};proto.tflite.task.vision.SegmentationResult.internalDoNotUse$proto$tflite$task$vision$SegmentationResult$getBinaryFieldsObject=function(){return{1:[jspb.internal.binary.readRepeatedMessage,proto.tflite.task.vision.Segmentation,proto.tflite.task.vision.Segmentation.internalDoNotUse$proto$tflite$task$vision$Segmentation$getBinaryFieldsObject]}};proto.tflite.task.vision.SegmentationResult.prototype.serializeBinary=function(){return jspb.internal.binary.serializeBinary(this,proto.tflite.task.vision.SegmentationResult.serializeBinaryToWriter)};proto.tflite.task.vision.SegmentationResult.serializeBinaryToWriter=function(e,t){jspb.internal.binary.writeRepeatedMessage(t,e,1,proto.tflite.task.vision.Segmentation,proto.tflite.task.vision.Segmentation.serializeBinaryToWriter),jspb.internal.binary.serializeBinaryExtensionsAndUnknownFields(e,t)};proto.tflite.task.vision.SegmentationResult.deserializeBinary=function(e){return jspb.internal.binary.deserializeBinary(e,proto.tflite.task.vision.SegmentationResult,proto.tflite.task.vision.SegmentationResult.internalDoNotUse$proto$tflite$task$vision$SegmentationResult$getBinaryFieldsObject)};proto.tflite.task.vision.SegmentationResult.deserializeBinaryFromReader=function(e,t){return module$contents$jspb$internal$binary_deserializeBinaryFromReaderGeneric(e,t,proto.tflite.task.vision.SegmentationResult.internalDoNotUse$proto$tflite$task$vision$SegmentationResult$getBinaryFieldsObject)};proto.tflite.task.vision.SegmentationResult.deserialize=function(e){return module$exports$jspb.Message.deserializeWithCtor(proto.tflite.task.vision.SegmentationResult,e)};proto.tflite.task.vision.SegmentationResult.repeatedFields_=[1];proto.tflite.task.vision.SegmentationResult.ObjectFormat=function(){};module$contents$jspb$internal$public_for_gencode_GENERATE_FROM_OBJECT&&(proto.tflite.task.vision.SegmentationResult.fromObject=function(e){var t=new proto.tflite.task.vision.SegmentationResult;return e.segmentationList&&t.internal_setRepeatedWrapperField(1,e.segmentationList.map(proto.tflite.task.vision.Segmentation.fromObject)),t});proto.tflite.task.vision.SegmentationResult.prototype.toObject=function(e){return proto.tflite.task.vision.SegmentationResult.internal_toObject(e,this)};proto.tflite.task.vision.SegmentationResult.internal_toObject=function(e,t){if(t!=null){var n={segmentationList:module$contents$jspb$internal$public_for_gencode_toObjectList(t.getSegmentationList(),proto.tflite.task.vision.Segmentation.internal_toObject,e)};return e&&(n.$jspbMessageInstance=t),n}};var module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils={},module$contents$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils_WASM_SIMD_CHECK=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]),module$contents$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils_WASM_MULTI_THREADED_CHECK=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]),module$contents$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils_wasmFeatures=void 0;module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.convertCppVectorToArray=function(e){if(e==null)return[];for(var t=[],n=0;n<e.size();n++){var r=e.get(n);t.push(r)}return t};module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.callAndDelete=function(e,t){try{return t(e)}finally{e?.delete()}};module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.callWithStatusOrAndDelete=function(e,t,n){try{if(!e.ok())throw Error(t+e.errorMessage());return n(e.value())}finally{e.delete()}};var module$contents$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils_fromPixels2DContext=null;module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.fromPixels=function(e){if(e==null)throw Error("pixels passed to fromPixels() can not be null");var t=!1,n=!1,r=!1,o=!1;if(typeof ImageData<"u"&&e instanceof ImageData)t=!0;else if(typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement)n=!0;else if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement)r=!0;else if(e.getContext!=null)o=!0;else throw Error("pixels passed to fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);if(n&&n&&2>e.readyState)throw Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");var i=$jscomp.makeIterator(n?[e.videoWidth,e.videoHeight]:[e.width,e.height]),s=i.next().value;if(i=i.next().value,o)var l=e.getContext("2d").getImageData(0,0,s,i).data;else t?l=e.data:(r||n)&&(module$contents$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils_fromPixels2DContext==null&&(module$contents$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils_fromPixels2DContext=document.createElement("canvas").getContext("2d")),module$contents$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils_fromPixels2DContext.canvas.width=s,module$contents$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils_fromPixels2DContext.canvas.height=i,module$contents$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils_fromPixels2DContext.drawImage(e,0,0,s,i),l=module$contents$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils_fromPixels2DContext.getImageData(0,0,s,i).data);return{vals:l,width:s,height:i}};module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.getWasmFeatures=function(){var e,t,n,r,o,i,s;return $jscomp.asyncExecutePromiseGeneratorProgram(function(l){return l.nextAddress==1?module$contents$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils_wasmFeatures?l.jumpTo(2):(e=$jscomp,t=e.makeIterator,l.yield(Promise.all([module$contents$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils_isSupportedSimd(),module$contents$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils_isSupportedMultiThreaded()]),3)):(l.nextAddress!=2&&(n=t.call(e,l.yieldResult),r=n.next().value,o=n.next().value,i=r,s=o,module$contents$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils_wasmFeatures={simd:i,multiThreading:s}),l.return(module$contents$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils_wasmFeatures))})};function module$contents$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils_isSupportedSimd(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){switch(e.nextAddress){case 1:return e.setCatchFinallyBlocks(2),e.yield(WebAssembly.instantiate(module$contents$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils_WASM_SIMD_CHECK),4);case 4:e.leaveTryBlock(3);break;case 2:return e.enterCatchBlock(),e.return(!1);case 3:return e.return(!0)}})}function module$contents$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils_isSupportedMultiThreaded(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){switch(e.nextAddress){case 1:return e.setCatchFinallyBlocks(2),new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),e.yield(WebAssembly.instantiate(module$contents$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils_WASM_MULTI_THREADED_CHECK),4);case 4:e.leaveTryBlock(3);break;case 2:return e.enterCatchBlock(),e.return(!1);case 3:return e.return(!0)}})}var module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$emscripten_module_loader={EmscriptenModuleLoader:function(e,t,n){this.wasmModulesPath=e,this.tfliteWebApiName=t,this.wasmWebWorkerObjectURL=n,this.scriptSrc="",this.scriptSrc=!this.isWebWorker()&&document.currentScript&&document.currentScript.getAttribute("src")||""}};module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$emscripten_module_loader.EmscriptenModuleLoader.getInstance=function(e,t,n){var r=e+t;return n=URL.createObjectURL(new Blob([n],{type:"application/javascript"})),module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$emscripten_module_loader.EmscriptenModuleLoader.instances.has(r)||(e=new module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$emscripten_module_loader.EmscriptenModuleLoader(e,t,n),module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$emscripten_module_loader.EmscriptenModuleLoader.instances.set(r,e)),module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$emscripten_module_loader.EmscriptenModuleLoader.instances.get(r)};module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$emscripten_module_loader.EmscriptenModuleLoader.prototype.load=function(e){return this.loadPromise||(this.loadPromise=this.loadModule(e===void 0?!1:e)),this.loadPromise};module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$emscripten_module_loader.EmscriptenModuleLoader.prototype.loadModule=function(e){e=e===void 0?!1:e;var t=this,n,r,o,i,s,l,c,u,d,p,f,m,h,g,_;return $jscomp.asyncExecutePromiseGeneratorProgram(function($){return $.nextAddress==1?$.yield(t.genFullLoaderUrl(),2):$.nextAddress!=3?(r=n=$.yieldResult,r.startsWith("http")||(r.startsWith("/")?r=t.scriptSrc.startsWith("http")?""+(0,goog.uri.utils.getHost)(t.scriptSrc)+r:""+t.getLocation().origin+r:e?t.scriptSrc.startsWith("http")?(o=t.scriptSrc.lastIndexOf("/"),i=t.scriptSrc.substring(0,o),r=i+"/"+r):t.scriptSrc.startsWith("/")?(s=t.scriptSrc.lastIndexOf("/"),l=t.scriptSrc.substring(0,s),r=""+t.getLocation().origin+l+"/"+r):(c=t.getLocation().href.lastIndexOf("/"),u=t.getLocation().href.substring(0,c),d=t.scriptSrc.lastIndexOf("/"),0>d?r=u+"/"+r:(p=t.scriptSrc.substring(0,d),r=u+"/"+p+"/"+r)):(f=t.getLocation().href,m=f.lastIndexOf("/"),h=f.substring(0,m),r=h+"/"+r)),g=!0,$.yield(t.loadScript(r).catch(function(){g=!1}),3)):g?(_=t.isWebWorker()?self:window,$.return(_[t.tfliteWebApiName+"_ModuleFactory"]({mainScriptUrlOrBlob:r,locateFile:function(x,w){if(x.endsWith(".worker.js"))return t.wasmWebWorkerObjectURL;if(t.isWebWorker()&&x.endsWith(".wasm")){w="";var S=r.lastIndexOf("/");return 0<=S&&(w=r.substring(0,S+1)),w+x}return w+x}}))):$.return(void 0)})};module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$emscripten_module_loader.EmscriptenModuleLoader.prototype.genFullLoaderUrl=function(){var e=this,t,n,r,o;return $jscomp.asyncExecutePromiseGeneratorProgram(function(i){return i.nextAddress==1?(t=[e.wasmModulesPath,e.tfliteWebApiName,"_cc"],i.yield((0,module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.getWasmFeatures)(),2)):(n=i.yieldResult,r=n.simd,o=n.multiThreading,r&&o?t.push("_simd_threaded.js"):!r&&o?t.push("_threaded.js"):r&&!o?t.push("_simd.js"):t.push(".js"),i.return(t.join("")))})};module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$emscripten_module_loader.EmscriptenModuleLoader.prototype.loadScript=function(e){var t=this,n,r;return $jscomp.asyncExecutePromiseGeneratorProgram(function(o){return t.isWebWorker()?(importScripts(e),o.jumpTo(0)):(n=document.createElement("script"),n.setAttribute("id",t.tfliteWebApiName+"_loader_script"),r=new Promise(function(i,s){n.onerror=function(){s(),document.head.removeChild(n)},n.onload=i}),document.head.appendChild(n),n.setAttribute("src",e),o.yield(r,0))})};module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$emscripten_module_loader.EmscriptenModuleLoader.prototype.getLocation=function(){if(this.isWebWorker()){var e=self.location,t=e.origin;return e=e.href.replace("blob:",""),{origin:t,href:e}}return window.location};module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$emscripten_module_loader.EmscriptenModuleLoader.prototype.isWebWorker=function(){return typeof window>"u"};module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$emscripten_module_loader.EmscriptenModuleLoader.instances=new Map;var module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client={};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.getWasmFeatures=module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.getWasmFeatures;var module$contents$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client_wasmModulesPath="";function module$contents$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client_setWasmPath(e){module$contents$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client_wasmModulesPath=e}module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.setWasmPath=module$contents$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client_setWasmPath;module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.BertNLClassifier=function(e,t,n){this.module=e,this.memOffsetsToFree=t,this.cppClassifier=n};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.BertNLClassifier.create=function(e,t){t=t===void 0?new proto.tflite.task.text.BertNLClassifierOptions:t;var n,r,o,i,s,l,c,u,d,p,f;return $jscomp.asyncExecutePromiseGeneratorProgram(function(m){if(m.nextAddress==1)return n=module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$emscripten_module_loader.EmscriptenModuleLoader.getInstance(module$contents$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client_wasmModulesPath,"tflite_web_api",`"use strict";var Module={};var initializedJS=false;function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:Module["_pthread_self"]()})}var err=threadPrintErr;self.alert=threadAlert;Module["instantiateWasm"]=function(info,receiveInstance){var instance=new WebAssembly.Instance(Module["wasmModule"],info);receiveInstance(instance);Module["wasmModule"]=null;return instance.exports};self.onmessage=function(e){try{if(e.data.cmd==="load"){Module["wasmModule"]=e.data.wasmModule;Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob==="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}tflite_web_api_ModuleFactory(Module).then(function(instance){Module=instance})}else if(e.data.cmd==="run"){Module["__performance_now_clock_drift"]=performance.now()-e.data.time;Module["__emscripten_thread_init"](e.data.threadInfoStruct,0,0);var max=e.data.stackBase;var top=e.data.stackBase+e.data.stackSize;Module["establishStackSpace"](top,max);Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].threadInit();if(!initializedJS){Module["___embind_register_native_and_builtin_types"]();initializedJS=true}try{var result=Module["invokeEntryPoint"](e.data.start_routine,e.data.arg);if(Module["keepRuntimeAlive"]()){Module["PThread"].setExitStatus(result)}else{Module["__emscripten_thread_exit"](result)}}catch(ex){if(ex!="unwind"){if(ex instanceof Module["ExitStatus"]){if(Module["keepRuntimeAlive"]()){}else{Module["__emscripten_thread_exit"](ex.status)}}else{throw ex}}}}else if(e.data.cmd==="cancel"){if(Module["_pthread_self"]()){Module["__emscripten_thread_exit"](-1)}postMessage({"cmd":"cancelDone"})}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processThreadQueue"){if(Module["_pthread_self"]()){Module["_emscripten_current_thread_process_queued_calls"]()}}else{err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){err("worker.js onmessage() captured an uncaught exception: "+ex);if(ex&&ex.stack)err(ex.stack);throw ex}};
`),r=$jscomp,o=r.makeIterator,m.yield(Promise.all([n.load(),typeof e=="string"?fetch(e).then(function(h){return h.arrayBuffer()}):Promise.resolve(e)]),2);if(i=o.call(r,m.yieldResult),s=i.next().value,l=i.next().value,c=s,u=l,d=new Uint8Array(u),p=c._malloc(d.length),c.HEAPU8.set(d,p),f=(0,module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.callAndDelete)(new c.BertNLClassifierOptionsCppProto,function(h){if(h!=null)return h.initFromJsProto(t),c.BertNLClassifier.CreateFromOptions(p,d.length,h)}),f==null||!f.ok())throw Error("Failed to create BertNLClassifier: "+f?.errorMessage());return m.return(new module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.BertNLClassifier(c,[p],f.value()))})};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.BertNLClassifier.prototype.classify=function(e){if(this.cppClassifier!=null)return e=this.cppClassifier.Classify(e),(0,module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.callAndDelete)(e,function(t){return(0,module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.convertCppVectorToArray)(t)})};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.BertNLClassifier.prototype.cleanUp=function(){if(this.cppClassifier!=null){for(var e=$jscomp.makeIterator(this.memOffsetsToFree),t=e.next();!t.done;t=e.next())this.module._free(t.value);this.cppClassifier.delete()}};goog.exportSymbol("tfweb.BertNLClassifierOptions",proto.tflite.task.text.BertNLClassifierOptions);goog.exportSymbol("tfweb.BertNLClassifierOptions.prototype.serializeBinary",proto.tflite.task.text.BertNLClassifierOptions.prototype.serializeBinary);goog.exportSymbol("tfweb.BertNLClassifier",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.BertNLClassifier);goog.exportSymbol("tfweb.BertNLClassifier.create",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.BertNLClassifier.create);goog.exportSymbol("tfweb.BertNLClassifier.prototype.classify",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.BertNLClassifier.prototype.classify);goog.exportSymbol("tfweb.BertNLClassifier.prototype.cleanUp",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.BertNLClassifier.prototype.cleanUp);module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.BertQuestionAnswerer=function(e,t,n){this.module=e,this.memOffsetsToFree=t,this.cppClassifier=n};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.BertQuestionAnswerer.create=function(e){var t,n,r,o,i,s,l,c,u,d,p;return $jscomp.asyncExecutePromiseGeneratorProgram(function(f){if(f.nextAddress==1)return t=module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$emscripten_module_loader.EmscriptenModuleLoader.getInstance(module$contents$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client_wasmModulesPath,"tflite_web_api",`"use strict";var Module={};var initializedJS=false;function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:Module["_pthread_self"]()})}var err=threadPrintErr;self.alert=threadAlert;Module["instantiateWasm"]=function(info,receiveInstance){var instance=new WebAssembly.Instance(Module["wasmModule"],info);receiveInstance(instance);Module["wasmModule"]=null;return instance.exports};self.onmessage=function(e){try{if(e.data.cmd==="load"){Module["wasmModule"]=e.data.wasmModule;Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob==="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}tflite_web_api_ModuleFactory(Module).then(function(instance){Module=instance})}else if(e.data.cmd==="run"){Module["__performance_now_clock_drift"]=performance.now()-e.data.time;Module["__emscripten_thread_init"](e.data.threadInfoStruct,0,0);var max=e.data.stackBase;var top=e.data.stackBase+e.data.stackSize;Module["establishStackSpace"](top,max);Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].threadInit();if(!initializedJS){Module["___embind_register_native_and_builtin_types"]();initializedJS=true}try{var result=Module["invokeEntryPoint"](e.data.start_routine,e.data.arg);if(Module["keepRuntimeAlive"]()){Module["PThread"].setExitStatus(result)}else{Module["__emscripten_thread_exit"](result)}}catch(ex){if(ex!="unwind"){if(ex instanceof Module["ExitStatus"]){if(Module["keepRuntimeAlive"]()){}else{Module["__emscripten_thread_exit"](ex.status)}}else{throw ex}}}}else if(e.data.cmd==="cancel"){if(Module["_pthread_self"]()){Module["__emscripten_thread_exit"](-1)}postMessage({"cmd":"cancelDone"})}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processThreadQueue"){if(Module["_pthread_self"]()){Module["_emscripten_current_thread_process_queued_calls"]()}}else{err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){err("worker.js onmessage() captured an uncaught exception: "+ex);if(ex&&ex.stack)err(ex.stack);throw ex}};
`),n=$jscomp,r=n.makeIterator,f.yield(Promise.all([t.load(),typeof e=="string"?fetch(e).then(function(m){return m.arrayBuffer()}):Promise.resolve(e)]),2);if(o=r.call(n,f.yieldResult),i=o.next().value,s=o.next().value,l=i,c=s,u=new Uint8Array(c),d=l._malloc(u.length),l.HEAPU8.set(u,d),p=l.BertQuestionAnswerer.CreateFromBuffer(d,u.length),p==null||!p.ok())throw Error("Failed to create BertQuestionAnswerer: "+p?.errorMessage());return f.return(new module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.BertQuestionAnswerer(l,[d],p.value()))})};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.BertQuestionAnswerer.prototype.answer=function(e,t){if(this.cppClassifier!=null)return e=this.cppClassifier.Answer(e,t),(0,module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.callAndDelete)(e,function(n){return(0,module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.convertCppVectorToArray)(n)})};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.BertQuestionAnswerer.prototype.cleanUp=function(){if(this.cppClassifier!=null){for(var e=$jscomp.makeIterator(this.memOffsetsToFree),t=e.next();!t.done;t=e.next())this.module._free(t.value);this.cppClassifier.delete()}};goog.exportSymbol("tfweb.BertQuestionAnswerer",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.BertQuestionAnswerer);goog.exportSymbol("tfweb.BertQuestionAnswerer.create",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.BertQuestionAnswerer.create);goog.exportSymbol("tfweb.BertQuestionAnswerer.prototype.answer",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.BertQuestionAnswerer.prototype.answer);goog.exportSymbol("tfweb.BertQuestionAnswerer.prototype.cleanUp",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.BertQuestionAnswerer.prototype.cleanUp);module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ImageClassifier=function(e,t,n){this.module=e,this.memOffsetsToFree=t,this.cppClassifier=n};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ImageClassifier.create=function(e,t){t=t===void 0?new proto.tflite.task.vision.ImageClassifierOptions:t;var n,r,o,i,s,l,c,u,d,p,f;return $jscomp.asyncExecutePromiseGeneratorProgram(function(m){if(m.nextAddress==1)return n=module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$emscripten_module_loader.EmscriptenModuleLoader.getInstance(module$contents$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client_wasmModulesPath,"tflite_web_api",`"use strict";var Module={};var initializedJS=false;function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:Module["_pthread_self"]()})}var err=threadPrintErr;self.alert=threadAlert;Module["instantiateWasm"]=function(info,receiveInstance){var instance=new WebAssembly.Instance(Module["wasmModule"],info);receiveInstance(instance);Module["wasmModule"]=null;return instance.exports};self.onmessage=function(e){try{if(e.data.cmd==="load"){Module["wasmModule"]=e.data.wasmModule;Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob==="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}tflite_web_api_ModuleFactory(Module).then(function(instance){Module=instance})}else if(e.data.cmd==="run"){Module["__performance_now_clock_drift"]=performance.now()-e.data.time;Module["__emscripten_thread_init"](e.data.threadInfoStruct,0,0);var max=e.data.stackBase;var top=e.data.stackBase+e.data.stackSize;Module["establishStackSpace"](top,max);Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].threadInit();if(!initializedJS){Module["___embind_register_native_and_builtin_types"]();initializedJS=true}try{var result=Module["invokeEntryPoint"](e.data.start_routine,e.data.arg);if(Module["keepRuntimeAlive"]()){Module["PThread"].setExitStatus(result)}else{Module["__emscripten_thread_exit"](result)}}catch(ex){if(ex!="unwind"){if(ex instanceof Module["ExitStatus"]){if(Module["keepRuntimeAlive"]()){}else{Module["__emscripten_thread_exit"](ex.status)}}else{throw ex}}}}else if(e.data.cmd==="cancel"){if(Module["_pthread_self"]()){Module["__emscripten_thread_exit"](-1)}postMessage({"cmd":"cancelDone"})}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processThreadQueue"){if(Module["_pthread_self"]()){Module["_emscripten_current_thread_process_queued_calls"]()}}else{err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){err("worker.js onmessage() captured an uncaught exception: "+ex);if(ex&&ex.stack)err(ex.stack);throw ex}};
`),r=$jscomp,o=r.makeIterator,m.yield(Promise.all([n.load(),typeof e=="string"?fetch(e).then(function(h){return h.arrayBuffer()}):Promise.resolve(e)]),2);if(i=o.call(r,m.yieldResult),s=i.next().value,l=i.next().value,c=s,u=l,d=new Uint8Array(u),p=c._malloc(d.length),c.HEAPU8.set(d,p),f=(0,module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.callAndDelete)(new c.ImageClassifierOptionsCppProto,function(h){if(h!=null)return h.initFromJsProto(t),c.ImageClassifier.CreateFromOptions(p,d.length,h)}),f==null||!f.ok())throw Error("Failed to create ImageClassifier: "+f?.errorMessage());return m.return(new module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ImageClassifier(c,[p],f.value()))})};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ImageClassifier.prototype.classify=function(e){if(this.cppClassifier!=null){var t=(0,module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.fromPixels)(e);e=t.vals;var n=t.width,r=t.height;if(e!=null)return t=this.module._malloc(e.length),this.module.HEAPU8.set(e,t),e=this.cppClassifier.Classify(t,n,r),this.module._free(t),(0,module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.callWithStatusOrAndDelete)(e,"Failed to run inference method classify: ",function(o){return o=o.toArrayBuffer(),proto.tflite.task.vision.ClassificationResult.deserializeBinary(o)})}};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ImageClassifier.prototype.cleanUp=function(){if(this.cppClassifier!=null){for(var e=$jscomp.makeIterator(this.memOffsetsToFree),t=e.next();!t.done;t=e.next())this.module._free(t.value);this.cppClassifier.delete()}};goog.exportSymbol("tfweb.ClassificationResult",proto.tflite.task.vision.ClassificationResult);goog.exportSymbol("tfweb.ClassificationResult.prototype.serializeBinary",proto.tflite.task.vision.ClassificationResult.prototype.serializeBinary);goog.exportSymbol("tfweb.ImageClassifierOptions",proto.tflite.task.vision.ImageClassifierOptions);goog.exportSymbol("tfweb.ImageClassifierOptions.prototype.serializeBinary",proto.tflite.task.vision.ImageClassifierOptions.prototype.serializeBinary);goog.exportSymbol("tfweb.ImageClassifier",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ImageClassifier);goog.exportSymbol("tfweb.ImageClassifier.create",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ImageClassifier.create);goog.exportSymbol("tfweb.ImageClassifier.prototype.classify",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ImageClassifier.prototype.classify);goog.exportSymbol("tfweb.ImageClassifier.prototype.cleanUp",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ImageClassifier.prototype.cleanUp);module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ImageSegmenter=function(e,t,n){this.module=e,this.memOffsetsToFree=t,this.cppClassifier=n};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ImageSegmenter.create=function(e,t){t=t===void 0?new proto.tflite.task.vision.ImageSegmenterOptions:t;var n,r,o,i,s,l,c,u,d,p,f;return $jscomp.asyncExecutePromiseGeneratorProgram(function(m){if(m.nextAddress==1)return n=module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$emscripten_module_loader.EmscriptenModuleLoader.getInstance(module$contents$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client_wasmModulesPath,"tflite_web_api",`"use strict";var Module={};var initializedJS=false;function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:Module["_pthread_self"]()})}var err=threadPrintErr;self.alert=threadAlert;Module["instantiateWasm"]=function(info,receiveInstance){var instance=new WebAssembly.Instance(Module["wasmModule"],info);receiveInstance(instance);Module["wasmModule"]=null;return instance.exports};self.onmessage=function(e){try{if(e.data.cmd==="load"){Module["wasmModule"]=e.data.wasmModule;Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob==="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}tflite_web_api_ModuleFactory(Module).then(function(instance){Module=instance})}else if(e.data.cmd==="run"){Module["__performance_now_clock_drift"]=performance.now()-e.data.time;Module["__emscripten_thread_init"](e.data.threadInfoStruct,0,0);var max=e.data.stackBase;var top=e.data.stackBase+e.data.stackSize;Module["establishStackSpace"](top,max);Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].threadInit();if(!initializedJS){Module["___embind_register_native_and_builtin_types"]();initializedJS=true}try{var result=Module["invokeEntryPoint"](e.data.start_routine,e.data.arg);if(Module["keepRuntimeAlive"]()){Module["PThread"].setExitStatus(result)}else{Module["__emscripten_thread_exit"](result)}}catch(ex){if(ex!="unwind"){if(ex instanceof Module["ExitStatus"]){if(Module["keepRuntimeAlive"]()){}else{Module["__emscripten_thread_exit"](ex.status)}}else{throw ex}}}}else if(e.data.cmd==="cancel"){if(Module["_pthread_self"]()){Module["__emscripten_thread_exit"](-1)}postMessage({"cmd":"cancelDone"})}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processThreadQueue"){if(Module["_pthread_self"]()){Module["_emscripten_current_thread_process_queued_calls"]()}}else{err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){err("worker.js onmessage() captured an uncaught exception: "+ex);if(ex&&ex.stack)err(ex.stack);throw ex}};
`),r=$jscomp,o=r.makeIterator,m.yield(Promise.all([n.load(),typeof e=="string"?fetch(e).then(function(h){return h.arrayBuffer()}):Promise.resolve(e)]),2);if(i=o.call(r,m.yieldResult),s=i.next().value,l=i.next().value,c=s,u=l,d=new Uint8Array(u),p=c._malloc(d.length),c.HEAPU8.set(d,p),f=(0,module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.callAndDelete)(new c.ImageSegmenterOptionsCppProto,function(h){if(h!=null)return h.initFromJsProto(t),c.ImageSegmenter.CreateFromOptions(p,d.length,h)}),f==null||!f.ok())throw Error("Failed to create ImageSegmenter: "+f?.errorMessage());return m.return(new module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ImageSegmenter(c,[p],f.value()))})};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ImageSegmenter.prototype.segment=function(e){if(this.cppClassifier!=null){var t=(0,module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.fromPixels)(e);e=t.vals;var n=t.width,r=t.height;if(e!=null)return t=this.module._malloc(e.length),this.module.HEAPU8.set(e,t),e=this.cppClassifier.Segment(t,n,r),this.module._free(t),(0,module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.callWithStatusOrAndDelete)(e,"Failed to run inference method segment: ",function(o){return o=o.toArrayBuffer(),proto.tflite.task.vision.SegmentationResult.deserializeBinary(o)})}};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ImageSegmenter.prototype.cleanUp=function(){if(this.cppClassifier!=null){for(var e=$jscomp.makeIterator(this.memOffsetsToFree),t=e.next();!t.done;t=e.next())this.module._free(t.value);this.cppClassifier.delete()}};goog.exportSymbol("tfweb.ImageSegmenterOptions",proto.tflite.task.vision.ImageSegmenterOptions);goog.exportSymbol("tfweb.ImageSegmenterOptions.prototype.serializeBinary",proto.tflite.task.vision.ImageSegmenterOptions.prototype.serializeBinary);goog.exportSymbol("tfweb.SegmentationResult",proto.tflite.task.vision.SegmentationResult);goog.exportSymbol("tfweb.SegmentationResult.prototype.serializeBinary",proto.tflite.task.vision.SegmentationResult.prototype.serializeBinary);goog.exportSymbol("tfweb.ImageSegmenter",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ImageSegmenter);goog.exportSymbol("tfweb.ImageSegmenter.create",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ImageSegmenter.create);goog.exportSymbol("tfweb.ImageSegmenter.prototype.segment",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ImageSegmenter.prototype.segment);goog.exportSymbol("tfweb.ImageSegmenter.prototype.cleanUp",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ImageSegmenter.prototype.cleanUp);module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.NLClassifier=function(e,t,n){this.module=e,this.memOffsetsToFree=t,this.cppClassifier=n};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.NLClassifier.create=function(e,t){var n,r,o,i,s,l,c,u,d,p,f;return $jscomp.asyncExecutePromiseGeneratorProgram(function(m){if(m.nextAddress==1)return n=module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$emscripten_module_loader.EmscriptenModuleLoader.getInstance(module$contents$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client_wasmModulesPath,"tflite_web_api",`"use strict";var Module={};var initializedJS=false;function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:Module["_pthread_self"]()})}var err=threadPrintErr;self.alert=threadAlert;Module["instantiateWasm"]=function(info,receiveInstance){var instance=new WebAssembly.Instance(Module["wasmModule"],info);receiveInstance(instance);Module["wasmModule"]=null;return instance.exports};self.onmessage=function(e){try{if(e.data.cmd==="load"){Module["wasmModule"]=e.data.wasmModule;Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob==="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}tflite_web_api_ModuleFactory(Module).then(function(instance){Module=instance})}else if(e.data.cmd==="run"){Module["__performance_now_clock_drift"]=performance.now()-e.data.time;Module["__emscripten_thread_init"](e.data.threadInfoStruct,0,0);var max=e.data.stackBase;var top=e.data.stackBase+e.data.stackSize;Module["establishStackSpace"](top,max);Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].threadInit();if(!initializedJS){Module["___embind_register_native_and_builtin_types"]();initializedJS=true}try{var result=Module["invokeEntryPoint"](e.data.start_routine,e.data.arg);if(Module["keepRuntimeAlive"]()){Module["PThread"].setExitStatus(result)}else{Module["__emscripten_thread_exit"](result)}}catch(ex){if(ex!="unwind"){if(ex instanceof Module["ExitStatus"]){if(Module["keepRuntimeAlive"]()){}else{Module["__emscripten_thread_exit"](ex.status)}}else{throw ex}}}}else if(e.data.cmd==="cancel"){if(Module["_pthread_self"]()){Module["__emscripten_thread_exit"](-1)}postMessage({"cmd":"cancelDone"})}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processThreadQueue"){if(Module["_pthread_self"]()){Module["_emscripten_current_thread_process_queued_calls"]()}}else{err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){err("worker.js onmessage() captured an uncaught exception: "+ex);if(ex&&ex.stack)err(ex.stack);throw ex}};
`),r=$jscomp,o=r.makeIterator,m.yield(Promise.all([n.load(),typeof e=="string"?fetch(e).then(function(h){return h.arrayBuffer()}):Promise.resolve(e)]),2);if(i=o.call(r,m.yieldResult),s=i.next().value,l=i.next().value,c=s,u=l,d=new Uint8Array(u),p=c._malloc(d.length),c.HEAPU8.set(d,p),f=c.NLClassifier.CreateFromBufferAndOptions(p,d.length,t),f==null||!f.ok())throw Error("Failed to create NLClassifier: "+f?.errorMessage());return m.return(new module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.NLClassifier(c,[p],f.value()))})};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.NLClassifier.prototype.classify=function(e){if(this.cppClassifier!=null)return e=this.cppClassifier.Classify(e),(0,module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.callAndDelete)(e,function(t){return(0,module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.convertCppVectorToArray)(t)})};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.NLClassifier.prototype.cleanUp=function(){if(this.cppClassifier!=null){for(var e=$jscomp.makeIterator(this.memOffsetsToFree),t=e.next();!t.done;t=e.next())this.module._free(t.value);this.cppClassifier.delete()}};goog.exportSymbol("tfweb.NLClassifier",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.NLClassifier);goog.exportSymbol("tfweb.NLClassifier.create",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.NLClassifier.create);goog.exportSymbol("tfweb.NLClassifier.prototype.classify",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.NLClassifier.prototype.classify);goog.exportSymbol("tfweb.NLClassifier.prototype.cleanUp",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.NLClassifier.prototype.cleanUp);module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ObjectDetector=function(e,t,n){this.module=e,this.memOffsetsToFree=t,this.cppClassifier=n};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ObjectDetector.create=function(e,t){t=t===void 0?new proto.tflite.task.vision.ObjectDetectorOptions:t;var n,r,o,i,s,l,c,u,d,p,f;return $jscomp.asyncExecutePromiseGeneratorProgram(function(m){if(m.nextAddress==1)return n=module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$emscripten_module_loader.EmscriptenModuleLoader.getInstance(module$contents$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client_wasmModulesPath,"tflite_web_api",`"use strict";var Module={};var initializedJS=false;function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:Module["_pthread_self"]()})}var err=threadPrintErr;self.alert=threadAlert;Module["instantiateWasm"]=function(info,receiveInstance){var instance=new WebAssembly.Instance(Module["wasmModule"],info);receiveInstance(instance);Module["wasmModule"]=null;return instance.exports};self.onmessage=function(e){try{if(e.data.cmd==="load"){Module["wasmModule"]=e.data.wasmModule;Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob==="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}tflite_web_api_ModuleFactory(Module).then(function(instance){Module=instance})}else if(e.data.cmd==="run"){Module["__performance_now_clock_drift"]=performance.now()-e.data.time;Module["__emscripten_thread_init"](e.data.threadInfoStruct,0,0);var max=e.data.stackBase;var top=e.data.stackBase+e.data.stackSize;Module["establishStackSpace"](top,max);Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].threadInit();if(!initializedJS){Module["___embind_register_native_and_builtin_types"]();initializedJS=true}try{var result=Module["invokeEntryPoint"](e.data.start_routine,e.data.arg);if(Module["keepRuntimeAlive"]()){Module["PThread"].setExitStatus(result)}else{Module["__emscripten_thread_exit"](result)}}catch(ex){if(ex!="unwind"){if(ex instanceof Module["ExitStatus"]){if(Module["keepRuntimeAlive"]()){}else{Module["__emscripten_thread_exit"](ex.status)}}else{throw ex}}}}else if(e.data.cmd==="cancel"){if(Module["_pthread_self"]()){Module["__emscripten_thread_exit"](-1)}postMessage({"cmd":"cancelDone"})}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processThreadQueue"){if(Module["_pthread_self"]()){Module["_emscripten_current_thread_process_queued_calls"]()}}else{err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){err("worker.js onmessage() captured an uncaught exception: "+ex);if(ex&&ex.stack)err(ex.stack);throw ex}};
`),r=$jscomp,o=r.makeIterator,m.yield(Promise.all([n.load(),typeof e=="string"?fetch(e).then(function(h){return h.arrayBuffer()}):Promise.resolve(e)]),2);if(i=o.call(r,m.yieldResult),s=i.next().value,l=i.next().value,c=s,u=l,d=new Uint8Array(u),p=c._malloc(d.length),c.HEAPU8.set(d,p),f=(0,module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.callAndDelete)(new c.ObjectDetectorOptionsCppProto,function(h){if(h!=null)return h.initFromJsProto(t),c.ObjectDetector.CreateFromOptions(p,d.length,h)}),f==null||!f.ok())throw Error("Failed to create ObjectDetector: "+f?.errorMessage());return m.return(new module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ObjectDetector(c,[p],f.value()))})};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ObjectDetector.prototype.detect=function(e){if(this.cppClassifier!=null){var t=(0,module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.fromPixels)(e);e=t.vals;var n=t.width,r=t.height;if(e!=null)return t=this.module._malloc(e.length),this.module.HEAPU8.set(e,t),e=this.cppClassifier.Detect(t,n,r),this.module._free(t),(0,module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.callWithStatusOrAndDelete)(e,"Failed to run inference method detect: ",function(o){return o=o.toArrayBuffer(),proto.tflite.task.vision.DetectionResult.deserializeBinary(o)})}};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ObjectDetector.prototype.cleanUp=function(){if(this.cppClassifier!=null){for(var e=$jscomp.makeIterator(this.memOffsetsToFree),t=e.next();!t.done;t=e.next())this.module._free(t.value);this.cppClassifier.delete()}};goog.exportSymbol("tfweb.DetectionResult",proto.tflite.task.vision.DetectionResult);goog.exportSymbol("tfweb.DetectionResult.prototype.serializeBinary",proto.tflite.task.vision.DetectionResult.prototype.serializeBinary);goog.exportSymbol("tfweb.ObjectDetectorOptions",proto.tflite.task.vision.ObjectDetectorOptions);goog.exportSymbol("tfweb.ObjectDetectorOptions.prototype.serializeBinary",proto.tflite.task.vision.ObjectDetectorOptions.prototype.serializeBinary);goog.exportSymbol("tfweb.ObjectDetector",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ObjectDetector);goog.exportSymbol("tfweb.ObjectDetector.create",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ObjectDetector.create);goog.exportSymbol("tfweb.ObjectDetector.prototype.detect",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ObjectDetector.prototype.detect);goog.exportSymbol("tfweb.ObjectDetector.prototype.cleanUp",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.ObjectDetector.prototype.cleanUp);module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.TFLiteWebModelRunner=function(e,t,n){this.module=e,this.memOffsetsToFree=t,this.cppClassifier=n};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.TFLiteWebModelRunner.create=function(e,t){t=t===void 0?{}:t;var n,r,o,i,s,l,c,u,d,p,f;return $jscomp.asyncExecutePromiseGeneratorProgram(function(m){if(m.nextAddress==1)return n=module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$emscripten_module_loader.EmscriptenModuleLoader.getInstance(module$contents$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client_wasmModulesPath,"tflite_web_api",`"use strict";var Module={};var initializedJS=false;function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:Module["_pthread_self"]()})}var err=threadPrintErr;self.alert=threadAlert;Module["instantiateWasm"]=function(info,receiveInstance){var instance=new WebAssembly.Instance(Module["wasmModule"],info);receiveInstance(instance);Module["wasmModule"]=null;return instance.exports};self.onmessage=function(e){try{if(e.data.cmd==="load"){Module["wasmModule"]=e.data.wasmModule;Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob==="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}tflite_web_api_ModuleFactory(Module).then(function(instance){Module=instance})}else if(e.data.cmd==="run"){Module["__performance_now_clock_drift"]=performance.now()-e.data.time;Module["__emscripten_thread_init"](e.data.threadInfoStruct,0,0);var max=e.data.stackBase;var top=e.data.stackBase+e.data.stackSize;Module["establishStackSpace"](top,max);Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].threadInit();if(!initializedJS){Module["___embind_register_native_and_builtin_types"]();initializedJS=true}try{var result=Module["invokeEntryPoint"](e.data.start_routine,e.data.arg);if(Module["keepRuntimeAlive"]()){Module["PThread"].setExitStatus(result)}else{Module["__emscripten_thread_exit"](result)}}catch(ex){if(ex!="unwind"){if(ex instanceof Module["ExitStatus"]){if(Module["keepRuntimeAlive"]()){}else{Module["__emscripten_thread_exit"](ex.status)}}else{throw ex}}}}else if(e.data.cmd==="cancel"){if(Module["_pthread_self"]()){Module["__emscripten_thread_exit"](-1)}postMessage({"cmd":"cancelDone"})}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processThreadQueue"){if(Module["_pthread_self"]()){Module["_emscripten_current_thread_process_queued_calls"]()}}else{err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){err("worker.js onmessage() captured an uncaught exception: "+ex);if(ex&&ex.stack)err(ex.stack);throw ex}};
`),r=$jscomp,o=r.makeIterator,m.yield(Promise.all([n.load(),typeof e=="string"?fetch(e).then(function(h){return h.arrayBuffer()}):Promise.resolve(e)]),2);if(i=o.call(r,m.yieldResult),s=i.next().value,l=i.next().value,c=s,u=l,d=new Uint8Array(u),p=c._malloc(d.length),c.HEAPU8.set(d,p),t.numThreads==null&&(t.numThreads=navigator?navigator.hardwareConcurrency/2:-1),t.enableProfiling==null&&(t.enableProfiling=!1),t.maxProfilingBufferEntries==null&&(t.maxProfilingBufferEntries=1024),f=c.TFLiteWebModelRunner.CreateFromBufferAndOptions(p,d.length,t),f==null||!f.ok())throw Error("Failed to create TFLiteWebModelRunner: "+f?.errorMessage());return m.return(new module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.TFLiteWebModelRunner(c,[p],f.value()))})};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.TFLiteWebModelRunner.prototype.getInputs=function(){if(this.cppClassifier!=null){var e=this.cppClassifier.GetInputs();return(0,module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.callAndDelete)(e,function(t){return(0,module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.convertCppVectorToArray)(t)})}};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.TFLiteWebModelRunner.prototype.getOutputs=function(){if(this.cppClassifier!=null){var e=this.cppClassifier.GetOutputs();return(0,module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.callAndDelete)(e,function(t){return(0,module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.convertCppVectorToArray)(t)})}};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.TFLiteWebModelRunner.prototype.infer=function(){if(this.cppClassifier!=null)return this.cppClassifier.Infer()};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.TFLiteWebModelRunner.prototype.getProfilingResults=function(){if(this.cppClassifier!=null){var e=this.cppClassifier.GetProfilingResults();return(0,module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.callAndDelete)(e,function(t){return(0,module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.convertCppVectorToArray)(t)})}};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.TFLiteWebModelRunner.prototype.getProfilingSummary=function(){if(this.cppClassifier!=null)return this.cppClassifier.GetProfilingSummary()};module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.TFLiteWebModelRunner.prototype.cleanUp=function(){if(this.cppClassifier!=null){for(var e=$jscomp.makeIterator(this.memOffsetsToFree),t=e.next();!t.done;t=e.next())this.module._free(t.value);this.cppClassifier.delete()}};goog.exportSymbol("tfweb.TFLiteWebModelRunner",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.TFLiteWebModelRunner);goog.exportSymbol("tfweb.TFLiteWebModelRunner.create",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.TFLiteWebModelRunner.create);goog.exportSymbol("tfweb.TFLiteWebModelRunner.prototype.getInputs",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.TFLiteWebModelRunner.prototype.getInputs);goog.exportSymbol("tfweb.TFLiteWebModelRunner.prototype.getOutputs",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.TFLiteWebModelRunner.prototype.getOutputs);goog.exportSymbol("tfweb.TFLiteWebModelRunner.prototype.infer",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.TFLiteWebModelRunner.prototype.infer);goog.exportSymbol("tfweb.TFLiteWebModelRunner.prototype.getProfilingResults",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.TFLiteWebModelRunner.prototype.getProfilingResults);goog.exportSymbol("tfweb.TFLiteWebModelRunner.prototype.getProfilingSummary",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.TFLiteWebModelRunner.prototype.getProfilingSummary);goog.exportSymbol("tfweb.TFLiteWebModelRunner.prototype.cleanUp",module$exports$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client.TFLiteWebModelRunner.prototype.cleanUp);goog.exportSymbol("tfweb.tflite_web_api.setWasmPath",module$contents$google3$third_party$tensorflow_lite_support$web$tflite_web_api_client_setWasmPath);goog.exportSymbol("tfweb.tflite_web_api.getWasmFeatures",module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$utils.getWasmFeatures);module$exports$google3$third_party$tensorflow_lite_support$web$task$codegen$common$emscripten_module_loader.EmscriptenModuleLoader.getInstance("","tflite_web_api",`"use strict";var Module={};var initializedJS=false;function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:Module["_pthread_self"]()})}var err=threadPrintErr;self.alert=threadAlert;Module["instantiateWasm"]=function(info,receiveInstance){var instance=new WebAssembly.Instance(Module["wasmModule"],info);receiveInstance(instance);Module["wasmModule"]=null;return instance.exports};self.onmessage=function(e){try{if(e.data.cmd==="load"){Module["wasmModule"]=e.data.wasmModule;Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob==="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}tflite_web_api_ModuleFactory(Module).then(function(instance){Module=instance})}else if(e.data.cmd==="run"){Module["__performance_now_clock_drift"]=performance.now()-e.data.time;Module["__emscripten_thread_init"](e.data.threadInfoStruct,0,0);var max=e.data.stackBase;var top=e.data.stackBase+e.data.stackSize;Module["establishStackSpace"](top,max);Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].threadInit();if(!initializedJS){Module["___embind_register_native_and_builtin_types"]();initializedJS=true}try{var result=Module["invokeEntryPoint"](e.data.start_routine,e.data.arg);if(Module["keepRuntimeAlive"]()){Module["PThread"].setExitStatus(result)}else{Module["__emscripten_thread_exit"](result)}}catch(ex){if(ex!="unwind"){if(ex instanceof Module["ExitStatus"]){if(Module["keepRuntimeAlive"]()){}else{Module["__emscripten_thread_exit"](ex.status)}}else{throw ex}}}}else if(e.data.cmd==="cancel"){if(Module["_pthread_self"]()){Module["__emscripten_thread_exit"](-1)}postMessage({"cmd":"cancelDone"})}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processThreadQueue"){if(Module["_pthread_self"]()){Module["_emscripten_current_thread_process_queued_calls"]()}}else{err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){err("worker.js onmessage() captured an uncaught exception: "+ex);if(ex&&ex.stack)err(ex.stack);throw ex}};
`).load(!0);var tfweb=typeof window<"u"&&window.tfweb||exports.tfweb;exports.tfweb=tfweb});function QF(e,t){return Object.is(e,t)}var zn=null,rm=!1,om=1,Oo=Symbol("SIGNAL");function Dt(e){let t=zn;return zn=e,t}function JF(){return zn}var Uu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Tv(e){if(rm)throw new Error("");if(zn===null)return;zn.consumerOnSignalRead(e);let t=zn.nextProducerIndex++;if(lm(zn),t<zn.producerNode.length&&zn.producerNode[t]!==e&&Lu(zn)){let n=zn.producerNode[t];am(n,zn.producerIndexOfThis[t])}zn.producerNode[t]!==e&&(zn.producerNode[t]=e,zn.producerIndexOfThis[t]=Lu(zn)?rk(e,zn,t):0),zn.producerLastReadVersion[t]=e.version}function oZ(){om++}function ek(e){if(!(Lu(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===om)){if(!e.producerMustRecompute(e)&&!Fv(e)){e.dirty=!1,e.lastCleanEpoch=om;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=om}}function tk(e){if(e.liveConsumerNode===void 0)return;let t=rm;rm=!0;try{for(let n of e.liveConsumerNode)n.dirty||iZ(n)}finally{rm=t}}function nk(){return zn?.consumerAllowSignalWrites!==!1}function iZ(e){e.dirty=!0,tk(e),e.consumerMarkedDirty?.(e)}function sm(e){return e&&(e.nextProducerIndex=0),Dt(e)}function Dv(e,t){if(Dt(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Lu(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)am(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Fv(e){lm(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(ek(n),r!==n.version))return!0}return!1}function kv(e){if(lm(e),Lu(e))for(let t=0;t<e.producerNode.length;t++)am(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function rk(e,t,n){if(ok(e),e.liveConsumerNode.length===0&&ik(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=rk(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function am(e,t){if(ok(e),e.liveConsumerNode.length===1&&ik(e))for(let r=0;r<e.producerNode.length;r++)am(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];lm(o),o.producerIndexOfThis[r]=t}}function Lu(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function lm(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function ok(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function ik(e){return e.producerNode!==void 0}function Av(e){let t=Object.create(sZ);t.computation=e;let n=()=>{if(ek(t),Tv(t),t.value===im)throw t.error;return t.value};return n[Oo]=t,n}var Iv=Symbol("UNSET"),Ev=Symbol("COMPUTING"),im=Symbol("ERRORED"),sZ=tt(fe({},Uu),{value:Iv,dirty:!0,error:null,equal:QF,producerMustRecompute(e){return e.value===Iv||e.value===Ev},producerRecomputeValue(e){if(e.value===Ev)throw new Error("Detected cycle in computations.");let t=e.value;e.value=Ev;let n=sm(e),r;try{r=e.computation()}catch(o){r=im,e.error=o}finally{Dv(e,n)}if(t!==Iv&&t!==im&&r!==im&&e.equal(t,r)){e.value=t;return}e.value=r,e.version++}});function aZ(){throw new Error}var sk=aZ;function ak(){sk()}function lk(e){sk=e}var lZ=null;function ck(e){let t=Object.create(dk);t.value=e;let n=()=>(Tv(t),t.value);return n[Oo]=t,n}function Mv(e,t){nk()||ak(),e.equal(e.value,t)||(e.value=t,cZ(e))}function uk(e,t){nk()||ak(),Mv(e,t(e.value))}var dk=tt(fe({},Uu),{equal:QF,value:void 0});function cZ(e){e.version++,oZ(),tk(e),lZ?.()}function dt(e){return typeof e=="function"}function Pl(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var cm=Pl(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ua(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var dn=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(dt(r))try{r()}catch(i){t=i instanceof cm?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{pk(i)}catch(s){t=t??[],s instanceof cm?t=[...t,...s.errors]:t.push(s)}}if(t)throw new cm(t)}}add(t){var n;if(t&&t!==this)if(this.closed)pk(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ua(n,t)}remove(t){let{_finalizers:n}=this;n&&ua(n,t),t instanceof e&&t._removeParent(this)}};dn.EMPTY=(()=>{let e=new dn;return e.closed=!0,e})();var Rv=dn.EMPTY;function um(e){return e instanceof dn||e&&"closed"in e&&dt(e.remove)&&dt(e.add)&&dt(e.unsubscribe)}function pk(e){dt(e)?e():e.unsubscribe()}var No={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Bl={setTimeout(e,t,...n){let{delegate:r}=Bl;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Bl;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function dm(e){Bl.setTimeout(()=>{let{onUnhandledError:t}=No;if(t)t(e);else throw e})}function Wu(){}var fk=jv("C",void 0,void 0);function mk(e){return jv("E",void 0,e)}function hk(e){return jv("N",e,void 0)}function jv(e,t,n){return{kind:e,value:t,error:n}}var da=null;function Ll(e){if(No.useDeprecatedSynchronousErrorHandling){let t=!da;if(t&&(da={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=da;if(da=null,n)throw r}}else e()}function gk(e){No.useDeprecatedSynchronousErrorHandling&&da&&(da.errorThrown=!0,da.error=e)}var pa=class extends dn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,um(t)&&t.add(this)):this.destination=pZ}static create(t,n,r){return new Ri(t,n,r)}next(t){this.isStopped?Nv(hk(t),this):this._next(t)}error(t){this.isStopped?Nv(mk(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Nv(fk,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},uZ=Function.prototype.bind;function Ov(e,t){return uZ.call(e,t)}var Pv=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){pm(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){pm(r)}else pm(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){pm(n)}}},Ri=class extends pa{constructor(t,n,r){super();let o;if(dt(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&No.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Ov(t.next,i),error:t.error&&Ov(t.error,i),complete:t.complete&&Ov(t.complete,i)}):o=t}this.destination=new Pv(o)}};function pm(e){No.useDeprecatedSynchronousErrorHandling?gk(e):dm(e)}function dZ(e){throw e}function Nv(e,t){let{onStoppedNotification:n}=No;n&&Bl.setTimeout(()=>n(e,t))}var pZ={closed:!0,next:Wu,error:dZ,complete:Wu};var Ul=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wr(e){return e}function Bv(...e){return Lv(e)}function Lv(e){return e.length===0?wr:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var gt=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=mZ(n)?n:new Ri(n,r,o);return Ll(()=>{let{operator:s,source:l}=this;i.add(s?s.call(i,l):l?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=bk(r),new r((o,i)=>{let s=new Ri({next:l=>{try{n(l)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ul](){return this}pipe(...n){return Lv(n)(this)}toPromise(n){return n=bk(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function bk(e){var t;return(t=e??No.Promise)!==null&&t!==void 0?t:Promise}function fZ(e){return e&&dt(e.next)&&dt(e.error)&&dt(e.complete)}function mZ(e){return e&&e instanceof pa||fZ(e)&&um(e)}function Uv(e){return dt(e?.lift)}function ft(e){return t=>{if(Uv(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pt(e,t,n,r,o){return new Wv(e,t,n,r,o)}var Wv=class extends pa{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(l){try{n(l)}catch(c){t.error(c)}}:super._next,this._error=o?function(l){try{o(l)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Wl(){return ft((e,t)=>{let n=null;e._refCount++;let r=pt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var fs=class extends gt{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Uv(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new dn;let n=this.getSubject();t.add(this.source.subscribe(pt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=dn.EMPTY)}return t}refCount(){return Wl()(this)}};var yk=Pl(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $t=(()=>{class e extends gt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new fm(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new yk}next(n){Ll(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ll(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ll(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Rv:(this.currentObservers=null,i.push(n),new dn(()=>{this.currentObservers=null,ua(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new gt;return n.source=this,n}}return e.create=(t,n)=>new fm(t,n),e})(),fm=class extends $t{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Rv}};var Fn=class extends $t{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var zu={now(){return(zu.delegate||Date).now()},delegate:void 0};var mm=class extends $t{constructor(t=1/0,n=1/0,r=zu){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;n||(r.push(t),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=r?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){let s=n.now(),l=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)l=c;l&&r.splice(0,l+1)}}};var hm=class extends dn{constructor(t,n){super()}schedule(t,n=0){return this}};var Vu={setInterval(e,t,...n){let{delegate:r}=Vu;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Vu;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var gm=class extends hm{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(t,n,r=0){return Vu.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Vu.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,o;try{this.work(t)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ua(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var zl=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};zl.now=zu.now;var bm=class extends zl{constructor(t,n=zl.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var Hu=new bm(gm),_k=Hu;var rr=new gt(e=>e.complete());function ym(e){return e&&dt(e.schedule)}function zv(e){return e[e.length-1]}function _m(e){return dt(zv(e))?e.pop():void 0}function ci(e){return ym(zv(e))?e.pop():void 0}function $k(e,t){return typeof zv(e)=="number"?e.pop():t}function vk(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(d){try{u(r.next(d))}catch(p){s(p)}}function c(d){try{u(r.throw(d))}catch(p){s(p)}}function u(d){d.done?i(d.value):o(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})}function xk(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function fa(e){return this instanceof fa?(this.v=e,this):new fa(e)}function wk(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},l("next"),l("throw"),l("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(m){return function(h){return Promise.resolve(h).then(m,p)}}function l(m,h){r[m]&&(o[m]=function(g){return new Promise(function(_,$){i.push([m,g,_,$])>1||c(m,g)})},h&&(o[m]=h(o[m])))}function c(m,h){try{u(r[m](h))}catch(g){f(i[0][3],g)}}function u(m){m.value instanceof fa?Promise.resolve(m.value.v).then(d,p):f(i[0][2],m)}function d(m){c("next",m)}function p(m){c("throw",m)}function f(m,h){m(h),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Sk(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof xk=="function"?xk(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(l,c){s=e[i](s),o(l,c,s.done,s.value)})}}function o(i,s,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},s)}}var $m=e=>e&&typeof e.length=="number"&&typeof e!="function";function xm(e){return dt(e?.then)}function vm(e){return dt(e[Ul])}function wm(e){return Symbol.asyncIterator&&dt(e?.[Symbol.asyncIterator])}function Sm(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function hZ(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Cm=hZ();function Im(e){return dt(e?.[Cm])}function Em(e){return wk(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield fa(n.read());if(o)return yield fa(void 0);yield yield fa(r)}}finally{n.releaseLock()}})}function Tm(e){return dt(e?.getReader)}function nn(e){if(e instanceof gt)return e;if(e!=null){if(vm(e))return gZ(e);if($m(e))return bZ(e);if(xm(e))return yZ(e);if(wm(e))return Ck(e);if(Im(e))return _Z(e);if(Tm(e))return $Z(e)}throw Sm(e)}function gZ(e){return new gt(t=>{let n=e[Ul]();if(dt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function bZ(e){return new gt(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function yZ(e){return new gt(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,dm)})}function _Z(e){return new gt(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Ck(e){return new gt(t=>{xZ(e,t).catch(n=>t.error(n))})}function $Z(e){return Ck(Em(e))}function xZ(e,t){var n,r,o,i;return vk(this,void 0,void 0,function*(){try{for(n=Sk(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function Nr(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function Dm(e,t=0){return ft((n,r)=>{n.subscribe(pt(r,o=>Nr(r,e,()=>r.next(o),t),()=>Nr(r,e,()=>r.complete(),t),o=>Nr(r,e,()=>r.error(o),t)))})}function Fm(e,t=0){return ft((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Ik(e,t){return nn(e).pipe(Fm(t),Dm(t))}function Ek(e,t){return nn(e).pipe(Fm(t),Dm(t))}function Tk(e,t){return new gt(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Dk(e,t){return new gt(n=>{let r;return Nr(n,t,()=>{r=e[Cm](),Nr(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>dt(r?.return)&&r.return()})}function km(e,t){if(!e)throw new Error("Iterable cannot be null");return new gt(n=>{Nr(n,t,()=>{let r=e[Symbol.asyncIterator]();Nr(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Fk(e,t){return km(Em(e),t)}function kk(e,t){if(e!=null){if(vm(e))return Ik(e,t);if($m(e))return Tk(e,t);if(xm(e))return Ek(e,t);if(wm(e))return km(e,t);if(Im(e))return Dk(e,t);if(Tm(e))return Fk(e,t)}throw Sm(e)}function rn(e,t){return t?kk(e,t):nn(e)}function ze(...e){let t=ci(e);return rn(e,t)}function Vl(e,t){let n=dt(e)?e:()=>e,r=o=>o.error(n());return new gt(t?o=>t.schedule(r,0,o):r)}function ma(e){return!!e&&(e instanceof gt||dt(e.lift)&&dt(e.subscribe))}var ji=Pl(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Ak(e){return e instanceof Date&&!isNaN(e)}function nt(e,t){return ft((n,r)=>{let o=0;n.subscribe(pt(r,i=>{r.next(e.call(t,i,o++))}))})}var{isArray:vZ}=Array;function wZ(e,t){return vZ(t)?e(...t):e(t)}function Am(e){return nt(t=>wZ(e,t))}var{isArray:SZ}=Array,{getPrototypeOf:CZ,prototype:IZ,keys:EZ}=Object;function Mm(e){if(e.length===1){let t=e[0];if(SZ(t))return{args:t,keys:null};if(TZ(t)){let n=EZ(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function TZ(e){return e&&typeof e=="object"&&CZ(e)===IZ}function Rm(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function ha(...e){let t=ci(e),n=_m(e),{args:r,keys:o}=Mm(e);if(r.length===0)return rn([],t);let i=new gt(DZ(r,t,o?s=>Rm(o,s):wr));return n?i.pipe(Am(n)):i}function DZ(e,t,n=wr){return r=>{Mk(t,()=>{let{length:o}=e,i=new Array(o),s=o,l=o;for(let c=0;c<o;c++)Mk(t,()=>{let u=rn(e[c],t),d=!1;u.subscribe(pt(r,p=>{i[c]=p,d||(d=!0,l--),l||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Mk(e,t,n){e?Nr(n,e,t):t()}function Rk(e,t,n,r,o,i,s,l){let c=[],u=0,d=0,p=!1,f=()=>{p&&!c.length&&!u&&t.complete()},m=g=>u<r?h(g):c.push(g),h=g=>{i&&t.next(g),u++;let _=!1;nn(n(g,d++)).subscribe(pt(t,$=>{o?.($),i?m($):t.next($)},()=>{_=!0},void 0,()=>{if(_)try{for(u--;c.length&&u<r;){let $=c.shift();s?Nr(t,s,()=>h($)):h($)}f()}catch($){t.error($)}}))};return e.subscribe(pt(t,m,()=>{p=!0,f()})),()=>{l?.()}}function Nn(e,t,n=1/0){return dt(t)?Nn((r,o)=>nt((i,s)=>t(r,i,o,s))(nn(e(r,o))),n):(typeof t=="number"&&(n=t),ft((r,o)=>Rk(r,o,e,n)))}function ms(e=1/0){return Nn(wr,e)}function jk(){return ms(1)}function hs(...e){return jk()(rn(e,ci(e)))}function jm(e){return new gt(t=>{nn(e()).subscribe(t)})}function Vv(...e){let t=_m(e),{args:n,keys:r}=Mm(e),o=new gt(i=>{let{length:s}=n;if(!s){i.complete();return}let l=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let p=!1;nn(n[d]).subscribe(pt(i,f=>{p||(p=!0,u--),l[d]=f},()=>c--,void 0,()=>{(!c||!p)&&(u||i.next(r?Rm(r,l):l),i.complete())}))}});return t?o.pipe(Am(t)):o}function Ok(e=0,t,n=_k){let r=-1;return t!=null&&(ym(t)?n=t:r=t),new gt(o=>{let i=Ak(e)?+e-n.now():e;i<0&&(i=0);let s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function Hv(...e){let t=ci(e),n=$k(e,1/0),r=e;return r.length?r.length===1?nn(r[0]):ms(n)(rn(r,t)):rr}function Pn(e,t){return ft((n,r)=>{let o=0;n.subscribe(pt(r,i=>e.call(t,i,o++)&&r.next(i)))})}function Nk(e){return ft((t,n)=>{let r=!1,o=null,i=null,s=!1,l=()=>{if(i?.unsubscribe(),i=null,r){r=!1;let u=o;o=null,n.next(u)}s&&n.complete()},c=()=>{i=null,s&&n.complete()};t.subscribe(pt(n,u=>{r=!0,o=u,i||nn(e(u)).subscribe(i=pt(n,l,c))},()=>{s=!0,(!r||!i||i.closed)&&n.complete()}))})}function Gv(e,t=Hu){return Nk(()=>Ok(e,t))}function gs(e){return ft((t,n)=>{let r=null,o=!1,i;r=t.subscribe(pt(n,void 0,void 0,s=>{i=nn(e(s,gs(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function Pk(e,t,n,r,o){return(i,s)=>{let l=n,c=t,u=0;i.subscribe(pt(s,d=>{let p=u++;c=l?e(c,d,p):(l=!0,d),r&&s.next(c)},o&&(()=>{l&&s.next(c),s.complete()})))}}function Oi(e,t){return dt(t)?Nn(e,t,1):Nn(e,1)}function Om(e,t=Hu){return ft((n,r)=>{let o=null,i=null,s=null,l=()=>{if(o){o.unsubscribe(),o=null;let u=i;i=null,r.next(u)}};function c(){let u=s+e,d=t.now();if(d<u){o=this.schedule(void 0,u-d),r.add(o);return}l()}n.subscribe(pt(r,u=>{i=u,s=t.now(),o||(o=t.schedule(c,e),r.add(o))},()=>{l(),r.complete()},void 0,()=>{i=o=null}))})}function bs(e){return ft((t,n)=>{let r=!1;t.subscribe(pt(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function Po(e){return e<=0?()=>rr:ft((t,n)=>{let r=0;t.subscribe(pt(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function qv(e){return nt(()=>e)}function Nm(e,t=wr){return e=e??FZ,ft((n,r)=>{let o,i=!0;n.subscribe(pt(r,s=>{let l=t(s);(i||!e(o,l))&&(i=!1,o=l,r.next(s))}))})}function FZ(e,t){return e===t}function Pm(e=kZ){return ft((t,n)=>{let r=!1;t.subscribe(pt(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function kZ(){return new ji}function ga(e){return ft((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function ui(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Pn((o,i)=>e(o,i,r)):wr,Po(1),n?bs(t):Pm(()=>new ji))}function Hl(e){return e<=0?()=>rr:ft((t,n)=>{let r=[];t.subscribe(pt(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function Kv(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Pn((o,i)=>e(o,i,r)):wr,Hl(1),n?bs(t):Pm(()=>new ji))}function Xv(e,t){return ft(Pk(e,t,arguments.length>=2,!0))}function Bk(e={}){let{connector:t=()=>new $t,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,l,c,u=0,d=!1,p=!1,f=()=>{l?.unsubscribe(),l=void 0},m=()=>{f(),s=c=void 0,d=p=!1},h=()=>{let g=s;m(),g?.unsubscribe()};return ft((g,_)=>{u++,!p&&!d&&f();let $=c=c??t();_.add(()=>{u--,u===0&&!p&&!d&&(l=Yv(h,o))}),$.subscribe(_),!s&&u>0&&(s=new Ri({next:x=>$.next(x),error:x=>{p=!0,f(),l=Yv(m,n,x),$.error(x)},complete:()=>{d=!0,f(),l=Yv(m,r),$.complete()}}),nn(g).subscribe(s))})(i)}}function Yv(e,t,...n){if(t===!0){e();return}if(t===!1)return;let r=new Ri({next:()=>{r.unsubscribe(),e()}});return nn(t(...n)).subscribe(r)}function Bm(e,t,n){let r,o=!1;return e&&typeof e=="object"?{bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:n}=e:r=e??1/0,Bk({connector:()=>new mm(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function Gu(e){return Pn((t,n)=>e<=n)}function Gl(...e){let t=ci(e);return ft((n,r)=>{(t?hs(e,n,t):hs(e,n)).subscribe(r)})}function Sr(e,t){return ft((n,r)=>{let o=null,i=0,s=!1,l=()=>s&&!o&&r.complete();n.subscribe(pt(r,c=>{o?.unsubscribe();let u=0,d=i++;nn(e(c,d)).subscribe(o=pt(r,p=>r.next(t?t(c,p,d,u++):p),()=>{o=null,l()}))},()=>{s=!0,l()}))})}function or(e){return ft((t,n)=>{nn(e).subscribe(pt(n,()=>n.complete(),Wu)),!n.closed&&t.subscribe(n)})}function Vn(e,t,n){let r=dt(e)||t||n?{next:e,error:t,complete:n}:e;return r?ft((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let l=!0;o.subscribe(pt(i,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},()=>{var c;l=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var u;l=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},()=>{var c,u;l&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):wr}var AZ="https://g.co/ng/security#xss",je=class extends Error{constructor(t,n){super(wh(t,n)),this.code=t}};function wh(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function rd(e){return{toString:e}.toString()}var Lm="__parameters__";function MZ(e){return function(...n){if(e){let r=e(...n);for(let o in r)this[o]=r[o]}}}function SA(e,t,n){return rd(()=>{let r=MZ(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return l.annotation=s,l;function l(c,u,d){let p=c.hasOwnProperty(Lm)?c[Lm]:Object.defineProperty(c,Lm,{value:[]})[Lm];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(s),c}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}var Wo=globalThis;function on(e){for(let t in e)if(e[t]===on)return t;throw Error("Could not find renamed property on target object.")}function RZ(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Tr(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Tr).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function u0(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var jZ=on({__forward_ref__:on});function Li(e){return e.__forward_ref__=Li,e.toString=function(){return Tr(this())},e}function Cr(e){return CA(e)?e():e}function CA(e){return typeof e=="function"&&e.hasOwnProperty(jZ)&&e.__forward_ref__===Li}function ve(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function rt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Sh(e){return Lk(e,EA)||Lk(e,TA)}function IA(e){return Sh(e)!==null}function Lk(e,t){return e.hasOwnProperty(t)?e[t]:null}function OZ(e){let t=e&&(e[EA]||e[TA]);return t||null}function Uk(e){return e&&(e.hasOwnProperty(Wk)||e.hasOwnProperty(NZ))?e[Wk]:null}var EA=on({\u0275prov:on}),Wk=on({\u0275inj:on}),TA=on({ngInjectableDef:on}),NZ=on({ngInjectorDef:on}),$e=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ve({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function DA(e){return e&&!!e.\u0275providers}var PZ=on({\u0275cmp:on}),BZ=on({\u0275dir:on}),LZ=on({\u0275pipe:on}),UZ=on({\u0275mod:on}),Ym=on({\u0275fac:on}),qu=on({__NG_ELEMENT_ID__:on}),zk=on({__NG_ENV_ID__:on});function nw(e){return typeof e=="string"?e:e==null?"":String(e)}function WZ(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():nw(e)}function zZ(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new je(-200,e)}function rw(e,t){throw new je(-201,!1)}var xt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(xt||{}),d0;function FA(){return d0}function uo(e){let t=d0;return d0=e,t}function kA(e,t,n){let r=Sh(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&xt.Optional)return null;if(t!==void 0)return t;rw(e,"Injector")}var VZ={},Xu=VZ,p0="__NG_DI_FLAG__",Zm="ngTempTokenPath",HZ="ngTokenPath",GZ=/\n/gm,qZ="\u0275",Vk="__source",Yl;function KZ(){return Yl}function ys(e){let t=Yl;return Yl=e,t}function XZ(e,t=xt.Default){if(Yl===void 0)throw new je(-203,!1);return Yl===null?kA(e,void 0,t):Yl.get(e,t&xt.Optional?null:void 0,t)}function _e(e,t=xt.Default){return(FA()||XZ)(Cr(e),t)}function de(e,t=xt.Default){return _e(e,Ch(t))}function Ch(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function f0(e){let t=[];for(let n=0;n<e.length;n++){let r=Cr(e[n]);if(Array.isArray(r)){if(r.length===0)throw new je(900,!1);let o,i=xt.Default;for(let s=0;s<r.length;s++){let l=r[s],c=YZ(l);typeof c=="number"?c===-1?o=l.token:i|=c:o=l}t.push(_e(o,i))}else t.push(_e(r))}return t}function AA(e,t){return e[p0]=t,e.prototype[p0]=t,e}function YZ(e){return e[p0]}function ZZ(e,t,n,r){let o=e[Zm];throw t[Vk]&&o.unshift(t[Vk]),e.message=QZ(`
`+e.message,o,n,r),e[HZ]=o,e[Zm]=null,e}function QZ(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==qZ?e.slice(2):e;let o=Tr(t);if(Array.isArray(t))o=t.map(Tr).join(" -> ");else if(typeof t=="object"){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let l=t[s];i.push(s+":"+(typeof l=="string"?JSON.stringify(l):Tr(l)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(GZ,`
  `)}`}var Ih=AA(SA("Optional"),8);var ow=AA(SA("SkipSelf"),4);function Ql(e,t){let n=e.hasOwnProperty(Ym);return n?e[Ym]:null}function JZ(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}function eQ(e){return e.flat(Number.POSITIVE_INFINITY)}function iw(e,t){e.forEach(n=>Array.isArray(n)?iw(n,t):t(n))}function MA(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Qm(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function tQ(e,t){let n=[];for(let r=0;r<e;r++)n.push(t);return n}function nQ(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--}e[t]=n,e[t+1]=r}}function sw(e,t,n){let r=od(e,t);return r>=0?e[r|1]=n:(r=~r,nQ(e,r,t,n)),r}function Zv(e,t){let n=od(e,t);if(n>=0)return e[n|1]}function od(e,t){return rQ(e,t,1)}function rQ(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}var Jl={},Ir=[],ec=new $e(""),RA=new $e("",-1),jA=new $e(""),Jm=class{get(t,n=Xu){if(n===Xu){let r=new Error(`NullInjectorError: No provider for ${Tr(t)}!`);throw r.name="NullInjectorError",r}return n}},OA=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(OA||{}),fi=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(fi||{}),xs=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(xs||{});function oQ(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}function m0(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],l=n[r++];e.setAttribute(t,s,l,i)}else{let i=o,s=n[++r];iQ(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function NA(e){return e===3||e===4||e===6}function iQ(e){return e.charCodeAt(0)===64}function Yu(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Hk(e,n,o,null,t[++r]):Hk(e,n,o,null,null))}}return e}function Hk(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let l=e[i++];if(typeof l=="number"){if(l===t){s=-1;break}else if(l>t){s=i-1;break}}}for(;i<e.length;){let l=e[i];if(typeof l=="number")break;if(l===n){if(r===null){o!==null&&(e[i+1]=o);return}else if(r===e[i+1]){e[i+2]=o;return}}i++,r!==null&&i++,o!==null&&i++}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),r!==null&&e.splice(i++,0,r),o!==null&&e.splice(i++,0,o)}var PA="ng-template";function sQ(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&oQ(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(aw(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function aw(e){return e.type===4&&e.value!==PA}function aQ(e,t,n){let r=e.type===4&&!n?PA:e.value;return t===r}function lQ(e,t,n){let r=4,o=e.attrs,i=o!==null?dQ(o):0,s=!1;for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="number"){if(!s&&!Bo(r)&&!Bo(c))return!1;if(s&&Bo(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!aQ(e,c,n)||c===""&&t.length===1){if(Bo(r))return!1;s=!0}}else if(r&8){if(o===null||!sQ(e,o,c,n)){if(Bo(r))return!1;s=!0}}else{let u=t[++l],d=cQ(c,o,aw(e),n);if(d===-1){if(Bo(r))return!1;s=!0;continue}if(u!==""){let p;if(d>i?p="":p=o[d+1].toLowerCase(),r&2&&u!==p){if(Bo(r))return!1;s=!0}}}}return Bo(r)||s}function Bo(e){return(e&1)===0}function cQ(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let l=t[++o];for(;typeof l=="string";)l=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return pQ(t,e)}function BA(e,t,n=!1){for(let r=0;r<t.length;r++)if(lQ(e,t[r],n))return!0;return!1}function uQ(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if(!(n&1))return t[n+1]}return null}function dQ(e){for(let t=0;t<e.length;t++){let n=e[t];if(NA(n))return t}return e.length}function pQ(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function fQ(e,t){e:for(let n=0;n<t.length;n++){let r=t[n];if(e.length===r.length){for(let o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return!0}}return!1}function Gk(e,t){return e?":not("+t.trim()+")":t}function mQ(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let l=e[++n];o+="["+s+(l.length>0?'="'+l+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Bo(s)&&(t+=Gk(i,o),o=""),r=s,i=i||!Bo(r);n++}return o!==""&&(t+=Gk(i,o)),t}function hQ(e){return e.map(mQ).join(",")}function gQ(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!Bo(o))break;o=i}r++}return{attrs:t,classes:n}}function Oe(e){return rd(()=>{let t=VA(e),n=tt(fe({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===OA.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||fi.Emulated,styles:e.styles||Ir,_:null,schemas:e.schemas||null,tView:null,id:""});HA(n);let r=e.dependencies;return n.directiveDefs=Kk(r,!1),n.pipeDefs=Kk(r,!0),n.id=_Q(n),n})}function bQ(e){return vs(e)||LA(e)}function yQ(e){return e!==null}function ot(e){return rd(()=>({type:e.type,bootstrap:e.bootstrap||Ir,declarations:e.declarations||Ir,imports:e.imports||Ir,exports:e.exports||Ir,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function qk(e,t){if(e==null)return Jl;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,l=xs.None;Array.isArray(o)?(l=o[0],i=o[1],s=o[2]??i):(i=o,s=o),t?(n[i]=l!==xs.None?[r,l]:r,t[i]=s):n[i]=r}return n}function Be(e){return rd(()=>{let t=VA(e);return HA(t),t})}function vs(e){return e[PZ]||null}function LA(e){return e[BZ]||null}function UA(e){return e[LZ]||null}function WA(e){let t=vs(e)||LA(e)||UA(e);return t!==null?t.standalone:!1}function zA(e,t){let n=e[UZ]||null;if(!n&&t===!0)throw new Error(`Type ${Tr(e)} does not have '\u0275mod' property.`);return n}function VA(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Jl,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||Ir,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qk(e.inputs,t),outputs:qk(e.outputs),debugInfo:null}}function HA(e){e.features?.forEach(t=>t(e))}function Kk(e,t){if(!e)return null;let n=t?UA:bQ;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(yQ)}function _Q(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let o of n)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Eh(e){return{\u0275providers:e}}function $Q(...e){return{\u0275providers:GA(!0,e),\u0275fromNgModule:!0}}function GA(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s)};return iw(t,s=>{let l=s;h0(l,i,[],r)&&(o||=[],o.push(l))}),o!==void 0&&qA(o,i),n}function qA(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];lw(o,i=>{t(i,r)})}}function h0(e,t,n,r){if(e=Cr(e),!e)return!1;let o=null,i=Uk(e),s=!i&&vs(e);if(!i&&!s){let c=e.ngModule;if(i=Uk(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=e}let l=r.has(o);if(s){if(l)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)h0(u,t,n,r)}}else if(i){if(i.imports!=null&&!l){r.add(o);let u;try{iw(i.imports,d=>{h0(d,t,n,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&qA(u,t)}if(!l){let u=Ql(o)||(()=>new o);t({provide:o,useFactory:u,deps:Ir},o),t({provide:jA,useValue:o,multi:!0},o),t({provide:ec,useValue:()=>_e(o),multi:!0},o)}let c=i.providers;if(c!=null&&!l){let u=e;lw(c,d=>{t(d,u)})}}else return!1;return o!==e&&e.providers!==void 0}function lw(e,t){for(let n of e)DA(n)&&(n=n.\u0275providers),Array.isArray(n)?lw(n,t):t(n)}var xQ=on({provide:String,useValue:on});function KA(e){return e!==null&&typeof e=="object"&&xQ in e}function vQ(e){return!!(e&&e.useExisting)}function wQ(e){return!!(e&&e.useFactory)}function tc(e){return typeof e=="function"}function SQ(e){return!!e.useClass}var Th=new $e(""),Vm={},CQ={},Qv;function cw(){return Qv===void 0&&(Qv=new Jm),Qv}var Dr=class{},Zu=class extends Dr{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,b0(t,s=>this.processProvider(s)),this.records.set(RA,ql(void 0,this)),o.has("environment")&&this.records.set(Dr,ql(void 0,this));let i=this.records.get(Th);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(jA,Ir,xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=Dt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Dt(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=ys(this),r=uo(void 0),o;try{return t()}finally{ys(n),uo(r)}}get(t,n=Xu,r=xt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(zk))return t[zk](this);r=Ch(r);let o,i=ys(this),s=uo(void 0);try{if(!(r&xt.SkipSelf)){let c=this.records.get(t);if(c===void 0){let u=FQ(t)&&Sh(t);u&&this.injectableDefInScope(u)?c=ql(g0(t),Vm):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c)}let l=r&xt.Self?cw():this.parent;return n=r&xt.Optional&&n===Xu?null:n,l.get(t,n)}catch(l){if(l.name==="NullInjectorError"){if((l[Zm]=l[Zm]||[]).unshift(Tr(t)),i)throw l;return ZZ(l,t,"R3InjectorError",this.source)}else throw l}finally{uo(s),ys(i)}}resolveInjectorInitializers(){let t=Dt(null),n=ys(this),r=uo(void 0),o;try{let i=this.get(ec,Ir,xt.Self);for(let s of i)s()}finally{ys(n),uo(r),Dt(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Tr(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new je(205,!1)}processProvider(t){t=Cr(t);let n=tc(t)?t:Cr(t&&t.provide),r=EQ(t);if(!tc(t)&&t.multi===!0){let o=this.records.get(n);o||(o=ql(void 0,Vm,!0),o.factory=()=>f0(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=Dt(null);try{return n.value===Vm&&(n.value=CQ,n.value=n.factory()),typeof n.value=="object"&&n.value&&DQ(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Dt(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Cr(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function g0(e){let t=Sh(e),n=t!==null?t.factory:Ql(e);if(n!==null)return n;if(e instanceof $e)throw new je(204,!1);if(e instanceof Function)return IQ(e);throw new je(204,!1)}function IQ(e){if(e.length>0)throw new je(204,!1);let n=OZ(e);return n!==null?()=>n.factory(e):()=>new e}function EQ(e){if(KA(e))return ql(void 0,e.useValue);{let t=XA(e);return ql(t,Vm)}}function XA(e,t,n){let r;if(tc(e)){let o=Cr(e);return Ql(o)||g0(o)}else if(KA(e))r=()=>Cr(e.useValue);else if(wQ(e))r=()=>e.useFactory(...f0(e.deps||[]));else if(vQ(e))r=()=>_e(Cr(e.useExisting));else{let o=Cr(e&&(e.useClass||e.provide));if(TQ(e))r=()=>new o(...f0(e.deps));else return Ql(o)||g0(o)}return r}function ql(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function TQ(e){return!!e.deps}function DQ(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function FQ(e){return typeof e=="function"||typeof e=="object"&&e instanceof $e}function b0(e,t){for(let n of e)Array.isArray(n)?b0(n,t):n&&DA(n)?b0(n.\u0275providers,t):t(n)}function Xr(e,t){e instanceof Zu&&e.assertNotDestroyed();let n,r=ys(e),o=uo(void 0);try{return t()}finally{ys(r),uo(o)}}function YA(){return FA()!==void 0||KZ()!=null}function ZA(e){if(!YA())throw new je(-203,!1)}function kQ(e){let t=Wo.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function AQ(e){return typeof e=="function"}var Ui=0,mt=1,Je=2,pr=3,Uo=4,Lr=5,Qu=6,eh=7,fo=8,nc=9,Ni=10,vn=11,Ju=12,Xk=13,uc=14,mo=15,_a=16,Kl=17,Pi=18,Dh=19,QA=20,_s=21,Jv=22,po=23,Br=25,JA=1;var $a=7,th=8,rc=9,Pr=10,nh=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(nh||{});function $s(e){return Array.isArray(e)&&typeof e[JA]=="object"}function Wi(e){return Array.isArray(e)&&e[JA]===!0}function uw(e){return(e.flags&4)!==0}function Fh(e){return e.componentOffset>-1}function kh(e){return(e.flags&1)===1}function ws(e){return!!e.template}function y0(e){return(e[Je]&512)!==0}var _0=class{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function eM(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}function mr(){return tM}function tM(e){return e.type.prototype.ngOnChanges&&(e.setInput=RQ),MQ}mr.ngInherit=!0;function MQ(){let e=rM(this),t=e?.current;if(t){let n=e.previous;if(n===Jl)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function RQ(e,t,n,r,o){let i=this.declaredInputs[r],s=rM(e)||jQ(e,{previous:Jl,current:null}),l=s.current||(s.current={}),c=s.previous,u=c[i];l[i]=new _0(u&&u.currentValue,n,c===Jl),eM(e,t,o,n)}var nM="__ngSimpleChanges__";function rM(e){return e[nM]||null}function jQ(e,t){return e[nM]=t}var Yk=null;var di=function(e,t,n){Yk?.(e,t,n)},OQ="svg",NQ="math";function mi(e){for(;Array.isArray(e);)e=e[Ui];return e}function oM(e,t){return mi(t[e])}function ho(e,t){return mi(t[e.index])}function dw(e,t){return e.data[t]}function PQ(e,t){return e[t]}function Is(e,t){let n=t[e];return $s(n)?n:n[Ui]}function BQ(e){return(e[Je]&4)===4}function pw(e){return(e[Je]&128)===128}function LQ(e){return Wi(e[pr])}function oc(e,t){return t==null?null:e[t]}function iM(e){e[Kl]=0}function sM(e){e[Je]&1024||(e[Je]|=1024,pw(e)&&Ah(e))}function UQ(e,t){for(;e>0;)t=t[uc],e--;return t}function ed(e){return!!(e[Je]&9216||e[po]?.dirty)}function $0(e){e[Ni].changeDetectionScheduler?.notify(7),e[Je]&64&&(e[Je]|=1024),ed(e)&&Ah(e)}function Ah(e){e[Ni].changeDetectionScheduler?.notify(0);let t=xa(e);for(;t!==null&&!(t[Je]&8192||(t[Je]|=8192,!pw(t)));)t=xa(t)}function aM(e,t){if((e[Je]&256)===256)throw new je(911,!1);e[_s]===null&&(e[_s]=[]),e[_s].push(t)}function WQ(e,t){if(e[_s]===null)return;let n=e[_s].indexOf(t);n!==-1&&e[_s].splice(n,1)}function xa(e){let t=e[pr];return Wi(t)?t[pr]:t}var vt={lFrame:gM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var lM=!1;function zQ(){return vt.lFrame.elementDepthCount}function VQ(){vt.lFrame.elementDepthCount++}function HQ(){vt.lFrame.elementDepthCount--}function cM(){return vt.bindingsEnabled}function uM(){return vt.skipHydrationRootTNode!==null}function GQ(e){return vt.skipHydrationRootTNode===e}function qQ(){vt.skipHydrationRootTNode=null}function It(){return vt.lFrame.lView}function Tn(){return vt.lFrame.tView}function Pt(e){return vt.lFrame.contextLView=e,e[fo]}function Bt(e){return vt.lFrame.contextLView=null,e}function ir(){let e=dM();for(;e!==null&&e.type===64;)e=e.parent;return e}function dM(){return vt.lFrame.currentTNode}function KQ(){let e=vt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Ea(e,t){let n=vt.lFrame;n.currentTNode=e,n.isParent=t}function fw(){return vt.lFrame.isParent}function mw(){vt.lFrame.isParent=!1}function XQ(){return vt.lFrame.contextLView}function pM(){return lM}function Zk(e){lM=e}function YQ(e){return vt.lFrame.bindingIndex=e}function dc(){return vt.lFrame.bindingIndex++}function fM(e){let t=vt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function ZQ(){return vt.lFrame.inI18n}function QQ(e,t){let n=vt.lFrame;n.bindingIndex=n.bindingRootIndex=e,x0(t)}function JQ(){return vt.lFrame.currentDirectiveIndex}function x0(e){vt.lFrame.currentDirectiveIndex=e}function eJ(e){let t=vt.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function hw(){return vt.lFrame.currentQueryIndex}function Mh(e){vt.lFrame.currentQueryIndex=e}function tJ(e){let t=e[mt];return t.type===2?t.declTNode:t.type===1?e[Lr]:null}function mM(e,t,n){if(n&xt.SkipSelf){let o=t,i=e;for(;o=o.parent,o===null&&!(n&xt.Host);)if(o=tJ(i),o===null||(i=i[uc],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=vt.lFrame=hM();return r.currentTNode=t,r.lView=e,!0}function gw(e){let t=hM(),n=e[mt];vt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function hM(){let e=vt.lFrame,t=e===null?null:e.child;return t===null?gM(e):t}function gM(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function bM(){let e=vt.lFrame;return vt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var yM=bM;function bw(){let e=bM();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function nJ(e){return(vt.lFrame.contextLView=UQ(e,vt.lFrame.contextLView))[fo]}function Ta(){return vt.lFrame.selectedIndex}function va(e){vt.lFrame.selectedIndex=e}function id(){let e=vt.lFrame;return dw(e.tView,e.selectedIndex)}function rJ(){return vt.lFrame.currentNamespace}var _M=!0;function Rh(){return _M}function jh(e){_M=e}function oJ(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=tM(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function Oh(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:l,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=i;s&&(e.contentHooks??=[]).push(-n,s),l&&((e.contentHooks??=[]).push(n,l),(e.contentCheckHooks??=[]).push(n,l)),c&&(e.viewHooks??=[]).push(-n,c),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),d!=null&&(e.destroyHooks??=[]).push(n,d)}}function Hm(e,t,n){$M(e,t,3,n)}function Gm(e,t,n,r){(e[Je]&3)===n&&$M(e,t,n,r)}function e0(e,t){let n=e[Je];(n&3)===t&&(n&=16383,n+=1,e[Je]=n)}function $M(e,t,n,r){let o=r!==void 0?e[Kl]&65535:0,i=r??-1,s=t.length-1,l=0;for(let c=o;c<s;c++)if(typeof t[c+1]=="number"){if(l=t[c],r!=null&&l>=r)break}else t[c]<0&&(e[Kl]+=65536),(l<i||i==-1)&&(iJ(e,n,t,c),e[Kl]=(e[Kl]&4294901760)+c+2),c++}function Qk(e,t){di(4,e,t);let n=Dt(null);try{t.call(e)}finally{Dt(n),di(5,e,t)}}function iJ(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],l=e[s];o?e[Je]>>14<e[Kl]>>16&&(e[Je]&3)===t&&(e[Je]+=16384,Qk(l,i)):Qk(l,i)}var Zl=-1,wa=class{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function sJ(e){return e instanceof wa}function aJ(e){return(e.flags&8)!==0}function lJ(e){return(e.flags&16)!==0}var t0={},v0=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Ch(r);let o=this.injector.get(t,t0,r);return o!==t0||n===t0?o:this.parentInjector.get(t,n,r)}};function xM(e){return e!==Zl}function rh(e){return e&32767}function cJ(e){return e>>16}function oh(e,t){let n=cJ(e),r=t;for(;n>0;)r=r[uc],n--;return r}var w0=!0;function Jk(e){let t=w0;return w0=e,t}var uJ=256,vM=uJ-1,wM=5,dJ=0,pi={};function pJ(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(qu)&&(r=n[qu]),r==null&&(r=n[qu]=dJ++);let o=r&vM,i=1<<o;t.data[e+(o>>wM)]|=i}function ih(e,t){let n=SM(e,t);if(n!==-1)return n;let r=t[mt];r.firstCreatePass&&(e.injectorIndex=t.length,n0(r.data,e),n0(t,null),n0(r.blueprint,null));let o=yw(e,t),i=e.injectorIndex;if(xM(o)){let s=rh(o),l=oh(o,t),c=l[mt].data;for(let u=0;u<8;u++)t[i+u]=l[s+u]|c[s+u]}return t[i+8]=o,i}function n0(e,t){e.push(0,0,0,0,0,0,0,0,t)}function SM(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function yw(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=DM(o),r===null)return Zl;if(n++,o=o[uc],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Zl}function S0(e,t,n){pJ(e,t,n)}function fJ(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,o=0;for(;o<r;){let i=n[o];if(NA(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof n[o]=="string";)o++;else{if(i===t)return n[o+1];o=o+2}}}return null}function CM(e,t,n){if(n&xt.Optional||e!==void 0)return e;rw(t,"NodeInjector")}function IM(e,t,n,r){if(n&xt.Optional&&r===void 0&&(r=null),!(n&(xt.Self|xt.Host))){let o=e[nc],i=uo(void 0);try{return o?o.get(t,r,n&xt.Optional):kA(t,r,n&xt.Optional)}finally{uo(i)}}return CM(r,t,n)}function EM(e,t,n,r=xt.Default,o){if(e!==null){if(t[Je]&2048&&!(r&xt.Self)){let s=bJ(e,t,n,r,pi);if(s!==pi)return s}let i=TM(e,t,n,r,pi);if(i!==pi)return i}return IM(t,n,r,o)}function TM(e,t,n,r,o){let i=hJ(n);if(typeof i=="function"){if(!mM(t,e,r))return r&xt.Host?CM(o,n,r):IM(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&xt.Optional))rw(n);else return s}finally{yM()}}else if(typeof i=="number"){let s=null,l=SM(e,t),c=Zl,u=r&xt.Host?t[mo][Lr]:null;for((l===-1||r&xt.SkipSelf)&&(c=l===-1?yw(e,t):t[l+8],c===Zl||!tA(r,!1)?l=-1:(s=t[mt],l=rh(c),t=oh(c,t)));l!==-1;){let d=t[mt];if(eA(i,l,d.data)){let p=mJ(l,t,n,s,r,u);if(p!==pi)return p}c=t[l+8],c!==Zl&&tA(r,t[mt].data[l+8]===u)&&eA(i,l,t)?(s=d,l=rh(c),t=oh(c,t)):l=-1}}return o}function mJ(e,t,n,r,o,i){let s=t[mt],l=s.data[e+8],c=r==null?Fh(l)&&w0:r!=s&&(l.type&3)!==0,u=o&xt.Host&&i===l,d=qm(l,s,n,c,u);return d!==null?Sa(t,s,d,l):pi}function qm(e,t,n,r,o){let i=e.providerIndexes,s=t.data,l=i&1048575,c=e.directiveStart,u=e.directiveEnd,d=i>>20,p=r?l:l+d,f=o?l+d:u;for(let m=p;m<f;m++){let h=s[m];if(m<c&&n===h||m>=c&&h.type===n)return m}if(o){let m=s[c];if(m&&ws(m)&&m.type===n)return c}return null}function Sa(e,t,n,r){let o=e[n],i=t.data;if(sJ(o)){let s=o;s.resolving&&zZ(WZ(i[n]));let l=Jk(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?uo(s.injectImpl):null,d=mM(e,r,xt.Default);try{o=e[n]=s.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&oJ(n,i[n],t)}finally{u!==null&&uo(u),Jk(l),s.resolving=!1,yM()}}return o}function hJ(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(qu)?e[qu]:void 0;return typeof t=="number"?t>=0?t&vM:gJ:t}function eA(e,t,n){let r=1<<e;return!!(n[t+(e>>wM)]&r)}function tA(e,t){return!(e&xt.Self)&&!(e&xt.Host&&t)}var ya=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return EM(this._tNode,this._lView,t,Ch(r),n)}};function gJ(){return new ya(ir(),It())}function hr(e){return rd(()=>{let t=e.prototype.constructor,n=t[Ym]||C0(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[Ym]||C0(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function C0(e){return CA(e)?()=>{let t=C0(Cr(e));return t&&t()}:Ql(e)}function bJ(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[Je]&2048&&!(s[Je]&512);){let l=TM(i,s,n,r|xt.Self,pi);if(l!==pi)return l;let c=i.parent;if(!c){let u=s[QA];if(u){let d=u.get(n,pi,r);if(d!==pi)return d}c=DM(s),s=s[uc]}i=c}return o}function DM(e){let t=e[mt],n=t.type;return n===2?t.declTNode:n===1?e[Lr]:null}function Es(e){return fJ(ir(),e)}function nA(e,t=null,n=null,r){let o=FM(e,t,n,r);return o.resolveInjectorInitializers(),o}function FM(e,t=null,n=null,r,o=new Set){let i=[n||Ir,$Q(e)];return r=r||(typeof e=="object"?void 0:Tr(e)),new Zu(i,t||cw(),r||null,o)}var ba=class ba{static create(t,n){if(Array.isArray(t))return nA({name:""},n,t,"");{let r=t.name??"";return nA({name:r},t.parent,t.providers,r)}}};ba.THROW_IF_NOT_FOUND=Xu,ba.NULL=new Jm,ba.\u0275prov=ve({token:ba,providedIn:"any",factory:()=>_e(RA)}),ba.__NG_ELEMENT_ID__=-1;var kn=ba;var yJ=new $e("");yJ.__NG_ELEMENT_ID__=e=>{let t=ir();if(t===null)throw new je(204,!1);if(t.type&2)return t.value;if(e&xt.Optional)return null;throw new je(204,!1)};var _J="ngOriginalError";function r0(e){return e[_J]}var zo=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&r0(t);for(;n&&r0(n);)n=r0(n);return n||null}},kM=new $e("",{providedIn:"root",factory:()=>de(zo).handleError.bind(void 0)}),_w=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=$J,t.__NG_ENV_ID__=r=>r;let e=t;return e})(),I0=class extends _w{constructor(t){super(),this._lView=t}onDestroy(t){return aM(this._lView,t),()=>WQ(this._lView,t)}};function $J(){return new I0(It())}function xJ(){return pc(ir(),It())}function pc(e,t){return new ct(ho(e,t))}var ct=(()=>{let t=class t{constructor(r){this.nativeElement=r}};t.__NG_ELEMENT_ID__=xJ;let e=t;return e})();function AM(e){return e instanceof ct?e.nativeElement:e}var Ts=(()=>{let t=class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Fn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};t.\u0275prov=ve({token:t,providedIn:"root",factory:()=>new t});let e=t;return e})();var E0=class extends $t{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,YA()&&(this.destroyRef=de(_w,{optional:!0})??void 0,this.pendingTasks=de(Ts,{optional:!0})??void 0)}emit(t){let n=Dt(null);try{super.next(t)}finally{Dt(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let l=super.subscribe({next:o,error:i,complete:s});return t instanceof dn&&t.add(l),l}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Vt=E0;function vJ(){return this._results[Symbol.iterator]()}var sh=class e{get changes(){return this._changes??=new Vt}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=e.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=vJ)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=eQ(t);(this._changesDetected=!JZ(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function MM(e){return(e.flags&128)===128}var RM=new Map,wJ=0;function SJ(){return wJ++}function CJ(e){RM.set(e[Dh],e)}function IJ(e){RM.delete(e[Dh])}var rA="__ngContext__";function Ss(e,t){$s(t)?(e[rA]=t[Dh],CJ(t)):e[rA]=t}function jM(e){return NM(e[Ju])}function OM(e){return NM(e[Uo])}function NM(e){for(;e!==null&&!Wi(e);)e=e[Uo];return e}var T0;function PM(e){T0=e}function EJ(){if(T0!==void 0)return T0;if(typeof document<"u")return document;throw new je(210,!1)}var sd=new $e("",{providedIn:"root",factory:()=>TJ}),TJ="ng",$w=new $e(""),go=new $e("",{providedIn:"platform",factory:()=>"unknown"});var zi=new $e(""),ad=new $e("",{providedIn:"root",factory:()=>EJ().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var DJ="h",FJ="b";var kJ=()=>null;function xw(e,t,n=!1){return kJ(e,t,n)}var BM=!1,AJ=new $e("",{providedIn:"root",factory:()=>BM});var D0=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${AZ})`}};function Nh(e){return e instanceof D0?e.changingThisBreaksApplicationSecurity:e}var MJ=/^>|^->|<!--|-->|--!>|<!-$/g,RJ=/(<|>)/g,jJ="\u200B$1\u200B";function OJ(e){return e.replace(MJ,t=>t.replace(RJ,jJ))}function LM(e){return e.ownerDocument.defaultView}function UM(e){return e instanceof Function?e():e}function WM(e){return(e??de(kn)).get(go)==="browser"}var Bi=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Bi||{}),NJ;function vw(e,t){return NJ(e,t)}function Xl(e,t,n,r,o){if(r!=null){let i,s=!1;Wi(r)?i=r:$s(r)&&(s=!0,r=r[Ui]);let l=mi(r);e===0&&n!==null?o==null?qM(t,n,l):lh(t,n,l,o||null,!0):e===1&&n!==null?lh(t,n,l,o||null,!0):e===2?QJ(t,l,s):e===3&&t.destroyNode(l),i!=null&&eee(t,e,i,n,o)}}function PJ(e,t){return e.createText(t)}function BJ(e,t,n){e.setValue(t,n)}function LJ(e,t){return e.createComment(OJ(t))}function zM(e,t,n){return e.createElement(t,n)}function UJ(e,t){VM(e,t),t[Ui]=null,t[Lr]=null}function WJ(e,t,n,r,o,i){r[Ui]=o,r[Lr]=t,Bh(e,r,n,1,o,i)}function VM(e,t){t[Ni].changeDetectionScheduler?.notify(8),Bh(e,t,t[vn],2,null,null)}function zJ(e){let t=e[Ju];if(!t)return o0(e[mt],e);for(;t;){let n=null;if($s(t))n=t[Ju];else{let r=t[Pr];r&&(n=r)}if(!n){for(;t&&!t[Uo]&&t!==e;)$s(t)&&o0(t[mt],t),t=t[pr];t===null&&(t=e),$s(t)&&o0(t[mt],t),n=t&&t[Uo]}t=n}}function VJ(e,t,n,r){let o=Pr+r,i=n.length;r>0&&(n[o-1][Uo]=t),r<i-Pr?(t[Uo]=n[o],MA(n,Pr+r,t)):(n.push(t),t[Uo]=null),t[pr]=n;let s=t[_a];s!==null&&n!==s&&HM(s,t);let l=t[Pi];l!==null&&l.insertView(e),$0(t),t[Je]|=128}function HM(e,t){let n=e[rc],r=t[pr];if($s(r))e[Je]|=nh.HasTransplantedViews;else{let o=r[pr][mo];t[mo]!==o&&(e[Je]|=nh.HasTransplantedViews)}n===null?e[rc]=[t]:n.push(t)}function ww(e,t){let n=e[rc],r=n.indexOf(t);n.splice(r,1)}function ah(e,t){if(e.length<=Pr)return;let n=Pr+t,r=e[n];if(r){let o=r[_a];o!==null&&o!==e&&ww(o,r),t>0&&(e[n-1][Uo]=r[Uo]);let i=Qm(e,Pr+t);UJ(r[mt],r);let s=i[Pi];s!==null&&s.detachView(i[mt]),r[pr]=null,r[Uo]=null,r[Je]&=-129}return r}function Sw(e,t){if(!(t[Je]&256)){let n=t[vn];n.destroyNode&&Bh(e,t,n,3,null,null),zJ(t)}}function o0(e,t){if(t[Je]&256)return;let n=Dt(null);try{t[Je]&=-129,t[Je]|=256,t[po]&&kv(t[po]),GJ(e,t),HJ(e,t),t[mt].type===1&&t[vn].destroy();let r=t[_a];if(r!==null&&Wi(t[pr])){r!==t[pr]&&ww(r,t);let o=t[Pi];o!==null&&o.detachView(e)}IJ(t)}finally{Dt(n)}}function HJ(e,t){let n=e.cleanup,r=t[eh];if(n!==null)for(let i=0;i<n.length-1;i+=2)if(typeof n[i]=="string"){let s=n[i+3];s>=0?r[s]():r[-s].unsubscribe(),i+=2}else{let s=r[n[i+1]];n[i].call(s)}r!==null&&(t[eh]=null);let o=t[_s];if(o!==null){t[_s]=null;for(let i=0;i<o.length;i++){let s=o[i];s()}}}function GJ(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof wa)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let l=o[i[s]],c=i[s+1];di(4,l,c);try{c.call(l)}finally{di(5,l,c)}}else{di(4,o,i);try{i.call(o)}finally{di(5,o,i)}}}}}function GM(e,t,n){return qJ(e,t.parent,n)}function qJ(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Ui];{let{componentOffset:o}=r;if(o>-1){let{encapsulation:i}=e.data[r.directiveStart+o];if(i===fi.None||i===fi.Emulated)return null}return ho(r,n)}}function lh(e,t,n,r,o){e.insertBefore(t,n,r,o)}function qM(e,t,n){e.appendChild(t,n)}function oA(e,t,n,r,o){r!==null?lh(e,t,n,r,o):qM(e,t,n)}function KJ(e,t,n,r){e.removeChild(t,n,r)}function Cw(e,t){return e.parentNode(t)}function XJ(e,t){return e.nextSibling(t)}function KM(e,t,n){return ZJ(e,t,n)}function YJ(e,t,n){return e.type&40?ho(e,n):null}var ZJ=YJ,iA;function Ph(e,t,n,r){let o=GM(e,r,t),i=t[vn],s=r.parent||t[Lr],l=KM(s,r,t);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)oA(i,o,n[c],l,!1);else oA(i,o,n,l,!1);iA!==void 0&&iA(i,r,t,n,o)}function Km(e,t){if(t!==null){let n=t.type;if(n&3)return ho(t,e);if(n&4)return F0(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Km(e,r);{let o=e[t.index];return Wi(o)?F0(-1,o):mi(o)}}else{if(n&32)return vw(t,e)()||mi(e[t.index]);{let r=XM(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=xa(e[mo]);return Km(o,r)}else return Km(e,t.next)}}}return null}function XM(e,t){if(t!==null){let r=e[mo][Lr],o=t.projection;return r.projection[o]}return null}function F0(e,t){let n=Pr+e+1;if(n<t.length){let r=t[n],o=r[mt].firstChild;if(o!==null)return Km(r,o)}return t[$a]}function QJ(e,t,n){let r=Cw(e,t);r&&KJ(e,r,t,n)}function Iw(e,t,n,r,o,i,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let l=r[n.index],c=n.type;if(s&&t===0&&(l&&Ss(mi(l),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Iw(e,t,n.child,r,o,i,!1),Xl(t,e,o,l,i);else if(c&32){let u=vw(n,r),d;for(;d=u();)Xl(t,e,o,d,i);Xl(t,e,o,l,i)}else c&16?YM(e,t,r,n,o,i):Xl(t,e,o,l,i);n=s?n.projectionNext:n.next}}function Bh(e,t,n,r,o,i){Iw(n,r,e.firstChild,t,o,i,!1)}function JJ(e,t,n){let r=t[vn],o=GM(e,n,t),i=n.parent||t[Lr],s=KM(i,n,t);YM(r,0,t,n,o,s)}function YM(e,t,n,r,o,i){let s=n[mo],c=s[Lr].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];Xl(t,e,o,d,i)}else{let u=c,d=s[pr];MM(r)&&(u.flags|=128),Iw(e,t,u,d,o,i,!0)}}function eee(e,t,n,r,o){let i=n[$a],s=mi(n);i!==s&&Xl(t,e,r,i,o);for(let l=Pr;l<n.length;l++){let c=n[l];Bh(c[mt],c,e,t,r,i)}}function tee(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:Bi.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Bi.Important),e.setStyle(n,r,o,i))}}function nee(e,t,n){e.setAttribute(t,"style",n)}function ZM(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function QM(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&m0(e,t,r),o!==null&&ZM(e,t,o),i!==null&&nee(e,t,i)}var hi={};function K(e=1){JM(Tn(),It(),Ta()+e,!1)}function JM(e,t,n,r){if(!r)if((t[Je]&3)===3){let i=e.preOrderCheckHooks;i!==null&&Hm(t,i,n)}else{let i=e.preOrderHooks;i!==null&&Gm(t,i,0,n)}va(n)}function q(e,t=xt.Default){let n=It();if(n===null)return _e(e,t);let r=ir();return EM(r,n,Cr(e),t)}function Lh(){let e="invalid";throw new Error(e)}function eR(e,t,n,r,o,i){let s=Dt(null);try{let l=null;o&xs.SignalBased&&(l=t[r][Oo]),l!==null&&l.transformFn!==void 0&&(i=l.transformFn(i)),o&xs.HasDecoratorInputTransform&&(i=e.inputTransforms[r].call(t,i)),e.setInput!==null?e.setInput(t,l,i,n,r):eM(t,l,r,i)}finally{Dt(s)}}function ree(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)va(~o);else{let i=o,s=n[++r],l=n[++r];QQ(s,i);let c=t[i];l(2,c)}}}finally{va(-1)}}function Uh(e,t,n,r,o,i,s,l,c,u,d){let p=t.blueprint.slice();return p[Ui]=o,p[Je]=r|4|128|8|64,(u!==null||e&&e[Je]&2048)&&(p[Je]|=2048),iM(p),p[pr]=p[uc]=e,p[fo]=n,p[Ni]=s||e&&e[Ni],p[vn]=l||e&&e[vn],p[nc]=c||e&&e[nc]||null,p[Lr]=i,p[Dh]=SJ(),p[Qu]=d,p[QA]=u,p[mo]=t.type==2?e[mo]:p,p}function fc(e,t,n,r,o){let i=e.data[t];if(i===null)i=oee(e,t,n,r,o),ZQ()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=KQ();i.injectorIndex=s===null?-1:s.injectorIndex}return Ea(i,!0),i}function oee(e,t,n,r,o){let i=dM(),s=fw(),l=s?i:i&&i.parent,c=e.data[t]=uee(e,l,n,t,r,o);return e.firstChild===null&&(e.firstChild=c),i!==null&&(s?i.child==null&&c.parent!==null&&(i.child=c):i.next===null&&(i.next=c,c.prev=i)),c}function tR(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function nR(e,t,n,r,o){let i=Ta(),s=r&2;try{va(-1),s&&t.length>Br&&JM(e,t,Br,!1),di(s?2:0,o),n(r,o)}finally{va(i),di(s?3:1,o)}}function Ew(e,t,n){if(uw(t)){let r=Dt(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let l=e.data[s];if(l.contentQueries){let c=n[s];l.contentQueries(1,c,s)}}}finally{Dt(r)}}}function Tw(e,t,n){cM()&&(gee(e,t,n,ho(n,t)),(n.flags&64)===64&&iR(e,t,n))}function Dw(e,t,n=ho){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],l=s===-1?n(t,e):e[s];e[o++]=l}}}function rR(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Fw(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Fw(e,t,n,r,o,i,s,l,c,u,d){let p=Br+r,f=p+o,m=iee(p,f),h=typeof u=="function"?u():u;return m[mt]={type:e,blueprint:m,template:n,queries:null,viewQuery:l,declTNode:t,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:h,incompleteFirstPass:!1,ssrId:d}}function iee(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:hi);return n}function see(e,t,n,r){let i=r.get(AJ,BM)||n===fi.ShadowDom,s=e.selectRootElement(t,i);return aee(s),s}function aee(e){lee(e)}var lee=()=>null;function cee(e,t,n,r){let o=lR(t);o.push(n),e.firstCreatePass&&cR(e).push(r,o.length-1)}function uee(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,l=0;return uM()&&(l|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function sA(e,t,n,r,o){for(let i in t){if(!t.hasOwnProperty(i))continue;let s=t[i];if(s===void 0)continue;r??={};let l,c=xs.None;Array.isArray(s)?(l=s[0],c=s[1]):l=s;let u=i;if(o!==null){if(!o.hasOwnProperty(i))continue;u=o[i]}e===0?aA(r,n,u,l,c):aA(r,n,u,l)}return r}function aA(e,t,n,r,o){let i;e.hasOwnProperty(n)?(i=e[n]).push(t,r):i=e[n]=[t,r],o!==void 0&&i.push(o)}function dee(e,t,n){let r=t.directiveStart,o=t.directiveEnd,i=e.data,s=t.attrs,l=[],c=null,u=null;for(let d=r;d<o;d++){let p=i[d],f=n?n.get(p):null,m=f?f.inputs:null,h=f?f.outputs:null;c=sA(0,p.inputs,d,c,m),u=sA(1,p.outputs,d,u,h);let g=c!==null&&s!==null&&!aw(t)?Eee(c,d,s):null;l.push(g)}c!==null&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=l,t.inputs=c,t.outputs=u}function pee(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Wh(e,t,n,r,o,i,s,l){let c=ho(t,n),u=t.inputs,d;!l&&u!=null&&(d=u[r])?(Aw(e,n,d,r,o),Fh(t)&&fee(n,t.index)):t.type&3?(r=pee(r),o=s!=null?s(o,t.value||"",r):o,i.setProperty(c,r,o)):t.type&12}function fee(e,t){let n=Is(t,e);n[Je]&16||(n[Je]|=64)}function kw(e,t,n,r){if(cM()){let o=r===null?null:{"":-1},i=yee(e,n),s,l;i===null?s=l=null:[s,l]=i,s!==null&&oR(e,t,n,s,o,l),o&&_ee(n,r,o)}n.mergedAttrs=Yu(n.mergedAttrs,n.attrs)}function oR(e,t,n,r,o,i){for(let u=0;u<r.length;u++)S0(ih(n,t),e,r[u].type);xee(n,e.data.length,r.length);for(let u=0;u<r.length;u++){let d=r[u];d.providersResolver&&d.providersResolver(d)}let s=!1,l=!1,c=tR(e,t,r.length,null);for(let u=0;u<r.length;u++){let d=r[u];n.mergedAttrs=Yu(n.mergedAttrs,d.hostAttrs),vee(e,n,t,c,d),$ee(c,d,o),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let p=d.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!l&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),l=!0),c++}dee(e,n,i)}function mee(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let l=~t.index;hee(s)!=l&&s.push(l),s.push(n,r,i)}}function hee(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function gee(e,t,n,r){let o=n.directiveStart,i=n.directiveEnd;Fh(n)&&wee(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||ih(n,t),Ss(r,t);let s=n.initialInputs;for(let l=o;l<i;l++){let c=e.data[l],u=Sa(t,e,l,n);if(Ss(u,t),s!==null&&Iee(t,l-o,u,c,n,s),ws(c)){let d=Is(n.index,t);d[fo]=Sa(t,e,l,n)}}}function iR(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=JQ();try{va(i);for(let l=r;l<o;l++){let c=e.data[l],u=t[l];x0(l),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&bee(c,u)}}finally{va(-1),x0(s)}}function bee(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function yee(e,t){let n=e.directiveRegistry,r=null,o=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];if(BA(t,s.selectors,!1))if(r||(r=[]),ws(s))if(s.findHostDirectiveDefs!==null){let l=[];o=o||new Map,s.findHostDirectiveDefs(s,l,o),r.unshift(...l,s);let c=l.length;k0(e,t,c)}else r.unshift(s),k0(e,t,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return r===null?null:[r,o]}function k0(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function _ee(e,t,n){if(t){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new je(-301,!1);r.push(t[o],i)}}}function $ee(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ws(t)&&(n[""]=e)}}function xee(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function vee(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=Ql(o.type,!0)),s=new wa(i,ws(o),q);e.blueprint[r]=s,n[r]=s,mee(e,t,r,tR(e,n,o.hostVars,hi),o)}function wee(e,t,n){let r=ho(t,e),o=rR(n),i=e[Ni].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let l=zh(e,Uh(e,o,null,s,r,t,null,i.createRenderer(r,n),null,null,null));e[t.index]=l}function See(e,t,n,r,o,i){let s=ho(e,t);Cee(t[vn],s,i,e.value,n,r,o)}function Cee(e,t,n,r,o,i,s){if(i==null)e.removeAttribute(t,o,n);else{let l=s==null?nw(i):s(i,r||"",o);e.setAttribute(t,o,l,n)}}function Iee(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let l=0;l<s.length;){let c=s[l++],u=s[l++],d=s[l++],p=s[l++];eR(r,n,c,u,d,p)}}function Eee(e,t,n){let r=null,o=0;for(;o<n.length;){let i=n[o];if(i===0){o+=4;continue}else if(i===5){o+=2;continue}if(typeof i=="number")break;if(e.hasOwnProperty(i)){r===null&&(r=[]);let s=e[i];for(let l=0;l<s.length;l+=3)if(s[l]===t){r.push(i,s[l+1],s[l+2],n[o+1]);break}}o+=2}return r}function sR(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function aR(e,t){let n=e.contentQueries;if(n!==null){let r=Dt(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let l=e.data[s];Mh(i),l.contentQueries(2,t[s],s)}}}finally{Dt(r)}}}function zh(e,t){return e[Ju]?e[Xk][Uo]=t:e[Ju]=t,e[Xk]=t,t}function A0(e,t,n){Mh(0);let r=Dt(null);try{t(e,n)}finally{Dt(r)}}function lR(e){return e[eh]??=[]}function cR(e){return e.cleanup??=[]}function uR(e,t){let n=e[nc],r=n?n.get(zo,null):null;r&&r.handleError(t)}function Aw(e,t,n,r,o){for(let i=0;i<n.length;){let s=n[i++],l=n[i++],c=n[i++],u=t[s],d=e.data[s];eR(d,u,r,l,c,o)}}function Tee(e,t,n){let r=oM(t,e);BJ(e[vn],r,n)}function Dee(e,t){let n=Is(t,e),r=n[mt];Fee(r,n);let o=n[Ui];o!==null&&n[Qu]===null&&(n[Qu]=xw(o,n[nc])),Mw(r,n,n[fo])}function Fee(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Mw(e,t,n){gw(t);try{let r=e.viewQuery;r!==null&&A0(1,r,n);let o=e.template;o!==null&&nR(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Pi]?.finishViewCreation(e),e.staticContentQueries&&aR(e,t),e.staticViewQueries&&A0(2,e.viewQuery,n);let i=e.components;i!==null&&kee(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Je]&=-5,bw()}}function kee(e,t){for(let n=0;n<t.length;n++)Dee(e,t[n])}function Rw(e,t,n,r){let o=Dt(null);try{let i=t.tView,l=e[Je]&4096?4096:16,c=Uh(e,i,n,l,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=e[t.index];c[_a]=u;let d=e[Pi];return d!==null&&(c[Pi]=d.createEmbeddedView(i)),Mw(i,c,n),c}finally{Dt(o)}}function Aee(e,t){let n=Pr+t;if(n<e.length)return e[n]}function ch(e,t){return!t||t.firstChild===null||MM(e)}function jw(e,t,n,r=!0){let o=t[mt];if(VJ(o,t,e,n),r){let s=F0(n,e),l=t[vn],c=Cw(l,e[$a]);c!==null&&WJ(o,e[Lr],l,t,c,s)}let i=t[Qu];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Mee(e,t){let n=ah(e,t);return n!==void 0&&Sw(n[mt],n),n}function uh(e,t,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=t[n.index];i!==null&&r.push(mi(i)),Wi(i)&&Ree(i,r);let s=n.type;if(s&8)uh(e,t,n.child,r);else if(s&32){let l=vw(n,t),c;for(;c=l();)r.push(c)}else if(s&16){let l=XM(t,n);if(Array.isArray(l))r.push(...l);else{let c=xa(t[mo]);uh(c[mt],c,l,r,!0)}}n=o?n.projectionNext:n.next}return r}function Ree(e,t){for(let n=Pr;n<e.length;n++){let r=e[n],o=r[mt].firstChild;o!==null&&uh(r[mt],r,o,t)}e[$a]!==e[Ui]&&t.push(e[$a])}var dR=[];function jee(e){return e[po]??Oee(e)}function Oee(e){let t=dR.pop()??Object.create(Pee);return t.lView=e,t}function Nee(e){e.lView[po]!==e&&(e.lView=null,dR.push(e))}var Pee=tt(fe({},Uu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Ah(e.lView)},consumerOnSignalRead(){this.lView[po]=this}});function Bee(e){let t=e[po]??Object.create(Lee);return t.lView=e,t}var Lee=tt(fe({},Uu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=xa(e.lView);for(;t&&!pR(t[mt]);)t=xa(t);t&&sM(t)},consumerOnSignalRead(){this.lView[po]=this}});function pR(e){return e.type!==2}var Uee=100;function fR(e,t=!0,n=0){let r=e[Ni],o=r.rendererFactory,i=!1;i||o.begin?.();try{Wee(e,n)}catch(s){throw t&&uR(e,s),s}finally{i||(o.end?.(),r.inlineEffectRunner?.flush())}}function Wee(e,t){let n=pM();try{Zk(!0),M0(e,t);let r=0;for(;ed(e);){if(r===Uee)throw new je(103,!1);r++,M0(e,1)}}finally{Zk(n)}}function zee(e,t,n,r){let o=t[Je];if((o&256)===256)return;let i=!1,s=!1;!i&&t[Ni].inlineEffectRunner?.flush(),gw(t);let l=!0,c=null,u=null;i||(pR(e)?(u=jee(t),c=sm(u)):JF()===null?(l=!1,u=Bee(t),c=sm(u)):t[po]&&(kv(t[po]),t[po]=null));try{iM(t),YQ(e.bindingStartIndex),n!==null&&nR(e,t,n,2,r);let d=(o&3)===3;if(!i)if(d){let m=e.preOrderCheckHooks;m!==null&&Hm(t,m,null)}else{let m=e.preOrderHooks;m!==null&&Gm(t,m,0,null),e0(t,0)}if(s||Vee(t),mR(t,0),e.contentQueries!==null&&aR(e,t),!i)if(d){let m=e.contentCheckHooks;m!==null&&Hm(t,m)}else{let m=e.contentHooks;m!==null&&Gm(t,m,1),e0(t,1)}ree(e,t);let p=e.components;p!==null&&gR(t,p,0);let f=e.viewQuery;if(f!==null&&A0(2,f,r),!i)if(d){let m=e.viewCheckHooks;m!==null&&Hm(t,m)}else{let m=e.viewHooks;m!==null&&Gm(t,m,2),e0(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Jv]){for(let m of t[Jv])m();t[Jv]=null}i||(t[Je]&=-73)}catch(d){throw i||Ah(t),d}finally{u!==null&&(Dv(u,c),l&&Nee(u)),bw()}}function mR(e,t){for(let n=jM(e);n!==null;n=OM(n))for(let r=Pr;r<n.length;r++){let o=n[r];hR(o,t)}}function Vee(e){for(let t=jM(e);t!==null;t=OM(t)){if(!(t[Je]&nh.HasTransplantedViews))continue;let n=t[rc];for(let r=0;r<n.length;r++){let o=n[r];sM(o)}}}function Hee(e,t,n){let r=Is(t,e);hR(r,n)}function hR(e,t){pw(e)&&M0(e,t)}function M0(e,t){let r=e[mt],o=e[Je],i=e[po],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&Fv(i)),s||=!1,i&&(i.dirty=!1),e[Je]&=-9217,s)zee(r,e,r.template,e[fo]);else if(o&8192){mR(e,1);let l=r.components;l!==null&&gR(e,l,1)}}function gR(e,t,n){for(let r=0;r<t.length;r++)Hee(e,t[r],n)}function Ow(e,t){let n=pM()?64:1088;for(e[Ni].changeDetectionScheduler?.notify(t);e;){e[Je]|=n;let r=xa(e);if(y0(e)&&!r)return e;e=r}return null}var Ca=class{get rootNodes(){let t=this._lView,n=t[mt];return uh(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fo]}set context(t){this._lView[fo]=t}get destroyed(){return(this._lView[Je]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[pr];if(Wi(t)){let n=t[th],r=n?n.indexOf(this):-1;r>-1&&(ah(t,r),Qm(n,r))}this._attachedToViewContainer=!1}Sw(this._lView[mt],this._lView)}onDestroy(t){aM(this._lView,t)}markForCheck(){Ow(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Je]&=-129}reattach(){$0(this._lView),this._lView[Je]|=128}detectChanges(){this._lView[Je]|=1024,fR(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=y0(this._lView),n=this._lView[_a];n!==null&&!t&&ww(n,this._lView),VM(this._lView[mt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new je(902,!1);this._appRef=t;let n=y0(this._lView),r=this._lView[_a];r!==null&&!n&&HM(r,this._lView),$0(this._lView)}},fr=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=Kee;let e=t;return e})(),Gee=fr,qee=class extends Gee{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let o=Rw(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Ca(o)}};function Kee(){return Vh(ir(),It())}function Vh(e,t){return e.type&4?new qee(t,e,pc(e,t)):null}var pTe=new RegExp(`^(\\d+)*(${FJ}|${DJ})*(.*)`);var Xee=()=>null;function dh(e,t){return Xee(e,t)}var ic=class{},bR=new $e("",{providedIn:"root",factory:()=>!1});var yR=new $e(""),R0=class{},ph=class{};function Yee(e){let t=Error(`No component factory found for ${Tr(e)}.`);return t[Zee]=e,t}var Zee="ngComponent";var j0=class{resolveComponentFactory(t){throw Yee(t)}},Gw=class Gw{};Gw.NULL=new j0;var sc=Gw,ac=class{},mc=(()=>{let t=class t{constructor(){this.destroyNode=null}};t.__NG_ELEMENT_ID__=()=>Qee();let e=t;return e})();function Qee(){let e=It(),t=ir(),n=Is(t.index,e);return($s(n)?n:e)[vn]}var Jee=(()=>{let t=class t{};t.\u0275prov=ve({token:t,providedIn:"root",factory:()=>null});let e=t;return e})();var lA=new Set;function Ds(e){lA.has(e)||(lA.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function _R(e){let t=!0;return setTimeout(()=>{t&&(t=!1,e())}),typeof Wo.requestAnimationFrame=="function"&&Wo.requestAnimationFrame(()=>{t&&(t=!1,e())}),()=>{t=!1}}function cA(e){let t=!0;return queueMicrotask(()=>{t&&e()}),()=>{t=!1}}function uA(...e){}var Ue=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vt(!1),this.onMicrotaskEmpty=new Vt(!1),this.onStable=new Vt(!1),this.onError=new Vt(!1),typeof Zone>"u")throw new je(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,nte(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new je(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new je(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,ete,uA,uA);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},ete={};function Nw(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function tte(e){e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,Zone.root.run(()=>{_R(()=>{e.callbackScheduled=!1,O0(e),e.isCheckStableRunning=!0,Nw(e),e.isCheckStableRunning=!1})}),O0(e))}function nte(e){let t=()=>{tte(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,s,l)=>{if(rte(l))return n.invokeTask(o,i,s,l);try{return dA(e),n.invokeTask(o,i,s,l)}finally{(e.shouldCoalesceEventChangeDetection&&i.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),pA(e)}},onInvoke:(n,r,o,i,s,l,c)=>{try{return dA(e),n.invoke(o,i,s,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!ote(l)&&t(),pA(e)}},onHasTask:(n,r,o,i)=>{n.hasTask(o,i),r===o&&(i.change=="microTask"?(e._hasPendingMicrotasks=i.microTask,O0(e),Nw(e)):i.change=="macroTask"&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,r,o,i)=>(n.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}function O0(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function dA(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function pA(e){e._nesting--,Nw(e)}var fh=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vt,this.onMicrotaskEmpty=new Vt,this.onStable=new Vt,this.onError=new Vt}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function rte(e){return $R(e,"__ignore_ng_zone__")}function ote(e){return $R(e,"__scheduler_tick__")}function $R(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}function ite(e="zone.js",t){return e==="noop"?new fh:e==="zone.js"?new Ue(t):e}var Er=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Er||{}),xR={destroy(){}};function Pw(e,t){!t&&ZA(Pw);let n=t?.injector??de(kn);return WM(n)?(Ds("NgAfterRender"),vR(e,n,!1,t?.phase??Er.MixedReadWrite)):xR}function Fs(e,t){!t&&ZA(Fs);let n=t?.injector??de(kn);return WM(n)?(Ds("NgAfterNextRender"),vR(e,n,!0,t?.phase??Er.MixedReadWrite)):xR}function ste(e,t){if(e instanceof Function)switch(t){case Er.EarlyRead:return{earlyRead:e};case Er.Write:return{write:e};case Er.MixedReadWrite:return{mixedReadWrite:e};case Er.Read:return{read:e}}return e}function vR(e,t,n,r){let o=ste(e,r),i=t.get(Bw),s=i.handler??=new P0,l=[],c=[],u=()=>{for(let m of c)s.unregister(m);d()},d=t.get(_w).onDestroy(u),p=0,f=(m,h)=>{if(!h)return;let g=n?(...$)=>(p--,p<1&&u(),h(...$)):h,_=Xr(t,()=>new N0(m,l,g));s.register(_),c.push(_),p++};return f(Er.EarlyRead,o.earlyRead),f(Er.Write,o.write),f(Er.MixedReadWrite,o.mixedReadWrite),f(Er.Read,o.read),{destroy:u}}var N0=class{constructor(t,n,r){this.phase=t,this.pipelinedArgs=n,this.callbackFn=r,this.zone=de(Ue),this.errorHandler=de(zo,{optional:!0}),de(ic,{optional:!0})?.notify(6)}invoke(){try{let t=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,t)}catch(t){this.errorHandler?.handleError(t)}}},P0=class{constructor(){this.executingCallbacks=!1,this.buckets={[Er.EarlyRead]:new Set,[Er.Write]:new Set,[Er.MixedReadWrite]:new Set,[Er.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(let t of Object.values(this.buckets))for(let n of t)n.invoke();this.executingCallbacks=!1;for(let t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(let t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}},Bw=(()=>{let t=class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let o of r)o()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};t.\u0275prov=ve({token:t,providedIn:"root",factory:()=>new t});let e=t;return e})();function mh(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let l=t[s];if(typeof l=="number")i=l;else if(i==1)o=u0(o,l);else if(i==2){let c=l,u=t[++s];r=u0(r,c+": "+u+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}var hh=class extends sc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=vs(t);return new lc(n,this.ngModule)}};function fA(e,t){let n=[];for(let r in e){if(!e.hasOwnProperty(r))continue;let o=e[r];if(o===void 0)continue;let i=Array.isArray(o),s=i?o[0]:o,l=i?o[1]:xs.None;t?n.push({propName:s,templateName:r,isSignal:(l&xs.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function ate(e){let t=e.toLowerCase();return t==="svg"?OQ:t==="math"?NQ:null}var lc=class extends ph{get inputs(){let t=this.componentDef,n=t.inputTransforms,r=fA(t.inputs,!0);if(n!==null)for(let o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return fA(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=hQ(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){let i=Dt(null);try{o=o||this.ngModule;let s=o instanceof Dr?o:o?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let l=s?new v0(t,s):t,c=l.get(ac,null);if(c===null)throw new je(407,!1);let u=l.get(Jee,null),d=l.get(Bw,null),p=l.get(ic,null),f={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:p},m=c.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",g=r?see(m,r,this.componentDef.encapsulation,l):zM(m,h,ate(h)),_=512;this.componentDef.signals?_|=4096:this.componentDef.onPush||(_|=16);let $=null;g!==null&&($=xw(g,l,!0));let x=Fw(0,null,null,1,0,null,null,null,null,null,null),w=Uh(null,x,null,_,null,null,f,m,l,null,$);gw(w);let S,I;try{let F=this.componentDef,k,M=null;F.findHostDirectiveDefs?(k=[],M=new Map,F.findHostDirectiveDefs(F,k,M),k.push(F)):k=[F];let O=lte(w,g),B=cte(O,g,F,k,w,f,m);I=dw(x,Br),g&&pte(m,F,g,r),n!==void 0&&fte(I,this.ngContentSelectors,n),S=dte(B,F,k,M,w,[mte]),Mw(x,w,null)}finally{bw()}return new B0(this.componentType,S,pc(I,w),w,I)}finally{Dt(i)}}},B0=class extends R0{constructor(t,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ca(o,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,o;if(r!==null&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView;Aw(i[mt],i,o,t,n),this.previousInputValues.set(t,n);let s=Is(this._tNode.index,i);Ow(s,1)}}get injector(){return new ya(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function lte(e,t){let n=e[mt],r=Br;return e[r]=t,fc(n,r,2,"#host",null)}function cte(e,t,n,r,o,i,s){let l=o[mt];ute(r,e,t,s);let c=null;t!==null&&(c=xw(t,o[nc]));let u=i.rendererFactory.createRenderer(t,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let p=Uh(o,rR(n),null,d,o[e.index],e,i,u,null,null,c);return l.firstCreatePass&&k0(l,e,r.length-1),zh(o,p),o[e.index]=p}function ute(e,t,n,r){for(let o of e)t.mergedAttrs=Yu(t.mergedAttrs,o.hostAttrs);t.mergedAttrs!==null&&(mh(t,t.mergedAttrs,!0),n!==null&&QM(r,n,t))}function dte(e,t,n,r,o,i){let s=ir(),l=o[mt],c=ho(s,o);oR(l,o,s,n,null,r);for(let d=0;d<n.length;d++){let p=s.directiveStart+d,f=Sa(o,l,p,s);Ss(f,o)}iR(l,o,s),c&&Ss(c,o);let u=Sa(o,l,s.directiveStart+s.componentOffset,s);if(e[fo]=o[fo]=u,i!==null)for(let d of i)d(u,t);return Ew(l,s,o),u}function pte(e,t,n,r){if(r)m0(e,n,["ng-version","18.1.2"]);else{let{attrs:o,classes:i}=gQ(t.selectors[0]);o&&m0(e,n,o),i&&i.length>0&&ZM(e,n,i.join(" "))}}function fte(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null?Array.from(i):null)}}function mte(){let e=ir();Oh(It()[mt],e)}var Fr=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=hte;let e=t;return e})();function hte(){let e=ir();return SR(e,It())}var gte=Fr,wR=class extends gte{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return pc(this._hostTNode,this._hostLView)}get injector(){return new ya(this._hostTNode,this._hostLView)}get parentInjector(){let t=yw(this._hostTNode,this._hostLView);if(xM(t)){let n=oh(t,this._hostLView),r=rh(t),o=n[mt].data[r+8];return new ya(o,n)}else return new ya(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=mA(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Pr}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=dh(this._lContainer,t.ssrId),l=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(l,o,ch(this._hostTNode,s)),l}createComponent(t,n,r,o,i){let s=t&&!AQ(t),l;if(s)l=n;else{let h=n||{};l=h.index,r=h.injector,o=h.projectableNodes,i=h.environmentInjector||h.ngModuleRef}let c=s?t:new lc(vs(t)),u=r||this.parentInjector;if(!i&&c.ngModule==null){let g=(s?u:this.parentInjector).get(Dr,null);g&&(i=g)}let d=vs(c.componentType??{}),p=dh(this._lContainer,d?.id??null),f=p?.firstChild??null,m=c.create(u,o,f,i);return this.insertImpl(m.hostView,l,ch(this._hostTNode,p)),m}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(LQ(o)){let l=this.indexOf(t);if(l!==-1)this.detach(l);else{let c=o[pr],u=new wR(c,c[Lr],c[pr]);u.detach(u.indexOf(t))}}let i=this._adjustIndex(n),s=this._lContainer;return jw(s,o,i,r),t.attachToViewContainerRef(),MA(i0(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=mA(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=ah(this._lContainer,n);r&&(Qm(i0(this._lContainer),n),Sw(r[mt],r))}detach(t){let n=this._adjustIndex(t,-1),r=ah(this._lContainer,n);return r&&Qm(i0(this._lContainer),n)!=null?new Ca(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function mA(e){return e[th]}function i0(e){return e[th]||(e[th]=[])}function SR(e,t){let n,r=t[e.index];return Wi(r)?n=r:(n=sR(r,t,null,e),t[e.index]=n,zh(t,n)),yte(n,t,e,r),new wR(n,e,t)}function bte(e,t){let n=e[vn],r=n.createComment(""),o=ho(t,e),i=Cw(n,o);return lh(n,i,r,XJ(n,o),!1),r}var yte=xte,_te=()=>!1;function $te(e,t,n){return _te(e,t,n)}function xte(e,t,n,r){if(e[$a])return;let o;n.type&8?o=mi(r):o=bte(t,n),e[$a]=o}var L0=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},U0=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){let s=n.getByIndex(i),l=this.queries[s.indexInDeclarationView];o.push(l.clone())}return new e(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Uw(t,n).matches!==null&&this.queries[n].setDirty()}},gh=class{constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=Ete(t):this.predicate=t}},W0=class e{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},z0=class e{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(t,n,vte(n,i)),this.matchTNodeWithReadOption(t,n,qm(n,t,i,!1,!1))}else r===fr?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,qm(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===ct||o===Fr||o===fr&&n.type&4)this.addMatch(n.index,-2);else{let i=qm(n,t,o,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function vte(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function wte(e,t){return e.type&11?pc(e,t):e.type&4?Vh(e,t):null}function Ste(e,t,n,r){return n===-1?wte(t,e):n===-2?Cte(e,t,r):Sa(e,e[mt],n,t)}function Cte(e,t,n){if(n===ct)return pc(t,e);if(n===fr)return Vh(t,e);if(n===Fr)return SR(t,e)}function CR(e,t,n,r){let o=t[Pi].queries[r];if(o.matches===null){let i=e.data,s=n.matches,l=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)l.push(null);else{let d=i[u];l.push(Ste(t,d,s[c+1],n.metadata.read))}}o.matches=l}return o.matches}function V0(e,t,n,r){let o=e.queries.getByIndex(n),i=o.matches;if(i!==null){let s=CR(e,t,o,n);for(let l=0;l<i.length;l+=2){let c=i[l];if(c>0)r.push(s[l/2]);else{let u=i[l+1],d=t[-c];for(let p=Pr;p<d.length;p++){let f=d[p];f[_a]===f[pr]&&V0(f[mt],f,u,r)}if(d[rc]!==null){let p=d[rc];for(let f=0;f<p.length;f++){let m=p[f];V0(m[mt],m,u,r)}}}}}return r}function Lw(e,t){return e[Pi].queries[t].queryList}function IR(e,t,n){let r=new sh((n&4)===4);return cee(e,t,r,r.destroy),(t[Pi]??=new U0).queries.push(new L0(r))-1}function Ite(e,t,n){let r=Tn();return r.firstCreatePass&&(TR(r,new gh(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),IR(r,It(),t)}function ER(e,t,n,r){let o=Tn();if(o.firstCreatePass){let i=ir();TR(o,new gh(t,n,r),i.index),Tte(o,e),(n&2)===2&&(o.staticContentQueries=!0)}return IR(o,It(),n)}function Ete(e){return e.split(",").map(t=>t.trim())}function TR(e,t,n){e.queries===null&&(e.queries=new W0),e.queries.track(new z0(t,n))}function Tte(e,t){let n=e.contentQueries||(e.contentQueries=[]),r=n.length?n[n.length-1]:-1;t!==r&&n.push(e.queries.length-1,t)}function Uw(e,t){return e.queries.getByIndex(t)}function DR(e,t){let n=e[mt],r=Uw(n,t);return r.crossesNgTemplate?V0(n,e,t,[]):CR(n,e,r,t)}function FR(e){return typeof e=="function"&&e[Oo]!==void 0}function Da(e,t){Ds("NgSignals");let n=ck(e),r=n[Oo];return t?.equal&&(r.equal=t.equal),n.set=o=>Mv(r,o),n.update=o=>uk(r,o),n.asReadonly=Dte.bind(n),n}function Dte(){let e=this[Oo];if(e.readonlyFn===void 0){let t=()=>this();t[Oo]=e,e.readonlyFn=t}return e.readonlyFn}function kR(e){return FR(e)&&typeof e.set=="function"}function AR(e,t){let n,r=Av(()=>{n._dirtyCounter();let o=Mte(n,e);if(t&&o===void 0)throw new je(-951,!1);return o});return n=r[Oo],n._dirtyCounter=Da(0),n._flatValue=void 0,r}function Fte(){return AR(!0,!1)}function kte(){return AR(!0,!0)}function Ate(e,t){let n=e[Oo];n._lView=It(),n._queryIndex=t,n._queryList=Lw(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function Mte(e,t){let n=e._lView,r=e._queryIndex;if(n===void 0||r===void 0||n[Je]&4)return t?void 0:Ir;let o=Lw(n,r),i=DR(n,r);return o.reset(i,AM),t?o.first:o._changesDetected||e._flatValue===void 0?e._flatValue=o.toArray():e._flatValue}function hA(e,t){return Fte()}function Rte(e,t){return kte()}var MR=(hA.required=Rte,hA);function jte(e){let t=[],n=new Map;function r(o){let i=n.get(o);if(!i){let s=e(o);n.set(o,i=s.then(Bte))}return i}return bh.forEach((o,i)=>{let s=[];o.templateUrl&&s.push(r(o.templateUrl).then(u=>{o.template=u}));let l=typeof o.styles=="string"?[o.styles]:o.styles||[];if(o.styles=l,o.styleUrl&&o.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(o.styleUrls?.length){let u=o.styles.length,d=o.styleUrls;o.styleUrls.forEach((p,f)=>{l.push(""),s.push(r(p).then(m=>{l[u+f]=m,d.splice(d.indexOf(p),1),d.length==0&&(o.styleUrls=void 0)}))})}else o.styleUrl&&s.push(r(o.styleUrl).then(u=>{l.push(u),o.styleUrl=void 0}));let c=Promise.all(s).then(()=>Lte(i));t.push(c)}),Nte(),Promise.all(t).then(()=>{})}var bh=new Map,Ote=new Set;function Nte(){let e=bh;return bh=new Map,e}function Pte(){return bh.size===0}function Bte(e){return typeof e=="string"?e:e.text()}function Lte(e){Ote.delete(e)}function Ute(e){return Object.getPrototypeOf(e.prototype).constructor}function Jt(e){let t=Ute(e.type),n=!0,r=[e];for(;t;){let o;if(ws(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new je(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let s=e;s.inputs=Um(e.inputs),s.inputTransforms=Um(e.inputTransforms),s.declaredInputs=Um(e.declaredInputs),s.outputs=Um(e.outputs);let l=o.hostBindings;l&&Gte(e,l);let c=o.viewQuery,u=o.contentQueries;if(c&&Vte(e,c),u&&Hte(e,u),Wte(e,o),RZ(e.outputs,o.outputs),ws(o)&&o.data.animation){let d=e.data;d.animation=(d.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let l=i[s];l&&l.ngInherit&&l(e),l===Jt&&(n=!1)}}t=Object.getPrototypeOf(t)}zte(r)}function Wte(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];if(r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let o=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(o))continue;e.inputTransforms??={},e.inputTransforms[o]=t.inputTransforms[o]}}}function zte(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Yu(o.hostAttrs,n=Yu(n,o.hostAttrs))}}function Um(e){return e===Jl?{}:e===Ir?[]:e}function Vte(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function Hte(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i)}:e.contentQueries=t}function Gte(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function Bn(e){let t=e.inputConfig,n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)&&o[3]&&(n[r]=o[3])}e.inputTransforms=n}var Cs=class{},td=class{};var yh=class extends Cs{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hh(this);let o=zA(t);this._bootstrapComponents=UM(o.bootstrap),this._r3Injector=FM(t,n,[{provide:Cs,useValue:this},{provide:sc,useValue:this.componentFactoryResolver},...r],Tr(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},_h=class extends td{constructor(t){super(),this.moduleType=t}create(t){return new yh(this.moduleType,t,[])}};function qte(e,t,n){return new yh(e,t,n)}var H0=class extends Cs{constructor(t){super(),this.componentFactoryResolver=new hh(this),this.instance=null;let n=new Zu([...t.providers,{provide:Cs,useValue:this},{provide:sc,useValue:this.componentFactoryResolver}],t.parent||cw(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Hh(e,t,n=null){return new H0({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function RR(e){return Xte(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function Kte(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function Xte(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function ks(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Yte(e){return(e.flags&32)===32}function Zte(e,t,n,r,o,i,s,l,c){let u=t.consts,d=fc(t,e,4,s||null,l||null);kw(t,n,d,oc(u,c)),Oh(t,d);let p=d.tView=Fw(2,d,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return t.queries!==null&&(t.queries.template(t,d),p.queries=t.queries.embeddedTView(d)),d}function jR(e,t,n,r,o,i,s,l,c,u){let d=n+Br,p=t.firstCreatePass?Zte(d,t,e,r,o,i,s,l,c):t.data[d];Ea(p,!1);let f=Qte(t,e,p,n);Rh()&&Ph(t,e,f,p),Ss(f,e);let m=sR(f,e,f,p);return e[d]=m,zh(e,m),$te(m,p,e),kh(p)&&Tw(t,e,p),c!=null&&Dw(e,p,u),p}function it(e,t,n,r,o,i,s,l){let c=It(),u=Tn(),d=oc(u.consts,i);return jR(c,u,e,t,n,r,o,d,s,l),it}var Qte=Jte;function Jte(e,t,n,r){return jh(!0),t[vn].createComment("")}function gr(e,t,n,r){let o=It(),i=dc();if(ks(o,i,t)){let s=Tn(),l=id();See(l,o,e,t,n,r)}return gr}function OR(e,t,n,r){return ks(e,dc(),n)?t+nw(n)+r:hi}function Wm(e,t){return e<<17|t<<2}function Ia(e){return e>>17&32767}function ene(e){return(e&2)==2}function tne(e,t){return e&131071|t<<17}function G0(e){return e|2}function cc(e){return(e&131068)>>2}function s0(e,t){return e&-131069|t<<2}function nne(e){return(e&1)===1}function q0(e){return e|1}function rne(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,l=Ia(s),c=cc(s);e[r]=n;let u=!1,d;if(Array.isArray(n)){let p=n;d=p[1],(d===null||od(p,d)>0)&&(u=!0)}else d=n;if(o)if(c!==0){let f=Ia(e[l+1]);e[r+1]=Wm(f,l),f!==0&&(e[f+1]=s0(e[f+1],r)),e[l+1]=tne(e[l+1],r)}else e[r+1]=Wm(l,0),l!==0&&(e[l+1]=s0(e[l+1],r)),l=r;else e[r+1]=Wm(c,0),l===0?l=r:e[c+1]=s0(e[c+1],r),c=r;u&&(e[r+1]=G0(e[r+1])),gA(e,d,r,!0),gA(e,d,r,!1),one(t,d,e,r,i),s=Wm(l,c),i?t.classBindings=s:t.styleBindings=s}function one(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&od(i,t)>=0&&(n[r+1]=q0(n[r+1]))}function gA(e,t,n,r){let o=e[n+1],i=t===null,s=r?Ia(o):cc(o),l=!1;for(;s!==0&&(l===!1||i);){let c=e[s],u=e[s+1];ine(c,t)&&(l=!0,e[s+1]=r?q0(u):G0(u)),s=r?Ia(u):cc(u)}l&&(e[n+1]=r?G0(o):q0(o))}function ine(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?od(e,t)>=0:!1}var Lo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sne(e){return e.substring(Lo.key,Lo.keyEnd)}function ane(e){return lne(e),NR(e,PR(e,0,Lo.textEnd))}function NR(e,t){let n=Lo.textEnd;return n===t?-1:(t=Lo.keyEnd=cne(e,Lo.key=t,n),PR(e,t,n))}function lne(e){Lo.key=0,Lo.keyEnd=0,Lo.value=0,Lo.valueEnd=0,Lo.textEnd=e.length}function PR(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function cne(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function Ge(e,t,n){let r=It(),o=dc();if(ks(r,o,t)){let i=Tn(),s=id();Wh(i,s,r,e,t,r[vn],n,!1)}return Ge}function K0(e,t,n,r,o){let i=t.inputs,s=o?"class":"style";Aw(e,n,i[s],s,r)}function Zt(e,t){return dne(e,t,null,!0),Zt}function ld(e){pne(yne,une,e,!0)}function une(e,t){for(let n=ane(t);n>=0;n=NR(t,n))sw(e,sne(t),!0)}function dne(e,t,n,r){let o=It(),i=Tn(),s=fM(2);if(i.firstUpdatePass&&LR(i,e,s,r),t!==hi&&ks(o,s,t)){let l=i.data[Ta()];UR(i,l,o,o[vn],e,o[s+1]=$ne(t,n),r,s)}}function pne(e,t,n,r){let o=Tn(),i=fM(2);o.firstUpdatePass&&LR(o,null,i,r);let s=It();if(n!==hi&&ks(s,i,n)){let l=o.data[Ta()];if(WR(l,r)&&!BR(o,i)){let c=r?l.classesWithoutHost:l.stylesWithoutHost;c!==null&&(n=u0(c,n||"")),K0(o,l,s,n,r)}else _ne(o,l,s,s[vn],s[i+1],s[i+1]=bne(e,t,n),r,i)}}function BR(e,t){return t>=e.expandoStartIndex}function LR(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[Ta()],s=BR(e,n);WR(i,r)&&t===null&&!s&&(t=!1),t=fne(o,i,t,r),rne(o,i,t,n,s,r)}}function fne(e,t,n,r){let o=eJ(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=a0(null,e,t,n,r),n=nd(n,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==o)if(n=a0(o,e,t,n,r),i===null){let c=mne(e,t,r);c!==void 0&&Array.isArray(c)&&(c=a0(null,e,t,c[1],r),c=nd(c,t.attrs,r),hne(e,t,r,c))}else i=gne(e,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),n}function mne(e,t,n){let r=n?t.classBindings:t.styleBindings;if(cc(r)!==0)return e[Ia(r)]}function hne(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[Ia(o)]=r}function gne(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=nd(r,s,n)}return nd(r,t.attrs,n)}function a0(e,t,n,r,o){let i=null,s=n.directiveEnd,l=n.directiveStylingLast;for(l===-1?l=n.directiveStart:l++;l<s&&(i=t[l],r=nd(r,i.hostAttrs,o),i!==e);)l++;return e!==null&&(n.directiveStylingLast=l),r}function nd(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),sw(e,s,n?!0:t[++i]))}return e===void 0?null:e}function bne(e,t,n){if(n==null||n==="")return Ir;let r=[],o=Nh(n);if(Array.isArray(o))for(let i=0;i<o.length;i++)e(r,o[i],!0);else if(typeof o=="object")for(let i in o)o.hasOwnProperty(i)&&e(r,i,o[i]);else typeof o=="string"&&t(r,o);return r}function yne(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&sw(e,r,n)}function _ne(e,t,n,r,o,i,s,l){o===hi&&(o=Ir);let c=0,u=0,d=0<o.length?o[0]:null,p=0<i.length?i[0]:null;for(;d!==null||p!==null;){let f=c<o.length?o[c+1]:void 0,m=u<i.length?i[u+1]:void 0,h=null,g;d===p?(c+=2,u+=2,f!==m&&(h=p,g=m)):p===null||d!==null&&d<p?(c+=2,h=d):(u+=2,h=p,g=m),h!==null&&UR(e,t,n,r,h,g,s,l),d=c<o.length?o[c]:null,p=u<i.length?i[u]:null}}function UR(e,t,n,r,o,i,s,l){if(!(t.type&3))return;let c=e.data,u=c[l+1],d=nne(u)?bA(c,t,n,o,cc(u),s):void 0;if(!$h(d)){$h(i)||ene(u)&&(i=bA(c,null,n,o,l,s));let p=oM(Ta(),n);tee(r,s,p,o,i)}}function bA(e,t,n,r,o,i){let s=t===null,l;for(;o>0;){let c=e[o],u=Array.isArray(c),d=u?c[1]:c,p=d===null,f=n[o+1];f===hi&&(f=p?Ir:void 0);let m=p?Zv(f,r):d===r?f:void 0;if(u&&!$h(m)&&(m=Zv(c,r)),$h(m)&&(l=m,s))return l;let h=e[o+1];o=s?Ia(h):cc(h)}if(t!==null){let c=i?t.residualClasses:t.residualStyles;c!=null&&(l=Zv(c,r))}return l}function $h(e){return e!==void 0}function $ne(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Tr(Nh(e)))),e}function WR(e,t){return(e.flags&(t?8:16))!==0}function An(e,t){Ds("NgControlFlow");let n=It(),r=dc(),o=n[r]!==hi?n[r]:-1,i=o!==-1?yA(n,Br+o):void 0,s=0;if(ks(n,r,e)){let l=Dt(null);try{if(i!==void 0&&Mee(i,s),e!==-1){let c=Br+e,u=yA(n,c),d=xne(n[mt],c),p=dh(u,d.tView.ssrId),f=Rw(n,d,t,{dehydratedView:p});jw(u,f,s,ch(d,p))}}finally{Dt(l)}}else if(i!==void 0){let l=Aee(i,s);l!==void 0&&(l[fo]=t)}}function yA(e,t){return e[t]}function xne(e,t){return dw(e,t)}function vne(e,t,n,r,o,i){let s=t.consts,l=oc(s,o),c=fc(t,e,2,r,l);return kw(t,n,c,oc(s,i)),c.attrs!==null&&mh(c,c.attrs,!1),c.mergedAttrs!==null&&mh(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function N(e,t,n,r){let o=It(),i=Tn(),s=Br+e,l=o[vn],c=i.firstCreatePass?vne(s,i,o,t,n,r):i.data[s],u=wne(i,o,c,l,t,e);o[s]=u;let d=kh(c);return Ea(c,!0),QM(l,u,c),!Yte(c)&&Rh()&&Ph(i,o,u,c),zQ()===0&&Ss(u,o),VQ(),d&&(Tw(i,o,c),Ew(i,c,o)),r!==null&&Dw(o,c),N}function j(){let e=ir();fw()?mw():(e=e.parent,Ea(e,!1));let t=e;GQ(t)&&qQ(),HQ();let n=Tn();return n.firstCreatePass&&(Oh(n,e),uw(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&aJ(t)&&K0(n,t,It(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&lJ(t)&&K0(n,t,It(),t.stylesWithoutHost,!1),j}function X(e,t,n,r){return N(e,t,n,r),j(),X}var wne=(e,t,n,r,o,i)=>(jh(!0),zM(r,o,rJ()));function Sne(e,t,n,r,o){let i=t.consts,s=oc(i,r),l=fc(t,e,8,"ng-container",s);s!==null&&mh(l,s,!0);let c=oc(i,o);return kw(t,n,l,c),t.queries!==null&&t.queries.elementStart(t,l),l}function gi(e,t,n){let r=It(),o=Tn(),i=e+Br,s=o.firstCreatePass?Sne(i,o,r,t,n):o.data[i];Ea(s,!0);let l=Cne(o,r,s,e);return r[i]=l,Rh()&&Ph(o,r,l,s),Ss(l,r),kh(s)&&(Tw(o,r,s),Ew(o,s,r)),n!=null&&Dw(r,s),gi}function bi(){let e=ir(),t=Tn();return fw()?mw():(e=e.parent,Ea(e,!1)),t.firstCreatePass&&(Oh(t,e),uw(e)&&t.queries.elementEnd(e)),bi}function kr(e,t,n){return gi(e,t,n),bi(),kr}var Cne=(e,t,n,r)=>(jh(!0),LJ(t[vn],""));function pn(){return It()}function hc(e,t,n){let r=It(),o=dc();if(ks(r,o,t)){let i=Tn(),s=id();Wh(i,s,r,e,t,r[vn],n,!0)}return hc}var xh="en-US";var Ine=xh;function Ene(e){typeof e=="string"&&(Ine=e.toLowerCase().replace(/_/g,"-"))}var Tne=(e,t,n)=>{};function xe(e,t,n,r){let o=It(),i=Tn(),s=ir();return zR(i,o,o[vn],s,e,t,r),xe}function Dne(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let l=t[eh],c=o[i+2];return l.length>c?l[c]:null}typeof s=="string"&&(i+=2)}return null}function zR(e,t,n,r,o,i,s){let l=kh(r),u=e.firstCreatePass&&cR(e),d=t[fo],p=lR(t),f=!0;if(r.type&3||s){let g=ho(r,t),_=s?s(g):g,$=p.length,x=s?S=>s(mi(S[r.index])):r.index,w=null;if(!s&&l&&(w=Dne(e,t,o,r.index)),w!==null){let S=w.__ngLastListenerFn__||w;S.__ngNextListenerFn__=i,w.__ngLastListenerFn__=i,f=!1}else{i=$A(r,t,d,i),Tne(g,o,i);let S=n.listen(_,o,i);p.push(i,S),u&&u.push(o,x,$,$+1)}}else i=$A(r,t,d,i);let m=r.outputs,h;if(f&&m!==null&&(h=m[o])){let g=h.length;if(g)for(let _=0;_<g;_+=2){let $=h[_],x=h[_+1],I=t[$][x].subscribe(i),F=p.length;p.push(i,I),u&&u.push(o,r.index,F,-(F+1))}}}function _A(e,t,n,r){let o=Dt(null);try{return di(6,t,n),n(r)!==!1}catch(i){return uR(e,i),!1}finally{di(7,t,n),Dt(o)}}function $A(e,t,n,r){return function o(i){if(i===Function)return r;let s=e.componentOffset>-1?Is(e.index,t):t;Ow(s,5);let l=_A(t,n,r,i),c=o.__ngNextListenerFn__;for(;c;)l=_A(t,n,c,i)&&l,c=c.__ngNextListenerFn__;return l}}function qe(e=1){return nJ(e)}function Fne(e,t){let n=null,r=uQ(e);for(let o=0;o<t.length;o++){let i=t[o];if(i==="*"){n=o;continue}if(r===null?BA(e,i,!0):fQ(r,i))return o}return n}function sr(e){let t=It()[mo][Lr];if(!t.projection){let n=e?e.length:1,r=t.projection=tQ(n,null),o=r.slice(),i=t.child;for(;i!==null;){if(i.type!==128){let s=e?Fne(i,e):0;s!==null&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i)}i=i.next}}}function Wt(e,t=0,n,r,o,i){let s=It(),l=Tn(),c=r?e+1:null;c!==null&&jR(s,l,c,r,o,i,null,n);let u=fc(l,Br+e,16,null,n||null);u.projection===null&&(u.projection=t),mw();let p=!s[Qu]||uM();s[mo][Lr].projection[u.projection]===null&&c!==null?kne(s,l,c):p&&(u.flags&32)!==32&&JJ(l,s,u)}function kne(e,t,n){let r=Br+n,o=t.data[r],i=e[r],s=dh(i,o.tView.ssrId),l=Rw(e,o,void 0,{dehydratedView:s});jw(i,l,0,ch(o,s))}function cd(e,t,n){return VR(e,"",t,"",n),cd}function VR(e,t,n,r,o){let i=It(),s=OR(i,t,n,r);if(s!==hi){let l=Tn(),c=id();Wh(l,c,i,e,s,i[vn],o,!1)}return VR}function Ln(e,t,n,r){ER(e,t,n,r)}function Yn(e,t,n){Ite(e,t,n)}function Ft(e){let t=It(),n=Tn(),r=hw();Mh(r+1);let o=Uw(n,r);if(e.dirty&&BQ(t)===((o.metadata.flags&2)===2)){if(o.matches===null)e.reset([]);else{let i=DR(t,r);e.reset(i,AM),e.notifyOnChanges()}return!0}return!1}function kt(){return Lw(It(),hw())}function HR(e,t,n,r,o){Ate(t,ER(e,n,r,o))}function GR(e=1){Mh(hw()+e)}function Ww(e){let t=XQ();return PQ(t,Br+e)}function ee(e,t=""){let n=It(),r=Tn(),o=e+Br,i=r.firstCreatePass?fc(r,o,1,t,null):r.data[o],s=Ane(r,n,i,t,e);n[o]=s,Rh()&&Ph(r,n,s,i),Ea(i,!1)}var Ane=(e,t,n,r,o)=>(jh(!0),PJ(t[vn],r));function be(e){return wt("",e,""),be}function wt(e,t,n){let r=It(),o=OR(r,e,t,n);return o!==hi&&Tee(r,Ta(),o),wt}function gc(e,t,n){kR(t)&&(t=t());let r=It(),o=dc();if(ks(r,o,t)){let i=Tn(),s=id();Wh(i,s,r,e,t,r[vn],n,!1)}return gc}function ud(e,t){let n=kR(e);return n&&e.set(t),n}function bc(e,t){let n=It(),r=Tn(),o=ir();return zR(r,n,n[vn],o,e,t),bc}function Mne(e,t,n){let r=Tn();if(r.firstCreatePass){let o=ws(e);X0(n,r.data,r.blueprint,o,!0),X0(t,r.data,r.blueprint,o,!1)}}function X0(e,t,n,r,o){if(e=Cr(e),Array.isArray(e))for(let i=0;i<e.length;i++)X0(e[i],t,n,r,o);else{let i=Tn(),s=It(),l=ir(),c=tc(e)?e:Cr(e.provide),u=XA(e),d=l.providerIndexes&1048575,p=l.directiveStart,f=l.providerIndexes>>20;if(tc(e)||!e.multi){let m=new wa(u,o,q),h=c0(c,t,o?d:d+f,p);h===-1?(S0(ih(l,s),i,c),l0(i,e,t.length),t.push(c),l.directiveStart++,l.directiveEnd++,o&&(l.providerIndexes+=1048576),n.push(m),s.push(m)):(n[h]=m,s[h]=m)}else{let m=c0(c,t,d+f,p),h=c0(c,t,d,d+f),g=m>=0&&n[m],_=h>=0&&n[h];if(o&&!_||!o&&!g){S0(ih(l,s),i,c);let $=One(o?jne:Rne,n.length,o,r,u);!o&&_&&(n[h].providerFactory=$),l0(i,e,t.length,0),t.push(c),l.directiveStart++,l.directiveEnd++,o&&(l.providerIndexes+=1048576),n.push($),s.push($)}else{let $=qR(n[o?h:m],u,!o&&r);l0(i,e,m>-1?m:h,$)}!o&&r&&_&&n[h].componentProviders++}}}function l0(e,t,n,r){let o=tc(t),i=SQ(t);if(o||i){let c=(i?Cr(t.useClass):t).prototype.ngOnDestroy;if(c){let u=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let d=u.indexOf(n);d===-1?u.push(n,[r,c]):u[d+1].push(r,c)}else u.push(n,c)}}}function qR(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function c0(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function Rne(e,t,n,r){return Y0(this.multi,[])}function jne(e,t,n,r){let o=this.multi,i;if(this.providerFactory){let s=this.providerFactory.componentProviders,l=Sa(n,n[mt],this.providerFactory.index,r);i=l.slice(0,s),Y0(o,i);for(let c=s;c<l.length;c++)i.push(l[c])}else i=[],Y0(o,i);return i}function Y0(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function One(e,t,n,r,o){let i=new wa(e,n,q);return i.multi=[],i.index=t,i.componentProviders=0,qR(i,o,r&&!n),i}function fn(e,t=[]){return n=>{n.providersResolver=(r,o)=>Mne(r,o?o(e):e,t)}}var Nne=(()=>{let t=class t{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let o=GA(!1,r.type),i=o.length>0?Hh([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,i)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};t.\u0275prov=ve({token:t,providedIn:"environment",factory:()=>new t(_e(Dr))});let e=t;return e})();function Cn(e){Ds("NgStandalone"),e.getStandaloneInjector=t=>t.get(Nne).getOrCreateStandaloneInjector(e)}function KR(e,t){return Vh(e,t)}var zm=null;function Pne(e){zm!==null&&(e.defaultEncapsulation!==zm.defaultEncapsulation||e.preserveWhitespaces!==zm.preserveWhitespaces)||(zm=e)}var Gh=(()=>{let t=class t{log(r){console.log(r)}warn(r){console.warn(r)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})();var zw=new $e(""),dd=new $e(""),qh=(()=>{let t=class t{constructor(r,o,i){this._ngZone=r,this.registry=o,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Vw||(Bne(i),i.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ue.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>o.updateCb&&o.updateCb(r)?(clearTimeout(o.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,i){let s=-1;o&&o>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(l=>l.timeoutId!==s),r()},o)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:i})}whenStable(r,o,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,i),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,i){return[]}};t.\u0275fac=function(o){return new(o||t)(_e(Ue),_e(Kh),_e(dd))},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})(),Kh=(()=>{let t=class t{constructor(){this._applications=new Map}registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return Vw?.findTestabilityInTree(this,r,o)??null}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})();function Bne(e){Vw=e}var Vw;function Fa(e){return!!e&&typeof e.then=="function"}function XR(e){return!!e&&typeof e.subscribe=="function"}var Xh=new $e(""),YR=(()=>{let t=class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o}),this.appInits=de(Xh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let i of this.appInits){let s=i();if(Fa(s))r.push(s);else if(XR(s)){let l=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});r.push(l)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(i=>{this.reject(i)}),r.length===0&&o(),this.initialized=!0}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Yh=new $e("");function Lne(){lk(()=>{throw new je(600,!1)})}function Une(e){return e.isBoundToModule}var Wne=10;function zne(e,t,n){try{let r=n();return Fa(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}function ZR(e,t){return Array.isArray(t)?t.reduce(ZR,e):fe(fe({},e),t)}var As=(()=>{let t=class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=de(kM),this.afterRenderEffectManager=de(Bw),this.zonelessEnabled=de(bR),this.externalTestViews=new Set,this.beforeRender=new $t,this.afterTick=new $t,this.componentTypes=[],this.components=[],this.isStable=de(Ts).hasPendingTasks.pipe(nt(r=>!r)),this._injector=de(Dr)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,o){let i=r instanceof ph;if(!this._injector.get(YR).done){let m=!i&&WA(r),h=!1;throw new je(405,h)}let l;i?l=r:l=this._injector.get(sc).resolveComponentFactory(r),this.componentTypes.push(l.componentType);let c=Une(l)?void 0:this._injector.get(Cs),u=o||l.selector,d=l.create(kn.NULL,[],u,c),p=d.location.nativeElement,f=d.injector.get(zw,null);return f?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),Xm(this.components,d),f?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new je(101,!1);let o=Dt(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Dt(o),this.afterTick.next()}}detectChangesInAttachedViews(r){let o=null;this._injector.destroyed||(o=this._injector.get(ac,null,{optional:!0}));let i=0,s=this.afterRenderEffectManager;for(;i<Wne;){let l=i===0;if(r||!l){this.beforeRender.next(l);for(let{_lView:c,notifyErrorHandler:u}of this._views)Vne(c,u,l,this.zonelessEnabled)}else o?.begin?.(),o?.end?.();if(i++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:c})=>ed(c))&&(s.execute(),!this.allViews.some(({_lView:c})=>ed(c))))break}}attachView(r){let o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){let o=r;Xm(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let o=this._injector.get(Yh,[]);[...this._bootstrapListeners,...o].forEach(i=>i(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Xm(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new je(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Xm(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Vne(e,t,n,r){if(!n&&!ed(e))return;fR(e,t,n&&!r?0:1)}var Z0=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Zh=(()=>{let t=class t{compileModuleSync(r){return new _h(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let o=this.compileModuleSync(r),i=zA(r),s=UM(i.declarations).reduce((l,c)=>{let u=vs(c);return u&&l.push(new lc(u)),l},[]);return new Z0(o,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Hne=new $e("");function Gne(e,t,n){let r=new _h(n);return Promise.resolve(r)}function xA(e){for(let t=e.length-1;t>=0;t--)if(e[t]!==void 0)return e[t]}var qne=(()=>{let t=class t{constructor(){this.zone=de(Ue),this.changeDetectionScheduler=de(ic),this.applicationRef=de(As)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Kne({ngZoneFactory:e,ignoreChangesOutsideZone:t}){return e??=()=>new Ue(QR()),[{provide:Ue,useFactory:e},{provide:ec,multi:!0,useFactory:()=>{let n=de(qne,{optional:!0});return()=>n.initialize()}},{provide:ec,multi:!0,useFactory:()=>{let n=de(Yne);return()=>{n.initialize()}}},{provide:kM,useFactory:Xne},t===!0?{provide:yR,useValue:!0}:[]]}function Xne(){let e=de(Ue),t=de(zo);return n=>e.runOutsideAngular(()=>t.handleError(n))}function QR(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var Yne=(()=>{let t=class t{constructor(){this.subscription=new dn,this.initialized=!1,this.zone=de(Ue),this.pendingTasks=de(Ts)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ue.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ue.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Zne=(()=>{let t=class t{constructor(){this.appRef=de(As),this.taskService=de(Ts),this.ngZone=de(Ue),this.zonelessEnabled=de(bR),this.disableScheduling=de(yR,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new dn,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof fh||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let o=this.useMicrotaskScheduler?cA:_R;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=o(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=o(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Ue.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let o=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(o),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,cA(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(o)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Qne(){return typeof $localize<"u"&&$localize.locale||xh}var Qh=new $e("",{providedIn:"root",factory:()=>de(Qh,xt.Optional|xt.SkipSelf)||Qne()});var JR=new $e(""),ej=(()=>{let t=class t{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,o){let i=ite(o?.ngZone,QR({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return i.run(()=>{let s=o?.ignoreChangesOutsideZone,l=qte(r.moduleType,this.injector,[...Kne({ngZoneFactory:()=>i,ignoreChangesOutsideZone:s}),{provide:ic,useExisting:Zne}]),c=l.injector.get(zo,null);return i.runOutsideAngular(()=>{let u=i.onError.subscribe({next:d=>{c.handleError(d)}});l.onDestroy(()=>{Xm(this._modules,l),u.unsubscribe()})}),zne(c,i,()=>{let u=l.injector.get(YR);return u.runInitializers(),u.donePromise.then(()=>{let d=l.injector.get(Qh,xh);return Ene(d||xh),this._moduleDoBootstrap(l),l})})})}bootstrapModule(r,o=[]){let i=ZR({},o);return Gne(this.injector,i,r).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(r){let o=r.injector.get(As);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(i=>o.bootstrap(i));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(o);else throw new je(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new je(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());let r=this._injector.get(JR,null);r&&(r.forEach(o=>o()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};t.\u0275fac=function(o){return new(o||t)(_e(kn))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})(),Ku=null,tj=new $e("");function Jne(e){if(Ku&&!Ku.get(tj,!1))throw new je(400,!1);Lne(),Ku=e;let t=e.get(ej);return nre(e),t}function Hw(e,t,n=[]){let r=`Platform: ${t}`,o=new $e(r);return(i=[])=>{let s=nj();if(!s||s.injector.get(tj,!1)){let l=[...n,...i,{provide:o,useValue:!0}];e?e(l):Jne(ere(l,r))}return tre(o)}}function ere(e=[],t){return kn.create({name:t,providers:[{provide:Th,useValue:"platform"},{provide:JR,useValue:new Set([()=>Ku=null])},...e]})}function tre(e){let t=nj();if(!t)throw new je(401,!1);return t}function nj(){return Ku?.get(ej)??null}function nre(e){e.get($w,null)?.forEach(n=>n())}var br=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=rre;let e=t;return e})();function rre(e){return ore(ir(),It(),(e&16)===16)}function ore(e,t,n){if(Fh(e)&&!n){let r=Is(e.index,t);return new Ca(r,r)}else if(e.type&175){let r=t[mo];return new Ca(r,t)}return null}var Q0=class{constructor(){}supports(t){return RR(t)}create(t){return new J0(t)}},ire=(e,t)=>t,J0=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ire}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<vA(r,o,i)?n:r,l=vA(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else{i||(i=[]);let u=l-o,d=c-o;if(u!=d){for(let f=0;f<u;f++){let m=f<i.length?i[f]:i[f]=0,h=m+f;d<=h&&h<u&&(i[f]=m+1)}let p=s.previousIndex;i[p]=d-u}}l!==c&&t(s,l,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!RR(t))throw new je(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,o,i,s;if(Array.isArray(t)){this.length=t.length;for(let l=0;l<this.length;l++)i=t[l],s=this._trackByFn(l,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,l),r=!0):(r&&(n=this._verifyReinsertion(n,i,s,l)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,Kte(t,l=>{s=this._trackByFn(o,l),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,l,s,o),r=!0):(r&&(n=this._verifyReinsertion(n,l,s,o)),Object.is(n.item,l)||this._addIdentityChange(n,l)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return t===null?i=this._itTail:(i=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,o),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new ew(n,r),i,o)),t}_verifyReinsertion(t,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let o=t._prevRemoved,i=t._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let o=n===null?this._itHead:n._next;return t._next=o,t._prev=n,o===null?this._itTail=t:o._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new vh),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new vh),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},ew=class{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},tw=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},vh=class{constructor(){this.map=new Map}put(t){let n=t.trackById,r=this.map.get(n);r||(r=new tw,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,o=this.map.get(r);return o?o.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function vA(e,t,n){let r=e.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function wA(){return new Vi([new Q0])}var Vi=(()=>{let t=class t{constructor(r){this.factories=r}static create(r,o){if(o!=null){let i=o.factories.slice();r=r.concat(i)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||wA()),deps:[[t,new ow,new Ih]]}}find(r){let o=this.factories.find(i=>i.supports(r));if(o!=null)return o;throw new je(901,!1)}};t.\u0275prov=ve({token:t,providedIn:"root",factory:wA});let e=t;return e})();var rj=Hw(null,"core",[]),oj=(()=>{let t=class t{constructor(r){}};t.\u0275fac=function(o){return new(o||t)(_e(As))},t.\u0275mod=ot({type:t}),t.\u0275inj=rt({});let e=t;return e})();var ij=new $e("");function sn(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function pd(e,t=NaN){return!isNaN(parseFloat(e))&&!isNaN(Number(e))?Number(e):t}function Hi(e,t){Ds("NgSignals");let n=Av(e);return t?.equal&&(n[Oo].equal=t.equal),n}function yi(e){let t=Dt(null);try{return e()}finally{Dt(t)}}function sj(e){let t=vs(e);if(!t)return null;let n=new lc(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var uj=null;function _i(){return uj}function dj(e){uj??=e}var Jh=class{};var Rt=new $e(""),Zw=(()=>{let t=class t{historyGo(r){throw new Error("")}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:()=>de(are),providedIn:"platform"});let e=t;return e})(),pj=new $e(""),are=(()=>{let t=class t extends Zw{constructor(){super(),this._doc=de(Rt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _i().getBaseHref(this._doc)}onPopState(r){let o=_i().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",r,!1),()=>o.removeEventListener("popstate",r)}onHashChange(r){let o=_i().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",r,!1),()=>o.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,o,i){this._history.pushState(r,o,i)}replaceState(r,o,i){this._history.replaceState(r,o,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:()=>new t,providedIn:"platform"});let e=t;return e})();function Qw(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function aj(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,r=n-(e[n-1]==="/"?1:0);return e.slice(0,r)+e.slice(n)}function Gi(e){return e&&e[0]!=="?"?"?"+e:e}var ka=(()=>{let t=class t{historyGo(r){throw new Error("")}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:()=>de(Jw),providedIn:"root"});let e=t;return e})(),fj=new $e(""),Jw=(()=>{let t=class t extends ka{constructor(r,o){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??de(Rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Qw(this._baseHref,r)}path(r=!1){let o=this._platformLocation.pathname+Gi(this._platformLocation.search),i=this._platformLocation.hash;return i&&r?`${o}${i}`:o}pushState(r,o,i,s){let l=this.prepareExternalUrl(i+Gi(s));this._platformLocation.pushState(r,o,l)}replaceState(r,o,i,s){let l=this.prepareExternalUrl(i+Gi(s));this._platformLocation.replaceState(r,o,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};t.\u0275fac=function(o){return new(o||t)(_e(Zw),_e(fj,8))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),mj=(()=>{let t=class t extends ka{constructor(r,o){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],o!=null&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let o=this._platformLocation.hash??"#";return o.length>0?o.substring(1):o}prepareExternalUrl(r){let o=Qw(this._baseHref,r);return o.length>0?"#"+o:o}pushState(r,o,i,s){let l=this.prepareExternalUrl(i+Gi(s));l.length==0&&(l=this._platformLocation.pathname),this._platformLocation.pushState(r,o,l)}replaceState(r,o,i,s){let l=this.prepareExternalUrl(i+Gi(s));l.length==0&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(r,o,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};t.\u0275fac=function(o){return new(o||t)(_e(Zw),_e(fj,8))},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})(),bo=(()=>{let t=class t{constructor(r){this._subject=new Vt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let o=this._locationStrategy.getBaseHref();this._basePath=ure(aj(lj(o))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,o=""){return this.path()==this.normalize(r+Gi(o))}normalize(r){return t.stripTrailingSlash(cre(this._basePath,lj(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,o="",i=null){this._locationStrategy.pushState(i,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Gi(o)),i)}replaceState(r,o="",i=null){this._locationStrategy.replaceState(i,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Gi(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}),()=>{let o=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(o,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",o){this._urlChangeListeners.forEach(i=>i(r,o))}subscribe(r,o,i){return this._subject.subscribe({next:r,error:o,complete:i})}};t.normalizeQueryParams=Gi,t.joinWithSlash=Qw,t.stripTrailingSlash=aj,t.\u0275fac=function(o){return new(o||t)(_e(ka))},t.\u0275prov=ve({token:t,factory:()=>lre(),providedIn:"root"});let e=t;return e})();function lre(){return new bo(_e(ka))}function cre(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function lj(e){return e.replace(/\/index.html$/,"")}function ure(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function tg(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var yr=(()=>{let t=class t{constructor(r,o){this._viewContainer=r,this._context=new qw,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){cj("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){cj("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,o){return!0}};t.\u0275fac=function(o){return new(o||t)(q(Fr),q(fr))},t.\u0275dir=Be({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let e=t;return e})(),qw=class{constructor(){this.$implicit=null,this.ngIf=null}};function cj(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Tr(t)}'.`)}var hj=(()=>{let t=class t{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(r){if(this._shouldRecreateView(r)){let o=this._viewContainerRef;if(this._viewRef&&o.remove(o.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=o.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,o,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,o,i):!1,get:(r,o,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,o,i)}})}};t.\u0275fac=function(o){return new(o||t)(q(Fr))},t.\u0275dir=Be({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[mr]});let e=t;return e})();var _c=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=rt({});let e=t;return e})(),eS="browser",dre="server";function tS(e){return e===eS}function ng(e){return e===dre}var gj=(()=>{let t=class t{};t.\u0275prov=ve({token:t,providedIn:"root",factory:()=>tS(de(go))?new Kw(de(Rt),window):new Xw});let e=t;return e})(),Kw=class{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=pre(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}};function pre(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=r.nextNode()}}return null}var Xw=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},yc=class{};var md=class{},og=class{},mn=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let o=n.slice(0,r),i=o.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let o=(t.op==="a"?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":let i=t.value;if(!i)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(l=>i.indexOf(l)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var rS=class{encodeKey(t){return bj(t)}encodeValue(t){return bj(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function fre(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{let i=o.indexOf("="),[s,l]=i==-1?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],c=n.get(s)||[];c.push(l),n.set(s,c)}),n}var mre=/%(\d[a-f0-9])/gi,hre={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function bj(e){return encodeURIComponent(e).replace(mre,(t,n)=>hre[n]??t)}function rg(e){return`${e}`}var Rs=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new rS,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=fre(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],o=Array.isArray(r)?r.map(rg):[rg(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let o=t[r];Array.isArray(o)?o.forEach(i=>{n.push({param:r,value:i,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(rg(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],o=r.indexOf(rg(t.value));o!==-1&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var oS=class{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function gre(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function yj(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function _j(e){return typeof Blob<"u"&&e instanceof Blob}function $j(e){return typeof FormData<"u"&&e instanceof FormData}function bre(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var fd=class e{constructor(t,n,r,o){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let i;if(gre(this.method)||o?(this.body=r!==void 0?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers??=new mn,this.context??=new oS,!this.params)this.params=new Rs,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let l=n.indexOf("?"),c=l===-1?"?":l<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||yj(this.body)||_j(this.body)||$j(this.body)||bre(this.body)?this.body:this.body instanceof Rs?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||$j(this.body)?null:_j(this.body)?this.body.type||null:yj(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Rs?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,i=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,l=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress,u=t.headers||this.headers,d=t.params||this.params,p=t.context??this.context;return t.setHeaders!==void 0&&(u=Object.keys(t.setHeaders).reduce((f,m)=>f.set(m,t.setHeaders[m]),u)),t.setParams&&(d=Object.keys(t.setParams).reduce((f,m)=>f.set(m,t.setParams[m]),d)),new e(n,r,s,{params:d,headers:u,context:p,reportProgress:c,responseType:o,withCredentials:l,transferCache:i})}},js=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(js||{}),hd=class{constructor(t,n=200,r="OK"){this.headers=t.headers||new mn,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},ig=class e extends hd{constructor(t={}){super(t),this.type=js.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},gd=class e extends hd{constructor(t={}){super(t),this.type=js.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Ms=class extends hd{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Sj=200,yre=204;function nS(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Yr=(()=>{let t=class t{constructor(r){this.handler=r}request(r,o,i={}){let s;if(r instanceof fd)s=r;else{let u;i.headers instanceof mn?u=i.headers:u=new mn(i.headers);let d;i.params&&(i.params instanceof Rs?d=i.params:d=new Rs({fromObject:i.params})),s=new fd(r,o,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let l=ze(s).pipe(Oi(u=>this.handler.handle(u)));if(r instanceof fd||i.observe==="events")return l;let c=l.pipe(Pn(u=>u instanceof gd));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(nt(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(nt(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(nt(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(nt(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(r,o={}){return this.request("DELETE",r,o)}get(r,o={}){return this.request("GET",r,o)}head(r,o={}){return this.request("HEAD",r,o)}jsonp(r,o){return this.request("JSONP",r,{params:new Rs().append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,o={}){return this.request("OPTIONS",r,o)}patch(r,o,i={}){return this.request("PATCH",r,nS(i,o))}post(r,o,i={}){return this.request("POST",r,nS(i,o))}put(r,o,i={}){return this.request("PUT",r,nS(i,o))}};t.\u0275fac=function(o){return new(o||t)(_e(md))},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})(),_re=/^\)\]\}',?\n/,$re="X-Request-URL";function xj(e){if(e.url)return e.url;let t=$re.toLocaleLowerCase();return e.headers.get(t)}var xre=(()=>{let t=class t{constructor(){this.fetchImpl=de(iS,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=de(Ue)}handle(r){return new gt(o=>{let i=new AbortController;return this.doRequest(r,i.signal,o).then(sS,s=>o.error(new Ms({error:s}))),()=>i.abort()})}doRequest(r,o,i){return ie(this,null,function*(){let s=this.createRequestInit(r),l;try{let h=this.ngZone.runOutsideAngular(()=>this.fetchImpl(r.urlWithParams,fe({signal:o},s)));vre(h),i.next({type:js.Sent}),l=yield h}catch(h){i.error(new Ms({error:h,status:h.status??0,statusText:h.statusText,url:r.urlWithParams,headers:h.headers}));return}let c=new mn(l.headers),u=l.statusText,d=xj(l)??r.urlWithParams,p=l.status,f=null;if(r.reportProgress&&i.next(new ig({headers:c,status:p,statusText:u,url:d})),l.body){let h=l.headers.get("content-length"),g=[],_=l.body.getReader(),$=0,x,w,S=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>ie(this,null,function*(){for(;;){let{done:F,value:k}=yield _.read();if(F)break;if(g.push(k),$+=k.length,r.reportProgress){w=r.responseType==="text"?(w??"")+(x??=new TextDecoder).decode(k,{stream:!0}):void 0;let M=()=>i.next({type:js.DownloadProgress,total:h?+h:void 0,loaded:$,partialText:w});S?S.run(M):M()}}}));let I=this.concatChunks(g,$);try{let F=l.headers.get("Content-Type")??"";f=this.parseBody(r,I,F)}catch(F){i.error(new Ms({error:F,headers:new mn(l.headers),status:l.status,statusText:l.statusText,url:xj(l)??r.urlWithParams}));return}}p===0&&(p=f?Sj:0),p>=200&&p<300?(i.next(new gd({body:f,headers:c,status:p,statusText:u,url:d})),i.complete()):i.error(new Ms({error:f,headers:c,status:p,statusText:u,url:d}))})}parseBody(r,o,i){switch(r.responseType){case"json":let s=new TextDecoder().decode(o).replace(_re,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(o);case"blob":return new Blob([o],{type:i});case"arraybuffer":return o.buffer}}createRequestInit(r){let o={},i=r.withCredentials?"include":void 0;if(r.headers.forEach((s,l)=>o[s]=l.join(",")),r.headers.has("Accept")||(o.Accept="application/json, text/plain, */*"),!r.headers.has("Content-Type")){let s=r.detectContentTypeHeader();s!==null&&(o["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:o,credentials:i}}concatChunks(r,o){let i=new Uint8Array(o),s=0;for(let l of r)i.set(l,s),s+=l.length;return i}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})(),iS=class{};function sS(){}function vre(e){e.then(sS,sS)}function wre(e,t){return t(e)}function Sre(e,t,n){return(r,o)=>Xr(n,()=>t(r,i=>e(i,o)))}var Cj=new $e(""),Cre=new $e(""),Ire=new $e("",{providedIn:"root",factory:()=>!0});var vj=(()=>{let t=class t extends md{constructor(r,o){super(),this.backend=r,this.injector=o,this.chain=null,this.pendingTasks=de(Ts),this.contributeToStability=de(Ire)}handle(r){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(Cj),...this.injector.get(Cre,[])]));this.chain=o.reduceRight((i,s)=>Sre(i,s,this.injector),wre)}if(this.contributeToStability){let o=this.pendingTasks.add();return this.chain(r,i=>this.backend.handle(i)).pipe(ga(()=>this.pendingTasks.remove(o)))}else return this.chain(r,o=>this.backend.handle(o))}};t.\u0275fac=function(o){return new(o||t)(_e(og),_e(Dr))},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})();var Ere=/^\)\]\}',?\n/;function Tre(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var wj=(()=>{let t=class t{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new je(-2800,!1);let o=this.xhrFactory;return(o.\u0275loadImpl?rn(o.\u0275loadImpl()):ze(null)).pipe(Sr(()=>new gt(s=>{let l=o.build();if(l.open(r.method,r.urlWithParams),r.withCredentials&&(l.withCredentials=!0),r.headers.forEach((_,$)=>l.setRequestHeader(_,$.join(","))),r.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let _=r.detectContentTypeHeader();_!==null&&l.setRequestHeader("Content-Type",_)}if(r.responseType){let _=r.responseType.toLowerCase();l.responseType=_!=="json"?_:"text"}let c=r.serializeBody(),u=null,d=()=>{if(u!==null)return u;let _=l.statusText||"OK",$=new mn(l.getAllResponseHeaders()),x=Tre(l)||r.url;return u=new ig({headers:$,status:l.status,statusText:_,url:x}),u},p=()=>{let{headers:_,status:$,statusText:x,url:w}=d(),S=null;$!==yre&&(S=typeof l.response>"u"?l.responseText:l.response),$===0&&($=S?Sj:0);let I=$>=200&&$<300;if(r.responseType==="json"&&typeof S=="string"){let F=S;S=S.replace(Ere,"");try{S=S!==""?JSON.parse(S):null}catch(k){S=F,I&&(I=!1,S={error:k,text:S})}}I?(s.next(new gd({body:S,headers:_,status:$,statusText:x,url:w||void 0})),s.complete()):s.error(new Ms({error:S,headers:_,status:$,statusText:x,url:w||void 0}))},f=_=>{let{url:$}=d(),x=new Ms({error:_,status:l.status||0,statusText:l.statusText||"Unknown Error",url:$||void 0});s.error(x)},m=!1,h=_=>{m||(s.next(d()),m=!0);let $={type:js.DownloadProgress,loaded:_.loaded};_.lengthComputable&&($.total=_.total),r.responseType==="text"&&l.responseText&&($.partialText=l.responseText),s.next($)},g=_=>{let $={type:js.UploadProgress,loaded:_.loaded};_.lengthComputable&&($.total=_.total),s.next($)};return l.addEventListener("load",p),l.addEventListener("error",f),l.addEventListener("timeout",f),l.addEventListener("abort",f),r.reportProgress&&(l.addEventListener("progress",h),c!==null&&l.upload&&l.upload.addEventListener("progress",g)),l.send(c),s.next({type:js.Sent}),()=>{l.removeEventListener("error",f),l.removeEventListener("abort",f),l.removeEventListener("load",p),l.removeEventListener("timeout",f),r.reportProgress&&(l.removeEventListener("progress",h),c!==null&&l.upload&&l.upload.removeEventListener("progress",g)),l.readyState!==l.DONE&&l.abort()}})))}};t.\u0275fac=function(o){return new(o||t)(_e(yc))},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})(),Ij=new $e(""),Dre="XSRF-TOKEN",Fre=new $e("",{providedIn:"root",factory:()=>Dre}),kre="X-XSRF-TOKEN",Are=new $e("",{providedIn:"root",factory:()=>kre}),sg=class{},Mre=(()=>{let t=class t{constructor(r,o,i){this.doc=r,this.platform=o,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=tg(r,this.cookieName),this.lastCookieString=r),this.lastToken}};t.\u0275fac=function(o){return new(o||t)(_e(Rt),_e(go),_e(Fre))},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})();function Rre(e,t){let n=e.url.toLowerCase();if(!de(Ij)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=de(sg).getToken(),o=de(Are);return r!=null&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}function Ej(...e){let t=[Yr,wj,vj,{provide:md,useExisting:vj},{provide:og,useFactory:()=>de(xre,{optional:!0})??de(wj)},{provide:Cj,useValue:Rre,multi:!0},{provide:Ij,useValue:!0},{provide:sg,useClass:Mre}];for(let n of e)t.push(...n.\u0275providers);return Eh(t)}var cS=class extends Jh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},uS=class e extends cS{static makeCurrent(){dj(new e)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=jre();return n==null?null:Ore(n)}resetBaseElement(){bd=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return tg(document.cookie,t)}},bd=null;function jre(){return bd=bd||document.querySelector("base"),bd?bd.getAttribute("href"):null}function Ore(e){return new URL(e,document.baseURI).pathname}var dS=class{addToWindow(t){Wo.getAngularTestability=(r,o=!0)=>{let i=t.findTestabilityInTree(r,o);if(i==null)throw new je(5103,!1);return i},Wo.getAllAngularTestabilities=()=>t.getAllTestabilities(),Wo.getAllAngularRootElements=()=>t.getAllRootElements();let n=r=>{let o=Wo.getAllAngularTestabilities(),i=o.length,s=function(){i--,i==0&&r()};o.forEach(l=>{l.whenStable(s)})};Wo.frameworkStabilizers||(Wo.frameworkStabilizers=[]),Wo.frameworkStabilizers.push(n)}findTestabilityInTree(t,n,r){if(n==null)return null;let o=t.getTestability(n);return o??(r?_i().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},Nre=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})(),ag=new $e(""),kj=(()=>{let t=class t{constructor(r,o){this._zone=o,this._eventNameToPlugin=new Map,r.forEach(i=>{i.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,o,i){return this._findPluginFor(o).addEventListener(r,o,i)}getZone(){return this._zone}_findPluginFor(r){let o=this._eventNameToPlugin.get(r);if(o)return o;if(o=this._plugins.find(s=>s.supports(r)),!o)throw new je(5101,!1);return this._eventNameToPlugin.set(r,o),o}};t.\u0275fac=function(o){return new(o||t)(_e(ag),_e(Ue))},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})(),yd=class{constructor(t){this._doc=t}},aS="ng-app-id",Aj=(()=>{let t=class t{constructor(r,o,i,s={}){this.doc=r,this.appId=o,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ng(s),this.resetHostNodes()}addStyles(r){for(let o of r)this.changeUsageCount(o,1)===1&&this.onStyleAdded(o)}removeStyles(r){for(let o of r)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(o=>o.remove()),r.clear());for(let o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let o of this.getAllStyles())this.addStyleToHost(r,o)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let o of this.hostNodes)this.addStyleToHost(o,r)}onStyleRemoved(r){let o=this.styleRef;o.get(r)?.elements?.forEach(i=>i.remove()),o.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${aS}="${this.appId}"]`);if(r?.length){let o=new Map;return r.forEach(i=>{i.textContent!=null&&o.set(i.textContent,i)}),o}return null}changeUsageCount(r,o){let i=this.styleRef;if(i.has(r)){let s=i.get(r);return s.usage+=o,s.usage}return i.set(r,{usage:o,elements:[]}),o}getStyleElement(r,o){let i=this.styleNodesInDOM,s=i?.get(o);if(s?.parentNode===r)return i.delete(o),s.removeAttribute(aS),s;{let l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=o,this.platformIsServer&&l.setAttribute(aS,this.appId),r.appendChild(l),l}}addStyleToHost(r,o){let i=this.getStyleElement(r,o),s=this.styleRef,l=s.get(o)?.elements;l?l.push(i):s.set(o,{elements:[i],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};t.\u0275fac=function(o){return new(o||t)(_e(Rt),_e(sd),_e(ad,8),_e(go))},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})(),lS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},fS=/%COMP%/g,Mj="%COMP%",Pre=`_nghost-${Mj}`,Bre=`_ngcontent-${Mj}`,Lre=!0,Ure=new $e("",{providedIn:"root",factory:()=>Lre});function Wre(e){return Bre.replace(fS,e)}function zre(e){return Pre.replace(fS,e)}function Rj(e,t){return t.map(n=>n.replace(fS,e))}var Tj=(()=>{let t=class t{constructor(r,o,i,s,l,c,u,d=null){this.eventManager=r,this.sharedStylesHost=o,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=l,this.platformId=c,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=ng(c),this.defaultRenderer=new _d(r,l,u,this.platformIsServer)}createRenderer(r,o){if(!r||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===fi.ShadowDom&&(o=tt(fe({},o),{encapsulation:fi.Emulated}));let i=this.getOrCreateRenderer(r,o);return i instanceof lg?i.applyToHost(r):i instanceof $d&&i.applyStyles(),i}getOrCreateRenderer(r,o){let i=this.rendererByCompId,s=i.get(o.id);if(!s){let l=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(o.encapsulation){case fi.Emulated:s=new lg(u,d,o,this.appId,p,l,c,f);break;case fi.ShadowDom:return new pS(u,d,r,o,l,c,this.nonce,f);default:s=new $d(u,d,o,p,l,c,f);break}i.set(o.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(o){return new(o||t)(_e(kj),_e(Aj),_e(sd),_e(Ure),_e(Rt),_e(go),_e(Ue),_e(ad))},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})(),_d=class{constructor(t,n,r,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(lS[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Dj(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Dj(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new je(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;let i=lS[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let o=lS[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(Bi.DashCase|Bi.Important)?t.style.setProperty(n,r,o&Bi.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Bi.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if(typeof t=="string"&&(t=_i().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function Dj(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var pS=class extends _d{constructor(t,n,r,o,i,s,l,c){super(t,i,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=Rj(o.id,o.styles);for(let d of u){let p=document.createElement("style");l&&p.setAttribute("nonce",l),p.textContent=d,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},$d=class extends _d{constructor(t,n,r,o,i,s,l,c){super(t,i,s,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=c?Rj(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},lg=class extends $d{constructor(t,n,r,o,i,s,l,c){let u=o+"-"+r.id;super(t,n,r,i,s,l,c,u),this.contentAttr=Wre(u),this.hostAttr=zre(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},Vre=(()=>{let t=class t extends yd{constructor(r){super(r)}supports(r){return!0}addEventListener(r,o,i){return r.addEventListener(o,i,!1),()=>this.removeEventListener(r,o,i)}removeEventListener(r,o,i){return r.removeEventListener(o,i)}};t.\u0275fac=function(o){return new(o||t)(_e(Rt))},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})(),Hre=(()=>{let t=class t extends yd{constructor(r){super(r),this.delegate=de(ij,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,o,i){return this.delegate.addEventListener(r,o,i)}removeEventListener(r,o,i){return this.delegate.removeEventListener(r,o,i)}};t.\u0275fac=function(o){return new(o||t)(_e(Rt))},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})(),Fj=["alt","control","meta","shift"],Gre={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qre={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Kre=(()=>{let t=class t extends yd{constructor(r){super(r)}supports(r){return t.parseEventName(r)!=null}addEventListener(r,o,i){let s=t.parseEventName(o),l=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_i().onAndCancel(r,s.domEventName,l))}static parseEventName(r){let o=r.toLowerCase().split("."),i=o.shift();if(o.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(o.pop()),l="",c=o.indexOf("code");if(c>-1&&(o.splice(c,1),l="code."),Fj.forEach(d=>{let p=o.indexOf(d);p>-1&&(o.splice(p,1),l+=d+".")}),l+=s,o.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=l,u}static matchEventFullKeyCode(r,o){let i=Gre[r.key]||r.key,s="";return o.indexOf("code.")>-1&&(i=r.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Fj.forEach(l=>{if(l!==i){let c=qre[l];c(r)&&(s+=l+".")}}),s+=i,s===o)}static eventCallback(r,o,i){return s=>{t.matchEventFullKeyCode(s,r)&&i.runGuarded(()=>o(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};t.\u0275fac=function(o){return new(o||t)(_e(Rt))},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})();function Xre(){uS.makeCurrent()}function Yre(){return new zo}function Zre(){return PM(document),document}var Qre=[{provide:go,useValue:eS},{provide:$w,useValue:Xre,multi:!0},{provide:Rt,useFactory:Zre,deps:[]}],jj=Hw(rj,"browser",Qre),Jre=new $e(""),eoe=[{provide:dd,useClass:dS,deps:[]},{provide:zw,useClass:qh,deps:[Ue,Kh,dd]},{provide:qh,useClass:qh,deps:[Ue,Kh,dd]}],toe=[{provide:Th,useValue:"root"},{provide:zo,useFactory:Yre,deps:[]},{provide:ag,useClass:Vre,multi:!0,deps:[Rt,Ue,go]},{provide:ag,useClass:Kre,multi:!0,deps:[Rt]},{provide:ag,useClass:Hre,multi:!0},Tj,Aj,kj,{provide:ac,useExisting:Tj},{provide:yc,useClass:Nre,deps:[]},[]],Oj=(()=>{let t=class t{constructor(r){}static withServerTransition(r){return{ngModule:t,providers:[{provide:sd,useValue:r.appId}]}}};t.\u0275fac=function(o){return new(o||t)(_e(Jre,12))},t.\u0275mod=ot({type:t}),t.\u0275inj=rt({providers:[...toe,...eoe],imports:[_c,oj]});let e=t;return e})();var Nj=(()=>{let t=class t{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};t.\u0275fac=function(o){return new(o||t)(_e(Rt))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Gj=(()=>{let t=class t{constructor(r,o){this._renderer=r,this._elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(r,o){this._renderer.setProperty(this._elementRef.nativeElement,r,o)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};t.\u0275fac=function(o){return new(o||t)(q(mc),q(ct))},t.\u0275dir=Be({type:t});let e=t;return e})(),noe=(()=>{let t=class t extends Gj{};t.\u0275fac=(()=>{let r;return function(i){return(r||(r=hr(t)))(i||t)}})(),t.\u0275dir=Be({type:t,features:[Jt]});let e=t;return e})(),_g=new $e("");var roe={provide:_g,useExisting:Li(()=>wc),multi:!0};function ooe(){let e=_i()?_i().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var ioe=new $e(""),wc=(()=>{let t=class t extends Gj{constructor(r,o,i){super(r,o),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!ooe())}writeValue(r){let o=r??"";this.setProperty("value",o)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};t.\u0275fac=function(o){return new(o||t)(q(mc),q(ct),q(ioe,8))},t.\u0275dir=Be({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(o,i){o&1&&xe("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[fn([roe]),Jt]});let e=t;return e})();function Os(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function qj(e){return e!=null&&typeof e.length=="number"}var yS=new $e(""),_S=new $e(""),soe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ug=class{static min(t){return aoe(t)}static max(t){return loe(t)}static required(t){return coe(t)}static requiredTrue(t){return uoe(t)}static email(t){return doe(t)}static minLength(t){return poe(t)}static maxLength(t){return foe(t)}static pattern(t){return moe(t)}static nullValidator(t){return Kj(t)}static compose(t){return e2(t)}static composeAsync(t){return t2(t)}};function aoe(e){return t=>{if(Os(t.value)||Os(e))return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function loe(e){return t=>{if(Os(t.value)||Os(e))return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function coe(e){return Os(e.value)?{required:!0}:null}function uoe(e){return e.value===!0?null:{required:!0}}function doe(e){return Os(e.value)||soe.test(e.value)?null:{email:!0}}function poe(e){return t=>Os(t.value)||!qj(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}function foe(e){return t=>qj(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function moe(e){if(!e)return Kj;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(Os(r.value))return null;let o=r.value;return t.test(o)?null:{pattern:{requiredPattern:n,actualValue:o}}}}function Kj(e){return null}function Xj(e){return e!=null}function Yj(e){return Fa(e)?rn(e):e}function Zj(e){let t={};return e.forEach(n=>{t=n!=null?fe(fe({},t),n):t}),Object.keys(t).length===0?null:t}function Qj(e,t){return t.map(n=>n(e))}function hoe(e){return!e.validate}function Jj(e){return e.map(t=>hoe(t)?t:n=>t.validate(n))}function e2(e){if(!e)return null;let t=e.filter(Xj);return t.length==0?null:function(n){return Zj(Qj(n,t))}}function $S(e){return e!=null?e2(Jj(e)):null}function t2(e){if(!e)return null;let t=e.filter(Xj);return t.length==0?null:function(n){let r=Qj(n,t).map(Yj);return Vv(r).pipe(nt(Zj))}}function xS(e){return e!=null?t2(Jj(e)):null}function Bj(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function n2(e){return e._rawValidators}function r2(e){return e._rawAsyncValidators}function mS(e){return e?Array.isArray(e)?e:[e]:[]}function dg(e,t){return Array.isArray(e)?e.includes(t):e===t}function Lj(e,t){let n=mS(t);return mS(e).forEach(o=>{dg(n,o)||n.push(o)}),n}function Uj(e,t){return mS(t).filter(n=>!dg(e,n))}var pg=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=$S(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=xS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Aa=class extends pg{get formDirective(){return null}get path(){return null}},Ma=class extends pg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},hS=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},goe={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},R1e=tt(fe({},goe),{"[class.ng-submitted]":"isSubmitted"}),$g=(()=>{let t=class t extends hS{constructor(r){super(r)}};t.\u0275fac=function(o){return new(o||t)(q(Ma,2))},t.\u0275dir=Be({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(o,i){o&2&&Zt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Jt]});let e=t;return e})();var xd="VALID",cg="INVALID",xc="PENDING",vd="DISABLED",Ns=class{},fg=class extends Ns{constructor(t,n){super(),this.value=t,this.source=n}},Sd=class extends Ns{constructor(t,n){super(),this.pristine=t,this.source=n}},Cd=class extends Ns{constructor(t,n){super(),this.touched=t,this.source=n}},vc=class extends Ns{constructor(t,n){super(),this.status=t,this.source=n}},gS=class extends Ns{constructor(t){super(),this.source=t}},bS=class extends Ns{constructor(t){super(),this.source=t}};function o2(e){return(xg(e)?e.validators:e)||null}function boe(e){return Array.isArray(e)?$S(e):e||null}function i2(e,t){return(xg(t)?t.asyncValidators:e)||null}function yoe(e){return Array.isArray(e)?xS(e):e||null}function xg(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function _oe(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new je(1e3,"");if(!r[n])throw new je(1001,"")}function $oe(e,t,n){e._forEachChild((r,o)=>{if(n[o]===void 0)throw new je(1002,"")})}var mg=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Hi(()=>this.statusReactive()),this.statusReactive=Da(void 0),this._pristine=Hi(()=>this.pristineReactive()),this.pristineReactive=Da(!0),this._touched=Hi(()=>this.touchedReactive()),this.touchedReactive=Da(!1),this._events=new $t,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return yi(this.statusReactive)}set status(t){yi(()=>this.statusReactive.set(t))}get valid(){return this.status===xd}get invalid(){return this.status===cg}get pending(){return this.status==xc}get disabled(){return this.status===vd}get enabled(){return this.status!==vd}get pristine(){return yi(this.pristineReactive)}set pristine(t){yi(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return yi(this.touchedReactive)}set touched(t){yi(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Lj(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Lj(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Uj(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Uj(t,this._rawAsyncValidators))}hasValidator(t){return dg(this._rawValidators,t)}hasAsyncValidator(t){return dg(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(tt(fe({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Cd(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Cd(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(tt(fe({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Sd(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Sd(!0,r))}markAsPending(t={}){this.status=xc;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new vc(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(tt(fe({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=vd,this.errors=null,this._forEachChild(o=>{o.disable(tt(fe({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new fg(this.value,r)),this._events.next(new vc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(tt(fe({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=xd,this._forEachChild(r=>{r.enable(tt(fe({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(tt(fe({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xd||this.status===xc)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new fg(this.value,n)),this._events.next(new vc(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(tt(fe({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vd:xd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=xc,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=Yj(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new vc(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Vt,this.statusChanges=new Vt}_calculateStatus(){return this._allControlsDisabled()?vd:this.errors?cg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xc)?xc:this._anyControlsHaveStatus(cg)?cg:xd}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),o&&this._events.next(new Sd(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Cd(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){xg(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=boe(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=yoe(this._rawAsyncValidators)}},hg=class extends mg{constructor(t,n,r){super(o2(n),i2(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){$oe(this,!0,t),Object.keys(t).forEach(r=>{_oe(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,o)=>{r.reset(t?t[o]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((o,i)=>{r=n(r,o,i)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var vg=new $e("CallSetDisabledState",{providedIn:"root",factory:()=>vS}),vS="always";function xoe(e,t){return[...t.path,e]}function gg(e,t,n=vS){wS(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),woe(e,t),Coe(e,t),Soe(e,t),voe(e,t)}function Wj(e,t,n=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),yg(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function bg(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function voe(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function wS(e,t){let n=n2(e);t.validator!==null?e.setValidators(Bj(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=r2(e);t.asyncValidator!==null?e.setAsyncValidators(Bj(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let o=()=>e.updateValueAndValidity();bg(t._rawValidators,o),bg(t._rawAsyncValidators,o)}function yg(e,t){let n=!1;if(e!==null){if(t.validator!==null){let o=n2(e);if(Array.isArray(o)&&o.length>0){let i=o.filter(s=>s!==t.validator);i.length!==o.length&&(n=!0,e.setValidators(i))}}if(t.asyncValidator!==null){let o=r2(e);if(Array.isArray(o)&&o.length>0){let i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(n=!0,e.setAsyncValidators(i))}}}let r=()=>{};return bg(t._rawValidators,r),bg(t._rawAsyncValidators,r),n}function woe(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&s2(e,t)})}function Soe(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&s2(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function s2(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Coe(e,t){let n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function a2(e,t){e==null,wS(e,t)}function Ioe(e,t){return yg(e,t)}function Eoe(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function Toe(e){return Object.getPrototypeOf(e.constructor)===noe}function l2(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Doe(e,t){if(!t)return null;Array.isArray(t);let n,r,o;return t.forEach(i=>{i.constructor===wc?n=i:Toe(i)?r=i:o=i}),o||r||n||null}function Foe(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var koe={provide:Aa,useExisting:Li(()=>SS)},wd=Promise.resolve(),SS=(()=>{let t=class t extends Aa{get submitted(){return yi(this.submittedReactive)}constructor(r,o,i){super(),this.callSetDisabledState=i,this._submitted=Hi(()=>this.submittedReactive()),this.submittedReactive=Da(!1),this._directives=new Set,this.ngSubmit=new Vt,this.form=new hg({},$S(r),xS(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){wd.then(()=>{let o=this._findContainer(r.path);r.control=o.registerControl(r.name,r.control),gg(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){wd.then(()=>{let o=this._findContainer(r.path);o&&o.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){wd.then(()=>{let o=this._findContainer(r.path),i=new hg({});a2(i,r),o.registerControl(r.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){wd.then(()=>{let o=this._findContainer(r.path);o&&o.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,o){wd.then(()=>{this.form.get(r.path).setValue(o)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),l2(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};t.\u0275fac=function(o){return new(o||t)(q(yS,10),q(_S,10),q(vg,8))},t.\u0275dir=Be({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(o,i){o&1&&xe("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[fn([koe]),Jt]});let e=t;return e})();function zj(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Vj(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var c2=class extends mg{constructor(t=null,n,r){super(o2(n),i2(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Vj(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){zj(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){zj(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Vj(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Aoe=e=>e instanceof c2;var Moe={provide:Ma,useExisting:Li(()=>Id)},Hj=Promise.resolve(),Id=(()=>{let t=class t extends Ma{constructor(r,o,i,s,l,c){super(),this._changeDetectorRef=l,this.callSetDisabledState=c,this.control=new c2,this._registered=!1,this.name="",this.update=new Vt,this._parent=r,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=Doe(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let o=r.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),Eoe(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){gg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){Hj.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let o=r.isDisabled.currentValue,i=o!==0&&sn(o);Hj.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?xoe(r,this._parent):[r]}};t.\u0275fac=function(o){return new(o||t)(q(Aa,9),q(yS,10),q(_S,10),q(_g,10),q(br,8),q(vg,8))},t.\u0275dir=Be({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[fn([Moe]),Jt,mr]});let e=t;return e})();var Roe={provide:Aa,useExisting:Li(()=>CS)},CS=(()=>{let t=class t extends Aa{get submitted(){return yi(this._submittedReactive)}set submitted(r){this._submittedReactive.set(r)}constructor(r,o,i){super(),this.callSetDisabledState=i,this._submitted=Hi(()=>this._submittedReactive()),this._submittedReactive=Da(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Vt,this._setValidators(r),this._setAsyncValidators(o)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let o=this.form.get(r.path);return gg(o,r,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),o}getControl(r){return this.form.get(r.path)}removeControl(r){Wj(r.control||null,r,!1),Foe(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,o){this.form.get(r.path).setValue(o)}onSubmit(r){return this._submittedReactive.set(!0),l2(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new gS(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this._submittedReactive.set(!1),this.form._events.next(new bS(this.form))}_updateDomValue(){this.directives.forEach(r=>{let o=r.control,i=this.form.get(r.path);o!==i&&(Wj(o||null,r),Aoe(i)&&(gg(i,r,this.callSetDisabledState),r.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let o=this.form.get(r.path);a2(o,r),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let o=this.form.get(r.path);o&&Ioe(o,r)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wS(this.form,this),this._oldForm&&yg(this._oldForm,this)}_checkFormPresent(){this.form}};t.\u0275fac=function(o){return new(o||t)(q(yS,10),q(_S,10),q(vg,8))},t.\u0275dir=Be({type:t,selectors:[["","formGroup",""]],hostBindings:function(o,i){o&1&&xe("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[fn([Roe]),Jt,mr]});let e=t;return e})();var joe=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=rt({});let e=t;return e})();var u2=(()=>{let t=class t{static withConfig(r){return{ngModule:t,providers:[{provide:vg,useValue:r.callSetDisabledState??vS}]}}};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=rt({imports:[joe]});let e=t;return e})();var TS;try{TS=typeof Intl<"u"&&Intl.v8BreakIterator}catch{TS=!1}var an=(()=>{let t=class t{constructor(r){this._platformId=r,this.isBrowser=this._platformId?tS(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||TS)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(o){return new(o||t)(_e(go))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Sc,d2=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function DS(){if(Sc)return Sc;if(typeof document!="object"||!document)return Sc=new Set(d2),Sc;let e=document.createElement("input");return Sc=new Set(d2.filter(t=>(e.setAttribute("type",t),e.type===t))),Sc}var Ed;function Ooe(){if(Ed==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ed=!0}))}finally{Ed=Ed||!1}return Ed}function Ps(e){return Ooe()?e:!!e.capture}var ES;function Noe(){if(ES==null){let e=typeof document<"u"?document.head:null;ES=!!(e&&(e.createShadowRoot||e.attachShadow))}return ES}function p2(e){if(Noe()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Ki(e){return e.composedPath?e.composedPath()[0]:e.target}function f2(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Ra(e){return e!=null&&`${e}`!="false"}function FS(e){return Array.isArray(e)?e:[e]}function $i(e){return e instanceof ct?e.nativeElement:e}var Poe=(()=>{let t=class t{create(r){return typeof MutationObserver>"u"?null:new MutationObserver(r)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var m2=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=rt({providers:[Poe]});let e=t;return e})();var h2=new Set,ja,Boe=(()=>{let t=class t{constructor(r,o){this._platform=r,this._nonce=o,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Uoe}matchMedia(r){return(this._platform.WEBKIT||this._platform.BLINK)&&Loe(r,this._nonce),this._matchMedia(r)}};t.\u0275fac=function(o){return new(o||t)(_e(an),_e(ad,8))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Loe(e,t){if(!h2.has(e))try{ja||(ja=document.createElement("style"),t&&ja.setAttribute("nonce",t),ja.setAttribute("type","text/css"),document.head.appendChild(ja)),ja.sheet&&(ja.sheet.insertRule(`@media ${e} {body{ }}`,0),h2.add(e))}catch(n){console.error(n)}}function Uoe(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var b2=(()=>{let t=class t{constructor(r,o){this._mediaMatcher=r,this._zone=o,this._queries=new Map,this._destroySubject=new $t}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(r){return g2(FS(r)).some(i=>this._registerQuery(i).mql.matches)}observe(r){let i=g2(FS(r)).map(l=>this._registerQuery(l).observable),s=ha(i);return s=hs(s.pipe(Po(1)),s.pipe(Gu(1),Om(0))),s.pipe(nt(l=>{let c={matches:!1,breakpoints:{}};return l.forEach(({matches:u,query:d})=>{c.matches=c.matches||u,c.breakpoints[d]=u}),c}))}_registerQuery(r){if(this._queries.has(r))return this._queries.get(r);let o=this._mediaMatcher.matchMedia(r),s={observable:new gt(l=>{let c=u=>this._zone.run(()=>l.next(u));return o.addListener(c),()=>{o.removeListener(c)}}).pipe(Gl(o),nt(({matches:l})=>({query:r,matches:l})),or(this._destroySubject)),mql:o};return this._queries.set(r,s),s}};t.\u0275fac=function(o){return new(o||t)(_e(Boe),_e(Ue))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function g2(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}function AS(e){return e.buttons===0||e.detail===0}function MS(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var Woe=new $e("cdk-input-modality-detector-options"),zoe={ignoreKeys:[18,17,224,91,16]},$2=650,Cc=Ps({passive:!0,capture:!0}),Voe=(()=>{let t=class t{get mostRecentModality(){return this._modality.value}constructor(r,o,i,s){this._platform=r,this._mostRecentTarget=null,this._modality=new Fn(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(c=>c===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ki(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<$2||(this._modality.next(AS(l)?"keyboard":"mouse"),this._mostRecentTarget=Ki(l))},this._onTouchstart=l=>{if(MS(l)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ki(l)},this._options=fe(fe({},zoe),s),this.modalityDetected=this._modality.pipe(Gu(1)),this.modalityChanged=this.modalityDetected.pipe(Nm()),r.isBrowser&&o.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Cc),i.addEventListener("mousedown",this._onMousedown,Cc),i.addEventListener("touchstart",this._onTouchstart,Cc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Cc),document.removeEventListener("mousedown",this._onMousedown,Cc),document.removeEventListener("touchstart",this._onTouchstart,Cc))}};t.\u0275fac=function(o){return new(o||t)(_e(an),_e(Ue),_e(Rt),_e(Woe,8))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Sg=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(Sg||{}),Hoe=new $e("cdk-focus-monitor-default-options"),wg=Ps({passive:!0,capture:!0}),Cg=(()=>{let t=class t{constructor(r,o,i,s,l){this._ngZone=r,this._platform=o,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new $t,this._rootNodeFocusAndBlurListener=c=>{let u=Ki(c);for(let d=u;d;d=d.parentElement)c.type==="focus"?this._onFocus(c,d):this._onBlur(c,d)},this._document=s,this._detectionMode=l?.detectionMode||Sg.IMMEDIATE}monitor(r,o=!1){let i=$i(r);if(!this._platform.isBrowser||i.nodeType!==1)return ze();let s=p2(i)||this._getDocument(),l=this._elementInfo.get(i);if(l)return o&&(l.checkChildren=!0),l.subject;let c={checkChildren:o,subject:new $t,rootNode:s};return this._elementInfo.set(i,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(r){let o=$i(r),i=this._elementInfo.get(o);i&&(i.subject.complete(),this._setClasses(o),this._elementInfo.delete(o),this._removeGlobalListeners(i))}focusVia(r,o,i){let s=$i(r),l=this._getDocument().activeElement;s===l?this._getClosestElementsInfo(s).forEach(([c,u])=>this._originChanged(c,o,u)):(this._setOrigin(o),typeof s.focus=="function"&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((r,o)=>this.stopMonitoring(o))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(r){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(r)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:r&&this._isLastInteractionFromInputLabel(r)?"mouse":"program"}_shouldBeAttributedToTouch(r){return this._detectionMode===Sg.EVENTUAL||!!r?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(r,o){r.classList.toggle("cdk-focused",!!o),r.classList.toggle("cdk-touch-focused",o==="touch"),r.classList.toggle("cdk-keyboard-focused",o==="keyboard"),r.classList.toggle("cdk-mouse-focused",o==="mouse"),r.classList.toggle("cdk-program-focused",o==="program")}_setOrigin(r,o=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=r,this._originFromTouchInteraction=r==="touch"&&o,this._detectionMode===Sg.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?$2:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(r,o){let i=this._elementInfo.get(o),s=Ki(r);!i||!i.checkChildren&&o!==s||this._originChanged(o,this._getFocusOrigin(s),i)}_onBlur(r,o){let i=this._elementInfo.get(o);!i||i.checkChildren&&r.relatedTarget instanceof Node&&o.contains(r.relatedTarget)||(this._setClasses(o),this._emitOrigin(i,null))}_emitOrigin(r,o){r.subject.observers.length&&this._ngZone.run(()=>r.subject.next(o))}_registerGlobalListeners(r){if(!this._platform.isBrowser)return;let o=r.rootNode,i=this._rootNodeFocusListenerCount.get(o)||0;i||this._ngZone.runOutsideAngular(()=>{o.addEventListener("focus",this._rootNodeFocusAndBlurListener,wg),o.addEventListener("blur",this._rootNodeFocusAndBlurListener,wg)}),this._rootNodeFocusListenerCount.set(o,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(or(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(r){let o=r.rootNode;if(this._rootNodeFocusListenerCount.has(o)){let i=this._rootNodeFocusListenerCount.get(o);i>1?this._rootNodeFocusListenerCount.set(o,i-1):(o.removeEventListener("focus",this._rootNodeFocusAndBlurListener,wg),o.removeEventListener("blur",this._rootNodeFocusAndBlurListener,wg),this._rootNodeFocusListenerCount.delete(o))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(r,o,i){this._setClasses(r,o),this._emitOrigin(i,o),this._lastFocusOrigin=o}_getClosestElementsInfo(r){let o=[];return this._elementInfo.forEach((i,s)=>{(s===r||i.checkChildren&&s.contains(r))&&o.push([s,i])}),o}_isLastInteractionFromInputLabel(r){let{_mostRecentTarget:o,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!o||o===r||r.nodeName!=="INPUT"&&r.nodeName!=="TEXTAREA"||r.disabled)return!1;let s=r.labels;if(s){for(let l=0;l<s.length;l++)if(s[l].contains(o))return!0}return!1}};t.\u0275fac=function(o){return new(o||t)(_e(Ue),_e(an),_e(Voe),_e(Rt,8),_e(Hoe,8))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Oa=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(Oa||{}),y2="cdk-high-contrast-black-on-white",_2="cdk-high-contrast-white-on-black",kS="cdk-high-contrast-active",x2=(()=>{let t=class t{constructor(r,o){this._platform=r,this._document=o,this._breakpointSubscription=de(b2).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Oa.NONE;let r=this._document.createElement("div");r.style.backgroundColor="rgb(1,2,3)",r.style.position="absolute",this._document.body.appendChild(r);let o=this._document.defaultView||window,i=o&&o.getComputedStyle?o.getComputedStyle(r):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(r.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Oa.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Oa.BLACK_ON_WHITE}return Oa.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let r=this._document.body.classList;r.remove(kS,y2,_2),this._hasCheckedHighContrastMode=!0;let o=this.getHighContrastMode();o===Oa.BLACK_ON_WHITE?r.add(kS,y2):o===Oa.WHITE_ON_BLACK&&r.add(kS,_2)}}};t.\u0275fac=function(o){return new(o||t)(_e(an),_e(Rt))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Goe=new $e("cdk-dir-doc",{providedIn:"root",factory:qoe});function qoe(){return de(Rt)}var Koe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Xoe(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?Koe.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Ig=(()=>{let t=class t{constructor(r){if(this.value="ltr",this.change=new Vt,r){let o=r.body?r.body.dir:null,i=r.documentElement?r.documentElement.dir:null;this.value=Xoe(o||i||"ltr")}}ngOnDestroy(){this.change.complete()}};t.\u0275fac=function(o){return new(o||t)(_e(Goe,8))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ic=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=rt({});let e=t;return e})();var Zoe=["mat-internal-form-field",""],Qoe=["*"];function Joe(){return!0}var eie=new $e("mat-sanity-checks",{providedIn:"root",factory:Joe}),In=(()=>{let t=class t{constructor(r,o,i){this._sanityChecks=o,this._document=i,this._hasDoneGlobalChecks=!1,r._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(r){return f2()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[r]}};t.\u0275fac=function(o){return new(o||t)(_e(x2),_e(eie,8),_e(Rt))},t.\u0275mod=ot({type:t}),t.\u0275inj=rt({imports:[Ic,Ic]});let e=t;return e})();var Tg=class{constructor(t,n,r,o,i){this._defaultMatcher=t,this.ngControl=n,this._parentFormGroup=r,this._parentForm=o,this._stateChanges=i,this.errorState=!1}updateErrorState(){let t=this.errorState,n=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,o=this.ngControl?this.ngControl.control:null,i=r?.isErrorState(o,n)??!1;i!==t&&(this.errorState=i,this._stateChanges.next())}};var A2=(()=>{let t=class t{isErrorState(r,o){return!!(r&&r.invalid&&(r.touched||o&&o.submitted))}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var yo=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(yo||{}),OS=class{constructor(t,n,r,o=!1){this._renderer=t,this.element=n,this.config=r,this._animationForciblyDisabledThroughCss=o,this.state=yo.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},S2=Ps({passive:!0,capture:!0}),NS=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let n=Ki(t);n&&this._events.get(t.type)?.forEach((r,o)=>{(o===n||o.contains(n))&&r.forEach(i=>i.handleEvent(t))})}}addHandler(t,n,r,o){let i=this._events.get(n);if(i){let s=i.get(r);s?s.add(o):i.set(r,new Set([o]))}else this._events.set(n,new Map([[r,new Set([o])]])),t.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,S2)})}removeHandler(t,n,r){let o=this._events.get(t);if(!o)return;let i=o.get(n);i&&(i.delete(r),i.size===0&&o.delete(n),o.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,S2)))}},C2={enterDuration:225,exitDuration:150},tie=800,I2=Ps({passive:!0,capture:!0}),E2=["mousedown","touchstart"],T2=["mouseup","mouseleave","touchend","touchcancel"],Td=class Td{constructor(t,n,r,o){this._target=t,this._ngZone=n,this._platform=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=$i(r))}fadeInRipple(t,n,r={}){let o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=fe(fe({},C2),r.animation);r.centered&&(t=o.left+o.width/2,n=o.top+o.height/2);let s=r.radius||nie(t,n,o),l=t-o.left,c=n-o.top,u=i.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${l-s}px`,d.style.top=`${c-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,r.color!=null&&(d.style.backgroundColor=r.color),d.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(d);let p=window.getComputedStyle(d),f=p.transitionProperty,m=p.transitionDuration,h=f==="none"||m==="0s"||m==="0s, 0s"||o.width===0&&o.height===0,g=new OS(this,d,r,h);d.style.transform="scale3d(1, 1, 1)",g.state=yo.FADING_IN,r.persistent||(this._mostRecentTransientRipple=g);let _=null;return!h&&(u||i.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let $=()=>{_&&(_.fallbackTimer=null),clearTimeout(w),this._finishRippleTransition(g)},x=()=>this._destroyRipple(g),w=setTimeout(x,u+100);d.addEventListener("transitionend",$),d.addEventListener("transitioncancel",x),_={onTransitionEnd:$,onTransitionCancel:x,fallbackTimer:w}}),this._activeRipples.set(g,_),(h||!u)&&this._finishRippleTransition(g),g}fadeOutRipple(t){if(t.state===yo.FADING_OUT||t.state===yo.HIDDEN)return;let n=t.element,r=fe(fe({},C2),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=yo.FADING_OUT,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let n=$i(t);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,E2.forEach(r=>{Td._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{T2.forEach(n=>{this._triggerElement.addEventListener(n,this,I2)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===yo.FADING_IN?this._startFadeOutTransition(t):t.state===yo.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let n=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=yo.VISIBLE,!r&&(!n||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let n=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=yo.HIDDEN,n!==null&&(t.element.removeEventListener("transitionend",n.onTransitionEnd),t.element.removeEventListener("transitioncancel",n.onTransitionCancel),n.fallbackTimer!==null&&clearTimeout(n.fallbackTimer)),t.element.remove()}_onMousedown(t){let n=AS(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+tie;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!MS(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=t.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let n=t.state===yo.VISIBLE||t.config.terminateOnPointerUp&&t.state===yo.FADING_IN;!t.config.persistent&&n&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(E2.forEach(n=>Td._eventManager.removeHandler(n,t,this)),this._pointerUpEventsRegistered&&(T2.forEach(n=>t.removeEventListener(n,this,I2)),this._pointerUpEventsRegistered=!1))}};Td._eventManager=new NS;var PS=Td;function nie(e,t,n){let r=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),o=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(r*r+o*o)}var M2=new $e("mat-ripple-global-options"),BS=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(r){r&&this.fadeOutAllNonPersistent(),this._disabled=r,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(r){this._trigger=r,this._setupTriggerEventsIfEnabled()}constructor(r,o,i,s,l){this._elementRef=r,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new PS(this,o,r,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:fe(fe(fe({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(r,o=0,i){return typeof r=="number"?this._rippleRenderer.fadeInRipple(r,o,fe(fe({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,fe(fe({},this.rippleConfig),r))}};t.\u0275fac=function(o){return new(o||t)(q(ct),q(Ue),q(an),q(M2,8),q(zi,8))},t.\u0275dir=Be({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(o,i){o&2&&Zt("mat-ripple-unbounded",i.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let e=t;return e})(),Dg=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=rt({imports:[In,In]});let e=t;return e})();var D2={capture:!0},F2=["focus","mousedown","mouseenter","touchstart"],RS="mat-ripple-loader-uninitialized",jS="mat-ripple-loader-class-name",k2="mat-ripple-loader-centered",Eg="mat-ripple-loader-disabled",R2=(()=>{let t=class t{constructor(){this._document=de(Rt,{optional:!0}),this._animationMode=de(zi,{optional:!0}),this._globalRippleOptions=de(M2,{optional:!0}),this._platform=de(an),this._ngZone=de(Ue),this._hosts=new Map,this._onInteraction=r=>{let o=Ki(r);if(o instanceof HTMLElement){let i=o.closest(`[${RS}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}},this._ngZone.runOutsideAngular(()=>{for(let r of F2)this._document?.addEventListener(r,this._onInteraction,D2)})}ngOnDestroy(){let r=this._hosts.keys();for(let o of r)this.destroyRipple(o);for(let o of F2)this._document?.removeEventListener(o,this._onInteraction,D2)}configureRipple(r,o){r.setAttribute(RS,this._globalRippleOptions?.namespace??""),(o.className||!r.hasAttribute(jS))&&r.setAttribute(jS,o.className||""),o.centered&&r.setAttribute(k2,""),o.disabled&&r.setAttribute(Eg,"")}getRipple(r){return this._hosts.get(r)||this._createRipple(r)}setDisabled(r,o){let i=this._hosts.get(r);if(i){i.disabled=o;return}o?r.setAttribute(Eg,""):r.removeAttribute(Eg)}_createRipple(r){if(!this._document)return;let o=this._hosts.get(r);if(o)return o;r.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",r.getAttribute(jS)),r.append(i);let s=new BS(new ct(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=r,s.centered=r.hasAttribute(k2),s.disabled=r.hasAttribute(Eg),this.attachRipple(r,s),s}attachRipple(r,o){r.removeAttribute(RS),this._hosts.set(r,o)}destroyRipple(r){let o=this._hosts.get(r);o&&(o.ngOnDestroy(),this._hosts.delete(r))}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),j2=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=Oe({type:t,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(o,i){o&2&&Zt("mdc-form-field--align-end",i.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[Cn],attrs:Zoe,ngContentSelectors:Qoe,decls:1,vars:0,template:function(o,i){o&1&&(sr(),Wt(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0});let e=t;return e})();var oie=["*",[["mat-toolbar-row"]]],iie=["*","mat-toolbar-row"],sie=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275dir=Be({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0});let e=t;return e})(),jt=(()=>{let t=class t{constructor(r,o,i){this._elementRef=r,this._platform=o,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}};t.\u0275fac=function(o){return new(o||t)(q(ct),q(an),q(Rt))},t.\u0275cmp=Oe({type:t,selectors:[["mat-toolbar"]],contentQueries:function(o,i,s){if(o&1&&Ln(s,sie,5),o&2){let l;Ft(l=kt())&&(i._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(o,i){o&2&&(ld(i.color?"mat-"+i.color:""),Zt("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",i._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[Cn],ngContentSelectors:iie,decls:2,vars:0,template:function(o,i){o&1&&(sr(oie),Wt(0),Wt(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0});let e=t;return e})();var O2=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=rt({imports:[In,In]});let e=t;return e})();var N2=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=rt({imports:[In,In]});let e=t;return e})();var aie=["mat-button",""],lie=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],cie=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var uie=new $e("MAT_BUTTON_CONFIG");var die=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],pie=(()=>{let t=class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(r){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,r)}get disableRipple(){return this._disableRipple}set disableRipple(r){this._disableRipple=r,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(r){this._disabled=r,this._updateRippleDisabled()}constructor(r,o,i,s){this._elementRef=r,this._platform=o,this._ngZone=i,this._animationMode=s,this._focusMonitor=de(Cg),this._rippleLoader=de(R2),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let l=de(uie,{optional:!0}),c=r.nativeElement,u=c.classList;this.disabledInteractive=l?.disabledInteractive??!1,this.color=l?.color??null,this._rippleLoader?.configureRipple(c,{className:"mat-mdc-button-ripple"});for(let{attribute:d,mdcClasses:p}of die)c.hasAttribute(d)&&u.add(...p)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(r="program",o){r?this._focusMonitor.focusVia(this._elementRef.nativeElement,r,o):this._elementRef.nativeElement.focus(o)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};t.\u0275fac=function(o){Lh()},t.\u0275dir=Be({type:t,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",sn],disabled:[2,"disabled","disabled",sn],ariaDisabled:[2,"aria-disabled","ariaDisabled",sn],disabledInteractive:[2,"disabledInteractive","disabledInteractive",sn]},features:[Bn]});let e=t;return e})();var Kt=(()=>{let t=class t extends pie{constructor(r,o,i,s){super(r,o,i,s)}};t.\u0275fac=function(o){return new(o||t)(q(ct),q(an),q(Ue),q(zi,8))},t.\u0275cmp=Oe({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(o,i){o&2&&(gr("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),ld(i.color?"mat-"+i.color:""),Zt("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable",i._animationMode==="NoopAnimations")("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Jt,Cn],attrs:aie,ngContentSelectors:cie,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(o,i){o&1&&(sr(lie),X(0,"span",0),Wt(1),N(2,"span",1),Wt(3,1),j(),Wt(4,2),X(5,"span",2)(6,"span",3)),o&2&&Zt("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let e=t;return e})();var P2=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=rt({imports:[In,Dg,In]});let e=t;return e})();function Fg(e){return e&&typeof e.connect=="function"&&!(e instanceof fs)}var Ec=function(e){return e[e.REPLACED=0]="REPLACED",e[e.INSERTED=1]="INSERTED",e[e.MOVED=2]="MOVED",e[e.REMOVED=3]="REMOVED",e}(Ec||{}),Dd=new $e("_ViewRepeater"),Tc=class{applyChanges(t,n,r,o,i){t.forEachOperation((s,l,c)=>{let u,d;if(s.previousIndex==null){let p=r(s,l,c);u=n.createEmbeddedView(p.templateRef,p.context,p.index),d=Ec.INSERTED}else c==null?(n.remove(l),d=Ec.REMOVED):(u=n.get(l),n.move(u,c),d=Ec.MOVED);i&&i({context:u?.context,operation:d,record:s})})}detach(){}};var B2=(()=>{let t=class t{constructor(){this._listeners=[]}notify(r,o){for(let i of this._listeners)i(r,o)}listen(r){return this._listeners.push(r),()=>{this._listeners=this._listeners.filter(o=>r!==o)}}ngOnDestroy(){this._listeners=[]}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var hie=20,U2=(()=>{let t=class t{constructor(r,o,i){this._platform=r,this._change=new $t,this._changeListener=s=>{this._change.next(s)},this._document=i,o.runOutsideAngular(()=>{if(r.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let r=this._getWindow();r.removeEventListener("resize",this._changeListener),r.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let r={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),r}getViewportRect(){let r=this.getViewportScrollPosition(),{width:o,height:i}=this.getViewportSize();return{top:r.top,left:r.left,bottom:r.top+i,right:r.left+o,height:i,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let r=this._document,o=this._getWindow(),i=r.documentElement,s=i.getBoundingClientRect(),l=-s.top||r.body.scrollTop||o.scrollY||i.scrollTop||0,c=-s.left||r.body.scrollLeft||o.scrollX||i.scrollLeft||0;return{top:l,left:c}}change(r=hie){return r>0?this._change.pipe(Gv(r)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let r=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:r.innerWidth,height:r.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(o){return new(o||t)(_e(an),_e(Ue),_e(Rt,8))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var L2=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=rt({});let e=t;return e})(),W2=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=rt({imports:[Ic,L2,Ic,L2]});let e=t;return e})();var yie=[[["caption"]],[["colgroup"],["col"]],"*"],_ie=["caption","colgroup, col","*"];function $ie(e,t){e&1&&Wt(0,2)}function xie(e,t){e&1&&(N(0,"thead",0),kr(1,1),j(),N(2,"tbody",0),kr(3,2)(4,3),j(),N(5,"tfoot",0),kr(6,4),j())}function vie(e,t){e&1&&kr(0,1)(1,2)(2,3)(3,4)}var Ho=new $e("CDK_TABLE");var Og=(()=>{let t=class t{constructor(r){this.template=r}};t.\u0275fac=function(o){return new(o||t)(q(fr))},t.\u0275dir=Be({type:t,selectors:[["","cdkCellDef",""]],standalone:!0});let e=t;return e})(),Ng=(()=>{let t=class t{constructor(r){this.template=r}};t.\u0275fac=function(o){return new(o||t)(q(fr))},t.\u0275dir=Be({type:t,selectors:[["","cdkHeaderCellDef",""]],standalone:!0});let e=t;return e})(),H2=(()=>{let t=class t{constructor(r){this.template=r}};t.\u0275fac=function(o){return new(o||t)(q(fr))},t.\u0275dir=Be({type:t,selectors:[["","cdkFooterCellDef",""]],standalone:!0});let e=t;return e})(),Dc=(()=>{let t=class t{get name(){return this._name}set name(r){this._setNameInput(r)}get sticky(){return this._sticky}set sticky(r){r!==this._sticky&&(this._sticky=r,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(r){r!==this._stickyEnd&&(this._stickyEnd=r,this._hasStickyChanged=!0)}constructor(r){this._table=r,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){let r=this._hasStickyChanged;return this.resetStickyChanged(),r}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(r){r&&(this._name=r,this.cssClassFriendlyName=r.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}};t.\u0275fac=function(o){return new(o||t)(q(Ho,8))},t.\u0275dir=Be({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(o,i,s){if(o&1&&(Ln(s,Og,5),Ln(s,Ng,5),Ln(s,H2,5)),o&2){let l;Ft(l=kt())&&(i.cell=l.first),Ft(l=kt())&&(i.headerCell=l.first),Ft(l=kt())&&(i.footerCell=l.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",sn],stickyEnd:[2,"stickyEnd","stickyEnd",sn]},standalone:!0,features:[fn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),Bn]});let e=t;return e})(),Ag=class{constructor(t,n){n.nativeElement.classList.add(...t._columnCssClassName)}},G2=(()=>{let t=class t extends Ag{constructor(r,o){super(r,o)}};t.\u0275fac=function(o){return new(o||t)(q(Dc),q(ct))},t.\u0275dir=Be({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[Jt]});let e=t;return e})();var q2=(()=>{let t=class t extends Ag{constructor(r,o){super(r,o);let i=r._table?._getCellRole();i&&o.nativeElement.setAttribute("role",i)}};t.\u0275fac=function(o){return new(o||t)(q(Dc),q(ct))},t.\u0275dir=Be({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[Jt]});let e=t;return e})(),Mg=class{constructor(){this.tasks=[],this.endTasks=[]}},Rg=new $e("_COALESCED_STYLE_SCHEDULER"),US=(()=>{let t=class t{constructor(r){this._currentSchedule=null,this._ngZone=de(Ue)}schedule(r){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(r)}scheduleEnd(r){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(r)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Mg,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let r=this._currentSchedule;this._currentSchedule=new Mg;for(let o of r.tasks)o();for(let o of r.endTasks)o()}this._currentSchedule=null})))}};t.\u0275fac=function(o){return new(o||t)(_e(Ue))},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})();var WS=(()=>{let t=class t{constructor(r,o){this.template=r,this._differs=o}ngOnChanges(r){if(!this._columnsDiffer){let o=r.columns&&r.columns.currentValue||[];this._columnsDiffer=this._differs.find(o).create(),this._columnsDiffer.diff(o)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(r){return this instanceof Fd?r.headerCell.template:this instanceof zS?r.footerCell.template:r.cell.template}};t.\u0275fac=function(o){return new(o||t)(q(fr),q(Vi))},t.\u0275dir=Be({type:t,features:[mr]});let e=t;return e})(),Fd=(()=>{let t=class t extends WS{get sticky(){return this._sticky}set sticky(r){r!==this._sticky&&(this._sticky=r,this._hasStickyChanged=!0)}constructor(r,o,i){super(r,o),this._table=i,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(r){super.ngOnChanges(r)}hasStickyChanged(){let r=this._hasStickyChanged;return this.resetStickyChanged(),r}resetStickyChanged(){this._hasStickyChanged=!1}};t.\u0275fac=function(o){return new(o||t)(q(fr),q(Vi),q(Ho,8))},t.\u0275dir=Be({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",sn]},standalone:!0,features:[Bn,Jt,mr]});let e=t;return e})(),zS=(()=>{let t=class t extends WS{get sticky(){return this._sticky}set sticky(r){r!==this._sticky&&(this._sticky=r,this._hasStickyChanged=!0)}constructor(r,o,i){super(r,o),this._table=i,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(r){super.ngOnChanges(r)}hasStickyChanged(){let r=this._hasStickyChanged;return this.resetStickyChanged(),r}resetStickyChanged(){this._hasStickyChanged=!1}};t.\u0275fac=function(o){return new(o||t)(q(fr),q(Vi),q(Ho,8))},t.\u0275dir=Be({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",sn]},standalone:!0,features:[Bn,Jt,mr]});let e=t;return e})(),Pg=(()=>{let t=class t extends WS{constructor(r,o,i){super(r,o),this._table=i}};t.\u0275fac=function(o){return new(o||t)(q(fr),q(Vi),q(Ho,8))},t.\u0275dir=Be({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[Jt]});let e=t;return e})(),Na=(()=>{let t=class t{constructor(r){this._viewContainer=r,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}};t.mostRecentCellOutlet=null,t.\u0275fac=function(o){return new(o||t)(q(Fr))},t.\u0275dir=Be({type:t,selectors:[["","cdkCellOutlet",""]],standalone:!0});let e=t;return e})(),VS=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=Oe({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[Cn],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(o,i){o&1&&kr(0,0)},dependencies:[Na],encapsulation:2});let e=t;return e})();var HS=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=Oe({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[Cn],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(o,i){o&1&&kr(0,0)},dependencies:[Na],encapsulation:2});let e=t;return e})(),K2=(()=>{let t=class t{constructor(r){this.templateRef=r,this._contentClassName="cdk-no-data-row"}};t.\u0275fac=function(o){return new(o||t)(q(fr))},t.\u0275dir=Be({type:t,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0});let e=t;return e})(),z2=["top","bottom","left","right"],LS=class{constructor(t,n,r,o,i=!0,s=!0,l){this._isNativeHtmlTable=t,this._stickCellCss=n,this.direction=r,this._coalescedStyleScheduler=o,this._isBrowser=i,this._needsPositionStickyOnElement=s,this._positionListener=l,this._cachedCellWidths=[],this._borderCellCss={top:`${n}-border-elem-top`,bottom:`${n}-border-elem-bottom`,left:`${n}-border-elem-left`,right:`${n}-border-elem-right`}}clearStickyPositioning(t,n){let r=[];for(let o of t)if(o.nodeType===o.ELEMENT_NODE){r.push(o);for(let i=0;i<o.children.length;i++)r.push(o.children[i])}this._coalescedStyleScheduler.schedule(()=>{for(let o of r)this._removeStickyStyle(o,n)})}updateStickyColumns(t,n,r,o=!0){if(!t.length||!this._isBrowser||!(n.some(i=>i)||r.some(i=>i))){this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}));return}this._coalescedStyleScheduler.schedule(()=>{let i=t[0],s=i.children.length,l=this._getCellWidths(i,o),c=this._getStickyStartColumnPositions(l,n),u=this._getStickyEndColumnPositions(l,r),d=n.lastIndexOf(!0),p=r.indexOf(!0),f=this.direction==="rtl",m=f?"right":"left",h=f?"left":"right";for(let g of t)for(let _=0;_<s;_++){let $=g.children[_];n[_]&&this._addStickyStyle($,m,c[_],_===d),r[_]&&this._addStickyStyle($,h,u[_],_===p)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:d===-1?[]:l.slice(0,d+1).map((g,_)=>n[_]?g:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:p===-1?[]:l.slice(p).map((g,_)=>r[_+p]?g:null).reverse()}))})}stickRows(t,n,r){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{let o=r==="bottom"?t.slice().reverse():t,i=r==="bottom"?n.slice().reverse():n,s=[],l=[],c=[];for(let d=0,p=0;d<o.length;d++){if(!i[d])continue;s[d]=p;let f=o[d];c[d]=this._isNativeHtmlTable?Array.from(f.children):[f];let m=f.getBoundingClientRect().height;p+=m,l[d]=m}let u=i.lastIndexOf(!0);for(let d=0;d<o.length;d++){if(!i[d])continue;let p=s[d],f=d===u;for(let m of c[d])this._addStickyStyle(m,r,p,f)}r==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:l,offsets:s,elements:c}):this._positionListener?.stickyFooterRowsUpdated({sizes:l,offsets:s,elements:c})})}updateStickyFooterContainer(t,n){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{let r=t.querySelector("tfoot");r&&(n.some(o=>!o)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1))})}_removeStickyStyle(t,n){for(let o of n)t.style[o]="",t.classList.remove(this._borderCellCss[o]);z2.some(o=>n.indexOf(o)===-1&&t.style[o])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,n,r,o){t.classList.add(this._stickCellCss),o&&t.classList.add(this._borderCellCss[n]),t.style[n]=`${r}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){let n={top:100,bottom:10,left:1,right:1},r=0;for(let o of z2)t.style[o]&&(r+=n[o]);return r?`${r}`:""}_getCellWidths(t,n=!0){if(!n&&this._cachedCellWidths.length)return this._cachedCellWidths;let r=[],o=t.children;for(let i=0;i<o.length;i++){let s=o[i];r.push(s.getBoundingClientRect().width)}return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(t,n){let r=[],o=0;for(let i=0;i<t.length;i++)n[i]&&(r[i]=o,o+=t[i]);return r}_getStickyEndColumnPositions(t,n){let r=[],o=0;for(let i=t.length;i>0;i--)n[i]&&(r[i]=o,o+=t[i]);return r}};var jg=new $e("CDK_SPL");var GS=(()=>{let t=class t{constructor(r,o){this.viewContainer=r,this.elementRef=o;let i=de(Ho);i._rowOutlet=this,i._outletAssigned()}};t.\u0275fac=function(o){return new(o||t)(q(Fr),q(ct))},t.\u0275dir=Be({type:t,selectors:[["","rowOutlet",""]],standalone:!0});let e=t;return e})(),qS=(()=>{let t=class t{constructor(r,o){this.viewContainer=r,this.elementRef=o;let i=de(Ho);i._headerRowOutlet=this,i._outletAssigned()}};t.\u0275fac=function(o){return new(o||t)(q(Fr),q(ct))},t.\u0275dir=Be({type:t,selectors:[["","headerRowOutlet",""]],standalone:!0});let e=t;return e})(),KS=(()=>{let t=class t{constructor(r,o){this.viewContainer=r,this.elementRef=o;let i=de(Ho);i._footerRowOutlet=this,i._outletAssigned()}};t.\u0275fac=function(o){return new(o||t)(q(Fr),q(ct))},t.\u0275dir=Be({type:t,selectors:[["","footerRowOutlet",""]],standalone:!0});let e=t;return e})(),XS=(()=>{let t=class t{constructor(r,o){this.viewContainer=r,this.elementRef=o;let i=de(Ho);i._noDataRowOutlet=this,i._outletAssigned()}};t.\u0275fac=function(o){return new(o||t)(q(Fr),q(ct))},t.\u0275dir=Be({type:t,selectors:[["","noDataRowOutlet",""]],standalone:!0});let e=t;return e})();var YS=(()=>{let t=class t{_getCellRole(){if(this._cellRoleInternal===void 0){let r=this._elementRef.nativeElement.getAttribute("role"),o=r==="grid"||r==="treegrid"?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&o==="cell"?null:o}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(r){this._trackByFn=r}get dataSource(){return this._dataSource}set dataSource(r){this._dataSource!==r&&this._switchDataSource(r)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(r){this._multiTemplateDataRows=r,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(r){this._fixedLayout=r,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(r,o,i,s,l,c,u,d,p,f,m,h){this._differs=r,this._changeDetectorRef=o,this._elementRef=i,this._dir=l,this._platform=u,this._viewRepeater=d,this._coalescedStyleScheduler=p,this._viewportRuler=f,this._stickyPositioningListener=m,this._onDestroy=new $t,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new Vt,this.viewChange=new Fn({start:0,end:Number.MAX_VALUE}),this._injector=de(kn),s||i.nativeElement.setAttribute("role","table"),this._document=c,this._isServer=!u.isBrowser,this._isNativeHtmlTable=i.nativeElement.nodeName==="TABLE"}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((r,o)=>this.trackBy?this.trackBy(o.dataIndex,o.data):o),this._viewportRuler.change().pipe(or(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(r=>{r?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Fg(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let r=this._dataDiffer.diff(this._renderRows);if(!r){this._updateNoDataRow(),this.contentChanged.next();return}let o=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(r,o,(i,s,l)=>this._getEmbeddedViewArgs(i.item,l),i=>i.item.data,i=>{i.operation===Ec.INSERTED&&i.context&&this._renderCellTemplateForItem(i.record.item.rowDef,i.context)}),this._updateRowIndexContext(),r.forEachIdentityChange(i=>{let s=o.get(i.currentIndex);s.context.$implicit=i.item.data}),this._updateNoDataRow(),Fs(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(r){this._customColumnDefs.add(r)}removeColumnDef(r){this._customColumnDefs.delete(r)}addRowDef(r){this._customRowDefs.add(r)}removeRowDef(r){this._customRowDefs.delete(r)}addHeaderRowDef(r){this._customHeaderRowDefs.add(r),this._headerRowDefChanged=!0}removeHeaderRowDef(r){this._customHeaderRowDefs.delete(r),this._headerRowDefChanged=!0}addFooterRowDef(r){this._customFooterRowDefs.add(r),this._footerRowDefChanged=!0}removeFooterRowDef(r){this._customFooterRowDefs.delete(r),this._footerRowDefChanged=!0}setNoDataRow(r){this._customNoDataRow=r}updateStickyHeaderRowStyles(){let r=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let i=V2(this._headerRowOutlet,"thead");i&&(i.style.display=r.length?"":"none")}let o=this._headerRowDefs.map(i=>i.sticky);this._stickyStyler.clearStickyPositioning(r,["top"]),this._stickyStyler.stickRows(r,o,"top"),this._headerRowDefs.forEach(i=>i.resetStickyChanged())}updateStickyFooterRowStyles(){let r=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let i=V2(this._footerRowOutlet,"tfoot");i&&(i.style.display=r.length?"":"none")}let o=this._footerRowDefs.map(i=>i.sticky);this._stickyStyler.clearStickyPositioning(r,["bottom"]),this._stickyStyler.stickRows(r,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(i=>i.resetStickyChanged())}updateStickyColumnStyles(){let r=this._getRenderedRows(this._headerRowOutlet),o=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...r,...o,...i],["left","right"]),this._stickyColumnStylesNeedReset=!1),r.forEach((s,l)=>{this._addStickyColumnStyles([s],this._headerRowDefs[l])}),this._rowDefs.forEach(s=>{let l=[];for(let c=0;c<o.length;c++)this._renderRows[c].rowDef===s&&l.push(o[c]);this._addStickyColumnStyles(l,s)}),i.forEach((s,l)=>{this._addStickyColumnStyles([s],this._footerRowDefs[l])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let o=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||o,this._forceRecalculateCellWidths=o,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let r=[],o=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let i=0;i<this._data.length;i++){let s=this._data[i],l=this._getRenderRowsForData(s,i,o.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let c=0;c<l.length;c++){let u=l[c],d=this._cachedRenderRowsMap.get(u.data);d.has(u.rowDef)?d.get(u.rowDef).push(u):d.set(u.rowDef,[u]),r.push(u)}}return r}_getRenderRowsForData(r,o,i){return this._getRowDefs(r,o).map(l=>{let c=i&&i.has(l)?i.get(l):[];if(c.length){let u=c.shift();return u.dataIndex=o,u}else return{data:r,rowDef:l,dataIndex:o}})}_cacheColumnDefs(){this._columnDefsByName.clear(),kg(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(o=>{this._columnDefsByName.has(o.name),this._columnDefsByName.set(o.name,o)})}_cacheRowDefs(){this._headerRowDefs=kg(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=kg(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=kg(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let r=this._rowDefs.filter(o=>!o.when);!this.multiTemplateDataRows&&r.length>1,this._defaultRowDef=r[0]}_renderUpdatedColumns(){let r=(l,c)=>l||!!c.getColumnsDiff(),o=this._rowDefs.reduce(r,!1);o&&this._forceRenderDataRows();let i=this._headerRowDefs.reduce(r,!1);i&&this._forceRenderHeaderRows();let s=this._footerRowDefs.reduce(r,!1);return s&&this._forceRenderFooterRows(),o||i||s}_switchDataSource(r){this._data=[],Fg(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),r||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=r}_observeRenderChanges(){if(!this.dataSource)return;let r;Fg(this.dataSource)?r=this.dataSource.connect(this):ma(this.dataSource)?r=this.dataSource:Array.isArray(this.dataSource)&&(r=ze(this.dataSource)),this._renderChangeSubscription=r.pipe(or(this._onDestroy)).subscribe(o=>{this._data=o||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((r,o)=>this._renderRow(this._headerRowOutlet,r,o)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((r,o)=>this._renderRow(this._footerRowOutlet,r,o)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(r,o){let i=Array.from(o.columns||[]).map(c=>{let u=this._columnDefsByName.get(c);return u}),s=i.map(c=>c.sticky),l=i.map(c=>c.stickyEnd);this._stickyStyler.updateStickyColumns(r,s,l,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(r){let o=[];for(let i=0;i<r.viewContainer.length;i++){let s=r.viewContainer.get(i);o.push(s.rootNodes[0])}return o}_getRowDefs(r,o){if(this._rowDefs.length==1)return[this._rowDefs[0]];let i=[];if(this.multiTemplateDataRows)i=this._rowDefs.filter(s=>!s.when||s.when(o,r));else{let s=this._rowDefs.find(l=>l.when&&l.when(o,r))||this._defaultRowDef;s&&i.push(s)}return i.length,i}_getEmbeddedViewArgs(r,o){let i=r.rowDef,s={$implicit:r.data};return{templateRef:i.template,context:s,index:o}}_renderRow(r,o,i,s={}){let l=r.viewContainer.createEmbeddedView(o.template,s,i);return this._renderCellTemplateForItem(o,s),l}_renderCellTemplateForItem(r,o){for(let i of this._getCellTemplates(r))Na.mostRecentCellOutlet&&Na.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,o);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let r=this._rowOutlet.viewContainer;for(let o=0,i=r.length;o<i;o++){let l=r.get(o).context;l.count=i,l.first=o===0,l.last=o===i-1,l.even=o%2===0,l.odd=!l.even,this.multiTemplateDataRows?(l.dataIndex=this._renderRows[o].dataIndex,l.renderIndex=o):l.index=this._renderRows[o].dataIndex}}_getCellTemplates(r){return!r||!r.columns?[]:Array.from(r.columns,o=>{let i=this._columnDefsByName.get(o);return r.extractCellTemplate(i)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let r=(o,i)=>o||i.hasStickyChanged();this._headerRowDefs.reduce(r,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(r,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(r,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let r=this._dir?this._dir.value:"ltr";this._stickyStyler=new LS(this._isNativeHtmlTable,this.stickyCssClass,r,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:ze()).pipe(or(this._onDestroy)).subscribe(o=>{this._stickyStyler.direction=o,this.updateStickyColumnStyles()})}_getOwnDefs(r){return r.filter(o=>!o._table||o._table===this)}_updateNoDataRow(){let r=this._customNoDataRow||this._noDataRow;if(!r)return;let o=this._rowOutlet.viewContainer.length===0;if(o===this._isShowingNoDataRow)return;let i=this._noDataRowOutlet.viewContainer;if(o){let s=i.createEmbeddedView(r.templateRef),l=s.rootNodes[0];s.rootNodes.length===1&&l?.nodeType===this._document.ELEMENT_NODE&&(l.setAttribute("role","row"),l.classList.add(r._contentClassName))}else i.clear();this._isShowingNoDataRow=o,this._changeDetectorRef.markForCheck()}};t.\u0275fac=function(o){return new(o||t)(q(Vi),q(br),q(ct),Es("role"),q(Ig,8),q(Rt),q(an),q(Dd),q(Rg),q(U2),q(jg,12),q(Ue,8))},t.\u0275cmp=Oe({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(o,i,s){if(o&1&&(Ln(s,K2,5),Ln(s,Dc,5),Ln(s,Pg,5),Ln(s,Fd,5),Ln(s,zS,5)),o&2){let l;Ft(l=kt())&&(i._noDataRow=l.first),Ft(l=kt())&&(i._contentColumnDefs=l),Ft(l=kt())&&(i._contentRowDefs=l),Ft(l=kt())&&(i._contentHeaderRowDefs=l),Ft(l=kt())&&(i._contentFooterRowDefs=l)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(o,i){o&2&&Zt("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",sn],fixedLayout:[2,"fixedLayout","fixedLayout",sn]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[fn([{provide:Ho,useExisting:t},{provide:Dd,useClass:Tc},{provide:Rg,useClass:US},{provide:jg,useValue:null}]),Bn,Cn],ngContentSelectors:_ie,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(o,i){o&1&&(sr(yie),Wt(0),Wt(1,1),it(2,$ie,1,0)(3,xie,7,0)(4,vie,4,0)),o&2&&(K(2),An(i._isServer?2:-1),K(),An(i._isNativeHtmlTable?3:4))},dependencies:[qS,GS,XS,KS],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2});let e=t;return e})();function kg(e,t){return e.concat(Array.from(t))}function V2(e,t){let n=t.toUpperCase(),r=e.viewContainer.element.nativeElement;for(;r;){let o=r.nodeType===1?r.nodeName:null;if(o===n)return r;if(o==="TABLE")break;r=r.parentNode}return null}var X2=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=rt({imports:[W2]});let e=t;return e})();var wie=[[["caption"]],[["colgroup"],["col"]],"*"],Sie=["caption","colgroup, col","*"];function Cie(e,t){e&1&&Wt(0,2)}function Iie(e,t){e&1&&(N(0,"thead",0),kr(1,1),j(),N(2,"tbody",2),kr(3,3)(4,4),j(),N(5,"tfoot",0),kr(6,5),j())}function Eie(e,t){e&1&&kr(0,1)(1,3)(2,4)(3,5)}var Bs=(()=>{let t=class t extends YS{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}};t.\u0275fac=(()=>{let r;return function(i){return(r||(r=hr(t)))(i||t)}})(),t.\u0275cmp=Oe({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(o,i){o&2&&Zt("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[fn([{provide:YS,useExisting:t},{provide:Ho,useExisting:t},{provide:Rg,useClass:US},{provide:Dd,useClass:Tc},{provide:jg,useValue:null}]),Jt,Cn],ngContentSelectors:Sie,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(o,i){o&1&&(sr(wie),Wt(0),Wt(1,1),it(2,Cie,1,0)(3,Iie,7,0)(4,Eie,4,0)),o&2&&(K(2),An(i._isServer?2:-1),K(),An(i._isNativeHtmlTable?3:4))},dependencies:[qS,GS,XS,KS],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2});let e=t;return e})(),Bg=(()=>{let t=class t extends Og{};t.\u0275fac=(()=>{let r;return function(i){return(r||(r=hr(t)))(i||t)}})(),t.\u0275dir=Be({type:t,selectors:[["","matCellDef",""]],standalone:!0,features:[fn([{provide:Og,useExisting:t}]),Jt]});let e=t;return e})(),Lg=(()=>{let t=class t extends Ng{};t.\u0275fac=(()=>{let r;return function(i){return(r||(r=hr(t)))(i||t)}})(),t.\u0275dir=Be({type:t,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[fn([{provide:Ng,useExisting:t}]),Jt]});let e=t;return e})();var Ug=(()=>{let t=class t extends Dc{get name(){return this._name}set name(r){this._setNameInput(r)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}};t.\u0275fac=(()=>{let r;return function(i){return(r||(r=hr(t)))(i||t)}})(),t.\u0275dir=Be({type:t,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},standalone:!0,features:[fn([{provide:Dc,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),Jt]});let e=t;return e})(),Wg=(()=>{let t=class t extends G2{};t.\u0275fac=(()=>{let r;return function(i){return(r||(r=hr(t)))(i||t)}})(),t.\u0275dir=Be({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[Jt]});let e=t;return e})();var zg=(()=>{let t=class t extends q2{};t.\u0275fac=(()=>{let r;return function(i){return(r||(r=hr(t)))(i||t)}})(),t.\u0275dir=Be({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[Jt]});let e=t;return e})();var Vg=(()=>{let t=class t extends Fd{};t.\u0275fac=(()=>{let r;return function(i){return(r||(r=hr(t)))(i||t)}})(),t.\u0275dir=Be({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",sn]},standalone:!0,features:[fn([{provide:Fd,useExisting:t}]),Bn,Jt]});let e=t;return e})();var Hg=(()=>{let t=class t extends Pg{};t.\u0275fac=(()=>{let r;return function(i){return(r||(r=hr(t)))(i||t)}})(),t.\u0275dir=Be({type:t,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},standalone:!0,features:[fn([{provide:Pg,useExisting:t}]),Jt]});let e=t;return e})(),Gg=(()=>{let t=class t extends VS{};t.\u0275fac=(()=>{let r;return function(i){return(r||(r=hr(t)))(i||t)}})(),t.\u0275cmp=Oe({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[fn([{provide:VS,useExisting:t}]),Jt,Cn],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(o,i){o&1&&kr(0,0)},dependencies:[Na],encapsulation:2});let e=t;return e})();var qg=(()=>{let t=class t extends HS{};t.\u0275fac=(()=>{let r;return function(i){return(r||(r=hr(t)))(i||t)}})(),t.\u0275cmp=Oe({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[fn([{provide:HS,useExisting:t}]),Jt,Cn],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(o,i){o&1&&kr(0,0)},dependencies:[Na],encapsulation:2});let e=t;return e})();var Y2=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=rt({imports:[In,X2,In]});let e=t;return e})();var ZS=class{constructor(t){this._box=t,this._destroyed=new $t,this._resizeSubject=new $t,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(n=>this._resizeSubject.next(n)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new gt(n=>{let r=this._resizeSubject.subscribe(n);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),r.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Pn(n=>n.some(r=>r.target===t)),Bm({bufferSize:1,refCount:!0}),or(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},Q2=(()=>{let t=class t{constructor(){this._observers=new Map,this._ngZone=de(Ue),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,r]of this._observers)r.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(r,o){let i=o?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new ZS(i)),this._observers.get(i).observe(r)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Fc=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(Fc||{});function J2(e,t){return{type:Fc.Trigger,name:e,definitions:t,options:{}}}function eO(e,t=null){return{type:Fc.Animate,styles:t,timings:e}}function QS(e){return{type:Fc.Style,styles:e,offset:null}}function tO(e,t,n){return{type:Fc.State,name:e,styles:t,options:n}}function nO(e,t,n=null){return{type:Fc.Transition,expr:e,animation:t,options:n}}var Tie=["notch"],Die=["matFormFieldNotchedOutline",""],Fie=["*"],kie=["textField"],Aie=["iconPrefixContainer"],Mie=["textPrefixContainer"],Rie=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],jie=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Oie(e,t){e&1&&X(0,"span",19)}function Nie(e,t){if(e&1&&(N(0,"label",18),Wt(1,1),it(2,Oie,1,0,"span",19),j()),e&2){let n=qe(2);Ge("floating",n._shouldLabelFloat())("monitorResize",n._hasOutline())("id",n._labelId),gr("for",n._control.disableAutomaticLabeling?null:n._control.id),K(2),An(!n.hideRequiredMarker&&n._control.required?2:-1)}}function Pie(e,t){if(e&1&&it(0,Nie,3,5,"label",18),e&2){let n=qe();An(n._hasFloatingLabel()?0:-1)}}function Bie(e,t){e&1&&X(0,"div",5)}function Lie(e,t){}function Uie(e,t){if(e&1&&it(0,Lie,0,0,"ng-template",11),e&2){qe(2);let n=Ww(1);Ge("ngTemplateOutlet",n)}}function Wie(e,t){if(e&1&&(N(0,"div",7),it(1,Uie,1,1,null,11),j()),e&2){let n=qe();Ge("matFormFieldNotchedOutlineOpen",n._shouldLabelFloat()),K(),An(n._forceDisplayInfixLabel()?-1:1)}}function zie(e,t){e&1&&(N(0,"div",8,2),Wt(2,2),j())}function Vie(e,t){e&1&&(N(0,"div",9,3),Wt(2,3),j())}function Hie(e,t){}function Gie(e,t){if(e&1&&it(0,Hie,0,0,"ng-template",11),e&2){qe();let n=Ww(1);Ge("ngTemplateOutlet",n)}}function qie(e,t){e&1&&(N(0,"div",12),Wt(1,4),j())}function Kie(e,t){e&1&&(N(0,"div",13),Wt(1,5),j())}function Xie(e,t){e&1&&X(0,"div",14)}function Yie(e,t){if(e&1&&(N(0,"div",16),Wt(1,6),j()),e&2){let n=qe();Ge("@transitionMessages",n._subscriptAnimationState)}}function Zie(e,t){if(e&1&&(N(0,"mat-hint",20),ee(1),j()),e&2){let n=qe(2);Ge("id",n._hintLabelId),K(),be(n.hintLabel)}}function Qie(e,t){if(e&1&&(N(0,"div",17),it(1,Zie,2,2,"mat-hint",20),Wt(2,7),X(3,"div",21),Wt(4,8),j()),e&2){let n=qe();Ge("@transitionMessages",n._subscriptAnimationState),K(),An(n.hintLabel?1:-1)}}var xi=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275dir=Be({type:t,selectors:[["mat-label"]],standalone:!0});let e=t;return e})();var Jie=new $e("MatError");var ese=0,rO=(()=>{let t=class t{constructor(){this.align="start",this.id=`mat-mdc-hint-${ese++}`}};t.\u0275fac=function(o){return new(o||t)},t.\u0275dir=Be({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(o,i){o&2&&(hc("id",i.id),gr("align",null),Zt("mat-mdc-form-field-hint-end",i.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let e=t;return e})(),tse=new $e("MatPrefix");var nse=new $e("MatSuffix");var dO=new $e("FloatingLabelParent"),oO=(()=>{let t=class t{get floating(){return this._floating}set floating(r){this._floating=r,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(r){this._monitorResize=r,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(r){this._elementRef=r,this._floating=!1,this._monitorResize=!1,this._resizeObserver=de(Q2),this._ngZone=de(Ue),this._parent=de(dO),this._resizeSubscription=new dn}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return rse(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};t.\u0275fac=function(o){return new(o||t)(q(ct))},t.\u0275dir=Be({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(o,i){o&2&&Zt("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let e=t;return e})();function rse(e){let t=e;if(t.offsetParent!==null)return t.scrollWidth;let n=t.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);let r=n.scrollWidth;return n.remove(),r}var iO="mdc-line-ripple--active",Kg="mdc-line-ripple--deactivating",sO=(()=>{let t=class t{constructor(r,o){this._elementRef=r,this._handleTransitionEnd=i=>{let s=this._elementRef.nativeElement.classList,l=s.contains(Kg);i.propertyName==="opacity"&&l&&s.remove(iO,Kg)},o.runOutsideAngular(()=>{r.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let r=this._elementRef.nativeElement.classList;r.remove(Kg),r.add(iO)}deactivate(){this._elementRef.nativeElement.classList.add(Kg)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};t.\u0275fac=function(o){return new(o||t)(q(ct),q(Ue))},t.\u0275dir=Be({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let e=t;return e})(),aO=(()=>{let t=class t{constructor(r,o){this._elementRef=r,this._ngZone=o,this.open=!1}ngAfterViewInit(){let r=this._elementRef.nativeElement.querySelector(".mdc-floating-label");r?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(r.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>r.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(r){!this.open||!r?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${r}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};t.\u0275fac=function(o){return new(o||t)(q(ct),q(Ue))},t.\u0275cmp=Oe({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(o,i){if(o&1&&Yn(Tie,5),o&2){let s;Ft(s=kt())&&(i._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(o,i){o&2&&Zt("mdc-notched-outline--notched",i.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[Cn],attrs:Die,ngContentSelectors:Fie,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(o,i){o&1&&(sr(),X(0,"div",1),N(1,"div",2,0),Wt(3),j(),X(4,"div",3))},encapsulation:2,changeDetection:0});let e=t;return e})(),ose={transitionMessages:J2("transitionMessages",[tO("enter",QS({opacity:1,transform:"translateY(0%)"})),nO("void => enter",[QS({opacity:0,transform:"translateY(-5px)"}),eO("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},JS=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275dir=Be({type:t});let e=t;return e})();var eC=new $e("MatFormField"),ise=new $e("MAT_FORM_FIELD_DEFAULT_OPTIONS"),lO=0,cO="fill",sse="auto",uO="fixed",ase="translateY(-50%)",Xg=(()=>{let t=class t{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(r){this._hideRequiredMarker=Ra(r)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||sse}set floatLabel(r){r!==this._floatLabel&&(this._floatLabel=r,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(r){let o=this._appearance,i=r||this._defaults?.appearance||cO;this._appearance=i,this._appearance==="outline"&&this._appearance!==o&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||uO}set subscriptSizing(r){this._subscriptSizing=r||this._defaults?.subscriptSizing||uO}get hintLabel(){return this._hintLabel}set hintLabel(r){this._hintLabel=r,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(r){this._explicitFormFieldControl=r}constructor(r,o,i,s,l,c,u,d){this._elementRef=r,this._changeDetectorRef=o,this._dir=s,this._platform=l,this._defaults=c,this._animationMode=u,this._labelChild=MR(xi),this._hideRequiredMarker=!1,this.color="primary",this._appearance=cO,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${lO++}`,this._hintLabelId=`mat-mdc-hint-${lO++}`,this._subscriptAnimationState="",this._destroyed=new $t,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=de(kn),this.getLabelId=Hi(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=Hi(()=>!!this._labelChild()),c&&(c.appearance&&(this.appearance=c.appearance),this._hideRequiredMarker=!!c?.hideRequiredMarker,c.color&&(this.color=c.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){let r=this._control;r.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${r.controlType}`),r.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),r.ngControl&&r.ngControl.valueChanges&&r.ngControl.valueChanges.pipe(or(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(r=>!r._isText),this._hasTextPrefix=!!this._prefixChildren.find(r=>r._isText),this._hasIconSuffix=!!this._suffixChildren.find(r=>!r._isText),this._hasTextSuffix=!!this._suffixChildren.find(r=>r._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Hv(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),Pw(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(or(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(r){let o=this._control?this._control.ngControl:null;return o&&o[r]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let r=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&r.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let o=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,i=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;o?r.push(o.id):this._hintLabel&&r.push(this._hintLabelId),i&&r.push(i.id)}else this._errorChildren&&r.push(...this._errorChildren.map(o=>o.id));this._control.setDescribedByIds(r)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let r=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){r.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let o=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,s=o?.getBoundingClientRect().width??0,l=i?.getBoundingClientRect().width??0,c=this._dir.value==="rtl"?"-1":"1",u=`${s+l}px`,p=`calc(${c} * (${u} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;r.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${ase} translateX(${p})
    )`}_isAttachedToDom(){let r=this._elementRef.nativeElement;if(r.getRootNode){let o=r.getRootNode();return o&&o!==r}return document.documentElement.contains(r)}};t.\u0275fac=function(o){return new(o||t)(q(ct),q(br),q(Ue),q(Ig),q(an),q(ise,8),q(zi,8),q(Rt))},t.\u0275cmp=Oe({type:t,selectors:[["mat-form-field"]],contentQueries:function(o,i,s){if(o&1&&(HR(s,i._labelChild,xi,5),Ln(s,JS,5),Ln(s,tse,5),Ln(s,nse,5),Ln(s,Jie,5),Ln(s,rO,5)),o&2){GR();let l;Ft(l=kt())&&(i._formFieldControl=l.first),Ft(l=kt())&&(i._prefixChildren=l),Ft(l=kt())&&(i._suffixChildren=l),Ft(l=kt())&&(i._errorChildren=l),Ft(l=kt())&&(i._hintChildren=l)}},viewQuery:function(o,i){if(o&1&&(Yn(kie,5),Yn(Aie,5),Yn(Mie,5),Yn(oO,5),Yn(aO,5),Yn(sO,5)),o&2){let s;Ft(s=kt())&&(i._textField=s.first),Ft(s=kt())&&(i._iconPrefixContainer=s.first),Ft(s=kt())&&(i._textPrefixContainer=s.first),Ft(s=kt())&&(i._floatingLabel=s.first),Ft(s=kt())&&(i._notchedOutline=s.first),Ft(s=kt())&&(i._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(o,i){o&2&&Zt("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations",i._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",i.appearance=="fill")("mat-form-field-appearance-outline",i.appearance=="outline")("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary",i.color!=="accent"&&i.color!=="warn")("mat-accent",i.color==="accent")("mat-warn",i.color==="warn")("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[fn([{provide:eC,useExisting:t},{provide:dO,useExisting:t}]),Cn],ngContentSelectors:jie,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(o,i){if(o&1){let s=pn();sr(Rie),it(0,Pie,1,1,"ng-template",null,0,KR),N(2,"div",4,1),xe("click",function(c){return Pt(s),Bt(i._control.onContainerClick(c))}),it(4,Bie,1,0,"div",5),N(5,"div",6),it(6,Wie,2,2,"div",7)(7,zie,3,0,"div",8)(8,Vie,3,0,"div",9),N(9,"div",10),it(10,Gie,1,1,null,11),Wt(11),j(),it(12,qie,2,0,"div",12)(13,Kie,2,0,"div",13),j(),it(14,Xie,1,0,"div",14),j(),N(15,"div",15),it(16,Yie,2,1,"div",16)(17,Qie,5,2,"div",17),j()}if(o&2){let s;K(2),Zt("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),K(2),An(!i._hasOutline()&&!i._control.disabled?4:-1),K(2),An(i._hasOutline()?6:-1),K(),An(i._hasIconPrefix?7:-1),K(),An(i._hasTextPrefix?8:-1),K(2),An(!i._hasOutline()||i._forceDisplayInfixLabel()?10:-1),K(2),An(i._hasTextSuffix?12:-1),K(),An(i._hasIconSuffix?13:-1),K(),An(i._hasOutline()?-1:14),K(),Zt("mat-mdc-form-field-subscript-dynamic-size",i.subscriptSizing==="dynamic"),K(),An((s=i._getDisplayedMessages())==="error"?16:s==="hint"?17:-1)}},dependencies:[oO,aO,hj,sO,rO],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color);caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color);caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape)}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color);border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[ose.transitionMessages]},changeDetection:0});let e=t;return e})(),kd=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=rt({imports:[In,_c,m2,In]});let e=t;return e})();var pO=Ps({passive:!0}),fO=(()=>{let t=class t{constructor(r,o){this._platform=r,this._ngZone=o,this._monitoredElements=new Map}monitor(r){if(!this._platform.isBrowser)return rr;let o=$i(r),i=this._monitoredElements.get(o);if(i)return i.subject;let s=new $t,l="cdk-text-field-autofilled",c=u=>{u.animationName==="cdk-text-field-autofill-start"&&!o.classList.contains(l)?(o.classList.add(l),this._ngZone.run(()=>s.next({target:u.target,isAutofilled:!0}))):u.animationName==="cdk-text-field-autofill-end"&&o.classList.contains(l)&&(o.classList.remove(l),this._ngZone.run(()=>s.next({target:u.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{o.addEventListener("animationstart",c,pO),o.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(o,{subject:s,unlisten:()=>{o.removeEventListener("animationstart",c,pO)}}),s}stopMonitoring(r){let o=$i(r),i=this._monitoredElements.get(o);i&&(i.unlisten(),i.subject.complete(),o.classList.remove("cdk-text-field-autofill-monitored"),o.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(o))}ngOnDestroy(){this._monitoredElements.forEach((r,o)=>this.stopMonitoring(o))}};t.\u0275fac=function(o){return new(o||t)(_e(an),_e(Ue))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var mO=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=rt({});let e=t;return e})();var cse=new $e("MAT_INPUT_VALUE_ACCESSOR"),use=["button","checkbox","file","hidden","image","radio","range","reset","submit"],dse=0,Zg=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(r){this._disabled=Ra(r),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(r){this._id=r||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ug.required)??!1}set required(r){this._required=Ra(r)}get type(){return this._type}set type(r){this._type=r||"text",this._validateType(),!this._isTextarea&&DS().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(r){this._errorStateTracker.matcher=r}get value(){return this._inputValueAccessor.value}set value(r){r!==this.value&&(this._inputValueAccessor.value=r,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(r){this._readonly=Ra(r)}get errorState(){return this._errorStateTracker.errorState}set errorState(r){this._errorStateTracker.errorState=r}constructor(r,o,i,s,l,c,u,d,p,f){this._elementRef=r,this._platform=o,this.ngControl=i,this._autofillMonitor=d,this._ngZone=p,this._formField=f,this._uid=`mat-input-${dse++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new $t,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(g=>DS().has(g)),this._iOSKeyupListener=g=>{let _=g.target;!_.value&&_.selectionStart===0&&_.selectionEnd===0&&(_.setSelectionRange(1,1),_.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let m=this._elementRef.nativeElement,h=m.nodeName.toLowerCase();this._inputValueAccessor=u||m,this._previousNativeValue=this.value,this.id=this.id,o.IOS&&p.runOutsideAngular(()=>{r.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Tg(c,i,l,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=h==="select",this._isTextarea=h==="textarea",this._isInFormField=!!f,this._isNativeSelect&&(this.controlType=m.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(r=>{this.autofilled=r.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(r){this._elementRef.nativeElement.focus(r)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(r){r!==this.focused&&(this.focused=r,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let r=this._elementRef.nativeElement.value;this._previousNativeValue!==r&&(this._previousNativeValue=r,this.stateChanges.next())}_dirtyCheckPlaceholder(){let r=this._getPlaceholder();if(r!==this._previousPlaceholder){let o=this._elementRef.nativeElement;this._previousPlaceholder=r,r?o.setAttribute("placeholder",r):o.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){use.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let r=this._elementRef.nativeElement.validity;return r&&r.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let r=this._elementRef.nativeElement,o=r.options[0];return this.focused||r.multiple||!this.empty||!!(r.selectedIndex>-1&&o&&o.label)}else return this.focused||!this.empty}setDescribedByIds(r){r.length?this._elementRef.nativeElement.setAttribute("aria-describedby",r.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let r=this._elementRef.nativeElement;return this._isNativeSelect&&(r.multiple||r.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}};t.\u0275fac=function(o){return new(o||t)(q(ct),q(an),q(Ma,10),q(SS,8),q(CS,8),q(A2),q(cse,10),q(fO),q(Ue),q(eC,8))},t.\u0275dir=Be({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(o,i){o&1&&xe("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),o&2&&(hc("id",i.id)("disabled",i.disabled)("required",i.required),gr("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),Zt("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[fn([{provide:JS,useExisting:t}]),mr]});let e=t;return e})(),hO=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=rt({imports:[In,kd,kd,mO,In]});let e=t;return e})();var pse=["input"],fse=["formField"],mse=["*"],bO=0,Qg=class{constructor(t,n){this.source=t,this.value=n}},hse={provide:_g,useExisting:Li(()=>tC),multi:!0},yO=new $e("MatRadioGroup"),gse=new $e("mat-radio-default-options",{providedIn:"root",factory:bse});function bse(){return{color:"accent"}}var tC=(()=>{let t=class t{get name(){return this._name}set name(r){this._name=r,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(r){this._labelPosition=r==="before"?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(r){this._value!==r&&(this._value=r,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(r){this._selected=r,this.value=r?r.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(r){this._disabled=r,this._markRadiosForCheck()}get required(){return this._required}set required(r){this._required=r,this._markRadiosForCheck()}constructor(r){this._changeDetector=r,this._value=null,this._name=`mat-radio-group-${bO++}`,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new Vt}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(r=>r===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(r=>{r.name=this.name,r._markForCheck()})}_updateSelectedRadioFromValue(){let r=this._selected!==null&&this._selected.value===this._value;this._radios&&!r&&(this._selected=null,this._radios.forEach(o=>{o.checked=this.value===o.value,o.checked&&(this._selected=o)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new Qg(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(r=>r._markForCheck())}writeValue(r){this.value=r,this._changeDetector.markForCheck()}registerOnChange(r){this._controlValueAccessorChangeFn=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.disabled=r,this._changeDetector.markForCheck()}};t.\u0275fac=function(o){return new(o||t)(q(br))},t.\u0275dir=Be({type:t,selectors:[["mat-radio-group"]],contentQueries:function(o,i,s){if(o&1&&Ln(s,Jg,5),o&2){let l;Ft(l=kt())&&(i._radios=l)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",sn],required:[2,"required","required",sn]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[fn([hse,{provide:yO,useExisting:t}]),Bn]});let e=t;return e})(),Jg=(()=>{let t=class t{get checked(){return this._checked}set checked(r){this._checked!==r&&(this._checked=r,r&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!r&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),r&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(r){this._value!==r&&(this._value=r,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===r),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(r){this._labelPosition=r}get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(r){this._setDisabled(r)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(r){this._required=r}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(r){this._color=r}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(r,o,i,s,l,c,u,d){this._elementRef=o,this._changeDetector=i,this._focusMonitor=s,this._radioDispatcher=l,this._providerOverride=u,this._uniqueId=`mat-radio-${++bO}`,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new Vt,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=de(kn),this.radioGroup=r,this._noopAnimations=c==="NoopAnimations",d&&(this.tabIndex=pd(d,0))}focus(r,o){o?this._focusMonitor.focusVia(this._inputElement,o,r):this._inputElement.nativeElement.focus(r)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((r,o)=>{r!==this.id&&o===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(r=>{!r&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new Qg(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(r){r.stopPropagation()}_onInputInteraction(r){if(r.stopPropagation(),!this.checked&&!this.disabled){let o=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),o&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(r){this._onInputInteraction(r),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(r){this._disabled!==r&&(this._disabled=r,this._changeDetector.markForCheck())}_updateTabIndex(){let r=this.radioGroup,o;if(!r||!r.selected||this.disabled?o=this.tabIndex:o=r.selected===this?this.tabIndex:-1,o!==this._previousTabIndex){let i=this._inputElement?.nativeElement;i&&(i.setAttribute("tabindex",o+""),this._previousTabIndex=o,Fs(()=>{queueMicrotask(()=>{r&&r.selected&&r.selected!==this&&document.activeElement===i&&(r.selected?._inputElement.nativeElement.focus(),document.activeElement===i&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}};t.\u0275fac=function(o){return new(o||t)(q(yO,8),q(ct),q(br),q(Cg),q(B2),q(zi,8),q(gse,8),Es("tabindex"))},t.\u0275cmp=Oe({type:t,selectors:[["mat-radio-button"]],viewQuery:function(o,i){if(o&1&&(Yn(pse,5),Yn(fse,7,ct)),o&2){let s;Ft(s=kt())&&(i._inputElement=s.first),Ft(s=kt())&&(i._rippleTrigger=s.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(o,i){o&1&&xe("focus",function(){return i._inputElement.nativeElement.focus()}),o&2&&(gr("id",i.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),Zt("mat-primary",i.color==="primary")("mat-accent",i.color==="accent")("mat-warn",i.color==="warn")("mat-mdc-radio-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",sn],tabIndex:[2,"tabIndex","tabIndex",r=>r==null?0:pd(r)],checked:[2,"checked","checked",sn],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",sn],required:[2,"required","required",sn],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[Bn,Cn],ngContentSelectors:mse,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(o,i){if(o&1){let s=pn();sr(),N(0,"div",2,0)(2,"div",3)(3,"div",4),xe("click",function(c){return Pt(s),Bt(i._onTouchTargetClick(c))}),j(),N(4,"input",5,1),xe("change",function(c){return Pt(s),Bt(i._onInputInteraction(c))}),j(),N(6,"div",6),X(7,"div",7)(8,"div",8),j(),N(9,"div",9),X(10,"div",10),j()(),N(11,"label",11),Wt(12),j()()}o&2&&(Ge("labelPosition",i.labelPosition),K(2),Zt("mdc-radio--disabled",i.disabled),K(2),Ge("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("required",i.required),gr("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),K(5),Ge("matRippleTrigger",i._rippleTrigger.nativeElement)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0),K(2),Ge("for",i.inputId))},dependencies:[BS,j2],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color);opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color);opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio--disabled{cursor:default;pointer-events:none}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color);font-family:var(--mat-radio-label-text-font);line-height:var(--mat-radio-label-text-line-height);font-size:var(--mat-radio-label-text-size);letter-spacing:var(--mat-radio-label-text-tracking);font-weight:var(--mat-radio-label-text-weight)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0});let e=t;return e})(),_O=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=rt({imports:[In,_c,Dg,Jg,In]});let e=t;return e})();var bt="primary",Gd=Symbol("RouteTitle"),sC=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Oc(e){return new sC(e)}function _se(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],l=e[i];if(s[0]===":")o[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function $se(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!vi(e[n],t[n]))return!1;return!0}function vi(e,t){let n=e?aC(e):void 0,r=t?aC(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!FO(e[o],t[o]))return!1;return!0}function aC(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function FO(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}else return e===t}function kO(e){return e.length>0?e[e.length-1]:null}function Ws(e){return ma(e)?e:Fa(e)?rn(Promise.resolve(e)):ze(e)}var xse={exact:MO,subset:RO},AO={exact:vse,subset:wse,ignored:()=>!0};function $O(e,t,n){return xse[n.paths](e.root,t.root,n.matrixParams)&&AO[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function vse(e,t){return vi(e,t)}function MO(e,t,n){if(!Ba(e.segments,t.segments)||!nb(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!MO(e.children[r],t.children[r],n))return!1;return!0}function wse(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>FO(e[n],t[n]))}function RO(e,t,n){return jO(e,t,t.segments,n)}function jO(e,t,n,r){if(e.segments.length>n.length){let o=e.segments.slice(0,n.length);return!(!Ba(o,n)||t.hasChildren()||!nb(o,n,r))}else if(e.segments.length===n.length){if(!Ba(e.segments,n)||!nb(e.segments,n,r))return!1;for(let o in t.children)if(!e.children[o]||!RO(e.children[o],t.children[o],r))return!1;return!0}else{let o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!Ba(e.segments,o)||!nb(e.segments,o,r)||!e.children[bt]?!1:jO(e.children[bt],t,i,r)}}function nb(e,t,n){return t.every((r,o)=>AO[n](e[o].parameters,r.parameters))}var Yi=class{constructor(t=new Xt([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Oc(this.queryParams),this._queryParamMap}toString(){return Ise.serialize(this)}},Xt=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rb(this)}},Pa=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Oc(this.parameters),this._parameterMap}toString(){return NO(this)}};function Sse(e,t){return Ba(e,t)&&e.every((n,r)=>vi(n.parameters,t[r].parameters))}function Ba(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function Cse(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===bt&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==bt&&(n=n.concat(t(o,r)))}),n}var qd=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:()=>new Nc,providedIn:"root"});let e=t;return e})(),Nc=class{parse(t){let n=new cC(t);return new Yi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Ad(t.root,!0)}`,r=Dse(t.queryParams),o=typeof t.fragment=="string"?`#${Ese(t.fragment)}`:"";return`${n}${r}${o}`}},Ise=new Nc;function rb(e){return e.segments.map(t=>NO(t)).join("/")}function Ad(e,t){if(!e.hasChildren())return rb(e);if(t){let n=e.children[bt]?Ad(e.children[bt],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==bt&&r.push(`${o}:${Ad(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Cse(e,(r,o)=>o===bt?[Ad(e.children[bt],!1)]:[`${o}:${Ad(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[bt]!=null?`${rb(e)}/${n[0]}`:`${rb(e)}/(${n.join("//")})`}}function OO(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eb(e){return OO(e).replace(/%3B/gi,";")}function Ese(e){return encodeURI(e)}function lC(e){return OO(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ob(e){return decodeURIComponent(e)}function xO(e){return ob(e.replace(/\+/g,"%20"))}function NO(e){return`${lC(e.path)}${Tse(e.parameters)}`}function Tse(e){return Object.entries(e).map(([t,n])=>`;${lC(t)}=${lC(n)}`).join("")}function Dse(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${eb(n)}=${eb(o)}`).join("&"):`${eb(n)}=${eb(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var Fse=/^[^\/()?;#]+/;function nC(e){let t=e.match(Fse);return t?t[0]:""}var kse=/^[^\/()?;=#]+/;function Ase(e){let t=e.match(kse);return t?t[0]:""}var Mse=/^[^=?&#]+/;function Rse(e){let t=e.match(Mse);return t?t[0]:""}var jse=/^[^&#]+/;function Ose(e){let t=e.match(jse);return t?t[0]:""}var cC=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xt([],{}):new Xt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[bt]=new Xt(t,n)),r}parseSegment(){let t=nC(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new je(4009,!1);return this.capture(t),new Pa(ob(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=Ase(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=nC(this.remaining);o&&(r=o,this.capture(r))}t[ob(n)]=ob(r)}parseQueryParam(t){let n=Rse(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=Ose(this.remaining);s&&(r=s,this.capture(r))}let o=xO(n),i=xO(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=nC(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new je(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=bt);let s=this.parseChildren();n[i]=Object.keys(s).length===1?s[bt]:new Xt([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new je(4011,!1)}};function PO(e){return e.segments.length>0?new Xt([],{[bt]:e}):e}function BO(e){let t={};for(let[r,o]of Object.entries(e.children)){let i=BO(o);if(r===bt&&i.segments.length===0&&i.hasChildren())for(let[s,l]of Object.entries(i.children))t[s]=l;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let n=new Xt(e.segments,t);return Nse(n)}function Nse(e){if(e.numberOfChildren===1&&e.children[bt]){let t=e.children[bt];return new Xt(e.segments.concat(t.segments),t.children)}return e}function Pd(e){return e instanceof Yi}function Pse(e,t,n=null,r=null){let o=LO(e);return UO(o,t,n,r)}function LO(e){let t;function n(i){let s={};for(let c of i.children){let u=n(c);s[c.outlet]=u}let l=new Xt(i.url,s);return i===e&&(t=l),l}let r=n(e.root),o=PO(r);return t??o}function UO(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return rC(o,o,o,n,r);let i=Bse(t);if(i.toRoot())return rC(o,o,new Xt([],{}),n,r);let s=Lse(i,o,e),l=s.processChildren?jd(s.segmentGroup,s.index,i.commands):zO(s.segmentGroup,s.index,i.commands);return rC(o,s.segmentGroup,l,n,r)}function ib(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Bd(e){return typeof e=="object"&&e!=null&&e.outlets}function rC(e,t,n,r,o){let i={};r&&Object.entries(r).forEach(([c,u])=>{i[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;e===t?s=n:s=WO(e,t,n);let l=PO(BO(s));return new Yi(l,i,o)}function WO(e,t,n){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===t?r[o]=n:r[o]=WO(i,t,n)}),new Xt(e.segments,r)}var sb=class{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&ib(r[0]))throw new je(4003,!1);let o=r.find(Bd);if(o&&o!==kO(r))throw new je(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Bse(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new sb(!0,0,e);let t=0,n=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let l={};return Object.entries(i.outlets).forEach(([c,u])=>{l[c]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:l}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((l,c)=>{c==0&&l==="."||(c==0&&l===""?n=!0:l===".."?t++:l!=""&&o.push(l))}),o):[...o,i]},[]);return new sb(n,t,r)}var Mc=class{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function Lse(e,t,n){if(e.isAbsolute)return new Mc(t,!0,0);if(!n)return new Mc(t,!1,NaN);if(n.parent===null)return new Mc(n,!0,0);let r=ib(e.commands[0])?0:1,o=n.segments.length-1+r;return Use(n,o,e.numberOfDoubleDots)}function Use(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new je(4005,!1);o=r.segments.length}return new Mc(r,!1,o-i)}function Wse(e){return Bd(e[0])?e[0].outlets:{[bt]:e}}function zO(e,t,n){if(e??=new Xt([],{}),e.segments.length===0&&e.hasChildren())return jd(e,t,n);let r=zse(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new Xt(e.segments.slice(0,r.pathIndex),{});return i.children[bt]=new Xt(e.segments.slice(r.pathIndex),e.children),jd(i,0,o)}else return r.match&&o.length===0?new Xt(e.segments,{}):r.match&&!e.hasChildren()?uC(e,t,n):r.match?jd(e,0,o):uC(e,t,n)}function jd(e,t,n){if(n.length===0)return new Xt(e.segments,{});{let r=Wse(n),o={};if(Object.keys(r).some(i=>i!==bt)&&e.children[bt]&&e.numberOfChildren===1&&e.children[bt].segments.length===0){let i=jd(e.children[bt],t,n);return new Xt(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=zO(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new Xt(e.segments,o)}}function zse(e,t,n){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;let s=e.segments[o],l=n[r];if(Bd(l))break;let c=`${l}`,u=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!wO(c,u,s))return i;r+=2}else{if(!wO(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function uC(e,t,n){let r=e.segments.slice(0,t),o=0;for(;o<n.length;){let i=n[o];if(Bd(i)){let c=Vse(i.outlets);return new Xt(r,c)}if(o===0&&ib(n[0])){let c=e.segments[t];r.push(new Pa(c.path,vO(n[0]))),o++;continue}let s=Bd(i)?i.outlets[bt]:`${i}`,l=o<n.length-1?n[o+1]:null;s&&l&&ib(l)?(r.push(new Pa(s,vO(l))),o+=2):(r.push(new Pa(s,{})),o++)}return new Xt(r,{})}function Vse(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=uC(new Xt([],{}),0,r))}),t}function vO(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function wO(e,t,n){return e==n.path&&vi(t,n.parameters)}var Od="imperative",Zn=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Zn||{}),_o=class{constructor(t,n){this.id=t,this.url=n}},Pc=class extends _o{constructor(t,n,r="imperative",o=null){super(t,n),this.type=Zn.NavigationStart,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Zi=class extends _o{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=Zn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qr=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Qr||{}),ab=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(ab||{}),Xi=class extends _o{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=Zn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ls=class extends _o{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=Zn.NavigationSkipped}},Ld=class extends _o{constructor(t,n,r,o){super(t,n),this.error=r,this.target=o,this.type=Zn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},lb=class extends _o{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=Zn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dC=class extends _o{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=Zn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pC=class extends _o{constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=Zn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},fC=class extends _o{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=Zn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mC=class extends _o{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=Zn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hC=class{constructor(t){this.route=t,this.type=Zn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},gC=class{constructor(t){this.route=t,this.type=Zn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},bC=class{constructor(t){this.snapshot=t,this.type=Zn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yC=class{constructor(t){this.snapshot=t,this.type=Zn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_C=class{constructor(t){this.snapshot=t,this.type=Zn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$C=class{constructor(t){this.snapshot=t,this.type=Zn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cb=class{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=Zn.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Ud=class{},Bc=class{constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function Hse(e,t){return e.providers&&!e._injector&&(e._injector=Hh(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Go(e){return e.outlet||bt}function Gse(e,t){let n=e.filter(r=>Go(r)===t);return n.push(...e.filter(r=>Go(r)!==t)),n}function Kd(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var xC=class{get injector(){return Kd(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new Xd(this.rootInjector),this.attachRef=null}},Xd=(()=>{let t=class t{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,o){let i=this.getOrCreateContext(r);i.outlet=o,this.contexts.set(r,i)}onChildOutletDestroyed(r){let o=this.getContext(r);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let o=this.getContext(r);return o||(o=new xC(this.rootInjector),this.contexts.set(r,o)),o}getContext(r){return this.contexts.get(r)||null}};t.\u0275fac=function(o){return new(o||t)(_e(Dr))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),ub=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=vC(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=vC(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=wC(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return wC(t,this._root).map(n=>n.value)}};function vC(e,t){if(e===t.value)return t;for(let n of t.children){let r=vC(e,n);if(r)return r}return null}function wC(e,t){if(e===t.value)return[t];for(let n of t.children){let r=wC(e,n);if(r.length)return r.unshift(t),r}return[]}var Zr=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ac(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var db=class extends ub{constructor(t,n){super(t),this.snapshot=n,AC(this,t)}toString(){return this.snapshot.toString()}};function VO(e){let t=qse(e),n=new Fn([new Pa("",{})]),r=new Fn({}),o=new Fn({}),i=new Fn({}),s=new Fn(""),l=new Us(n,r,i,s,o,bt,e,t.root);return l.snapshot=t.root,new db(new Zr(l,[]),t)}function qse(e){let t={},n={},r={},o="",i=new Rc([],t,r,o,n,bt,e,null,{});return new fb("",new Zr(i,[]))}var Us=class{constructor(t,n,r,o,i,s,l,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=l,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(nt(u=>u[Gd]))??ze(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(nt(t=>Oc(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(nt(t=>Oc(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function pb(e,t,n="emptyOnly"){let r,{routeConfig:o}=e;return t!==null&&(n==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:fe(fe({},t.params),e.params),data:fe(fe({},t.data),e.data),resolve:fe(fe(fe(fe({},e.data),t.data),o?.data),e._resolvedData)}:r={params:fe({},e.params),data:fe({},e.data),resolve:fe(fe({},e.data),e._resolvedData??{})},o&&GO(o)&&(r.resolve[Gd]=o.title),r}var Rc=class{get title(){return this.data?.[Gd]}constructor(t,n,r,o,i,s,l,c,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=l,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Oc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Oc(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},fb=class extends ub{constructor(t,n){super(n),this.url=t,AC(this,n)}toString(){return HO(this._root)}};function AC(e,t){t.value._routerState=e,t.children.forEach(n=>AC(e,n))}function HO(e){let t=e.children.length>0?` { ${e.children.map(HO).join(", ")} } `:"";return`${e.value}${t}`}function oC(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,vi(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),vi(t.params,n.params)||e.paramsSubject.next(n.params),$se(t.url,n.url)||e.urlSubject.next(n.url),vi(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function SC(e,t){let n=vi(e.params,t.params)&&Sse(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||SC(e.parent,t.parent))}function GO(e){return typeof e.title=="string"||e.title===null}var MC=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=bt,this.activateEvents=new Vt,this.deactivateEvents=new Vt,this.attachEvents=new Vt,this.detachEvents=new Vt,this.parentContexts=de(Xd),this.location=de(Fr),this.changeDetector=de(br),this.inputBinder=de(yb,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:o,previousValue:i}=r.name;if(o)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new je(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new je(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new je(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,o){this.activated=r,this._activatedRoute=o,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,o){if(this.isActivated)throw new je(4013,!1);this._activatedRoute=r;let i=this.location,l=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new CC(r,c,i.injector);this.activated=i.createComponent(l,{index:i.length,injector:u,environmentInjector:o}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275dir=Be({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[mr]});let e=t;return e})(),CC=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Us?this.route:t===Xd?this.childContexts:this.parent.get(t,n)}},yb=new $e(""),SO=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:o}=r,i=ha([o.queryParams,o.params,o.data]).pipe(Sr(([s,l,c],u)=>(c=fe(fe(fe({},s),l),c),u===0?ze(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==o||o.component===null){this.unsubscribeFromRouteData(r);return}let l=sj(o.component);if(!l){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of l.inputs)r.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(r,i)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})();function Kse(e,t,n){let r=Wd(e,t._root,n?n._root:void 0);return new db(r,t)}function Wd(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let o=Xse(e,t,n);return new Zr(r,o)}else{if(e.shouldAttach(t.value)){let i=e.retrieve(t.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(l=>Wd(e,l)),s}}let r=Yse(t.value),o=t.children.map(i=>Wd(e,i));return new Zr(r,o)}}function Xse(e,t,n){return t.children.map(r=>{for(let o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return Wd(e,r,o);return Wd(e,r)})}function Yse(e){return new Us(new Fn(e.url),new Fn(e.params),new Fn(e.queryParams),new Fn(e.fragment),new Fn(e.data),e.outlet,e.component,e)}var zd=class{constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},qO="ngNavigationCancelingError";function mb(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Pd(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=KO(!1,Qr.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function KO(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[qO]=!0,n.cancellationCode=t,n}function Zse(e){return XO(e)&&Pd(e.url)}function XO(e){return!!e&&e[qO]}var Qse=(e,t,n,r)=>nt(o=>(new IC(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)),IC=class{constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),oC(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let o=Ac(n);t.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Ac(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:l})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Ac(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let o=Ac(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new $C(i.value.snapshot))}),t.children.length&&this.forwardEvent(new yC(t.value.snapshot))}activateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(oC(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let l=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),oC(l.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},hb=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},jc=class{constructor(t,n){this.component=t,this.route=n}};function Jse(e,t,n){let r=e._root,o=t?t._root:null;return Md(r,o,n,[r.value])}function eae(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Uc(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!IA(e)?e:t.get(e):r}function Md(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Ac(t);return e.children.forEach(s=>{tae(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,l])=>Nd(l,n.getContext(s),o)),o}function tae(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=t?t.value:null,l=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=nae(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new hb(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?Md(e,t,l?l.children:null,r,o):Md(e,t,n,r,o),c&&l&&l.outlet&&l.outlet.isActivated&&o.canDeactivateChecks.push(new jc(l.outlet.component,s))}else s&&Nd(t,l,o),o.canActivateChecks.push(new hb(r)),i.component?Md(e,null,l?l.children:null,r,o):Md(e,null,n,r,o);return o}function nae(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Ba(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ba(e.url,t.url)||!vi(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!SC(e,t)||!vi(e.queryParams,t.queryParams);case"paramsChange":default:return!SC(e,t)}}function Nd(e,t,n){let r=Ac(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?t?Nd(s,t.children.getContext(i),n):Nd(s,null,n):Nd(s,t,n)}),o.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new jc(t.outlet.component,o)):n.canDeactivateChecks.push(new jc(null,o)):n.canDeactivateChecks.push(new jc(null,o))}function Yd(e){return typeof e=="function"}function rae(e){return typeof e=="boolean"}function oae(e){return e&&Yd(e.canLoad)}function iae(e){return e&&Yd(e.canActivate)}function sae(e){return e&&Yd(e.canActivateChild)}function aae(e){return e&&Yd(e.canDeactivate)}function lae(e){return e&&Yd(e.canMatch)}function YO(e){return e instanceof ji||e?.name==="EmptyError"}var tb=Symbol("INITIAL_VALUE");function Lc(){return Sr(e=>ha(e.map(t=>t.pipe(Po(1),Gl(tb)))).pipe(nt(t=>{for(let n of t)if(n!==!0){if(n===tb)return tb;if(n===!1||cae(n))return n}return!0}),Pn(t=>t!==tb),Po(1)))}function cae(e){return Pd(e)||e instanceof zd}function uae(e,t){return Nn(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?ze(tt(fe({},n),{guardsResult:!0})):dae(s,r,o,e).pipe(Nn(l=>l&&rae(l)?pae(r,i,e,t):ze(l)),nt(l=>tt(fe({},n),{guardsResult:l})))})}function dae(e,t,n,r){return rn(e).pipe(Nn(o=>bae(o.component,o.route,n,t,r)),ui(o=>o!==!0,!0))}function pae(e,t,n,r){return rn(t).pipe(Oi(o=>hs(mae(o.route.parent,r),fae(o.route,r),gae(e,o.path,n),hae(e,o.route,n))),ui(o=>o!==!0,!0))}function fae(e,t){return e!==null&&t&&t(new _C(e)),ze(!0)}function mae(e,t){return e!==null&&t&&t(new bC(e)),ze(!0)}function hae(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return ze(!0);let o=r.map(i=>jm(()=>{let s=Kd(t)??n,l=Uc(i,s),c=iae(l)?l.canActivate(t,e):Xr(s,()=>l(t,e));return Ws(c).pipe(ui())}));return ze(o).pipe(Lc())}function gae(e,t,n){let r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>eae(s)).filter(s=>s!==null).map(s=>jm(()=>{let l=s.guards.map(c=>{let u=Kd(s.node)??n,d=Uc(c,u),p=sae(d)?d.canActivateChild(r,e):Xr(u,()=>d(r,e));return Ws(p).pipe(ui())});return ze(l).pipe(Lc())}));return ze(i).pipe(Lc())}function bae(e,t,n,r,o){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return ze(!0);let s=i.map(l=>{let c=Kd(t)??o,u=Uc(l,c),d=aae(u)?u.canDeactivate(e,t,n,r):Xr(c,()=>u(e,t,n,r));return Ws(d).pipe(ui())});return ze(s).pipe(Lc())}function yae(e,t,n,r){let o=t.canLoad;if(o===void 0||o.length===0)return ze(!0);let i=o.map(s=>{let l=Uc(s,e),c=oae(l)?l.canLoad(t,n):Xr(e,()=>l(t,n));return Ws(c)});return ze(i).pipe(Lc(),ZO(r))}function ZO(e){return Bv(Vn(t=>{if(typeof t!="boolean")throw mb(e,t)}),nt(t=>t===!0))}function _ae(e,t,n,r){let o=t.canMatch;if(!o||o.length===0)return ze(!0);let i=o.map(s=>{let l=Uc(s,e),c=lae(l)?l.canMatch(t,n):Xr(e,()=>l(t,n));return Ws(c)});return ze(i).pipe(Lc(),ZO(r))}var Vd=class{constructor(t){this.segmentGroup=t||null}},Hd=class extends Error{constructor(t){super(),this.urlTree=t}};function kc(e){return Vl(new Vd(e))}function $ae(e){return Vl(new je(4e3,!1))}function xae(e){return Vl(KO(!1,Qr.GuardRejected))}var EC=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return ze(r);if(o.numberOfChildren>1||!o.children[bt])return $ae(`${t.redirectTo}`);o=o.children[bt]}}applyRedirectCommands(t,n,r,o,i){if(typeof n!="string"){let l=n,{queryParams:c,fragment:u,routeConfig:d,url:p,outlet:f,params:m,data:h,title:g}=o,_=Xr(i,()=>l({params:m,data:h,queryParams:c,fragment:u,routeConfig:d,url:p,outlet:f,title:g}));if(_ instanceof Yi)throw new Hd(_);n=_}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new Hd(s);return s}applyRedirectCreateUrlTree(t,n,r,o){let i=this.createSegmentGroup(t,n.root,r,o);return new Yi(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let l=i.substring(1);r[o]=n[l]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){let i=this.createSegments(t,n.segments,r,o),s={};return Object.entries(n.children).forEach(([l,c])=>{s[l]=this.createSegmentGroup(t,c,r,o)}),new Xt(i,s)}createSegments(t,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){let o=r[n.path.substring(1)];if(!o)throw new je(4001,!1);return o}findOrReturn(t,n){let r=0;for(let o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}},TC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vae(e,t,n,r,o){let i=RC(e,t,n);return i.matched?(r=Hse(t,r),_ae(r,t,n,o).pipe(nt(s=>s===!0?i:fe({},TC)))):ze(i)}function RC(e,t,n){if(t.path==="**")return wae(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?fe({},TC):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(t.matcher||_se)(n,e,t);if(!o)return fe({},TC);let i={};Object.entries(o.posParams??{}).forEach(([l,c])=>{i[l]=c.path});let s=o.consumed.length>0?fe(fe({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function wae(e){return{matched:!0,parameters:e.length>0?kO(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function CO(e,t,n,r){return n.length>0&&Iae(e,n,r)?{segmentGroup:new Xt(t,Cae(r,new Xt(n,e.children))),slicedSegments:[]}:n.length===0&&Eae(e,n,r)?{segmentGroup:new Xt(e.segments,Sae(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Xt(e.segments,e.children),slicedSegments:n}}function Sae(e,t,n,r){let o={};for(let i of n)if(_b(e,t,i)&&!r[Go(i)]){let s=new Xt([],{});o[Go(i)]=s}return fe(fe({},r),o)}function Cae(e,t){let n={};n[bt]=t;for(let r of e)if(r.path===""&&Go(r)!==bt){let o=new Xt([],{});n[Go(r)]=o}return n}function Iae(e,t,n){return n.some(r=>_b(e,t,r)&&Go(r)!==bt)}function Eae(e,t,n){return n.some(r=>_b(e,t,r))}function _b(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Tae(e,t,n,r){return Go(e)!==r&&(r===bt||!_b(t,n,e))?!1:RC(t,e,n).matched}function Dae(e,t,n){return t.length===0&&!e.children[n]}var DC=class{};function Fae(e,t,n,r,o,i,s="emptyOnly"){return new FC(e,t,n,r,o,s,i).recognize()}var kae=31,FC=class{constructor(t,n,r,o,i,s,l){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=l,this.applyRedirects=new EC(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new je(4002,`'${t.segmentGroup}'`)}recognize(){let t=CO(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(nt(({children:n,rootSnapshot:r})=>{let o=new Zr(r,n),i=new fb("",o),s=Pse(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(t){let n=new Rc([],Object.freeze({}),Object.freeze(fe({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),bt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,bt,n).pipe(nt(r=>({children:r,rootSnapshot:n})),gs(r=>{if(r instanceof Hd)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Vd?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,i):this.processSegment(t,n,r,r.segments,o,!0,i).pipe(nt(s=>s instanceof Zr?[s]:[]))}processChildren(t,n,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return rn(i).pipe(Oi(s=>{let l=r.children[s],c=Gse(n,s);return this.processSegmentGroup(t,c,l,s,o)}),Xv((s,l)=>(s.push(...l),s)),bs(null),Kv(),Nn(s=>{if(s===null)return kc(r);let l=QO(s);return Aae(l),ze(l)}))}processSegment(t,n,r,o,i,s,l){return rn(n).pipe(Oi(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,o,i,s,l).pipe(gs(u=>{if(u instanceof Vd)return ze(null);throw u}))),ui(c=>!!c),gs(c=>{if(YO(c))return Dae(r,o,i)?ze(new DC):kc(r);throw c}))}processSegmentAgainstRoute(t,n,r,o,i,s,l,c){return Tae(r,o,i,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,r,i,s,c):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,c):kc(o):kc(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,l){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:p,remainingSegments:f}=RC(n,o,i);if(!c)return kc(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>kae&&(this.allowRedirects=!1));let m=new Rc(i,u,Object.freeze(fe({},this.urlTree.queryParams)),this.urlTree.fragment,IO(o),Go(o),o.component??o._loadedComponent??null,o,EO(o)),h=pb(m,l,this.paramsInheritanceStrategy);m.params=Object.freeze(h.params),m.data=Object.freeze(h.data);let g=this.applyRedirects.applyRedirectCommands(d,o.redirectTo,p,m,t);return this.applyRedirects.lineralizeSegments(o,g).pipe(Nn(_=>this.processSegment(t,r,n,_.concat(f),s,!1,l)))}matchSegmentAgainstRoute(t,n,r,o,i,s){let l=vae(n,r,o,t,this.urlSerializer);return r.path==="**"&&(n.children={}),l.pipe(Sr(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,o).pipe(Sr(({routes:u})=>{let d=r._loadedInjector??t,{parameters:p,consumedSegments:f,remainingSegments:m}=c,h=new Rc(f,p,Object.freeze(fe({},this.urlTree.queryParams)),this.urlTree.fragment,IO(r),Go(r),r.component??r._loadedComponent??null,r,EO(r)),g=pb(h,s,this.paramsInheritanceStrategy);h.params=Object.freeze(g.params),h.data=Object.freeze(g.data);let{segmentGroup:_,slicedSegments:$}=CO(n,f,m,u);if($.length===0&&_.hasChildren())return this.processChildren(d,u,_,h).pipe(nt(w=>new Zr(h,w)));if(u.length===0&&$.length===0)return ze(new Zr(h,[]));let x=Go(r)===i;return this.processSegment(d,u,_,$,x?bt:i,!0,h).pipe(nt(w=>new Zr(h,w instanceof Zr?[w]:[])))}))):kc(n)))}getChildConfig(t,n,r){return n.children?ze({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?ze({routes:n._loadedRoutes,injector:n._loadedInjector}):yae(t,n,r,this.urlSerializer).pipe(Nn(o=>o?this.configLoader.loadChildren(t,n).pipe(Vn(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):xae(n))):ze({routes:[],injector:t})}};function Aae(e){e.sort((t,n)=>t.value.outlet===bt?-1:n.value.outlet===bt?1:t.value.outlet.localeCompare(n.value.outlet))}function Mae(e){let t=e.value.routeConfig;return t&&t.path===""}function QO(e){let t=[],n=new Set;for(let r of e){if(!Mae(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):t.push(r)}for(let r of n){let o=QO(r.children);t.push(new Zr(r.value,o))}return t.filter(r=>!n.has(r))}function IO(e){return e.data||{}}function EO(e){return e.resolve||{}}function Rae(e,t,n,r,o,i){return Nn(s=>Fae(e,t,n,r,s.extractedUrl,o,i).pipe(nt(({state:l,tree:c})=>tt(fe({},s),{targetSnapshot:l,urlAfterRedirects:c}))))}function jae(e,t){return Nn(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return ze(n);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let u of JO(c))s.add(u);let l=0;return rn(s).pipe(Oi(c=>i.has(c)?Oae(c,r,e,t):(c.data=pb(c,c.parent,e).resolve,ze(void 0))),Vn(()=>l++),Hl(1),Nn(c=>l===s.size?ze(n):rr))})}function JO(e){let t=e.children.map(n=>JO(n)).flat();return[e,...t]}function Oae(e,t,n,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!GO(o)&&(i[Gd]=o.title),Nae(i,e,t,r).pipe(nt(s=>(e._resolvedData=s,e.data=pb(e,e.parent,n).resolve,null)))}function Nae(e,t,n,r){let o=aC(e);if(o.length===0)return ze({});let i={};return rn(o).pipe(Nn(s=>Pae(e[s],t,n,r).pipe(ui(),Vn(l=>{if(l instanceof zd)throw mb(new Nc,l);i[s]=l}))),Hl(1),qv(i),gs(s=>YO(s)?rr:Vl(s)))}function Pae(e,t,n,r){let o=Kd(t)??r,i=Uc(e,o),s=i.resolve?i.resolve(t,n):Xr(o,()=>i(t,n));return Ws(s)}function iC(e){return Sr(t=>{let n=e(t);return n?rn(n).pipe(nt(()=>t)):ze(t)})}var eN=(()=>{let t=class t{buildTitle(r){let o,i=r.root;for(;i!==void 0;)o=this.getResolvedTitleForRoute(i)??o,i=i.children.find(s=>s.outlet===bt);return o}getResolvedTitleForRoute(r){return r.data[Gd]}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:()=>de(Bae),providedIn:"root"});let e=t;return e})(),Bae=(()=>{let t=class t extends eN{constructor(r){super(),this.title=r}updateTitle(r){let o=this.buildTitle(r);o!==void 0&&this.title.setTitle(o)}};t.\u0275fac=function(o){return new(o||t)(_e(Nj))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Zd=new $e("",{providedIn:"root",factory:()=>({})}),Lae=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=Oe({type:t,selectors:[["ng-component"]],standalone:!0,features:[Cn],decls:1,vars:0,template:function(o,i){o&1&&X(0,"router-outlet")},dependencies:[MC],encapsulation:2});let e=t;return e})();function jC(e){let t=e.children&&e.children.map(jC),n=t?tt(fe({},e),{children:t}):fe({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==bt&&(n.component=Lae),n}var gb=new $e(""),OC=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=de(Zh)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ze(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=Ws(r.loadComponent()).pipe(nt(tN),Vn(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),ga(()=>{this.componentLoaders.delete(r)})),i=new fs(o,()=>new $t).pipe(Wl());return this.componentLoaders.set(r,i),i}loadChildren(r,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return ze({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);let s=Uae(o,this.compiler,r,this.onLoadEndListener).pipe(ga(()=>{this.childrenLoaders.delete(o)})),l=new fs(s,()=>new $t).pipe(Wl());return this.childrenLoaders.set(o,l),l}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Uae(e,t,n,r){return Ws(e.loadChildren()).pipe(nt(tN),Nn(o=>o instanceof td||Array.isArray(o)?ze(o):rn(t.compileModuleAsync(o))),nt(o=>{r&&r(e);let i,s,l=!1;return Array.isArray(o)?(s=o,l=!0):(i=o.create(n).injector,s=i.get(gb,[],{optional:!0,self:!0}).flat()),{routes:s.map(jC),injector:i}}))}function Wae(e){return e&&typeof e=="object"&&"default"in e}function tN(e){return Wae(e)?e.default:e}var NC=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:()=>de(zae),providedIn:"root"});let e=t;return e})(),zae=(()=>{let t=class t{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,o){return r}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),nN=new $e(""),rN=new $e("");function Vae(e,t,n){let r=e.get(rN),o=e.get(Rt);return e.get(Ue).runOutsideAngular(()=>{if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let i,s=new Promise(u=>{i=u}),l=o.startViewTransition(()=>(i(),Hae(e))),{onViewTransitionCreated:c}=r;return c&&Xr(e,()=>c({transition:l,from:t,to:n})),s})}function Hae(e){return new Promise(t=>{Fs({read:()=>setTimeout(t)},{injector:e})})}var Gae=new $e(""),PC=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new $t,this.transitionAbortSubject=new $t,this.configLoader=de(OC),this.environmentInjector=de(Dr),this.urlSerializer=de(qd),this.rootContexts=de(Xd),this.location=de(bo),this.inputBindingEnabled=de(yb,{optional:!0})!==null,this.titleStrategy=de(eN),this.options=de(Zd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=de(NC),this.createViewTransition=de(nN,{optional:!0}),this.navigationErrorHandler=de(Gae,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ze(void 0),this.rootComponentType=null;let r=i=>this.events.next(new hC(i)),o=i=>this.events.next(new gC(i));this.configLoader.onLoadEndListener=o,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let o=++this.navigationId;this.transitions?.next(tt(fe(fe({},this.transitions.value),r),{id:o}))}setupNavigations(r,o,i){return this.transitions=new Fn({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Od,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Pn(s=>s.id!==0),nt(s=>tt(fe({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Sr(s=>{let l=!1,c=!1;return ze(s).pipe(Sr(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Qr.SupersededByNewNavigation),rr;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?tt(fe({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&p!=="reload"){let f="";return this.events.next(new Ls(u.id,this.urlSerializer.serialize(u.rawUrl),f,ab.IgnoredSameUrlNavigation)),u.resolve(!1),rr}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ze(u).pipe(Sr(f=>{let m=this.transitions?.getValue();return this.events.next(new Pc(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),m!==this.transitions?.getValue()?rr:Promise.resolve(f)}),Rae(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Vn(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=tt(fe({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let m=new lb(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:f,extractedUrl:m,source:h,restoredState:g,extras:_}=u,$=new Pc(f,this.urlSerializer.serialize(m),h,g);this.events.next($);let x=VO(this.rootComponentType).snapshot;return this.currentTransition=s=tt(fe({},u),{targetSnapshot:x,urlAfterRedirects:m,extras:tt(fe({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,ze(s)}else{let f="";return this.events.next(new Ls(u.id,this.urlSerializer.serialize(u.extractedUrl),f,ab.IgnoredByUrlHandlingStrategy)),u.resolve(!1),rr}}),Vn(u=>{let d=new dC(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),nt(u=>(this.currentTransition=s=tt(fe({},u),{guards:Jse(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),uae(this.environmentInjector,u=>this.events.next(u)),Vn(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw mb(this.urlSerializer,u.guardsResult);let d=new pC(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),Pn(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Qr.GuardRejected),!1)),iC(u=>{if(u.guards.canActivateChecks.length)return ze(u).pipe(Vn(d=>{let p=new fC(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),Sr(d=>{let p=!1;return ze(d).pipe(jae(this.paramsInheritanceStrategy,this.environmentInjector),Vn({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",Qr.NoDataFromResolver)}}))}),Vn(d=>{let p=new mC(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),iC(u=>{let d=p=>{let f=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(p.routeConfig).pipe(Vn(m=>{p.component=m}),nt(()=>{})));for(let m of p.children)f.push(...d(m));return f};return ha(d(u.targetSnapshot.root)).pipe(bs(null),Po(1))}),iC(()=>this.afterPreactivation()),Sr(()=>{let{currentSnapshot:u,targetSnapshot:d}=s,p=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return p?rn(p).pipe(nt(()=>s)):ze(s)}),nt(u=>{let d=Kse(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=tt(fe({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),Vn(()=>{this.events.next(new Ud)}),Qse(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Po(1),Vn({next:u=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Zi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{l=!0}}),or(this.transitionAbortSubject.pipe(Vn(u=>{throw u}))),ga(()=>{!l&&!c&&this.cancelNavigationTransition(s,"",Qr.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),gs(u=>{if(c=!0,XO(u))this.events.next(new Xi(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),Zse(u)?this.events.next(new Bc(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let d=new Ld(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let p=Xr(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(p instanceof zd){let{message:f,cancellationCode:m}=mb(this.urlSerializer,p);this.events.next(new Xi(s.id,this.urlSerializer.serialize(s.extractedUrl),f,m)),this.events.next(new Bc(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(d);let f=r.errorHandler(u);s.resolve(!!f)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return rr}))}))}cancelNavigationTransition(r,o,i){let s=new Xi(r.id,this.urlSerializer.serialize(r.extractedUrl),o,i);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),o=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==o?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function qae(e){return e!==Od}var Kae=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:()=>de(Xae),providedIn:"root"});let e=t;return e})(),kC=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},Xae=(()=>{let t=class t extends kC{};t.\u0275fac=(()=>{let r;return function(i){return(r||(r=hr(t)))(i||t)}})(),t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),oN=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:()=>de(Yae),providedIn:"root"});let e=t;return e})(),Yae=(()=>{let t=class t extends oN{constructor(){super(...arguments),this.location=de(bo),this.urlSerializer=de(qd),this.options=de(Zd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=de(NC),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Yi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=VO(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(o=>{o.type==="popstate"&&r(o.url,o.state)})}handleRouterEvent(r,o){if(r instanceof Pc)this.stateMemento=this.createStateMemento();else if(r instanceof Ls)this.rawUrlTree=o.initialUrl;else if(r instanceof lb){if(this.urlUpdateStrategy==="eager"&&!o.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(o.targetBrowserUrl??i,o)}}else r instanceof Ud?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,this.urlUpdateStrategy==="deferred"&&!o.extras.skipLocationChange&&this.setBrowserUrl(o.targetBrowserUrl??this.rawUrlTree,o)):r instanceof Xi&&(r.code===Qr.GuardRejected||r.code===Qr.NoDataFromResolver)?this.restoreHistory(o):r instanceof Ld?this.restoreHistory(o,!0):r instanceof Zi&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,o){let i=r instanceof Yi?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl){let s=this.browserPageId,l=fe(fe({},o.extras.state),this.generateNgRouterState(o.id,s));this.location.replaceState(i,"",l)}else{let s=fe(fe({},o.extras.state),this.generateNgRouterState(o.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(r,o=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(o&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,o){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:o}:{navigationId:r}}};t.\u0275fac=(()=>{let r;return function(i){return(r||(r=hr(t)))(i||t)}})(),t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Rd=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Rd||{});function iN(e,t){e.events.pipe(Pn(n=>n instanceof Zi||n instanceof Xi||n instanceof Ld||n instanceof Ls),nt(n=>n instanceof Zi||n instanceof Ls?Rd.COMPLETE:(n instanceof Xi?n.code===Qr.Redirect||n.code===Qr.SupersededByNewNavigation:!1)?Rd.REDIRECTING:Rd.FAILED),Pn(n=>n!==Rd.REDIRECTING),Po(1)).subscribe(()=>{t()})}function Zae(e){throw e}var Qae={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Jae={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},yt=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=de(Gh),this.stateManager=de(oN),this.options=de(Zd,{optional:!0})||{},this.pendingTasks=de(Ts),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=de(PC),this.urlSerializer=de(qd),this.location=de(bo),this.urlHandlingStrategy=de(NC),this._events=new $t,this.errorHandler=this.options.errorHandler||Zae,this.navigated=!1,this.routeReuseStrategy=de(Kae),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=de(gb,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!de(yb,{optional:!0}),this.eventsSubscription=new dn,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(o=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(o,s),o instanceof Xi&&o.code!==Qr.Redirect&&o.code!==Qr.SupersededByNewNavigation)this.navigated=!0;else if(o instanceof Zi)this.navigated=!0;else if(o instanceof Bc){let l=o.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(o.url,i.currentRawUrl),u=fe({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||qae(i.source)},l);this.scheduleNavigation(c,Od,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}tle(o)&&this._events.next(o)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Od,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",o)},0)})}navigateToSyncWithBrowser(r,o,i){let s={replaceUrl:!0},l=i?.navigationId?i:null;if(i){let u=fe({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,o,l,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(jC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,o={}){let{relativeTo:i,queryParams:s,fragment:l,queryParamsHandling:c,preserveFragment:u}=o,d=u?this.currentUrlTree.fragment:l,p=null;switch(c){case"merge":p=fe(fe({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let f;try{let m=i?i.snapshot:this.routerState.snapshot.root;f=LO(m)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),f=this.currentUrlTree.root}return UO(f,r,p,d??null)}navigateByUrl(r,o={skipLocationChange:!1}){let i=Pd(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Od,null,o)}navigate(r,o={skipLocationChange:!1}){return ele(r),this.navigateByUrl(this.createUrlTree(r,o),o)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,o){let i;if(o===!0?i=fe({},Qae):o===!1?i=fe({},Jae):i=o,Pd(r))return $O(this.currentUrlTree,r,i);let s=this.parseUrl(r);return $O(this.currentUrlTree,s,i)}removeEmptyProps(r){return Object.entries(r).reduce((o,[i,s])=>(s!=null&&(o[i]=s),o),{})}scheduleNavigation(r,o,i,s,l){if(this.disposed)return Promise.resolve(!1);let c,u,d;l?(c=l.resolve,u=l.reject,d=l.promise):d=new Promise((f,m)=>{c=f,u=m});let p=this.pendingTasks.add();return iN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(f=>Promise.reject(f))}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function ele(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new je(4008,!1)}function tle(e){return!(e instanceof Ud)&&!(e instanceof Bc)}var bb=class{};var nle=(()=>{let t=class t{constructor(r,o,i,s,l){this.router=r,this.injector=i,this.preloadingStrategy=s,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Pn(r=>r instanceof Zi),Oi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,o){let i=[];for(let s of o){s.providers&&!s._injector&&(s._injector=Hh(s.providers,r,`Route: ${s.path}`));let l=s._injector??r,c=s._loadedInjector??l;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(l,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return rn(i).pipe(ms())}preloadConfig(r,o){return this.preloadingStrategy.preload(o,()=>{let i;o.loadChildren&&o.canLoad===void 0?i=this.loader.loadChildren(r,o):i=ze(null);let s=i.pipe(Nn(l=>l===null?ze(void 0):(o._loadedRoutes=l.routes,o._loadedInjector=l.injector,this.processRoutes(l.injector??r,l.routes))));if(o.loadComponent&&!o._loadedComponent){let l=this.loader.loadComponent(o);return rn([s,l]).pipe(ms())}else return s})}};t.\u0275fac=function(o){return new(o||t)(_e(yt),_e(Zh),_e(Dr),_e(bb),_e(OC))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),sN=new $e(""),rle=(()=>{let t=class t{constructor(r,o,i,s,l={}){this.urlSerializer=r,this.transitions=o,this.viewportScroller=i,this.zone=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration||="disabled",l.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Pc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Zi?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Ls&&r.code===ab.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof cb&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new cb(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(o){Lh()},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})();function ole(e){return e.routerState.root}function Qd(e,t){return{\u0275kind:e,\u0275providers:t}}function ile(){let e=de(kn);return t=>{let n=e.get(As);if(t!==n.components[0])return;let r=e.get(yt),o=e.get(aN);e.get(BC)===1&&r.initialNavigation(),e.get(lN,null,xt.Optional)?.setUpPreloading(),e.get(sN,null,xt.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var aN=new $e("",{factory:()=>new $t}),BC=new $e("",{providedIn:"root",factory:()=>1});function sle(){return Qd(2,[{provide:BC,useValue:0},{provide:Xh,multi:!0,deps:[kn],useFactory:t=>{let n=t.get(pj,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let o=t.get(yt),i=t.get(aN);iN(o,()=>{r(!0)}),t.get(PC).afterPreactivation=()=>(r(!0),i.closed?ze(void 0):i),o.initialNavigation()}))}}])}function ale(){return Qd(3,[{provide:Xh,multi:!0,useFactory:()=>{let t=de(yt);return()=>{t.setUpLocationChangeListener()}}},{provide:BC,useValue:2}])}var lN=new $e("");function lle(e){return Qd(0,[{provide:lN,useExisting:nle},{provide:bb,useExisting:e}])}function cle(){return Qd(8,[SO,{provide:yb,useExisting:SO}])}function ule(e){let t=[{provide:nN,useValue:Vae},{provide:rN,useValue:fe({skipNextTransition:!!e?.skipInitialTransition},e)}];return Qd(9,t)}var TO=new $e("ROUTER_FORROOT_GUARD"),dle=[bo,{provide:qd,useClass:Nc},yt,Xd,{provide:Us,useFactory:ole,deps:[yt]},OC,[]],LC=(()=>{let t=class t{constructor(r){}static forRoot(r,o){return{ngModule:t,providers:[dle,[],{provide:gb,multi:!0,useValue:r},{provide:TO,useFactory:hle,deps:[[yt,new Ih,new ow]]},{provide:Zd,useValue:o||{}},o?.useHash?fle():mle(),ple(),o?.preloadingStrategy?lle(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?gle(o):[],o?.bindToComponentInputs?cle().\u0275providers:[],o?.enableViewTransitions?ule().\u0275providers:[],ble()]}}static forChild(r){return{ngModule:t,providers:[{provide:gb,multi:!0,useValue:r}]}}};t.\u0275fac=function(o){return new(o||t)(_e(TO,8))},t.\u0275mod=ot({type:t}),t.\u0275inj=rt({});let e=t;return e})();function ple(){return{provide:sN,useFactory:()=>{let e=de(gj),t=de(Ue),n=de(Zd),r=de(PC),o=de(qd);return n.scrollOffset&&e.setOffset(n.scrollOffset),new rle(o,r,e,t,n)}}}function fle(){return{provide:ka,useClass:mj}}function mle(){return{provide:ka,useClass:Jw}}function hle(e){return"guarded"}function gle(e){return[e.initialNavigation==="disabled"?ale().\u0275providers:[],e.initialNavigation==="enabledBlocking"?sle().\u0275providers:[]]}var DO=new $e("");function ble(){return[{provide:DO,useFactory:ile},{provide:Yh,multi:!0,useExisting:DO}]}function cN(){DeviceMotionEvent&&typeof DeviceMotionEvent.requestPermission=="function"&&DeviceMotionEvent.requestPermission()}var Ot=(()=>{class e{isAndroid;isIos;isSafari;isAuthenticated;isReconstructed;isFootLeft;isFootRight;isFirstFoot;isSheetA4;isSheetUS;isEnglishLanguage;feetAccesstoken;right_footMeasurements;right_objFootMeasurements;left_footMeasurements;left_objFootMeasurements;userAge;userGender;input1;input2;input3;input4;input5;arr_product_codes=[];arr_request_codes=[];request_code;urlWebReturn;rr_error_code;rr_recommend_code;rr_product_code;rr_size_right;rr_size_left;rr_size_common;isAvailableRight;isAvailableLeft;isOppositePending;flagRedirect2external;ml_model;constructor(){this.isAndroid=!1,this.isIos=!1,this.isSafari=!1,this.isAuthenticated=!1,this.isReconstructed=!1,this.isFootLeft=!1,this.isFootRight=!1,this.isFirstFoot=!1,this.isSheetA4=!1,this.isSheetUS=!1,this.isEnglishLanguage=!1,this.feetAccesstoken="",this.right_footMeasurements="",this.left_footMeasurements="",this.userAge="",this.userGender="",this.request_code="",this.urlWebReturn="",this.rr_error_code="",this.rr_recommend_code="",this.rr_product_code="",this.rr_size_right="",this.rr_size_left="",this.rr_size_common="",this.isAvailableRight=!1,this.isAvailableLeft=!1,this.isOppositePending=!1,this.flagRedirect2external=!1,this.ml_model=new Blob}webservice_client_id(){return""}webservice_client_secret(){return""}webservice_username(){return""}webservice_password(){return""}webservice_grant_type(){return""}webservice_license_code(){return""}webservice_device(){return""}webservice_base_url(){return""}set_the_inputs(n){if(localStorage.removeItem("feet_input5"),localStorage.removeItem("feet_input4"),localStorage.removeItem("feet_input3"),localStorage.removeItem("feet_input2"),localStorage.removeItem("feet_input1"),n.length>4){var r=n[4];this.input5=r.replace("input5=","");let u=new String(this.input5).toString();localStorage.setItem("feet_input5",u)}else this.input5=null;if(n.length>3){var o=n[3];this.input4=o.replace("input4=","");let u=new String(this.input4).toString();this.set_url_webReturn(u),localStorage.setItem("feet_input4",u)}else this.input4=null;if(n.length>2){var i=n[2];this.input3=i.replace("input3=","");let u=new String(this.input3).toString();this.set_product_code(u),localStorage.setItem("feet_input3",u)}else this.input3=null;if(n.length>1){var s=n[1];this.input2=s.replace("input2=","");let u=new String(this.input2).toString();localStorage.setItem("feet_input2",u)}else this.input2=null;if(n.length>0){var l=n[0];this.input1=l.replace("input1=","");let u=new String(this.input1).toString();localStorage.setItem("feet_input1",u)}else this.input1=null}the_input1(){return localStorage.getItem("feet_input1")}the_input2(){return localStorage.getItem("feet_input2")}the_input3(){return localStorage.getItem("feet_input3")}the_input4(){return localStorage.getItem("feet_input4")}the_input5(){return localStorage.getItem("feet_input5")}set_feet_accesstoken(n){this.feetAccesstoken=n}feet_accesstoken(){return this.feetAccesstoken}set_right_foot_measurements(n){this.right_footMeasurements=n}right_foot_measurements(){return this.right_footMeasurements}set_right_obj_footMeasurements(n){this.right_objFootMeasurements=n}right_obj_footMeasurements(){return this.right_objFootMeasurements}set_left_foot_measurements(n){this.left_footMeasurements=n}left_foot_measurements(){return this.left_footMeasurements}set_left_obj_footMeasurements(n){this.left_objFootMeasurements=n}left_obj_footMeasurements(){return this.left_objFootMeasurements}set_isEnglish(n){this.isEnglishLanguage=n,localStorage.removeItem("feet_is_english"),n?localStorage.setItem("feet_is_english","TRUE"):localStorage.setItem("feet_is_english","FALSE")}is_english(){return(localStorage.getItem("feet_is_english")||'""')==="TRUE"}set_isAndroid(n){this.isAndroid=n}set_isIos(n){this.isIos=n}set_isSafari(n){this.isSafari=n}is_android(){return this.isAndroid}is_ios(){return this.isIos}is_safari(){return this.isSafari}set_isAuthenticated(n){this.isAuthenticated=n}is_authenticated(){return this.isAuthenticated}set_isReconstructed(n){this.isReconstructed=n}is_reconstructed(){return this.isReconstructed}set_isFootLeft(n){this.isFootLeft=n}is_footLeft(){return this.isFootLeft}set_isFootRight(n){this.isFootRight=n}is_footRight(){return this.isFootRight}set_isFirstFoot(n){this.isFirstFoot=n}is_firstFoot(){return this.isFirstFoot}set_isSheetA4(n){this.isSheetA4=n}is_sheetA4(){return this.isSheetA4}set_isSheetUS(n){this.isSheetUS=n}is_sheetUS(){return this.isSheetUS}feet_sheetmodel(){return this.isSheetUS?"2":this.isSheetA4?"1":"0"}feet_foottype(){return this.isFootRight?"2":this.isFootLeft?"1":"0"}set_userAge(n){let r=new String(n);this.userAge=r.toString()}user_age(){return this.userAge}set_userGender(n){n==="1"?(console.log("ES HOMBRE"),this.userGender="male"):n==="2"&&(console.log("ES MUJER"),this.userGender="female")}user_gender(){return this.userGender}set_url_webReturn(n){n.startsWith("http")?this.urlWebReturn=n:this.urlWebReturn="https://"+n,localStorage.removeItem("feet_url_web_return"),localStorage.setItem("feet_url_web_return",this.urlWebReturn)}get_url_webReturn(){return localStorage.getItem("feet_url_web_return")||'""'}set_product_code(n){this.arr_product_codes=[],this.arr_product_codes.push(n)}the_arr_product_codes(){let n=localStorage.getItem("feet_input3")||'""';return this.set_product_code(n),this.arr_product_codes}set_request_code(n){localStorage.removeItem("feet_request_code"),localStorage.setItem("feet_request_code",n)}set_request_codeBis(n){this.request_code=n,this.arr_request_codes=[],this.arr_request_codes.push(n)}the_arr_request_codes(){let n=localStorage.getItem("feet_request_code")||'""';return this.set_request_codeBis(n),this.arr_request_codes}the_request_code(){let n=localStorage.getItem("feet_request_code")||'""';return this.set_request_codeBis(n),this.request_code}set_isAvailableRight(n){this.isAvailableRight=n}is_availableRight(){return this.isAvailableRight}set_isAvailableLeft(n){this.isAvailableLeft=n}is_availableLeft(){return this.isAvailableLeft}set_isOppositePending(n){this.isOppositePending=n}is_oppositePending(){return this.isOppositePending}set_flagRedirect2external(n){this.flagRedirect2external=n}get_flagRedirect2external(){return this.flagRedirect2external}text_app(){return" SCANFEET"}text_es(){return"ES"}text_en(){return"EN"}text_bilingueLanguage01(){return"SELECCIONA IDIOMA / SELECT LANGUAGE"}text_bilingueLanguage02(){return"ES = ESPA\xD1OL   ,   EN = ENGLISH"}text_autorizando(){return this.is_english()?"Authorizing...":"Autorizando..."}text_autorizadoOk(){return this.is_english()?"Authorized OK":"Autorizado OK"}text_autorizadoError(){return this.is_english()?"ERROR in authorization":"ERROR en autorizaci\xF3n"}text_left(){return this.is_english()?"Left":"Izquierdo"}text_right(){return this.is_english()?"Right":"Derecho"}text_threePhotos(){return this.is_english()?"You will make 3 photos of the foot.":"Vas a hacer 3 fotos del pie."}text_firstPhotoIs(){return this.is_english()?"First photo of the inner side.":"Primera foto de la parte interior."}text_secondPhotoIs(){return this.is_english()?"Second photo of the top side.":"Segunda foto de la parte superior."}text_thirdPhotoIs(){return this.is_english()?"Third photo of the outer side.":"Tercera foto de la parte exterior."}text_firstMobileInLandscape(){return this.is_english()?"And take photos with mobile in landscape":"Y toma fotos con m\xF3vil en apaisado"}text_selectFoot(){return this.is_english()?"Select right foot or left":"Selecciona pie derecho o izquierdo"}text_notAuthorizedToContinue(){return this.is_english()?"Not authorized to continue":"No est\xE1 autorizado para poder continuar"}text_sideInner(){return this.is_english()?" INNER":" INTERIOR"}text_sideTop(){return this.is_english()?" TOP":" SUPERIOR"}text_sideOuter(){return this.is_english()?" OUTER":" EXTERIOR"}text_repeat(){return this.is_english()?"Repeat":"Repetir"}text_confirm(){return this.is_english()?"Confirm":"Confirmar"}text_actionMeasurements(){return this.is_english()?"View measurements":"Ver medidas"}text_reconstructionWait(){return this.is_english()?"Waiting for reconstruction...":"Esperando reconstrucci\xF3n..."}text_reconstructionOk(){return this.is_english()?"Reconstruction":"Reconstrucci\xF3n"}text_reconstructionError(){return this.is_english()?"ERROR in reconstruction":"ERROR en reconstrucci\xF3n"}text_measuresNotAllowed(){return this.is_english()?"Unfinished reconstruction. Measurements are not available.":"La reconstrucci\xF3n no se complet\xF3. No hay medidas disponibles."}text_actionRecommend(){return this.is_english()?"Recommend ":"Recomendar "}text_actionOpposite(){return this.is_english()?"Opposite-Foot":"Pie-Opuesto"}text_reconsInfoPlus1(){return this.is_english()?"Not optimal reconstruction. Repeat the photos.":"La reconstrucci\xF3n no es \xF3ptima. Repite las fotos."}text_reconsInfoPlus2(){return this.is_english()?"Wrong reconstruction. Repeat the photos.":"La reconstrucci\xF3n es err\xF3nea. Repite las fotos."}text_reconsInfoPlus3(){return this.is_english()?"Not enough good images for reconstruction. Repeat the photos.":"No hay suficientes buenas im\xE1genes para la reconstrucci\xF3n. Repite las fotos."}text_reconsInfoPlus4(){return this.is_english()?"The dimensions of the paper sheet specified in the json file input do not match the paper sheet dimensions calculated. Repeat the photos.":"Las dimensiones de la hoja especificadas en el json no coinciden con las dimensiones de la hoja calculada. Repite las fotos."}text_reconsInfoMinus1(){return this.is_english()?"A general error has occurred in the reconstruction process. Repeat the photos.":"Un error general ha ocurrido en el proceso de reconstrucci\xF3n. Repite las fotos."}text_fourCornersOfSheet(){return this.is_english()?"THE 4 CORNERS OF THE SHEET MUST":"LAS 4 ESQUINAS DE LA HOJA DEBEN"}text_fourCornersOfSheetBis(){return this.is_english()?"BE VISIBLE IN EACH PHOTO.":"ESTAR VISIBLES EN CADA FOTO."}text_back(){return this.is_english()?"Back":"Atr\xE1s"}text_continue(){return this.is_english()?"Continue":"Continuar"}text_fill_age(){return this.is_english()?"Fill your age":"Introduce tu edad"}text_select_genre(){return this.is_english()?"Select your genre":"Selecciona tu g\xE9nero"}text_age(){return this.is_english()?"AGE":"EDAD"}text_male(){return this.is_english()?"Male":"Hombre"}text_female(){return this.is_english()?"Female":"Mujer"}text_ageFilledInvalid(){return this.is_english()?"The age entered is not correct":"La edad introducida no es correcta"}text_genderNotSelected(){return this.is_english()?"No gender was selected":"No ha seleccionado su g\xE9nero"}text_recommendWait(){return this.is_english()?"Waiting for size recommendation...":"Esperando recomendaci\xF3n de talla..."}text_recommendOk(){return this.is_english()?"Size recommendation":"Recomendaci\xF3n de talla"}text_recommendError(){return this.is_english()?"ERROR in size recommendation":"ERROR en recomendaci\xF3n de talla"}text_tallaDePie(){return this.is_english()?"SIZE FOOT":"TALLA DE PIE"}text_paraElProducto(){return this.is_english()?"FOR THE PRODUCT CODE":"PARA EL C\xD3DIGO DE PRODUCTO"}text_bilingueProducto(){return"C\xD3DIGO-DE-PRODUCTO / PRODUCT-CODE"}text_newScan(){return this.is_english()?"New-Scan":"Nuevo-Scan"}text_bilingueAnonymous(){return"MODO-INVITADO / ANONYMOUS-MODE"}text_bilingueRegistered(){return"MODO-REGISTRADO / REGISTERED-MODE"}text_recommendCode(){return this.is_english()?"Recommend code":"C\xF3digo de recomendaci\xF3n"}text_requestCode(){return this.is_english()?"Request code":"C\xF3digo de reconstrucci\xF3n"}text_codeusedFilledInvalid(){return this.is_english()?"The code entered is not in the correct format":"El c\xF3digo introducido no tiene un formato correcto"}text_availabler(){return this.is_english()?"Right foot...":"Pie derecho..."}text_availablerOk(){return this.is_english()?"Right foot available":"Pie derecho disponible"}text_availablerError(){return this.is_english()?"No right foot available":"No se dispone de pie derecho"}text_availablel(){return this.is_english()?"Left foot...":"Pie izquierdo..."}text_availablelOk(){return this.is_english()?"Left foot available":"Pie izquierdo disponible"}text_availablelError(){return this.is_english()?"No left foot available":"No se dispone de pie izquierdo"}text_accPreguntaDisponeCodigo(){return this.is_english()?"Did you get reconstruction code?":"\xBFDispone de c\xF3digo de reconstrucci\xF3n?"}text_accPlaceholderCode(){return this.is_english()?"CODE":"CODIGO"}text_accUtilizarCodigo(){return this.is_english()?"Use Code":"Utilizar C\xF3digo"}text_accPreguntaReutilizarUltima(){return this.is_english()?"Reuse last reconstruction?":"\xBFReutilizar la \xFAltima reconstrucci\xF3n?"}text_accReutilizarUltima(){return this.is_english()?"Reuse Last":"Reutilizar Ultima"}text_accPreguntaIniciarNueva(){return this.is_english()?"Start a new reconstruction?":"\xBFIniciar una nueva reconstrucci\xF3n?"}text_accIniciarNueva(){return this.is_english()?"Start New":"Iniciar Nueva"}dataFrom_jsonResponseRecommend(n){let r=JSON.parse(n),o=r.error_code,i=r.recommend_code,s=r.user_recommend,l=new String(o);this.rr_error_code=l.toString(),console.log("str_error_code = "+this.rr_error_code);let c=new String(i);this.rr_recommend_code=c.toString(),console.log("str_recommend_code = "+this.rr_recommend_code);var u=JSON.stringify(s),d=u.replace("[{","{"),p=d.replace("}]","}");let f=JSON.parse(p),m=new String(f.product_code);this.rr_product_code=m.toString(),console.log("str_product_code = "+this.rr_product_code);let h=JSON.stringify(f.recommendation);console.log("str_recommendation = "+h);let g=JSON.parse(h);if(this.isFirstFoot){if(this.isFootRight){let _=g.rightfoot_size,$=new String(_);this.rr_size_right=$.toString(),console.log("SIZE-RIGHT = "+this.rr_size_right)}else if(this.isFootLeft){let _=g.leftfoot_size,$=new String(_);this.rr_size_left=$.toString(),console.log("SIZE-LEFT = "+this.rr_size_left)}}else{let _=g.rightfoot_size,$=new String(_);this.rr_size_right=$.toString(),console.log("SIZE-RIGHT = "+this.rr_size_right);let x=g.leftfoot_size,w=new String(x);this.rr_size_left=w.toString(),console.log("SIZE-LEFT = "+this.rr_size_left)}}the_rr_errorCode(){return this.rr_error_code}the_rr_recommendCode(){return this.rr_recommend_code}the_rr_productCode(){return this.rr_product_code}the_rr_sizeRight(){return this.rr_size_right}the_rr_sizeLeft(){return this.rr_size_left}the_rr_sizeCommon(){return this.rr_size_common}set_ml_model(n){this.ml_model=n}get_ml_model(){return this.ml_model}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ve({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var UC=(()=>{class e{router;global_service;platform;activatedRoute;isPortrait=!0;mytext_app;mytext_es;mytext_en;mytext_bilingueProducto="";mytext_input="";mytext_bilingueMode="";mytext_selectLanguage01;mytext_selectLanguage02;blob;constructor(n,r,o,i){this.router=n,this.global_service=r,this.platform=o,this.activatedRoute=i,this.platform.ANDROID?this.global_service.set_isAndroid(!0):this.platform.IOS?this.global_service.set_isIos(!0):this.platform.SAFARI&&this.global_service.set_isSafari(!0),this.mytext_app=r.text_app(),this.mytext_es=r.text_es(),this.mytext_en=r.text_en(),this.mytext_selectLanguage01=r.text_bilingueLanguage01(),this.mytext_selectLanguage02=r.text_bilingueLanguage02()}ngOnInit(){console.log("SCREEN01");let n=this.activatedRoute.snapshot.params.input;if(n!==void 0){let o=new String(n).toString(),i=this.base64url_decode(o),c=new TextDecoder("utf-8",{fatal:!1}).decode(i).split("&");if(this.global_service.set_the_inputs(c),this.global_service.the_input3()!==null){this.mytext_bilingueProducto=this.global_service.text_bilingueProducto();let u=new String(this.global_service.the_input3());this.mytext_input=u.toString()}if(this.global_service.the_input5()!==null){let u=new String(this.global_service.the_input5());this.mytext_bilingueMode=u.toString()}else this.mytext_bilingueMode=this.global_service.text_bilingueAnonymous()}}ngOnDestroy(){}toScreen02es(){this.global_service.set_isEnglish(!1),this.load_ml_model()}toScreen02en(){this.blob===void 0?alert("NO hemos cargado ning\xFAn modelo"):this.blob.size<1e4?alert("NO se ha podido cargar ning\xFAn modelo"):(this.global_service.set_isEnglish(!0),this.router.navigateByUrl("/screen96ml"))}toNextScreen(){cN(),localStorage.getItem("feet_previous")===null?this.router.navigateByUrl("/screen01bis"):this.global_service.the_input5()!==null?this.router.navigateByUrl("/screen01bis"):this.router.navigateByUrl("/screen01acc")}base64url_decode(n){let r=n.length%4;return Uint8Array.from(atob(n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(r===0?0:4-r),"=")),o=>o.charCodeAt(0)).buffer}onOrientationChange(n){this.global_service.is_android()?screen.orientation.type.includes("portrait")?this.isPortrait=!0:screen.orientation.type.includes("landscape")?this.isPortrait=!1:this.isPortrait=!0:this.global_service.is_ios()?window.innerHeight>window.innerWidth?this.isPortrait=!1:this.isPortrait=!0:this.global_service.is_safari()?window.innerHeight>window.innerWidth?this.isPortrait=!1:this.isPortrait=!0:console.log("orientation-Changed")}load_ml_model(){return ie(this,null,function*(){console.log("load_ml_model"),this.blob=yield this.downloadModel(),console.log(this.blob.size),this.blob.size<1e4?alert("ML-model NOT loaded"):(console.log(this.blob.type),this.global_service.set_ml_model(this.blob),alert("ML-model LOADED"))})}downloadModel(){return ie(this,null,function*(){let n;try{return n=yield(yield fetch("/camerafeet1/assets/models/mnist.onnx")).blob(),n}catch(r){return console.log(r),n=new Blob,n}})}onFileSelected(n){let r=n.target.files[0];r?this.blob=new Blob([r],{type:"application/octet-stream"}):this.blob=new Blob,console.log(this.blob.size),this.blob.size<1e4?alert("ML-model NOT loaded"):(this.global_service.set_ml_model(this.blob),alert("ML-model LOADED"))}static \u0275fac=function(r){return new(r||e)(q(yt),q(Ot),q(an),q(Us))};static \u0275cmp=Oe({type:e,selectors:[["app-screen01"]],hostBindings:function(r,o){r&1&&xe("orientationchange",function(s){return o.onOrientationChange(s)},!1,LM)},decls:38,vars:4,consts:[[1,"custom-toolbar"],[1,"example-fill-remaining-space"],[1,"span-custom"],[1,"span-custom-codeprod"],[1,"custom-div-splash"],["src","assets/images/splash.png",1,"custom-img-splash"],["type","file",3,"change"],[2,"width","140px"],["mat-button","",2,"background-color","blue","color","white","width","120px",3,"click"]],template:function(r,o){r&1&&(N(0,"mat-toolbar",0)(1,"span"),ee(2),j(),X(3,"span",1),j(),X(4,"br")(5,"br")(6,"br")(7,"br")(8,"br"),N(9,"span",2),ee(10),j(),X(11,"br"),N(12,"span",3),ee(13),j(),X(14,"br"),N(15,"span",2),ee(16),j(),X(17,"br")(18,"br"),N(19,"div",4),X(20,"img",5),j(),N(21,"span",2),ee(22,"\xA0"),j(),N(23,"span",2),ee(24,"\xA0"),j(),N(25,"div",4)(26,"input",6),xe("change",function(s){return o.onFileSelected(s)}),j()(),N(27,"span",2),ee(28,"\xA0"),j(),N(29,"span",2),ee(30,"\xA0"),j(),X(31,"br"),N(32,"div",4)(33,"table")(34,"tr")(35,"td",7)(36,"button",8),xe("click",function(){return o.toScreen02en()}),ee(37,"Testear-Modelo"),j()()()()()),r&2&&(K(2),wt("",o.mytext_app,"-70"),K(8),be(o.mytext_bilingueProducto),K(3),be(o.mytext_input),K(3),be(o.mytext_bilingueMode))},dependencies:[jt,Kt],styles:[".example-fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.custom-toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:400}.span-custom[_ngcontent-%COMP%]{width:100%;font-weight:700;font-size:14px;text-align:center;display:block}.span-custom-codeprod[_ngcontent-%COMP%]{width:100%;font-weight:700;font-size:26px;text-align:center;display:block;background-color:#ecec}.custom-div-splash[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#fff}.custom-img-splash[_ngcontent-%COMP%]{width:240px;height:240px}"]})}return e})();function uN(){let e=localStorage.getItem("feet_url_target");window.location.href=e}var dN=(()=>{class e{router;global_service;data_used_code;mytext_app;mytext_codeusedFilledInvalid;mytext_accPreguntaDisponeCodigo;mytext_accPlaceholderCode;mytext_accUtilizarCodigo;mytext_accPreguntaReutilizarUltima;mytext_accReutilizarUltima;mytext_accPreguntaIniciarNueva;mytext_accIniciarNueva;constructor(n,r){this.router=n,this.global_service=r,this.mytext_app=r.text_app(),this.mytext_codeusedFilledInvalid=r.text_codeusedFilledInvalid(),this.mytext_accPreguntaDisponeCodigo=r.text_accPreguntaDisponeCodigo(),this.mytext_accPlaceholderCode=r.text_accPlaceholderCode(),this.mytext_accUtilizarCodigo=r.text_accUtilizarCodigo(),this.mytext_accPreguntaReutilizarUltima=r.text_accPreguntaReutilizarUltima(),this.mytext_accReutilizarUltima=r.text_accReutilizarUltima(),this.mytext_accPreguntaIniciarNueva=r.text_accPreguntaIniciarNueva(),this.mytext_accIniciarNueva=r.text_accIniciarNueva()}ngOnInit(){}ngAfterViewInit(){this.global_service.get_flagRedirect2external()===!0&&(this.global_service.set_flagRedirect2external(!1),uN())}ngOnDestroy(){}check_dataUsedCode(){if(this.data_used_code===void 0)return console.log("Es UNDEFINED"),!1;let r=new String(this.data_used_code).trim();return r.length===0?(console.log("Est\xE1 VACIO"),!1):r.length!==6?(console.log("Longitud incorrecta"),!1):(this.global_service.set_request_code(r.toUpperCase()),!0)}actionUtilizarCodigo(){if(!this.check_dataUsedCode()){alert(this.mytext_codeusedFilledInvalid);return}this.router.navigateByUrl("/screen21acc")}actionReutilizarUltima(){this.router.navigateByUrl("/screen31acc")}actionIniciarNueva(){this.router.navigateByUrl("/screen01bis")}static \u0275fac=function(r){return new(r||e)(q(yt),q(Ot))};static \u0275cmp=Oe({type:e,selectors:[["app-screen01acc"]],decls:38,vars:9,consts:[[1,"custom-toolbar"],[1,"example-fill-remaining-space"],[1,"custom-div-centered-bold"],[1,"custom-div-centered"],["appearance","fill"],["matInput","",2,"text-align","center",3,"ngModelChange","ngModel","placeholder"],["mat-button","",2,"background-color","blue","color","white","width","180px",3,"click"],["src","assets/images/lineh.png",1,"custom-img-line"]],template:function(r,o){r&1&&(N(0,"mat-toolbar",0)(1,"span"),ee(2),j(),X(3,"span",1),j(),X(4,"br")(5,"br")(6,"br")(7,"br")(8,"br"),N(9,"div",2)(10,"mat-label"),ee(11),j()(),X(12,"br"),N(13,"div",3)(14,"mat-form-field",4)(15,"input",5),bc("ngModelChange",function(s){return ud(o.data_used_code,s)||(o.data_used_code=s),s}),j()()(),X(16,"br"),N(17,"div",3)(18,"button",6),xe("click",function(){return o.actionUtilizarCodigo()}),ee(19),j()(),N(20,"div",3),X(21,"img",7),j(),N(22,"div",2)(23,"mat-label"),ee(24),j()(),X(25,"br"),N(26,"div",3)(27,"button",6),xe("click",function(){return o.actionReutilizarUltima()}),ee(28),j()(),N(29,"div",3),X(30,"img",7),j(),N(31,"div",2)(32,"mat-label"),ee(33),j()(),X(34,"br"),N(35,"div",3)(36,"button",6),xe("click",function(){return o.actionIniciarNueva()}),ee(37),j()()),r&2&&(K(2),be(o.mytext_app),K(9),be(o.mytext_accPreguntaDisponeCodigo),K(4),cd("placeholder",o.mytext_accPlaceholderCode),gc("ngModel",o.data_used_code),K(4),be(o.mytext_accUtilizarCodigo),K(5),be(o.mytext_accPreguntaReutilizarUltima),K(4),be(o.mytext_accReutilizarUltima),K(5),be(o.mytext_accPreguntaIniciarNueva),K(4),be(o.mytext_accIniciarNueva))},dependencies:[wc,$g,Id,jt,Kt,Xg,xi,Zg],styles:[".example-fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.custom-toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:400}.custom-div-centered[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#fff}.custom-div-centered-bold[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#fff;font-weight:700}.custom-img-line[_ngcontent-%COMP%]{width:480px;height:60px}"]})}return e})();var pN=(()=>{class e{router;global_service;mytext_app;mytext_confirm;mytext_fill_age;mytext_select_genre;mytext_age;mytext_male;mytext_female;mytext_ageFilledInvalid;mytext_genderNotSelected;data_age;selectedGender=0;constructor(n,r){this.router=n,this.global_service=r,this.mytext_app=r.text_app(),this.mytext_confirm=r.text_confirm(),this.mytext_fill_age=r.text_fill_age(),this.mytext_select_genre=r.text_select_genre(),this.mytext_age=r.text_age(),this.mytext_male=r.text_male(),this.mytext_female=r.text_female(),this.mytext_ageFilledInvalid=r.text_ageFilledInvalid(),this.mytext_genderNotSelected=r.text_genderNotSelected()}ngOnInit(){}ngOnDestroy(){}check_data_age(){return this.data_age===void 0?(console.log("Es UNDEFINED"),!1):typeof+this.data_age!="number"||isNaN(+this.data_age)?(console.log("NO es correcto"),!1):new String(this.data_age).length===0?(console.log("Est\xE1 VACIO"),!1):!0}toScreen02(){if(console.log(this.selectedGender),!this.check_data_age()){alert(this.mytext_ageFilledInvalid);return}if(this.global_service.set_userAge(this.data_age),this.selectedGender===0){alert(this.mytext_genderNotSelected);return}this.global_service.set_userGender(this.selectedGender),this.router.navigateByUrl("/screen02")}static \u0275fac=function(r){return new(r||e)(q(yt),q(Ot))};static \u0275cmp=Oe({type:e,selectors:[["app-screen01bis"]],decls:36,vars:9,consts:[[1,"custom-toolbar"],[1,"example-fill-remaining-space"],[1,"custom-div-centered-bold"],[1,"custom-div-centered"],["appearance","fill"],["matInput","",2,"text-align","center",3,"ngModelChange","ngModel","placeholder"],[3,"ngModelChange","ngModel"],["value","1"],["value","2"],["mat-button","",2,"background-color","blue","color","white","width","120px",3,"click"]],template:function(r,o){r&1&&(N(0,"mat-toolbar",0)(1,"span"),ee(2),j(),X(3,"span",1),j(),X(4,"br")(5,"br")(6,"br")(7,"br")(8,"br")(9,"br"),N(10,"div",2)(11,"mat-label"),ee(12),j()(),X(13,"br"),N(14,"div",3)(15,"mat-form-field",4)(16,"input",5),bc("ngModelChange",function(s){return ud(o.data_age,s)||(o.data_age=s),s}),j()()(),X(17,"br")(18,"br")(19,"br"),N(20,"div",2)(21,"mat-label"),ee(22),j()(),X(23,"br"),N(24,"div",3)(25,"mat-radio-group",6),bc("ngModelChange",function(s){return ud(o.selectedGender,s)||(o.selectedGender=s),s}),N(26,"mat-radio-button",7),ee(27),j(),N(28,"mat-radio-button",8),ee(29),j()()(),X(30,"br")(31,"br")(32,"br"),N(33,"div",3)(34,"button",9),xe("click",function(){return o.toScreen02()}),ee(35),j()()),r&2&&(K(2),be(o.mytext_app),K(10),be(o.mytext_fill_age),K(4),cd("placeholder",o.mytext_age),gc("ngModel",o.data_age),K(6),be(o.mytext_select_genre),K(3),gc("ngModel",o.selectedGender),K(2),be(o.mytext_male),K(2),be(o.mytext_female),K(6),be(o.mytext_confirm))},dependencies:[wc,$g,Id,jt,Kt,Xg,xi,Zg,tC,Jg],styles:[".example-fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.custom-toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:400}.custom-div-centered[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#fff}.custom-div-centered-bold[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#fff;font-weight:700}"]})}return e})();var fN=(()=>{class e{router;global_service;http;divAutorizando;divAutorizadoOk;divAutorizadoError;webservice_requestLoginJson;webservice_base_url;mytext_app;mytext_autorizando;mytext_autorizadoOk;mytext_autorizadoError;mytext_left;mytext_right;mytext_threePhotos;mytext_firstPhotoIs;mytext_secondPhotoIs;mytext_thirdPhotoIs;mytext_fourCornersOfSheet;mytext_fourCornersOfSheetBis;mytext_firstMobileInLandscape;mytext_selectFoot;mytext_notAuthorizedToContinue;constructor(n,r,o){this.router=n,this.global_service=r,this.http=o,this.mytext_app=r.text_app(),this.mytext_autorizando=r.text_autorizando(),this.mytext_autorizadoOk=r.text_autorizadoOk(),this.mytext_autorizadoError=r.text_autorizadoError(),this.mytext_left=r.text_left(),this.mytext_right=r.text_right(),this.mytext_threePhotos=r.text_threePhotos(),this.mytext_firstPhotoIs=r.text_firstPhotoIs(),this.mytext_secondPhotoIs=r.text_secondPhotoIs(),this.mytext_thirdPhotoIs=r.text_thirdPhotoIs(),this.mytext_fourCornersOfSheet=r.text_fourCornersOfSheet(),this.mytext_fourCornersOfSheetBis=r.text_fourCornersOfSheetBis(),this.mytext_firstMobileInLandscape=r.text_firstMobileInLandscape(),this.mytext_selectFoot=r.text_selectFoot(),this.mytext_notAuthorizedToContinue=r.text_notAuthorizedToContinue(),this.webservice_requestLoginJson={client_id:r.webservice_client_id(),client_secret:r.webservice_client_secret(),username:r.webservice_username(),password:r.webservice_password(),grant_type:r.webservice_grant_type(),pass_encript:"1"},this.webservice_base_url=r.webservice_base_url()}ngOnInit(){this.webservice_login()}webservice_login(){this.divAutorizando=document.getElementById("div_autorizando"),this.divAutorizadoOk=document.getElementById("div_autorizado_ok"),this.divAutorizadoError=document.getElementById("div_autorizado_error"),this.divAutorizando.removeAttribute("hidden"),this.divAutorizadoOk.setAttribute("hidden","hidden"),this.divAutorizadoError.setAttribute("hidden","hidden"),this.global_service.set_feet_accesstoken("none"),this.global_service.set_isAuthenticated(!1);let n={headers:new mn({"Content-Type":"application/x-www-form-urlencoded"})},r=this.webservice_base_url+"/auth/authorize";this.http.post(r,this.webservice_requestLoginJson,n).subscribe({next:o=>this.postResponseOk(o),error:o=>this.postResponseErr(o.message),complete:()=>console.log("http_post done")})}postResponseOk(n){n!==null?(this.divAutorizando.setAttribute("hidden","hidden"),this.divAutorizadoOk.removeAttribute("hidden"),this.global_service.set_feet_accesstoken(n.access_token),this.global_service.set_isAuthenticated(!0),console.log("POST response OK")):(this.divAutorizando.setAttribute("hidden","hidden"),this.divAutorizadoError.removeAttribute("hidden"),console.log("respjson IS null"))}postResponseErr(n){this.divAutorizando.setAttribute("hidden","hidden"),this.divAutorizadoError.removeAttribute("hidden"),console.log("ERROR: "+n)}ngOnDestroy(){}actionScreen02left(){this.global_service.is_authenticated()?(this.global_service.set_isSheetUS(!1),this.global_service.set_isSheetA4(!0),this.global_service.set_isFootLeft(!0),this.global_service.set_isFootRight(!1),this.global_service.set_isFirstFoot(!0),this.router.navigateByUrl("/screen03")):alert(this.mytext_notAuthorizedToContinue)}actionScreen02right(){this.global_service.is_authenticated()?(this.global_service.set_isSheetUS(!1),this.global_service.set_isSheetA4(!0),this.global_service.set_isFootRight(!0),this.global_service.set_isFootLeft(!1),this.global_service.set_isFirstFoot(!0),this.router.navigateByUrl("/screen03")):alert(this.mytext_notAuthorizedToContinue)}static \u0275fac=function(r){return new(r||e)(q(yt),q(Ot),q(Yr))};static \u0275cmp=Oe({type:e,selectors:[["app-screen02"]],decls:45,vars:14,consts:[[1,"custom-toolbar"],[1,"example-fill-remaining-space"],["mat-button","","id","left_action",2,"color","white",3,"click"],["mat-button","","id","right_action",2,"color","white",3,"click"],["id","div_autorizando","hidden","hidden",1,"div_message"],["id","div_autorizado_ok",1,"div_message"],["id","div_autorizado_error",1,"div_message"],[1,"span-custom"],[1,"span-custom2"]],template:function(r,o){r&1&&(N(0,"mat-toolbar",0)(1,"span"),ee(2),j(),X(3,"span",1),N(4,"button",2),xe("click",function(){return o.actionScreen02left()}),ee(5),j(),N(6,"button",3),xe("click",function(){return o.actionScreen02right()}),ee(7),j()(),X(8,"br")(9,"br")(10,"br")(11,"br"),N(12,"div",4),ee(13),j(),N(14,"div",5),ee(15),j(),N(16,"div",6),ee(17),j(),X(18,"br")(19,"br"),N(20,"span",7),ee(21),j(),X(22,"br"),N(23,"span",7),ee(24),j(),X(25,"br"),N(26,"span",7),ee(27),j(),X(28,"br"),N(29,"span",7),ee(30),j(),X(31,"br"),N(32,"span",7),ee(33),j(),X(34,"br"),N(35,"span",7),ee(36),j(),X(37,"br")(38,"br")(39,"br"),N(40,"span",8),ee(41),j(),X(42,"br"),N(43,"span",8),ee(44),j()),r&2&&(K(2),be(o.mytext_app),K(3),wt(" ",o.mytext_left," "),K(2),wt(" ",o.mytext_right," "),K(6),be(o.mytext_autorizando),K(2),be(o.mytext_autorizadoOk),K(2),be(o.mytext_autorizadoError),K(4),be(o.mytext_threePhotos),K(3),be(o.mytext_firstPhotoIs),K(3),be(o.mytext_secondPhotoIs),K(3),be(o.mytext_thirdPhotoIs),K(3),be(o.mytext_fourCornersOfSheet),K(3),be(o.mytext_fourCornersOfSheetBis),K(5),be(o.mytext_selectFoot),K(3),be(o.mytext_firstMobileInLandscape))},dependencies:[jt,Kt],styles:[".example-fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.custom-toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:400}.div_message[_ngcontent-%COMP%]{width:100%;height:50px;font-size:17px;font-weight:700;text-align:center}.span-custom[_ngcontent-%COMP%]{width:100%;font-size:16px;text-align:center;display:block}.span-custom2[_ngcontent-%COMP%]{width:100%;font-weight:700;font-size:16px;text-align:center;display:block}"]})}return e})();function WC(){window.addEventListener("devicemotion",hN),navigator.mediaDevices.enumerateDevices().then(vle).then(wle).catch($le)}function mN(){window.removeEventListener("devicemotion",hN),Ile()}function $le(e){console.log("navigator.MediaDevices.getUserMedia error: ",e.message,e.name)}function xle(e){alert(e.message)}function vle(e){let t;for(let n=0;n!==e.length;++n){let r=e[n],o=document.createElement("option");if(o.value=r.deviceId,o.text=r.label,r.kind==="videoinput")if(o.text.includes("0,")||o.text==="C\xE1mara trasera"||o.text==="Back Camera"){t=o.value;break}else console.log("Some other kind of source/device: ",r);else console.log("Some other kind of source/device: ",r)}return t}function wle(e){window.stream&&window.stream.getTracks().forEach(r=>{r.stop()});let t=e,n;t?n={audio:!1,video:{deviceId:{exact:t}}}:n={audio:!1,video:{facingMode:"environment"}},navigator.mediaDevices.getUserMedia(n).then(Sle).catch(xle)}function Sle(e){let t=document.getElementById("vid_pose1");window.stream=e,t.srcObject=e,t.addEventListener("loadedmetadata",()=>{t.play()});let n=e.getVideoTracks()[0];n.applyConstraints({torch:!0}).then(()=>console.log(n.getSettings().torch))}function hN(e){var t=e.accelerationIncludingGravity.x,n=e.accelerationIncludingGravity.y,r=e.accelerationIncludingGravity.z,o=0;t>9.8?o=9.8:t<-9.8?o=-9.8:o=t;var i=0;n>9.8?i=9.8:n<-9.8?i=-9.8:i=n;var s=0;r>9.8?s=9.8:r<-9.8?s=-9.8:s=r;let l={ac0_0:o,ac1_0:i,ac2_0:s};localStorage.removeItem("feet_pose1"),localStorage.setItem("feet_pose1",JSON.stringify(l)),Cle(o,i,s)}function Cle(e,t,n){let r=document.getElementById("btphoto_pose1a"),o=document.getElementById("btphoto_pose1b");var i=!1,s=Math.asin(e/-9.8)*180/Math.PI;s=Math.abs(s),s>=30&&s<=50&&(i=!0);var l=Math.asin(t/-9.8)*180/Math.PI;l=Math.abs(l),l>10&&(i=!1),i?(r.style.visibility="visible",o.style.visibility="visible"):(r.style.visibility="hidden",o.style.visibility="hidden")}function Ile(){let e=document.getElementById("vid_pose1"),t=document.getElementById("thecanvas1landscape"),n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),n.drawImage(e,0,0,t.width,t.height);let r=t.toDataURL("image/jpeg",1),o=Ele(r);localStorage.removeItem("feet_photo1"),localStorage.setItem("feet_photo1",o)}var Ele=e=>e.replace("data:","").replace(/^.+,/,"");function Dle(e,t){if(e&1){let n=pn();N(0,"mat-toolbar",5)(1,"span"),ee(2),j(),X(3,"span",6),N(4,"button",7),xe("click",function(){Pt(n);let o=qe();return Bt(o.repeatInner())}),ee(5),j(),N(6,"button",7),xe("click",function(){Pt(n);let o=qe();return Bt(o.confirmInner())}),ee(7),j()()}if(e&2){let n=qe();K(2),be(n.mytext_sideInner),K(3),wt(" ",n.mytext_repeat," "),K(2),wt(" ",n.mytext_confirm," ")}}function Fle(e,t){e&1&&X(0,"img",11)}function kle(e,t){e&1&&X(0,"img",12)}function Ale(e,t){if(e&1&&(N(0,"div",8),it(1,Fle,1,0,"img",9)(2,kle,1,0,"img",10),j()),e&2){let n=qe();K(),Ge("ngIf",n.isRight),K(),Ge("ngIf",n.isLeft)}}function Mle(e,t){if(e&1){let n=pn();N(0,"div",13)(1,"button",14),xe("click",function(){Pt(n);let o=qe();return Bt(o.clickPhoto1a())}),X(2,"img",15),j(),X(3,"video",16),N(4,"button",17),xe("click",function(){Pt(n);let o=qe();return Bt(o.clickPhoto1b())}),X(5,"img",15),j()()}}var gN=(()=>{class e{router;global_service;isRight;isLeft;isTaking=!0;isTaken=!1;mytext_sideInner;mytext_repeat;mytext_confirm;constructor(n,r){this.router=n,this.global_service=r,this.mytext_sideInner=r.text_sideInner(),this.mytext_repeat=r.text_repeat(),this.mytext_confirm=r.text_confirm(),this.isRight=r.is_footRight(),this.isLeft=r.is_footLeft()}ngOnInit(){WC()}ngOnDestroy(){}clickPhoto1a(){this.clickPhoto()}clickPhoto1b(){this.clickPhoto()}clickPhoto(){this.isTaking=!1,this.isTaken=!0,mN()}repeatInner(){this.isTaking=!0,this.isTaken=!1,WC()}confirmInner(){this.router.navigateByUrl("/screen04")}static \u0275fac=function(r){return new(r||e)(q(yt),q(Ot))};static \u0275cmp=Oe({type:e,selectors:[["app-screen03"]],decls:9,vars:3,consts:[["class","custom-toolbar",4,"ngIf"],["class","custom-div-helperA",4,"ngIf"],["id","div_vid_pose1","class","custom-div-pose1",4,"ngIf"],["id","div_thecanvas1",1,"custom-div-canvas1"],["id","thecanvas1landscape","width","800","height","600",1,"custom-canvas1"],[1,"custom-toolbar"],[1,"example-fill-remaining-space"],["mat-button","",2,"color","white",3,"click"],[1,"custom-div-helperA"],["class","custom-img-helperA","src","assets/images/helper01.png",4,"ngIf"],["class","custom-img-helperA","src","assets/images/helper04.png",4,"ngIf"],["src","assets/images/helper01.png",1,"custom-img-helperA"],["src","assets/images/helper04.png",1,"custom-img-helperA"],["id","div_vid_pose1",1,"custom-div-pose1"],["id","btphoto_pose1a",1,"custom-img-btphoto1a",3,"click"],["src","assets/images/btphoto.png"],["id","vid_pose1","autoPlay","true","muted","true","playsInline","true"],["id","btphoto_pose1b",1,"custom-img-btphoto1b",3,"click"]],template:function(r,o){r&1&&(it(0,Dle,8,3,"mat-toolbar",0)(1,Ale,3,2,"div",1)(2,Mle,6,0,"div",2),X(3,"br")(4,"br")(5,"br")(6,"br"),N(7,"div",3),X(8,"canvas",4),j()),r&2&&(Ge("ngIf",o.isTaken),K(),Ge("ngIf",o.isTaking),K(),Ge("ngIf",o.isTaking))},dependencies:[yr,jt,Kt],styles:[".example-fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.custom-div-pose1[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#000}.custom-img-btphoto1a[_ngcontent-%COMP%], .custom-img-btphoto1b[_ngcontent-%COMP%]{display:inline-block;width:10%;height:auto}video[_ngcontent-%COMP%]{display:inline-block;width:80%;height:auto}.custom-div-canvas1[_ngcontent-%COMP%]{display:flex;background-color:#fff;justify-content:center}.custom-div-helperA[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#000}@media only screen and (orientation: portrait){.custom-toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:400}.custom-canvas1[_ngcontent-%COMP%]{width:360px;height:270px}.custom-img-helperA[_ngcontent-%COMP%]{width:360px;height:360px}}@media only screen and (orientation: landscape){.custom-toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:400}.custom-img-helperA[_ngcontent-%COMP%]{width:0px;height:0px}}"]})}return e})();function zC(){window.addEventListener("devicemotion",yN),navigator.mediaDevices.enumerateDevices().then(Ole).then(Nle).catch(Rle)}function bN(){window.removeEventListener("devicemotion",yN),Lle()}function Rle(e){console.log("navigator.MediaDevices.getUserMedia error: ",e.message,e.name)}function jle(e){alert(e.message)}function Ole(e){let t;for(let n=0;n!==e.length;++n){let r=e[n],o=document.createElement("option");if(o.value=r.deviceId,o.text=r.label,r.kind==="videoinput")if(o.text.includes("0,")||o.text==="C\xE1mara trasera"||o.text==="Back Camera"){t=o.value;break}else console.log("Some other kind of source/device: ",r);else console.log("Some other kind of source/device: ",r)}return t}function Nle(e){window.stream&&window.stream.getTracks().forEach(r=>{r.stop()});let t=e,n;t?n={audio:!1,video:{deviceId:{exact:t}}}:n={audio:!1,video:{facingMode:"environment"}},navigator.mediaDevices.getUserMedia(n).then(Ple).catch(jle)}function Ple(e){let t=document.getElementById("vid_pose2");window.stream=e,t.srcObject=e,t.addEventListener("loadedmetadata",()=>{t.play()});let n=e.getVideoTracks()[0];n.applyConstraints({torch:!0}).then(()=>console.log(n.getSettings().torch))}function yN(e){var t=e.accelerationIncludingGravity.x,n=e.accelerationIncludingGravity.y,r=e.accelerationIncludingGravity.z,o=0;t>9.8?o=9.8:t<-9.8?o=-9.8:o=t;var i=0;n>9.8?i=9.8:n<-9.8?i=-9.8:i=n;var s=0;r>9.8?s=9.8:r<-9.8?s=-9.8:s=r;let l={ac0_1:o,ac1_1:i,ac2_1:s};localStorage.removeItem("feet_pose2"),localStorage.setItem("feet_pose2",JSON.stringify(l)),Ble(o,i,s)}function Ble(e,t,n){let r=document.getElementById("btphoto_pose2a"),o=document.getElementById("btphoto_pose2b");var i=!1,s=Math.asin(e/-9.8)*180/Math.PI;s=Math.abs(s),s>=10&&s<=20&&(i=!0);var l=Math.asin(t/-9.8)*180/Math.PI;l=Math.abs(l),l>10&&(i=!1),i?(r.style.visibility="visible",o.style.visibility="visible"):(r.style.visibility="hidden",o.style.visibility="hidden")}function Lle(){let e=document.getElementById("vid_pose2"),t=document.getElementById("thecanvas2landscape"),n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),n.drawImage(e,0,0,t.width,t.height);let r=t.toDataURL("image/jpeg",1),o=Ule(r);localStorage.removeItem("feet_photo2"),localStorage.setItem("feet_photo2",o)}var Ule=e=>e.replace("data:","").replace(/^.+,/,"");function zle(e,t){if(e&1){let n=pn();N(0,"mat-toolbar",5)(1,"span"),ee(2),j(),X(3,"span",6),N(4,"button",7),xe("click",function(){Pt(n);let o=qe();return Bt(o.repeatTop())}),ee(5),j(),N(6,"button",7),xe("click",function(){Pt(n);let o=qe();return Bt(o.confirmTop())}),ee(7),j()()}if(e&2){let n=qe();K(2),be(n.mytext_sideTop),K(3),wt(" ",n.mytext_repeat," "),K(2),wt(" ",n.mytext_confirm," ")}}function Vle(e,t){e&1&&X(0,"img",11)}function Hle(e,t){e&1&&X(0,"img",12)}function Gle(e,t){if(e&1&&(N(0,"div",8),it(1,Vle,1,0,"img",9)(2,Hle,1,0,"img",10),j()),e&2){let n=qe();K(),Ge("ngIf",n.isRight),K(),Ge("ngIf",n.isLeft)}}function qle(e,t){if(e&1){let n=pn();N(0,"div",13)(1,"button",14),xe("click",function(){Pt(n);let o=qe();return Bt(o.clickPhoto2a())}),X(2,"img",15),j(),X(3,"video",16),N(4,"button",17),xe("click",function(){Pt(n);let o=qe();return Bt(o.clickPhoto2b())}),X(5,"img",15),j()()}}var _N=(()=>{class e{router;global_service;isRight;isLeft;isTaking=!0;isTaken=!1;mytext_sideTop;mytext_repeat;mytext_confirm;constructor(n,r){this.router=n,this.global_service=r,this.mytext_sideTop=r.text_sideTop(),this.mytext_repeat=r.text_repeat(),this.mytext_confirm=r.text_confirm(),this.isRight=r.is_footRight(),this.isLeft=r.is_footLeft()}ngOnInit(){zC()}ngOnDestroy(){}clickPhoto2a(){this.clickPhoto()}clickPhoto2b(){this.clickPhoto()}clickPhoto(){this.isTaking=!1,this.isTaken=!0,bN()}repeatTop(){this.isTaking=!0,this.isTaken=!1,zC()}confirmTop(){this.router.navigateByUrl("/screen05")}static \u0275fac=function(r){return new(r||e)(q(yt),q(Ot))};static \u0275cmp=Oe({type:e,selectors:[["app-screen04"]],decls:9,vars:3,consts:[["class","custom-toolbar",4,"ngIf"],["class","custom-div-helperB",4,"ngIf"],["id","div_vid_pose2","class","custom-div-pose2",4,"ngIf"],["id","div_thecanvas2",1,"custom-div-canvas2"],["id","thecanvas2landscape","width","800","height","600",1,"custom-canvas2"],[1,"custom-toolbar"],[1,"example-fill-remaining-space"],["mat-button","",2,"color","white",3,"click"],[1,"custom-div-helperB"],["class","custom-img-helperB","src","assets/images/helper02.png",4,"ngIf"],["class","custom-img-helperB","src","assets/images/helper05.png",4,"ngIf"],["src","assets/images/helper02.png",1,"custom-img-helperB"],["src","assets/images/helper05.png",1,"custom-img-helperB"],["id","div_vid_pose2",1,"custom-div-pose2"],["id","btphoto_pose2a",1,"custom-img-btphoto2a",3,"click"],["src","assets/images/btphoto.png"],["id","vid_pose2","autoPlay","true","muted","true","playsInline","true"],["id","btphoto_pose2b",1,"custom-img-btphoto2b",3,"click"]],template:function(r,o){r&1&&(it(0,zle,8,3,"mat-toolbar",0)(1,Gle,3,2,"div",1)(2,qle,6,0,"div",2),X(3,"br")(4,"br")(5,"br")(6,"br"),N(7,"div",3),X(8,"canvas",4),j()),r&2&&(Ge("ngIf",o.isTaken),K(),Ge("ngIf",o.isTaking),K(),Ge("ngIf",o.isTaking))},dependencies:[yr,jt,Kt],styles:[".example-fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.custom-div-pose2[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#000}.custom-img-btphoto2a[_ngcontent-%COMP%], .custom-img-btphoto2b[_ngcontent-%COMP%]{display:inline-block;width:10%;height:auto}video[_ngcontent-%COMP%]{display:inline-block;width:80%;height:auto}.custom-div-canvas2[_ngcontent-%COMP%]{display:flex;background-color:#fff;justify-content:center}.custom-div-helperB[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#000}@media only screen and (orientation: portrait){.custom-toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:400}.custom-canvas2[_ngcontent-%COMP%]{width:360px;height:270px}.custom-img-helperB[_ngcontent-%COMP%]{width:360px;height:360px}}@media only screen and (orientation: landscape){.custom-toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:400}.custom-img-helperB[_ngcontent-%COMP%]{width:0px;height:0px}}"]})}return e})();function VC(){window.addEventListener("devicemotion",xN),navigator.mediaDevices.enumerateDevices().then(Yle).then(Zle).catch(Kle)}function $N(){window.removeEventListener("devicemotion",xN),ece()}function Kle(e){console.log("navigator.MediaDevices.getUserMedia error: ",e.message,e.name)}function Xle(e){alert(e.message)}function Yle(e){let t;for(let n=0;n!==e.length;++n){let r=e[n],o=document.createElement("option");if(o.value=r.deviceId,o.text=r.label,r.kind==="videoinput")if(o.text.includes("0,")||o.text==="C\xE1mara trasera"||o.text==="Back Camera"){t=o.value;break}else console.log("Some other kind of source/device: ",r);else console.log("Some other kind of source/device: ",r)}return t}function Zle(e){window.stream&&window.stream.getTracks().forEach(r=>{r.stop()});let t=e,n;t?n={audio:!1,video:{deviceId:{exact:t}}}:n={audio:!1,video:{facingMode:"environment"}},navigator.mediaDevices.getUserMedia(n).then(Qle).catch(Xle)}function Qle(e){let t=document.getElementById("vid_pose3");window.stream=e,t.srcObject=e,t.addEventListener("loadedmetadata",()=>{t.play()});let n=e.getVideoTracks()[0];n.applyConstraints({torch:!0}).then(()=>console.log(n.getSettings().torch))}function xN(e){var t=e.accelerationIncludingGravity.x,n=e.accelerationIncludingGravity.y,r=e.accelerationIncludingGravity.z,o=0;t>9.8?o=9.8:t<-9.8?o=-9.8:o=t;var i=0;n>9.8?i=9.8:n<-9.8?i=-9.8:i=n;var s=0;r>9.8?s=9.8:r<-9.8?s=-9.8:s=r;let l={ac0_2:o,ac1_2:i,ac2_2:s};localStorage.removeItem("feet_pose3"),localStorage.setItem("feet_pose3",JSON.stringify(l)),Jle(o,i,s)}function Jle(e,t,n){let r=document.getElementById("btphoto_pose3a"),o=document.getElementById("btphoto_pose3b");var i=!1,s=Math.asin(e/-9.8)*180/Math.PI;s=Math.abs(s),s>=30&&s<=50&&(i=!0);var l=Math.asin(t/-9.8)*180/Math.PI;l=Math.abs(l),l>10&&(i=!1),i?(r.style.visibility="visible",o.style.visibility="visible"):(r.style.visibility="hidden",o.style.visibility="hidden")}function ece(){let e=document.getElementById("vid_pose3"),t=document.getElementById("thecanvas3landscape"),n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),n.drawImage(e,0,0,t.width,t.height);let r=t.toDataURL("image/jpeg",1),o=tce(r);localStorage.removeItem("feet_photo3"),localStorage.setItem("feet_photo3",o)}function vN(){window.stream&&window.stream.getTracks().forEach(e=>{e.stop()})}var tce=e=>e.replace("data:","").replace(/^.+,/,"");function rce(e,t){if(e&1){let n=pn();N(0,"mat-toolbar",5)(1,"span"),ee(2),j(),X(3,"span",6),N(4,"button",7),xe("click",function(){Pt(n);let o=qe();return Bt(o.repeatOuter())}),ee(5),j(),N(6,"button",7),xe("click",function(){Pt(n);let o=qe();return Bt(o.confirmOuter())}),ee(7),j()()}if(e&2){let n=qe();K(2),be(n.mytext_sideOuter),K(3),wt(" ",n.mytext_repeat," "),K(2),wt(" ",n.mytext_confirm," ")}}function oce(e,t){e&1&&X(0,"img",11)}function ice(e,t){e&1&&X(0,"img",12)}function sce(e,t){if(e&1&&(N(0,"div",8),it(1,oce,1,0,"img",9)(2,ice,1,0,"img",10),j()),e&2){let n=qe();K(),Ge("ngIf",n.isRight),K(),Ge("ngIf",n.isLeft)}}function ace(e,t){if(e&1){let n=pn();N(0,"div",13)(1,"button",14),xe("click",function(){Pt(n);let o=qe();return Bt(o.clickPhoto3a())}),X(2,"img",15),j(),X(3,"video",16),N(4,"button",17),xe("click",function(){Pt(n);let o=qe();return Bt(o.clickPhoto3b())}),X(5,"img",15),j()()}}var wN=(()=>{class e{router;global_service;isRight;isLeft;isTaking=!0;isTaken=!1;mytext_sideOuter;mytext_repeat;mytext_confirm;constructor(n,r){this.router=n,this.global_service=r,this.mytext_sideOuter=r.text_sideOuter(),this.mytext_repeat=r.text_repeat(),this.mytext_confirm=r.text_confirm(),this.isRight=r.is_footRight(),this.isLeft=r.is_footLeft()}ngOnInit(){VC()}ngOnDestroy(){}clickPhoto3a(){this.clickPhoto()}clickPhoto3b(){this.clickPhoto()}clickPhoto(){this.isTaking=!1,this.isTaken=!0,$N()}repeatOuter(){this.isTaking=!0,this.isTaken=!1,VC()}confirmOuter(){vN(),this.router.navigateByUrl("/screen06")}static \u0275fac=function(r){return new(r||e)(q(yt),q(Ot))};static \u0275cmp=Oe({type:e,selectors:[["app-screen05"]],decls:9,vars:3,consts:[["class","custom-toolbar",4,"ngIf"],["class","custom-div-helperC",4,"ngIf"],["id","div_vid_pose3","class","custom-div-pose3",4,"ngIf"],["id","div_thecanvas3",1,"custom-div-canvas3"],["id","thecanvas3landscape","width","800","height","600",1,"custom-canvas3"],[1,"custom-toolbar"],[1,"example-fill-remaining-space"],["mat-button","",2,"color","white",3,"click"],[1,"custom-div-helperC"],["class","custom-img-helperC","src","assets/images/helper03.png",4,"ngIf"],["class","custom-img-helperC","src","assets/images/helper06.png",4,"ngIf"],["src","assets/images/helper03.png",1,"custom-img-helperC"],["src","assets/images/helper06.png",1,"custom-img-helperC"],["id","div_vid_pose3",1,"custom-div-pose3"],["id","btphoto_pose3a",1,"custom-img-btphoto3a",3,"click"],["src","assets/images/btphoto.png"],["id","vid_pose3","autoPlay","true","muted","true","playsInline","true"],["id","btphoto_pose3b",1,"custom-img-btphoto3b",3,"click"]],template:function(r,o){r&1&&(it(0,rce,8,3,"mat-toolbar",0)(1,sce,3,2,"div",1)(2,ace,6,0,"div",2),X(3,"br")(4,"br")(5,"br")(6,"br"),N(7,"div",3),X(8,"canvas",4),j()),r&2&&(Ge("ngIf",o.isTaken),K(),Ge("ngIf",o.isTaking),K(),Ge("ngIf",o.isTaking))},dependencies:[yr,jt,Kt],styles:[".example-fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.custom-div-pose3[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#000}.custom-img-btphoto3a[_ngcontent-%COMP%], .custom-img-btphoto3b[_ngcontent-%COMP%]{display:inline-block;width:10%;height:auto}video[_ngcontent-%COMP%]{display:inline-block;width:80%;height:auto}.custom-div-canvas3[_ngcontent-%COMP%]{display:flex;background-color:#fff;justify-content:center}.custom-div-helperC[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#000}@media only screen and (orientation: portrait){.custom-toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:400}.custom-canvas3[_ngcontent-%COMP%]{width:360px;height:270px}.custom-img-helperC[_ngcontent-%COMP%]{width:360px;height:360px}}@media only screen and (orientation: landscape){.custom-toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:400}.custom-img-helperC[_ngcontent-%COMP%]{width:0px;height:0px}}"]})}return e})();function lce(e,t){if(e&1){let n=pn();N(0,"button",9),xe("click",function(){Pt(n);let o=qe();return Bt(o.actionMeasurements())}),ee(1),j()}if(e&2){let n=qe();K(),wt(" ",n.mytext_actionMeasurements," ")}}function cce(e,t){if(e&1){let n=pn();N(0,"button",10),xe("click",function(){Pt(n);let o=qe();return Bt(o.actionRepeat())}),ee(1),j()}if(e&2){let n=qe();K(),wt(" ",n.mytext_repeat," ")}}var SN=(()=>{class e{router;global_service;http;flagRepeat=!1;divReconstructionWait;divReconstructionOk;divReconstructionError;mytext_app;mytext_actionMeasurements;mytext_reconstructionWait;mytext_reconstructionOk;mytext_reconstructionError;mytext_measuresNotAllowed;mytext_repeat;mytext_reconsInfoPlus1;mytext_reconsInfoPlus2;mytext_reconsInfoPlus3;mytext_reconsInfoPlus4;mytext_reconsInfoMinus1;mydata_response_error_code;mydata_response_sheet_eval;mydata_response_info;mydata_response_quality;mydata_response_request_code;mydata_log_action;json_input1Content;json_objInput1;json_objInput2;json_objInput3;json_objInput4;json_objFiles;json_objParameters;json_objParametersBis;webservice_requestReconstructionJson;webservice_base_url;constructor(n,r,o){this.router=n,this.global_service=r,this.http=o,this.mytext_app=r.text_app(),this.mytext_actionMeasurements=r.text_actionMeasurements(),this.mytext_reconstructionWait=r.text_reconstructionWait(),this.mytext_reconstructionOk=r.text_reconstructionOk(),this.mytext_reconstructionError=r.text_reconstructionError(),this.mytext_measuresNotAllowed=r.text_measuresNotAllowed(),this.mytext_repeat=r.text_repeat(),this.mytext_reconsInfoPlus1=r.text_reconsInfoPlus1(),this.mytext_reconsInfoPlus2=r.text_reconsInfoPlus2(),this.mytext_reconsInfoPlus3=r.text_reconsInfoPlus3(),this.mytext_reconsInfoPlus4=r.text_reconsInfoPlus4(),this.mytext_reconsInfoMinus1=r.text_reconsInfoMinus1();let i=JSON.parse(localStorage.getItem("feet_pose1")||'""'),s=JSON.parse(localStorage.getItem("feet_pose2")||'""'),l=JSON.parse(localStorage.getItem("feet_pose3")||'""');this.json_input1Content={sheet_model:parseInt(r.feet_sheetmodel(),10),foot_type:parseInt(r.feet_foottype(),10),ac0_0:i.ac0_0,ac1_0:i.ac1_0,ac2_0:i.ac2_0,ac0_1:s.ac0_1,ac1_1:s.ac1_1,ac2_1:s.ac2_1,ac0_2:l.ac0_2,ac1_2:l.ac1_2,ac2_2:l.ac2_2};let c=JSON.stringify(this.json_input1Content),u=btoa(c);this.json_objInput1={extension:"json",content_file:u},this.json_objInput2={extension:"jpg",content_file:localStorage.getItem("feet_photo1")||'""'},this.json_objInput3={extension:"jpg",content_file:localStorage.getItem("feet_photo2")||'""'},this.json_objInput4={extension:"jpg",content_file:localStorage.getItem("feet_photo3")||'""'},this.json_objFiles={input1:this.json_objInput1,input2:this.json_objInput2,input3:this.json_objInput3,input4:this.json_objInput4},this.json_objParameters={age:parseInt(this.global_service.user_age(),10),gender:this.global_service.user_gender()},this.json_objParametersBis={age:parseInt(this.global_service.user_age(),10),gender:this.global_service.user_gender(),request_code:this.global_service.the_request_code()},this.global_service.is_firstFoot()?this.webservice_requestReconstructionJson={files:this.json_objFiles,parameters:this.json_objParameters}:this.webservice_requestReconstructionJson={files:this.json_objFiles,parameters:this.json_objParametersBis},this.webservice_base_url=r.webservice_base_url()}ngOnInit(){this.webservice_reconstruction()}ngOnDestroy(){}actionMeasurements(){this.global_service.is_reconstructed()?this.router.navigateByUrl("/screen07"):alert(this.mytext_measuresNotAllowed)}actionRepeat(){this.router.navigateByUrl("/screen03")}webservice_reconstruction(){this.divReconstructionWait=document.getElementById("div_reconstruction_wait"),this.divReconstructionOk=document.getElementById("div_reconstruction_ok"),this.divReconstructionError=document.getElementById("div_reconstruction_error"),this.divReconstructionWait.removeAttribute("hidden"),this.divReconstructionOk.setAttribute("hidden","hidden"),this.divReconstructionError.setAttribute("hidden","hidden");let n="Bearer "+this.global_service.feet_accesstoken(),r={headers:new mn({"Content-Type":"application/json",Authorization:n})},o=this.webservice_base_url+"/models/reconstruction";this.global_service.set_isReconstructed(!1),this.global_service.is_firstFoot()?(this.global_service.set_right_foot_measurements("{}"),this.global_service.set_right_obj_footMeasurements(null),this.global_service.set_left_foot_measurements("{}"),this.global_service.set_left_obj_footMeasurements(null)):this.global_service.is_footRight()?(this.global_service.set_right_foot_measurements("{}"),this.global_service.set_right_obj_footMeasurements(null)):(this.global_service.set_left_foot_measurements("{}"),this.global_service.set_left_obj_footMeasurements(null)),this.mydata_response_error_code="",this.mydata_response_sheet_eval="",this.mydata_response_info="",this.mydata_response_quality="",this.mydata_response_request_code="",this.mydata_log_action="",this.http.post(o,this.webservice_requestReconstructionJson,r).subscribe({next:i=>this.postResponseOk(i),error:i=>this.postResponseErr(i.message),complete:()=>console.log("http_post done")})}postResponseOk(n){if(n!==null){this.divReconstructionWait.setAttribute("hidden","hidden"),this.divReconstructionOk.removeAttribute("hidden"),console.log("POST response OK");let c=JSON.stringify(n.error_code);this.mydata_response_error_code=c,this.mydata_response_sheet_eval="Sheet-Eval: "+n.sheet_eval,this.mydata_response_info="Info: "+n.info,this.mydata_response_quality="Quality: "+n.quality,this.mydata_response_request_code="Request-Code: "+n.request_code;let d=new String(n.request_code).toString();this.global_service.set_request_code(d);let p=Number(n.info);if(p.valueOf()===0||p.valueOf()===1)if(c.includes('"1D_MES":0,"3D_MODEL":0')){this.global_service.set_isReconstructed(!0);var r=JSON.stringify(n.parameters),o=r.replace("1D_MES","the1D_MES");let f=JSON.parse(o),m=JSON.stringify(f.the1D_MES);this.global_service.is_footRight()?(this.global_service.set_right_foot_measurements(m),this.global_service.set_right_obj_footMeasurements(f.the1D_MES)):(this.global_service.set_left_foot_measurements(m),this.global_service.set_left_obj_footMeasurements(f.the1D_MES));let h=new Date;var i="",s="";this.global_service.is_english()?(i=h.toLocaleDateString("en-US"),s=h.toLocaleTimeString("en-US")):(i=h.toLocaleDateString("es-ES"),s=h.toLocaleTimeString("es-ES"));var l=i+" "+s+" --> "+d;localStorage.removeItem("feet_previous"),localStorage.setItem("feet_previous",l)}else this.flagRepeat=!0;else p.valueOf()===2?(this.flagRepeat=!0,alert(this.mytext_reconsInfoPlus2)):p.valueOf()===3?(this.flagRepeat=!0,alert(this.mytext_reconsInfoPlus3)):p.valueOf()===4?(this.flagRepeat=!0,alert(this.mytext_reconsInfoPlus4)):p.valueOf()===-1?(this.flagRepeat=!0,alert(this.mytext_reconsInfoMinus1)):this.flagRepeat=!0}else this.divReconstructionWait.setAttribute("hidden","hidden"),this.divReconstructionError.removeAttribute("hidden"),console.log("respjson IS null"),alert("respjson IS null")}postResponseErr(n){this.divReconstructionWait.setAttribute("hidden","hidden"),this.divReconstructionError.removeAttribute("hidden"),console.log("ERROR: "+n),alert(n)}static \u0275fac=function(r){return new(r||e)(q(yt),q(Ot),q(Yr))};static \u0275cmp=Oe({type:e,selectors:[["app-screen06"]],decls:37,vars:12,consts:[[1,"custom-toolbar"],[1,"example-fill-remaining-space"],["mat-button","","style","color:white","id","action_measurements",3,"click",4,"ngIf"],["mat-button","","style","color:white","id","action_repeat",3,"click",4,"ngIf"],["id","div_reconstruction_wait","hidden","hidden",1,"div_message"],["id","div_reconstruction_ok",1,"div_message"],["id","div_reconstruction_error",1,"div_message"],[1,"span-custom"],[1,"span-custom2"],["mat-button","","id","action_measurements",2,"color","white",3,"click"],["mat-button","","id","action_repeat",2,"color","white",3,"click"]],template:function(r,o){r&1&&(N(0,"mat-toolbar",0)(1,"span"),ee(2),j(),X(3,"span",1),it(4,lce,2,1,"button",2)(5,cce,2,1,"button",3),j(),X(6,"br")(7,"br")(8,"br")(9,"br"),N(10,"div",4),ee(11),j(),N(12,"div",5),ee(13),j(),N(14,"div",6),ee(15),j(),X(16,"br")(17,"br"),N(18,"span",7),ee(19),j(),X(20,"br"),N(21,"span",7),ee(22),j(),X(23,"br"),N(24,"span",7),ee(25),j(),X(26,"br"),N(27,"span",7),ee(28),j(),X(29,"br")(30,"br")(31,"br"),N(32,"span",8),ee(33),j(),X(34,"br"),N(35,"span",7),ee(36),j()),r&2&&(K(2),be(o.mytext_app),K(2),Ge("ngIf",!o.flagRepeat),K(),Ge("ngIf",o.flagRepeat),K(6),be(o.mytext_reconstructionWait),K(2),be(o.mytext_reconstructionOk),K(2),be(o.mytext_reconstructionError),K(4),be(o.mydata_response_error_code),K(3),be(o.mydata_response_sheet_eval),K(3),be(o.mydata_response_info),K(3),be(o.mydata_response_quality),K(5),be(o.mydata_response_request_code),K(3),be(o.mydata_log_action))},dependencies:[yr,jt,Kt],styles:[".example-fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.custom-toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:400}.div_message[_ngcontent-%COMP%]{width:100%;height:50px;font-size:17px;font-weight:700;text-align:center}.span-custom[_ngcontent-%COMP%]{width:100%;font-size:16px;text-align:center;display:block}.span-custom2[_ngcontent-%COMP%]{width:100%;font-weight:700;font-size:22px;text-align:center;display:block}"]})}return e})();function uce(e,t){if(e&1){let n=pn();N(0,"button",12),xe("click",function(){Pt(n);let o=qe();return Bt(o.actionOpposite())}),ee(1),j()}if(e&2){let n=qe();K(),wt(" ",n.mytext_actionOpposite," ")}}function dce(e,t){e&1&&(N(0,"th",13),ee(1," ID "),j())}function pce(e,t){if(e&1&&(N(0,"td",14),ee(1),j()),e&2){let n=t.$implicit;K(),wt(" ",n.id," ")}}function fce(e,t){e&1&&(N(0,"th",13),ee(1," VAL "),j())}function mce(e,t){if(e&1&&(N(0,"td",14),ee(1),j()),e&2){let n=t.$implicit;K(),wt(" ",n.val," ")}}function hce(e,t){e&1&&X(0,"tr",15)}function gce(e,t){e&1&&X(0,"tr",16)}var CN=(()=>{class e{router;global_service;flagFirstFoot=!1;mytext_app;mytext_actionOpposite;mytext_actionRecommend;columnas=["meas-id","meas-val"];measures=[];tabla1;constructor(n,r){this.router=n,this.global_service=r,this.mytext_app=r.text_app(),this.mytext_actionOpposite=r.text_actionOpposite(),this.mytext_actionRecommend=r.text_actionRecommend(),this.flagFirstFoot=r.is_firstFoot();var o="";r.is_footRight()?o=r.right_foot_measurements():o=r.left_foot_measurements();var i=o.replace("{",""),s=i.replace("}","");let l=s.split(","),c=l.length;for(let u=0;u<c;u++){let p=l[u].split(":"),f=p[0],m=p[1],g=parseFloat(m).toFixed(2);if(u===0){let _={id:f,val:g+" mm2"};this.measures.push(_)}else{let _={id:f,val:g+" mm"};this.measures.push(_)}}}ngOnInit(){console.log(this.measures)}ngAfterViewInit(){this.tabla1.renderRows()}ngOnDestroy(){}actionRecommend(){this.router.navigateByUrl("/screen08")}actionOpposite(){this.global_service.set_isFirstFoot(!1);var n=this.global_service.is_footRight();this.global_service.set_isFootRight(!n);var r=this.global_service.is_footLeft();this.global_service.set_isFootLeft(!r),this.router.navigateByUrl("/screen03")}static \u0275fac=function(r){return new(r||e)(q(yt),q(Ot))};static \u0275cmp=Oe({type:e,selectors:[["app-screen07"]],viewQuery:function(r,o){if(r&1&&Yn(Bs,5),r&2){let i;Ft(i=kt())&&(o.tabla1=i.first)}},decls:21,vars:6,consts:[["tabla1",""],[1,"custom-toolbar"],[1,"example-fill-remaining-space"],["mat-button","","style","color:white","id","action_opposite",3,"click",4,"ngIf"],["mat-button","","id","action_recommend",2,"color","white",3,"click"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","meas-id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","meas-val"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-button","","id","action_opposite",2,"color","white",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(r,o){if(r&1){let i=pn();N(0,"mat-toolbar",1)(1,"span"),ee(2),j(),X(3,"span",2),it(4,uce,2,1,"button",3),N(5,"button",4),xe("click",function(){return Pt(i),Bt(o.actionRecommend())}),ee(6),j()(),X(7,"br")(8,"br")(9,"br")(10,"br"),N(11,"table",5,0),gi(13,6),it(14,dce,2,0,"th",7)(15,pce,2,1,"td",8),bi(),gi(16,9),it(17,fce,2,0,"th",7)(18,mce,2,1,"td",8),bi(),it(19,hce,1,0,"tr",10)(20,gce,1,0,"tr",11),j()}r&2&&(K(2),be(o.mytext_app),K(2),Ge("ngIf",o.flagFirstFoot),K(2),wt(" ",o.mytext_actionRecommend," "),K(5),Ge("dataSource",o.measures),K(8),Ge("matHeaderRowDef",o.columnas),K(),Ge("matRowDefColumns",o.columnas))},dependencies:[yr,jt,Kt,Bs,Lg,Vg,Ug,Bg,Hg,Wg,zg,Gg,qg],styles:[".example-fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.custom-toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:400}table[_ngcontent-%COMP%]{width:80%;margin-left:20rem auto;margin-right:20rem auto;background-color:#d3d3d3}.mat-column-meas-id[_ngcontent-%COMP%]{width:30%;text-align:left;font-size:15px;font-weight:700}.mat-column-meas-val[_ngcontent-%COMP%]{width:50%;text-align:left;font-size:17px}"]})}return e})();var IN=(()=>{class e{router;global_service;http;flagRecomOk=!1;divRecommendWait;divRecommendOk;divRecommendError;mytext_app;mytext_newScan;mytext_tallaDePie;mytext_paraElProducto;mytext_recommendWait;mytext_recommendOk;mytext_recommendError;text_log_recommend="";text_log2_recommend="";mytext_requestCode;mytext_recommendCode;mytext_left;mytext_right;mydata_error_code;mydata_request_code;mydata_recommend_code;mydata_user_recommend;json_objParameters;json_objParametersBis;str_theInput5="";webservice_requestRecommendSizeJson;webservice_base_url;constructor(n,r,o){if(this.router=n,this.global_service=r,this.http=o,this.mytext_app=r.text_app(),this.mytext_newScan=r.text_newScan(),this.mytext_tallaDePie=r.text_tallaDePie(),this.mytext_paraElProducto=r.text_paraElProducto(),this.mytext_recommendWait=r.text_recommendWait(),this.mytext_recommendOk=r.text_recommendOk(),this.mytext_recommendError=r.text_recommendError(),this.mytext_requestCode=r.text_requestCode(),this.mytext_recommendCode=r.text_recommendCode(),this.mytext_left=r.text_left(),this.mytext_right=r.text_right(),r.the_input5()!==null){let i=new String(r.the_input5());this.str_theInput5=i.toString()}this.json_objParametersBis={product_code:r.the_arr_product_codes(),request_code:r.the_arr_request_codes(),include_user_profile:"FALSE",recommend_by_foot:"TRUE"},this.json_objParameters={product_code:r.the_arr_product_codes(),request_code:r.the_arr_request_codes(),include_user_profile:"FALSE",recommend_by_foot:"TRUE"},r.the_input5()!==null?this.webservice_requestRecommendSizeJson={parameters:this.json_objParametersBis}:this.webservice_requestRecommendSizeJson={parameters:this.json_objParameters},this.webservice_base_url=r.webservice_base_url()}ngOnInit(){this.webservice_recommendsize()}ngOnDestroy(){}webservice_recommendsize(){this.divRecommendWait=document.getElementById("div_recommend_wait"),this.divRecommendOk=document.getElementById("div_recommend_ok"),this.divRecommendError=document.getElementById("div_recommend_error"),this.divRecommendWait.removeAttribute("hidden"),this.divRecommendOk.setAttribute("hidden","hidden"),this.divRecommendError.setAttribute("hidden","hidden");let n="Bearer "+this.global_service.feet_accesstoken(),r={headers:new mn({"Content-Type":"application/json",Authorization:n})},o=this.webservice_base_url+"/models/recommendsize";this.text_log_recommend="",this.http.post(o,this.webservice_requestRecommendSizeJson,r).subscribe({next:i=>this.postResponseOk(i),error:i=>this.postResponseErr(i.message),complete:()=>console.log("http_post done")})}postResponseOk(n){if(n!==null){this.divRecommendWait.setAttribute("hidden","hidden"),this.divRecommendOk.removeAttribute("hidden");let r=JSON.stringify(n);this.global_service.dataFrom_jsonResponseRecommend(r);let o=this.global_service.the_rr_errorCode();if(parseInt(o,10)!==0)this.flagRecomOk=!1,this.mydata_error_code="ERROR: "+o,this.mydata_request_code=this.mytext_requestCode+": "+this.global_service.the_request_code(),this.mydata_recommend_code="",this.mydata_user_recommend="",this.text_log_recommend="",this.text_log2_recommend="";else if(this.flagRecomOk=!0,this.mydata_error_code="",this.mydata_request_code=this.mytext_requestCode+": "+this.global_service.the_request_code(),this.mydata_recommend_code=this.mytext_recommendCode+": "+this.global_service.the_rr_recommendCode(),this.mydata_user_recommend="",this.text_log2_recommend=this.global_service.the_rr_productCode(),this.global_service.is_firstFoot())this.global_service.is_footRight()?this.text_log_recommend=this.mytext_right+": "+this.global_service.the_rr_sizeRight():this.global_service.is_footLeft()&&(this.text_log_recommend=this.mytext_left+": "+this.global_service.the_rr_sizeLeft());else{let s=this.mytext_right+": "+this.global_service.the_rr_sizeRight(),l=this.mytext_left+": "+this.global_service.the_rr_sizeLeft();this.text_log_recommend=s+" , "+l}}else this.flagRecomOk=!1,this.divRecommendWait.setAttribute("hidden","hidden"),this.divRecommendError.removeAttribute("hidden"),this.mydata_error_code="respjson IS null",this.mydata_request_code=this.mytext_requestCode+": "+this.global_service.the_request_code(),this.mydata_recommend_code="",this.mydata_user_recommend="",this.text_log_recommend="",this.text_log2_recommend="",alert("respjson IS null")}postResponseErr(n){this.flagRecomOk=!1,this.divRecommendWait.setAttribute("hidden","hidden"),this.divRecommendError.removeAttribute("hidden"),this.mydata_error_code=n,this.mydata_request_code=this.mytext_requestCode+": "+this.global_service.the_request_code(),this.mydata_recommend_code="",this.mydata_user_recommend="",this.text_log_recommend="",this.text_log2_recommend="",alert(n)}toNewScan(){this.global_service.set_flagRedirect2external(!1),this.router.navigateByUrl("/screen01acc")}toWeb(){var n=this.global_service.get_url_webReturn();n=n+"?output1="+this.global_service.the_request_code(),n=n+"&output2="+this.global_service.the_rr_recommendCode(),n=n+"&output3="+encodeURIComponent(this.text_log_recommend),n=n+"&output4="+this.global_service.the_rr_productCode(),this.global_service.the_input5()!==null&&(n=n+"&output5="+encodeURIComponent(this.global_service.webservice_username())),localStorage.removeItem("feet_url_target"),localStorage.setItem("feet_url_target",n),this.global_service.set_flagRedirect2external(!0),this.router.navigateByUrl("/screen01acc")}static \u0275fac=function(r){return new(r||e)(q(yt),q(Ot),q(Yr))};static \u0275cmp=Oe({type:e,selectors:[["app-screen08"]],decls:42,vars:12,consts:[[1,"custom-toolbar"],[1,"example-fill-remaining-space"],["mat-button","",2,"color","white",3,"click"],["id","div_recommend_wait","hidden","hidden",1,"div_message"],["id","div_recommend_ok",1,"div_message"],["id","div_recommend_error",1,"div_message"],[1,"span-custom"],[1,"span-custom-log"],[1,"span-custom2"]],template:function(r,o){r&1&&(N(0,"mat-toolbar",0)(1,"span"),ee(2),j(),X(3,"span",1),N(4,"button",2),xe("click",function(){return o.toNewScan()}),ee(5),j(),N(6,"button",2),xe("click",function(){return o.toWeb()}),ee(7,"Web"),j()(),X(8,"br")(9,"br")(10,"br")(11,"br"),N(12,"div",3),ee(13),j(),N(14,"div",4),ee(15),j(),N(16,"div",5),ee(17),j(),X(18,"br")(19,"br"),N(20,"span",6),ee(21),j(),X(22,"br"),N(23,"span",6),ee(24),j(),X(25,"br"),N(26,"span",6),ee(27),j(),X(28,"br")(29,"br")(30,"br"),N(31,"span",6),ee(32),j(),X(33,"br"),N(34,"span",7),ee(35),j(),X(36,"br"),N(37,"span",6),ee(38),j(),X(39,"br"),N(40,"span",8),ee(41),j()),r&2&&(K(2),be(o.mytext_app),K(3),be(o.mytext_newScan),K(8),be(o.mytext_recommendWait),K(2),be(o.mytext_recommendOk),K(2),be(o.mytext_recommendError),K(4),be(o.mydata_error_code),K(3),be(o.mydata_request_code),K(3),be(o.mydata_recommend_code),K(5),be(o.mytext_tallaDePie),K(3),be(o.text_log_recommend),K(3),be(o.mytext_paraElProducto),K(3),be(o.text_log2_recommend))},dependencies:[jt,Kt],styles:[".example-fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.custom-toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:400}.div_message[_ngcontent-%COMP%]{width:100%;height:50px;font-size:17px;font-weight:700;text-align:center}.span-custom[_ngcontent-%COMP%]{width:100%;font-size:16px;text-align:center;display:block}.span-custom2[_ngcontent-%COMP%]{width:100%;font-weight:700;font-size:16px;text-align:center;display:block}.span-custom-log[_ngcontent-%COMP%]{width:100%;font-weight:700;font-size:26px;text-align:center;display:block;background-color:#ecec}"]})}return e})();function bce(e,t){if(e&1){let n=pn();N(0,"button",16),xe("click",function(){Pt(n);let o=qe();return Bt(o.actionContinue())}),ee(1),j()}if(e&2){let n=qe();K(),wt(" ",n.mytext_continue," ")}}var EN=(()=>{class e{router;global_service;http;location;divAutorizando;divAutorizadoOk;divAutorizadoError;divAvailabler;divAvailablerOk;divAvailablerError;divAvailablel;divAvailablelOk;divAvailablelError;webservice_requestLoginJson;webservice_requestRightJson;webservice_requestLeftJson;webservice_base_url;mytext_app;mytext_autorizando;mytext_autorizadoOk;mytext_autorizadoError;mytext_availabler;mytext_availablerOk;mytext_availablerError;mytext_availablel;mytext_availablelOk;mytext_availablelError;mytext_back;mytext_continue;mytext_dataCode;flagSomeAvailable=!1;constructor(n,r,o,i){this.router=n,this.global_service=r,this.http=o,this.location=i,this.mytext_app=r.text_app(),this.mytext_autorizando=r.text_autorizando(),this.mytext_autorizadoOk=r.text_autorizadoOk(),this.mytext_autorizadoError=r.text_autorizadoError(),this.mytext_availabler=r.text_availabler(),this.mytext_availablerOk=r.text_availablerOk(),this.mytext_availablerError=r.text_availablerError(),this.mytext_availablel=r.text_availablel(),this.mytext_availablelOk=r.text_availablelOk(),this.mytext_availablelError=r.text_availablelError(),this.mytext_back=r.text_back(),this.mytext_continue=r.text_continue(),this.mytext_dataCode=r.the_request_code(),this.webservice_requestLoginJson={client_id:r.webservice_client_id(),client_secret:r.webservice_client_secret(),username:r.webservice_username(),password:r.webservice_password(),grant_type:r.webservice_grant_type(),pass_encript:"1"},this.webservice_requestRightJson={request_code:r.the_request_code(),foot_type:2},this.webservice_requestLeftJson={request_code:r.the_request_code(),foot_type:1},this.webservice_base_url=r.webservice_base_url()}ngOnInit(){this.divAutorizando=document.getElementById("div_autorizando"),this.divAutorizadoOk=document.getElementById("div_autorizado_ok"),this.divAutorizadoError=document.getElementById("div_autorizado_error"),this.divAvailabler=document.getElementById("div_availabler"),this.divAvailablerOk=document.getElementById("div_availabler_ok"),this.divAvailablerError=document.getElementById("div_availabler_error"),this.divAvailablel=document.getElementById("div_availablel"),this.divAvailablelOk=document.getElementById("div_availablel_ok"),this.divAvailablelError=document.getElementById("div_availablel_error"),this.global_service.set_isAvailableRight(!1),this.global_service.set_isAvailableLeft(!1),this.flagSomeAvailable=!1,this.webservice_login()}ngOnDestroy(){}webservice_login(){this.divAutorizando.removeAttribute("hidden"),this.global_service.set_feet_accesstoken("none"),this.global_service.set_isAuthenticated(!1);let n={headers:new mn({"Content-Type":"application/x-www-form-urlencoded"})},r=this.webservice_base_url+"/auth/authorize";this.http.post(r,this.webservice_requestLoginJson,n).subscribe({next:o=>this.postLoginOk(o),error:o=>this.postLoginErr(o.message),complete:()=>this.postLoginComplete()})}postLoginOk(n){n!==null?(this.divAutorizando.setAttribute("hidden","hidden"),this.divAutorizadoOk.removeAttribute("hidden"),this.global_service.set_feet_accesstoken(n.access_token),this.global_service.set_isAuthenticated(!0)):this.postLoginErr("err.login.21")}postLoginErr(n){this.divAutorizando.setAttribute("hidden","hidden"),this.divAutorizadoError.removeAttribute("hidden")}postLoginComplete(){this.global_service.is_authenticated()&&this.webservice_availableLeft()}postLeftErr(n){this.divAvailablel.setAttribute("hidden","hidden"),this.divAvailablelError.removeAttribute("hidden"),console.log(n),this.webservice_availableRight()}postLeftComplete(){console.log("left-COMPLETE"),this.webservice_availableRight()}webservice_availableLeft(){this.divAvailablel.removeAttribute("hidden");let n="Bearer "+this.global_service.feet_accesstoken(),r={headers:new mn({"Content-Type":"application/json",Authorization:n})},o=this.webservice_base_url+"/models/available3d";this.http.post(o,this.webservice_requestLeftJson,r).subscribe({next:i=>this.postLeftOk(i),error:i=>this.postLeftErr(i.message),complete:()=>this.postLeftComplete()})}postLeftOk(n){if(n!==null){let r=JSON.stringify(n.error_code),o=Number(n.info);o.valueOf()===0||o.valueOf()===1?r.includes('"3D_MODEL":0,"1D_MES":0')?(this.divAvailablel.setAttribute("hidden","hidden"),this.divAvailablelOk.removeAttribute("hidden"),this.global_service.set_isAvailableLeft(!0),this.flagSomeAvailable=!0):this.postLeftErr("Error-01l"):this.postLeftErr("Error-02l")}else this.postLeftErr("Error-03l")}webservice_availableRight(){this.divAvailabler.removeAttribute("hidden");let n="Bearer "+this.global_service.feet_accesstoken(),r={headers:new mn({"Content-Type":"application/json",Authorization:n})},o=this.webservice_base_url+"/models/available3d";this.http.post(o,this.webservice_requestRightJson,r).subscribe({next:i=>this.postRightOk(i),error:i=>this.postRightErr(i.message),complete:()=>this.postRightComplete()})}postRightOk(n){if(n!==null){let r=JSON.stringify(n.error_code),o=Number(n.info);o.valueOf()===0||o.valueOf()===1?r.includes('"3D_MODEL":0,"1D_MES":0')?(this.divAvailabler.setAttribute("hidden","hidden"),this.divAvailablerOk.removeAttribute("hidden"),this.global_service.set_isAvailableRight(!0),this.flagSomeAvailable=!0):this.postRightErr("Error-01r"):this.postRightErr("Error-02r")}else this.postRightErr("Error-03r")}postRightErr(n){this.divAvailabler.setAttribute("hidden","hidden"),this.divAvailablerError.removeAttribute("hidden"),console.log(n)}postRightComplete(){console.log("right-COMPLETE")}actionBack(){this.location.back()}actionContinue(){this.global_service.is_availableLeft()&&this.global_service.is_availableRight()?this.global_service.set_isFirstFoot(!1):this.global_service.set_isFirstFoot(!0),this.router.navigateByUrl("/screen22acc")}static \u0275fac=function(r){return new(r||e)(q(yt),q(Ot),q(Yr),q(bo))};static \u0275cmp=Oe({type:e,selectors:[["app-screen21acc"]],decls:41,vars:13,consts:[[1,"custom-toolbar"],[1,"example-fill-remaining-space"],["mat-button","","id","action_back",2,"color","white",3,"click"],["mat-button","","style","color:white","id","action_continue",3,"click",4,"ngIf"],[1,"custom-div-centered-bold"],[1,"custom-div-centered"],["src","assets/images/lineh.png",1,"custom-img-line"],["id","div_autorizando","hidden","hidden",1,"div_message"],["id","div_autorizado_ok","hidden","hidden",1,"div_message"],["id","div_autorizado_error","hidden","hidden",1,"div_message"],["id","div_availablel","hidden","hidden",1,"div_message"],["id","div_availablel_ok","hidden","hidden",1,"div_message"],["id","div_availablel_error","hidden","hidden",1,"div_message"],["id","div_availabler","hidden","hidden",1,"div_message"],["id","div_availabler_ok","hidden","hidden",1,"div_message"],["id","div_availabler_error","hidden","hidden",1,"div_message"],["mat-button","","id","action_continue",2,"color","white",3,"click"]],template:function(r,o){r&1&&(N(0,"mat-toolbar",0)(1,"span"),ee(2),j(),X(3,"span",1),N(4,"button",2),xe("click",function(){return o.actionBack()}),ee(5),j(),it(6,bce,2,1,"button",3),j(),X(7,"br")(8,"br")(9,"br")(10,"br")(11,"br"),N(12,"div",4)(13,"mat-label"),ee(14),j()(),N(15,"div",5),X(16,"img",6),j(),N(17,"div",7),ee(18),j(),N(19,"div",8),ee(20),j(),N(21,"div",9),ee(22),j(),X(23,"br")(24,"br"),N(25,"div",10),ee(26),j(),N(27,"div",11),ee(28),j(),N(29,"div",12),ee(30),j(),X(31,"br")(32,"br"),N(33,"div",13),ee(34),j(),N(35,"div",14),ee(36),j(),N(37,"div",15),ee(38),j(),X(39,"br")(40,"br")),r&2&&(K(2),be(o.mytext_app),K(3),wt(" ",o.mytext_back," "),K(),Ge("ngIf",o.flagSomeAvailable),K(8),be(o.mytext_dataCode),K(4),be(o.mytext_autorizando),K(2),be(o.mytext_autorizadoOk),K(2),be(o.mytext_autorizadoError),K(4),be(o.mytext_availablel),K(2),be(o.mytext_availablelOk),K(2),be(o.mytext_availablelError),K(4),be(o.mytext_availabler),K(2),be(o.mytext_availablerOk),K(2),be(o.mytext_availablerError))},dependencies:[yr,jt,Kt,xi],styles:[".example-fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.custom-toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:400}.div_message[_ngcontent-%COMP%]{width:100%;height:50px;font-size:17px;font-weight:700;text-align:center}.custom-div-centered[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#fff}.custom-div-centered-bold[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#fff;font-weight:700}.custom-img-line[_ngcontent-%COMP%]{width:480px;height:60px}"]})}return e})();function yce(e,t){if(e&1){let n=pn();N(0,"button",12),xe("click",function(){Pt(n);let o=qe();return Bt(o.actionContinue())}),ee(1),j()}if(e&2){let n=qe();K(),wt(" ",n.mytext_continue," ")}}function _ce(e,t){e&1&&(N(0,"th",13),ee(1," LEFT-IZQUIERDO "),j())}function $ce(e,t){if(e&1&&(N(0,"td",14),ee(1),j()),e&2){let n=t.$implicit;K(),wt(" ",n.left," ")}}function xce(e,t){e&1&&(N(0,"th",13),ee(1," RIGHT-DERECHO "),j())}function vce(e,t){if(e&1&&(N(0,"td",14),ee(1),j()),e&2){let n=t.$implicit;K(),wt(" ",n.right," ")}}function wce(e,t){e&1&&X(0,"tr",15)}function Sce(e,t){e&1&&X(0,"tr",16)}var TN=(()=>{class e{router;global_service;http;location;mytext_app;webservice_requestGetRightJson;webservice_requestGetLeftJson;webservice_base_url;mytext_dataCode;columnas=["meas-left","meas-right"];measures=[];tabla1;measures_left=[];measures_right=[];mytext_back;mytext_continue;flagSomeAvailable=!1;constructor(n,r,o,i){this.router=n,this.global_service=r,this.http=o,this.location=i,this.mytext_app=r.text_app(),this.mytext_back=r.text_back(),this.mytext_continue=r.text_actionRecommend(),this.mytext_dataCode=r.the_request_code(),this.webservice_requestGetRightJson={request_code:r.the_request_code(),foot_type:2,capabilities:"1D_MES"},this.webservice_requestGetLeftJson={request_code:r.the_request_code(),foot_type:1,capabilities:"1D_MES"},this.webservice_base_url=r.webservice_base_url()}ngOnInit(){this.flagSomeAvailable=!1,this.measures_left=[],this.measures_right=[],this.measures=[],this.global_service.is_availableLeft()&&this.global_service.is_availableRight()?this.global_service.set_isOppositePending(!0):this.global_service.set_isOppositePending(!1),this.global_service.is_availableLeft()?this.webservice_getLeft():this.global_service.is_availableRight()?this.webservice_getRight():alert("ERROR")}ngAfterViewInit(){this.tabla1.renderRows()}ngOnDestroy(){}webservice_getLeft(){let n="Bearer "+this.global_service.feet_accesstoken(),r={headers:new mn({"Content-Type":"application/json",Authorization:n})},o=this.webservice_base_url+"/models/get3d";this.http.post(o,this.webservice_requestGetLeftJson,r).subscribe({next:i=>this.postLeftOk(i),error:i=>this.postLeftErr(i.message),complete:()=>this.postLeftComplete()})}postLeftErr(n){console.log(n),this.global_service.is_oppositePending()&&(this.global_service.set_isOppositePending(!1),this.webservice_getRight())}postLeftComplete(){console.log("left-COMPLETE"),this.global_service.is_oppositePending()&&(this.global_service.set_isOppositePending(!1),this.webservice_getRight())}webservice_getRight(){let n="Bearer "+this.global_service.feet_accesstoken(),r={headers:new mn({"Content-Type":"application/json",Authorization:n})},o=this.webservice_base_url+"/models/get3d";this.http.post(o,this.webservice_requestGetRightJson,r).subscribe({next:i=>this.postRightOk(i),error:i=>this.postRightErr(i.message),complete:()=>this.postRightComplete()})}postRightErr(n){console.log(n),this.global_service.is_oppositePending()&&(this.global_service.set_isOppositePending(!1),this.webservice_getLeft())}postRightComplete(){console.log("right-COMPLETE"),this.global_service.is_oppositePending()&&(this.global_service.set_isOppositePending(!1),this.webservice_getLeft())}postRightOk(n){if(n!==null){let r=JSON.stringify(n.error_code),o=Number(n.info);if(o.valueOf()===0||o.valueOf()===1)if(r.includes('"1D_MES":0,"3D_MODEL":0')){let l=JSON.stringify(n.parameters).replace('{"1D_MES":{',"").replace("}}","");this.measures_right=l.split(","),this.flagSomeAvailable=!0,this.refresh_table()}else this.postRightErr("Error-01r");else this.postRightErr("Error-02r")}else this.postRightErr("Error-03r")}postLeftOk(n){if(n!==null){let r=JSON.stringify(n.error_code),o=Number(n.info);if(o.valueOf()===0||o.valueOf()===1)if(r.includes('"1D_MES":0,"3D_MODEL":0')){let l=JSON.stringify(n.parameters).replace('{"1D_MES":{',"").replace("}}","");this.measures_left=l.split(","),this.flagSomeAvailable=!0,this.refresh_table()}else this.postLeftErr("Error-01l");else this.postLeftErr("Error-02l")}else this.postLeftErr("Error-03l")}refresh_table(){let n=this.measures_left.length,r=this.measures_right.length;var o=0;n>r?o=n:o=r,this.measures=[];for(var i=0;i<o;){if(n>0&&r>0){let s=this.measures_left[i],l=14;s.length<l&&(l=s.length);let c=s.substring(0,l),u=this.measures_right[i],d=14;u.length<d&&(d=u.length);let p=u.substring(0,d),f={left:c,right:p};this.measures.push(f)}else if(n===0){let s=this.measures_right[i],l=14;s.length<l&&(l=s.length);let u={left:"",right:s.substring(0,l)};this.measures.push(u)}else if(r===0){let s=this.measures_left[i],l=14;s.length<l&&(l=s.length);let u={left:s.substring(0,l),right:""};this.measures.push(u)}else console.log("unknown");i++}this.tabla1.renderRows()}actionBack(){this.location.back()}actionContinue(){this.global_service.is_availableLeft()&&this.global_service.is_availableRight()?(this.global_service.set_isFirstFoot(!1),this.router.navigateByUrl("/screen08")):this.global_service.is_availableLeft()?(this.global_service.set_isFirstFoot(!0),this.global_service.set_isFootRight(!1),this.global_service.set_isFootLeft(!0),this.router.navigateByUrl("/screen08")):this.global_service.is_availableRight()&&(this.global_service.set_isFirstFoot(!0),this.global_service.set_isFootRight(!0),this.global_service.set_isFootLeft(!1),this.router.navigateByUrl("/screen08"))}static \u0275fac=function(r){return new(r||e)(q(yt),q(Ot),q(Yr),q(bo))};static \u0275cmp=Oe({type:e,selectors:[["app-screen22acc"]],viewQuery:function(r,o){if(r&1&&Yn(Bs,5),r&2){let i;Ft(i=kt())&&(o.tabla1=i.first)}},decls:21,vars:6,consts:[["tabla1",""],[1,"custom-toolbar"],[1,"example-fill-remaining-space"],["mat-button","","id","action_back",2,"color","white",3,"click"],["mat-button","","style","color:white","id","action_continue",3,"click",4,"ngIf"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","meas-left"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","meas-right"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-button","","id","action_continue",2,"color","white",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(r,o){if(r&1){let i=pn();N(0,"mat-toolbar",1)(1,"span"),ee(2),j(),X(3,"span",2),N(4,"button",3),xe("click",function(){return Pt(i),Bt(o.actionBack())}),ee(5),j(),it(6,yce,2,1,"button",4),j(),X(7,"br")(8,"br")(9,"br")(10,"br"),N(11,"table",5,0),gi(13,6),it(14,_ce,2,0,"th",7)(15,$ce,2,1,"td",8),bi(),gi(16,9),it(17,xce,2,0,"th",7)(18,vce,2,1,"td",8),bi(),it(19,wce,1,0,"tr",10)(20,Sce,1,0,"tr",11),j()}r&2&&(K(2),be(o.mytext_app),K(3),wt(" ",o.mytext_back," "),K(),Ge("ngIf",o.flagSomeAvailable),K(5),Ge("dataSource",o.measures),K(8),Ge("matHeaderRowDef",o.columnas),K(),Ge("matRowDefColumns",o.columnas))},dependencies:[yr,jt,Kt,Bs,Lg,Vg,Ug,Bg,Hg,Wg,zg,Gg,qg],styles:[".example-fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.custom-toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:400}table[_ngcontent-%COMP%]{width:80%;margin-left:20rem auto;margin-right:20rem auto;background-color:#d3d3d3}.mat-column-meas-left[_ngcontent-%COMP%], .mat-column-meas-right[_ngcontent-%COMP%]{width:40%;text-align:left;font-size:16px}"]})}return e})();function Cce(e,t){if(e&1){let n=pn();N(0,"button",16),xe("click",function(){Pt(n);let o=qe();return Bt(o.actionContinue())}),ee(1),j()}if(e&2){let n=qe();K(),wt(" ",n.mytext_continue," ")}}var DN=(()=>{class e{router;global_service;http;location;divAutorizando;divAutorizadoOk;divAutorizadoError;divAvailabler;divAvailablerOk;divAvailablerError;divAvailablel;divAvailablelOk;divAvailablelError;webservice_requestLoginJson;webservice_requestRightJson;webservice_requestLeftJson;webservice_base_url;mytext_app;mytext_autorizando;mytext_autorizadoOk;mytext_autorizadoError;mytext_availabler;mytext_availablerOk;mytext_availablerError;mytext_availablel;mytext_availablelOk;mytext_availablelError;mytext_back;mytext_continue;mytext_dataCodeDate;flagSomeAvailable=!1;txtLog="";constructor(n,r,o,i){this.router=n,this.global_service=r,this.http=o,this.location=i,this.mytext_app=r.text_app(),this.mytext_autorizando=r.text_autorizando(),this.mytext_autorizadoOk=r.text_autorizadoOk(),this.mytext_autorizadoError=r.text_autorizadoError(),this.mytext_availabler=r.text_availabler(),this.mytext_availablerOk=r.text_availablerOk(),this.mytext_availablerError=r.text_availablerError(),this.mytext_availablel=r.text_availablel(),this.mytext_availablelOk=r.text_availablelOk(),this.mytext_availablelError=r.text_availablelError(),this.mytext_back=r.text_back(),this.mytext_continue=r.text_actionRecommend(),this.mytext_dataCodeDate=localStorage.getItem("feet_previous")||'""',this.webservice_requestLoginJson={client_id:r.webservice_client_id(),client_secret:r.webservice_client_secret(),username:r.webservice_username(),password:r.webservice_password(),grant_type:r.webservice_grant_type(),pass_encript:"1"};let s=this.get_dataCode(this.mytext_dataCodeDate);this.webservice_requestRightJson={request_code:s,foot_type:2},this.webservice_requestLeftJson={request_code:s,foot_type:1},this.webservice_base_url=r.webservice_base_url()}ngOnInit(){this.divAutorizando=document.getElementById("div_autorizando"),this.divAutorizadoOk=document.getElementById("div_autorizado_ok"),this.divAutorizadoError=document.getElementById("div_autorizado_error"),this.divAvailabler=document.getElementById("div_availabler"),this.divAvailablerOk=document.getElementById("div_availabler_ok"),this.divAvailablerError=document.getElementById("div_availabler_error"),this.divAvailablel=document.getElementById("div_availablel"),this.divAvailablelOk=document.getElementById("div_availablel_ok"),this.divAvailablelError=document.getElementById("div_availablel_error"),this.global_service.set_isAvailableRight(!1),this.global_service.set_isAvailableLeft(!1),this.flagSomeAvailable=!1,this.webservice_login()}ngOnDestroy(){}webservice_login(){this.divAutorizando.removeAttribute("hidden"),this.global_service.set_feet_accesstoken("none"),this.global_service.set_isAuthenticated(!1);let n={headers:new mn({"Content-Type":"application/x-www-form-urlencoded"})},r=this.webservice_base_url+"/auth/authorize";this.http.post(r,this.webservice_requestLoginJson,n).subscribe({next:o=>this.postLoginOk(o),error:o=>this.postLoginErr(o.message),complete:()=>this.postLoginComplete()})}postLoginOk(n){n!==null?(this.divAutorizando.setAttribute("hidden","hidden"),this.divAutorizadoOk.removeAttribute("hidden"),this.global_service.set_feet_accesstoken(n.access_token),this.global_service.set_isAuthenticated(!0)):this.postLoginErr("err.login31")}postLoginErr(n){this.divAutorizando.setAttribute("hidden","hidden"),this.divAutorizadoError.removeAttribute("hidden")}postLoginComplete(){this.global_service.is_authenticated()&&this.webservice_availableLeft()}postLeftErr(n){this.divAvailablel.setAttribute("hidden","hidden"),this.divAvailablelError.removeAttribute("hidden"),console.log(n),this.webservice_availableRight()}postLeftComplete(){console.log("left-COMPLETE"),this.webservice_availableRight()}webservice_availableLeft(){this.divAvailablel.removeAttribute("hidden");let n="Bearer "+this.global_service.feet_accesstoken(),r={headers:new mn({"Content-Type":"application/json",Authorization:n})},o=this.webservice_base_url+"/models/available3d";this.http.post(o,this.webservice_requestLeftJson,r).subscribe({next:i=>this.postLeftOk(i),error:i=>this.postLeftErr(i.message),complete:()=>this.postLeftComplete()})}postLeftOk(n){if(n!==null){let r=JSON.stringify(n.error_code),o=Number(n.info);o.valueOf()===0||o.valueOf()===1?r.includes('"3D_MODEL":0,"1D_MES":0')?(this.divAvailablel.setAttribute("hidden","hidden"),this.divAvailablelOk.removeAttribute("hidden"),this.global_service.set_isAvailableLeft(!0),this.flagSomeAvailable=!0):this.postLeftErr("Error-01l"):this.postLeftErr("Error-02l")}else this.postLeftErr("Error-03l")}webservice_availableRight(){this.divAvailabler.removeAttribute("hidden");let n="Bearer "+this.global_service.feet_accesstoken(),r={headers:new mn({"Content-Type":"application/json",Authorization:n})},o=this.webservice_base_url+"/models/available3d";this.http.post(o,this.webservice_requestRightJson,r).subscribe({next:i=>this.postRightOk(i),error:i=>this.postRightErr(i.message),complete:()=>this.postRightComplete()})}postRightOk(n){if(n!==null){let r=JSON.stringify(n.error_code),o=Number(n.info);o.valueOf()===0||o.valueOf()===1?r.includes('"3D_MODEL":0,"1D_MES":0')?(this.divAvailabler.setAttribute("hidden","hidden"),this.divAvailablerOk.removeAttribute("hidden"),this.global_service.set_isAvailableRight(!0),this.flagSomeAvailable=!0):this.postRightErr("Error-01r"):this.postRightErr("Error-02r")}else this.postRightErr("Error-03r")}postRightErr(n){this.divAvailabler.setAttribute("hidden","hidden"),this.divAvailablerError.removeAttribute("hidden"),console.log(n)}postRightComplete(){console.log("right-COMPLETE")}get_dataCode(n){return n.split(" --> ")[1]}actionBack(){this.location.back()}actionContinue(){let n=this.get_dataCode(this.mytext_dataCodeDate);this.global_service.set_request_code(n),this.global_service.is_availableLeft()&&this.global_service.is_availableRight()?(this.global_service.set_isFirstFoot(!1),this.router.navigateByUrl("/screen08")):this.global_service.is_availableLeft()?(this.global_service.set_isFirstFoot(!0),this.global_service.set_isFootRight(!1),this.global_service.set_isFootLeft(!0),this.router.navigateByUrl("/screen08")):this.global_service.is_availableRight()&&(this.global_service.set_isFirstFoot(!0),this.global_service.set_isFootRight(!0),this.global_service.set_isFootLeft(!1),this.router.navigateByUrl("/screen08"))}static \u0275fac=function(r){return new(r||e)(q(yt),q(Ot),q(Yr),q(bo))};static \u0275cmp=Oe({type:e,selectors:[["app-screen31acc"]],decls:41,vars:13,consts:[[1,"custom-toolbar"],[1,"example-fill-remaining-space"],["mat-button","","id","action_back",2,"color","white",3,"click"],["mat-button","","style","color:white","id","action_continue",3,"click",4,"ngIf"],[1,"custom-div-centered-bold"],[1,"custom-div-centered"],["src","assets/images/lineh.png",1,"custom-img-line"],["id","div_autorizando","hidden","hidden",1,"div_message"],["id","div_autorizado_ok","hidden","hidden",1,"div_message"],["id","div_autorizado_error","hidden","hidden",1,"div_message"],["id","div_availablel","hidden","hidden",1,"div_message"],["id","div_availablel_ok","hidden","hidden",1,"div_message"],["id","div_availablel_error","hidden","hidden",1,"div_message"],["id","div_availabler","hidden","hidden",1,"div_message"],["id","div_availabler_ok","hidden","hidden",1,"div_message"],["id","div_availabler_error","hidden","hidden",1,"div_message"],["mat-button","","id","action_continue",2,"color","white",3,"click"]],template:function(r,o){r&1&&(N(0,"mat-toolbar",0)(1,"span"),ee(2),j(),X(3,"span",1),N(4,"button",2),xe("click",function(){return o.actionBack()}),ee(5),j(),it(6,Cce,2,1,"button",3),j(),X(7,"br")(8,"br")(9,"br")(10,"br")(11,"br"),N(12,"div",4)(13,"mat-label"),ee(14),j()(),N(15,"div",5),X(16,"img",6),j(),N(17,"div",7),ee(18),j(),N(19,"div",8),ee(20),j(),N(21,"div",9),ee(22),j(),X(23,"br")(24,"br"),N(25,"div",10),ee(26),j(),N(27,"div",11),ee(28),j(),N(29,"div",12),ee(30),j(),X(31,"br")(32,"br"),N(33,"div",13),ee(34),j(),N(35,"div",14),ee(36),j(),N(37,"div",15),ee(38),j(),X(39,"br")(40,"br")),r&2&&(K(2),be(o.mytext_app),K(3),wt(" ",o.mytext_back," "),K(),Ge("ngIf",o.flagSomeAvailable),K(8),be(o.mytext_dataCodeDate),K(4),be(o.mytext_autorizando),K(2),be(o.mytext_autorizadoOk),K(2),be(o.mytext_autorizadoError),K(4),be(o.mytext_availablel),K(2),be(o.mytext_availablelOk),K(2),be(o.mytext_availablelError),K(4),be(o.mytext_availabler),K(2),be(o.mytext_availablerOk),K(2),be(o.mytext_availablerError))},dependencies:[yr,jt,Kt,xi],styles:[".example-fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.custom-toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:400}.div_message[_ngcontent-%COMP%]{width:100%;height:50px;font-size:17px;font-weight:700;text-align:center}.custom-div-centered[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#fff}.custom-div-centered-bold[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#fff;font-weight:700}.custom-img-line[_ngcontent-%COMP%]{width:480px;height:60px}"]})}return e})();var FN=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Oe({type:e,selectors:[["app-page-not-found"]],decls:2,vars:0,template:function(r,o){r&1&&(N(0,"h2"),ee(1,"Page not found"),j())}})}return e})();var eE=Object.defineProperty,Ice=Object.getOwnPropertyDescriptor,Ece=Object.getOwnPropertyNames,Tce=Object.prototype.hasOwnProperty,Dce=(e=>typeof la<"u"?la:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof la<"u"?la:t)[n]}):e)(function(e){if(typeof la<"u")return la.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),ye=(e,t)=>()=>(e&&(t=e(e=0)),t),mp=(e,t)=>{for(var n in t)eE(e,n,{get:t[n],enumerable:!0})},Fce=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ece(t))!Tce.call(e,o)&&o!==n&&eE(e,o,{get:()=>t[o],enumerable:!(r=Ice(t,o))||r.enumerable});return e},Ob=e=>Fce(eE({},"__esModule",{value:!0}),e),Jd,zs,Vc,kN,cL,uL=ye(()=>{"use strict";Jd=new Map,zs=[],Vc=(e,t,n)=>{if(t&&typeof t.init=="function"&&typeof t.createInferenceSessionHandler=="function"){let r=Jd.get(e);if(r===void 0)Jd.set(e,{backend:t,priority:n});else{if(r.priority>n)return;if(r.priority===n&&r.backend!==t)throw new Error(`cannot register backend "${e}" using priority ${n}`)}if(n>=0){let o=zs.indexOf(e);o!==-1&&zs.splice(o,1);for(let i=0;i<zs.length;i++)if(Jd.get(zs[i]).priority<=n){zs.splice(i,0,e);return}zs.push(e)}return}throw new TypeError("not a valid backend")},kN=e=>ie(void 0,null,function*(){let t=Jd.get(e);if(!t)return"backend not found.";if(t.initialized)return t.backend;if(t.aborted)return t.error;{let n=!!t.initPromise;try{return n||(t.initPromise=t.backend.init(e)),yield t.initPromise,t.initialized=!0,t.backend}catch(r){return n||(t.error=`${r}`,t.aborted=!0),t.error}finally{delete t.initPromise}}}),cL=e=>ie(void 0,null,function*(){let t=e.executionProviders||[],n=t.map(c=>typeof c=="string"?c:c.name),r=n.length===0?zs:n,o,i=[],s=new Set;for(let c of r){let u=yield kN(c);typeof u=="string"?i.push({name:c,err:u}):(o||(o=u),o===u&&s.add(c))}if(!o)throw new Error(`no available backend found. ERR: ${i.map(c=>`[${c.name}] ${c.err}`).join(", ")}`);for(let{name:c,err:u}of i)n.includes(c)&&console.warn(`removing requested execution provider "${c}" from session options because it is not available: ${u}`);let l=t.filter(c=>s.has(typeof c=="string"?c:c.name));return[o,new Proxy(e,{get:(c,u)=>u==="executionProviders"?l:Reflect.get(c,u)})]})}),kce=ye(()=>{"use strict";uL()}),dL,Ace=ye(()=>{"use strict";dL="1.21.0"}),HC,xo,pL=ye(()=>{"use strict";Ace(),HC="warning",xo={wasm:{},webgl:{},webgpu:{},versions:{common:dL},set logLevel(e){if(e!==void 0){if(typeof e!="string"||["verbose","info","warning","error","fatal"].indexOf(e)===-1)throw new Error(`Unsupported logging level: ${e}`);HC=e}},get logLevel(){return HC}},Object.defineProperty(xo,"logLevel",{enumerable:!0})}),_n,Mce=ye(()=>{"use strict";pL(),_n=xo}),fL,mL,Rce=ye(()=>{"use strict";fL=(e,t)=>{let n=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(1,1);n.width=e.dims[3],n.height=e.dims[2];let r=n.getContext("2d");if(r!=null){let o,i;t?.tensorLayout!==void 0&&t.tensorLayout==="NHWC"?(o=e.dims[2],i=e.dims[3]):(o=e.dims[3],i=e.dims[2]);let s=t?.format!==void 0?t.format:"RGB",l=t?.norm,c,u;l===void 0||l.mean===void 0?c=[255,255,255,255]:typeof l.mean=="number"?c=[l.mean,l.mean,l.mean,l.mean]:(c=[l.mean[0],l.mean[1],l.mean[2],0],l.mean[3]!==void 0&&(c[3]=l.mean[3])),l===void 0||l.bias===void 0?u=[0,0,0,0]:typeof l.bias=="number"?u=[l.bias,l.bias,l.bias,l.bias]:(u=[l.bias[0],l.bias[1],l.bias[2],0],l.bias[3]!==void 0&&(u[3]=l.bias[3]));let d=i*o,p=0,f=d,m=d*2,h=-1;s==="RGBA"?(p=0,f=d,m=d*2,h=d*3):s==="RGB"?(p=0,f=d,m=d*2):s==="RBG"&&(p=0,m=d,f=d*2);for(let g=0;g<i;g++)for(let _=0;_<o;_++){let $=(e.data[p++]-u[0])*c[0],x=(e.data[f++]-u[1])*c[1],w=(e.data[m++]-u[2])*c[2],S=h===-1?255:(e.data[h++]-u[3])*c[3];r.fillStyle="rgba("+$+","+x+","+w+","+S+")",r.fillRect(_,g,1,1)}if("toDataURL"in n)return n.toDataURL();throw new Error("toDataURL is not supported")}else throw new Error("Can not access image data")},mL=(e,t)=>{let n=typeof document<"u"?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d"),r;if(n!=null){let o,i,s;t?.tensorLayout!==void 0&&t.tensorLayout==="NHWC"?(o=e.dims[2],i=e.dims[1],s=e.dims[3]):(o=e.dims[3],i=e.dims[2],s=e.dims[1]);let l=t!==void 0&&t.format!==void 0?t.format:"RGB",c=t?.norm,u,d;c===void 0||c.mean===void 0?u=[255,255,255,255]:typeof c.mean=="number"?u=[c.mean,c.mean,c.mean,c.mean]:(u=[c.mean[0],c.mean[1],c.mean[2],255],c.mean[3]!==void 0&&(u[3]=c.mean[3])),c===void 0||c.bias===void 0?d=[0,0,0,0]:typeof c.bias=="number"?d=[c.bias,c.bias,c.bias,c.bias]:(d=[c.bias[0],c.bias[1],c.bias[2],0],c.bias[3]!==void 0&&(d[3]=c.bias[3]));let p=i*o;if(t!==void 0&&(t.format!==void 0&&s===4&&t.format!=="RGBA"||s===3&&t.format!=="RGB"&&t.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let f=4,m=0,h=1,g=2,_=3,$=0,x=p,w=p*2,S=-1;l==="RGBA"?($=0,x=p,w=p*2,S=p*3):l==="RGB"?($=0,x=p,w=p*2):l==="RBG"&&($=0,w=p,x=p*2),r=n.createImageData(o,i);for(let I=0;I<i*o;m+=f,h+=f,g+=f,_+=f,I++)r.data[m]=(e.data[$++]-d[0])*u[0],r.data[h]=(e.data[x++]-d[1])*u[1],r.data[g]=(e.data[w++]-d[2])*u[2],r.data[_]=S===-1?255:(e.data[S++]-d[3])*u[3]}else throw new Error("Can not access image data");return r}}),$b,hL,gL,bL,yL,_L,jce=ye(()=>{"use strict";tE(),$b=(e,t)=>{if(e===void 0)throw new Error("Image buffer must be defined");if(t.height===void 0||t.width===void 0)throw new Error("Image height and width must be defined");if(t.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:n,width:r}=t,o=t.norm??{mean:255,bias:0},i,s;typeof o.mean=="number"?i=[o.mean,o.mean,o.mean,o.mean]:i=[o.mean[0],o.mean[1],o.mean[2],o.mean[3]??255],typeof o.bias=="number"?s=[o.bias,o.bias,o.bias,o.bias]:s=[o.bias[0],o.bias[1],o.bias[2],o.bias[3]??0];let l=t.format!==void 0?t.format:"RGBA",c=t.tensorFormat!==void 0&&t.tensorFormat!==void 0?t.tensorFormat:"RGB",u=n*r,d=c==="RGBA"?new Float32Array(u*4):new Float32Array(u*3),p=4,f=0,m=1,h=2,g=3,_=0,$=u,x=u*2,w=-1;l==="RGB"&&(p=3,f=0,m=1,h=2,g=-1),c==="RGBA"?w=u*3:c==="RBG"?(_=0,x=u,$=u*2):c==="BGR"&&(x=0,$=u,_=u*2);for(let S=0;S<u;S++,f+=p,h+=p,m+=p,g+=p)d[_++]=(e[f]+s[0])/i[0],d[$++]=(e[m]+s[1])/i[1],d[x++]=(e[h]+s[2])/i[2],w!==-1&&g!==-1&&(d[w++]=(e[g]+s[3])/i[3]);return c==="RGBA"?new eo("float32",d,[1,4,n,r]):new eo("float32",d,[1,3,n,r])},hL=(e,t)=>ie(void 0,null,function*(){let n=typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement,r=typeof ImageData<"u"&&e instanceof ImageData,o=typeof ImageBitmap<"u"&&e instanceof ImageBitmap,i=typeof e=="string",s,l=t??{},c=()=>{if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(1,1);throw new Error("Canvas is not supported")},u=d=>typeof HTMLCanvasElement<"u"&&d instanceof HTMLCanvasElement||d instanceof OffscreenCanvas?d.getContext("2d"):null;if(n){let d=c();d.width=e.width,d.height=e.height;let p=u(d);if(p!=null){let f=e.height,m=e.width;if(t!==void 0&&t.resizedHeight!==void 0&&t.resizedWidth!==void 0&&(f=t.resizedHeight,m=t.resizedWidth),t!==void 0){if(l=t,t.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");l.tensorFormat="RGBA",l.height=f,l.width=m}else l.tensorFormat="RGBA",l.height=f,l.width=m;p.drawImage(e,0,0),s=p.getImageData(0,0,m,f).data}else throw new Error("Can not access image data")}else if(r){let d,p;if(t!==void 0&&t.resizedWidth!==void 0&&t.resizedHeight!==void 0?(d=t.resizedHeight,p=t.resizedWidth):(d=e.height,p=e.width),t!==void 0&&(l=t),l.format="RGBA",l.height=d,l.width=p,t!==void 0){let f=c();f.width=p,f.height=d;let m=u(f);if(m!=null)m.putImageData(e,0,0),s=m.getImageData(0,0,p,d).data;else throw new Error("Can not access image data")}else s=e.data}else if(o){if(t===void 0)throw new Error("Please provide image config with format for Imagebitmap");let d=c();d.width=e.width,d.height=e.height;let p=u(d);if(p!=null){let f=e.height,m=e.width;return p.drawImage(e,0,0,m,f),s=p.getImageData(0,0,m,f).data,l.height=f,l.width=m,$b(s,l)}else throw new Error("Can not access image data")}else{if(i)return new Promise((d,p)=>{let f=c(),m=u(f);if(!e||!m)return p();let h=new Image;h.crossOrigin="Anonymous",h.src=e,h.onload=()=>{f.width=h.width,f.height=h.height,m.drawImage(h,0,0,f.width,f.height);let g=m.getImageData(0,0,f.width,f.height);l.height=f.height,l.width=f.width,d($b(g.data,l))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(s!==void 0)return $b(s,l);throw new Error("Input data provided is not supported - aborted tensor creation")}),gL=(e,t)=>{let{width:n,height:r,download:o,dispose:i}=t,s=[1,r,n,4];return new eo({location:"texture",type:"float32",texture:e,dims:s,download:o,dispose:i})},bL=(e,t)=>{let{dataType:n,dims:r,download:o,dispose:i}=t;return new eo({location:"gpu-buffer",type:n??"float32",gpuBuffer:e,dims:r,download:o,dispose:i})},yL=(e,t)=>{let{dataType:n,dims:r,download:o,dispose:i}=t;return new eo({location:"ml-tensor",type:n??"float32",mlTensor:e,dims:r,download:o,dispose:i})},_L=(e,t,n)=>new eo({location:"cpu-pinned",type:e,data:t,dims:n??[t.length]})}),Va,lp,GC,$L,Oce=ye(()=>{"use strict";Va=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array],["int4",Uint8Array],["uint4",Uint8Array]]),lp=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),GC=!1,$L=()=>{if(!GC){GC=!0;let e=typeof BigInt64Array<"u"&&BigInt64Array.from,t=typeof BigUint64Array<"u"&&BigUint64Array.from,n=globalThis.Float16Array,r=typeof n<"u"&&n.from;e&&(Va.set("int64",BigInt64Array),lp.set(BigInt64Array,"int64")),t&&(Va.set("uint64",BigUint64Array),lp.set(BigUint64Array,"uint64")),r?(Va.set("float16",n),lp.set(n,"float16")):Va.set("float16",Uint16Array)}}}),xL,vL,Nce=ye(()=>{"use strict";tE(),xL=e=>{let t=1;for(let n=0;n<e.length;n++){let r=e[n];if(typeof r!="number"||!Number.isSafeInteger(r))throw new TypeError(`dims[${n}] must be an integer, got: ${r}`);if(r<0)throw new RangeError(`dims[${n}] must be a non-negative integer, got: ${r}`);t*=r}return t},vL=(e,t)=>{switch(e.location){case"cpu":return new eo(e.type,e.data,t);case"cpu-pinned":return new eo({location:"cpu-pinned",data:e.data,type:e.type,dims:t});case"texture":return new eo({location:"texture",texture:e.texture,type:e.type,dims:t});case"gpu-buffer":return new eo({location:"gpu-buffer",gpuBuffer:e.gpuBuffer,type:e.type,dims:t});case"ml-tensor":return new eo({location:"ml-tensor",mlTensor:e.mlTensor,type:e.type,dims:t});default:throw new Error(`tensorReshape: tensor location ${e.location} is not supported`)}}}),eo,tE=ye(()=>{"use strict";Rce(),jce(),Oce(),Nce(),eo=class{constructor(e,t,n){$L();let r,o;if(typeof e=="object"&&"location"in e)switch(this.dataLocation=e.location,r=e.type,o=e.dims,e.location){case"cpu-pinned":{let s=Va.get(r);if(!s)throw new TypeError(`unsupported type "${r}" to create tensor from pinned buffer`);if(!(e.data instanceof s))throw new TypeError(`buffer should be of type ${s.name}`);this.cpuData=e.data;break}case"texture":{if(r!=="float32")throw new TypeError(`unsupported type "${r}" to create tensor from texture`);this.gpuTextureData=e.texture,this.downloader=e.download,this.disposer=e.dispose;break}case"gpu-buffer":{if(r!=="float32"&&r!=="float16"&&r!=="int32"&&r!=="int64"&&r!=="uint32"&&r!=="uint8"&&r!=="bool"&&r!=="uint4"&&r!=="int4")throw new TypeError(`unsupported type "${r}" to create tensor from gpu buffer`);this.gpuBufferData=e.gpuBuffer,this.downloader=e.download,this.disposer=e.dispose;break}case"ml-tensor":{if(r!=="float32"&&r!=="float16"&&r!=="int32"&&r!=="int64"&&r!=="uint32"&&r!=="uint64"&&r!=="int8"&&r!=="uint8"&&r!=="bool"&&r!=="uint4"&&r!=="int4")throw new TypeError(`unsupported type "${r}" to create tensor from MLTensor`);this.mlTensorData=e.mlTensor,this.downloader=e.download,this.disposer=e.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let s,l;if(typeof e=="string")if(r=e,l=n,e==="string"){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");s=t}else{let c=Va.get(e);if(c===void 0)throw new TypeError(`Unsupported tensor type: ${e}.`);if(Array.isArray(t)){if(e==="float16"&&c===Uint16Array||e==="uint4"||e==="int4")throw new TypeError(`Creating a ${e} tensor from number array is not supported. Please use ${c.name} as data.`);e==="uint64"||e==="int64"?s=c.from(t,BigInt):s=c.from(t)}else if(t instanceof c)s=t;else if(t instanceof Uint8ClampedArray)if(e==="uint8")s=Uint8Array.from(t);else throw new TypeError("A Uint8ClampedArray tensor's data must be type of uint8");else if(e==="float16"&&t instanceof Uint16Array&&c!==Uint16Array)s=new globalThis.Float16Array(t.buffer,t.byteOffset,t.length);else throw new TypeError(`A ${r} tensor's data must be type of ${c}`)}else if(l=t,Array.isArray(e)){if(e.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let c=typeof e[0];if(c==="string")r="string",s=e;else if(c==="boolean")r="bool",s=Uint8Array.from(e);else throw new TypeError(`Invalid element type of data array: ${c}.`)}else if(e instanceof Uint8ClampedArray)r="uint8",s=Uint8Array.from(e);else{let c=lp.get(e.constructor);if(c===void 0)throw new TypeError(`Unsupported type for tensor data: ${e.constructor}.`);r=c,s=e}if(l===void 0)l=[s.length];else if(!Array.isArray(l))throw new TypeError("A tensor's dims must be a number array");o=l,this.cpuData=s,this.dataLocation="cpu"}let i=xL(o);if(this.cpuData&&i!==this.cpuData.length&&!((r==="uint4"||r==="int4")&&Math.ceil(i/2)===this.cpuData.length))throw new Error(`Tensor's size(${i}) does not match data length(${this.cpuData.length}).`);this.type=r,this.dims=o,this.size=i}static fromImage(e,t){return ie(this,null,function*(){return hL(e,t)})}static fromTexture(e,t){return gL(e,t)}static fromGpuBuffer(e,t){return bL(e,t)}static fromMLTensor(e,t){return yL(e,t)}static fromPinnedBuffer(e,t,n){return _L(e,t,n)}toDataURL(e){return fL(this,e)}toImageData(e){return mL(this,e)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}get mlTensor(){if(this.ensureValid(),!this.mlTensorData)throw new Error("The data is not stored as a WebNN MLTensor.");return this.mlTensorData}getData(e){return ie(this,null,function*(){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":case"ml-tensor":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let t=yield this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=t,e&&this.disposer&&(this.disposer(),this.disposer=void 0),t}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}})}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.mlTensorData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(e){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return vL(this,e)}}}),Ur,wL=ye(()=>{"use strict";tE(),Ur=eo}),Nb,qC,Si,Qo,SL=ye(()=>{"use strict";pL(),Nb=(e,t)=>{(typeof xo.trace>"u"?!xo.wasm.trace:!xo.trace)||console.timeStamp(`${e}::ORT::${t}`)},qC=(e,t)=>{let n=new Error().stack?.split(/\r\n|\r|\n/g)||[],r=!1;for(let o=0;o<n.length;o++){if(r&&!n[o].includes("TRACE_FUNC")){let i=`FUNC_${e}::${n[o].trim().split(" ")[1]}`;t&&(i+=`::${t}`),Nb("CPU",i);return}n[o].includes("TRACE_FUNC")&&(r=!0)}},Si=e=>{(typeof xo.trace>"u"?!xo.wasm.trace:!xo.trace)||qC("BEGIN",e)},Qo=e=>{(typeof xo.trace>"u"?!xo.wasm.trace:!xo.trace)||qC("END",e)}}),CL,Pce=ye(()=>{"use strict";uL(),wL(),SL(),CL=class IL{constructor(t){this.handler=t}run(t,n,r){return ie(this,null,function*(){Si();let o={},i={};if(typeof t!="object"||t===null||t instanceof Ur||Array.isArray(t))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let s=!0;if(typeof n=="object"){if(n===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(n instanceof Ur)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(n)){if(n.length===0)throw new TypeError("'fetches' cannot be an empty array.");s=!1;for(let u of n){if(typeof u!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(u)===-1)throw new RangeError(`'fetches' contains invalid output name: ${u}.`);o[u]=null}if(typeof r=="object"&&r!==null)i=r;else if(typeof r<"u")throw new TypeError("'options' must be an object.")}else{let u=!1,d=Object.getOwnPropertyNames(n);for(let p of this.outputNames)if(d.indexOf(p)!==-1){let f=n[p];(f===null||f instanceof Ur)&&(u=!0,s=!1,o[p]=f)}if(u){if(typeof r=="object"&&r!==null)i=r;else if(typeof r<"u")throw new TypeError("'options' must be an object.")}else i=n}}else if(typeof n<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let u of this.inputNames)if(typeof t[u]>"u")throw new Error(`input '${u}' is missing in 'feeds'.`);if(s)for(let u of this.outputNames)o[u]=null;let l=yield this.handler.run(t,o,i),c={};for(let u in l)if(Object.hasOwnProperty.call(l,u)){let d=l[u];d instanceof Ur?c[u]=d:c[u]=new Ur(d.type,d.data,d.dims)}return Qo(),c})}release(){return ie(this,null,function*(){return this.handler.dispose()})}static create(t,n,r,o){return ie(this,null,function*(){Si();let i,s={};if(typeof t=="string"){if(i=t,typeof n=="object"&&n!==null)s=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.")}else if(t instanceof Uint8Array){if(i=t,typeof n=="object"&&n!==null)s=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.")}else if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer){let d=t,p=0,f=t.byteLength;if(typeof n=="object"&&n!==null)s=n;else if(typeof n=="number"){if(p=n,!Number.isSafeInteger(p))throw new RangeError("'byteOffset' must be an integer.");if(p<0||p>=d.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${d.byteLength}).`);if(f=t.byteLength-p,typeof r=="number"){if(f=r,!Number.isSafeInteger(f))throw new RangeError("'byteLength' must be an integer.");if(f<=0||p+f>d.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${d.byteLength-p}].`);if(typeof o=="object"&&o!==null)s=o;else if(typeof o<"u")throw new TypeError("'options' must be an object.")}else if(typeof r<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof n<"u")throw new TypeError("'options' must be an object.");i=new Uint8Array(d,p,f)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let[l,c]=yield cL(s),u=yield l.createInferenceSessionHandler(i,c);return Qo(),new IL(u)})}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}}),Kc,Bce=ye(()=>{"use strict";Pce(),Kc=CL}),Lce=ye(()=>{"use strict"}),Uce=ye(()=>{"use strict"}),Wce=ye(()=>{"use strict"}),zce=ye(()=>{"use strict"}),Vce={};mp(Vce,{InferenceSession:()=>Kc,TRACE:()=>Nb,TRACE_FUNC_BEGIN:()=>Si,TRACE_FUNC_END:()=>Qo,Tensor:()=>Ur,env:()=>_n,registerBackend:()=>Vc});var Jo=ye(()=>{"use strict";kce(),Mce(),Bce(),wL(),Lce(),Uce(),SL(),Wce(),zce()}),nE=ye(()=>{"use strict"}),EL={};mp(EL,{default:()=>TL});var KC,XC,TL,Hce=ye(()=>{"use strict";kW(),Ya(),rE(),KC="ort-wasm-proxy-worker",XC=globalThis.self?.name===KC,XC&&(self.onmessage=e=>{let{type:t,in:n}=e.data;try{switch(t){case"init-wasm":oE(n.wasm).then(()=>{vE(n).then(()=>{postMessage({type:t})},r=>{postMessage({type:t,err:r})})},r=>{postMessage({type:t,err:r})});break;case"init-ep":{let{epName:r,env:o}=n;wE(o,r).then(()=>{postMessage({type:t})},i=>{postMessage({type:t,err:i})});break}case"copy-from":{let{buffer:r}=n,o=zb(r);postMessage({type:t,out:o});break}case"create":{let{model:r,options:o}=n;SE(r,o).then(i=>{postMessage({type:t,out:i})},i=>{postMessage({type:t,err:i})});break}case"release":CE(n),postMessage({type:t});break;case"run":{let{sessionId:r,inputIndices:o,inputs:i,outputIndices:s,options:l}=n;IE(r,o,i,s,new Array(s.length).fill(null),l).then(c=>{c.some(u=>u[3]!=="cpu")?postMessage({type:t,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:t,out:c},TE([...i,...c]))},c=>{postMessage({type:t,err:c})});break}case"end-profiling":EE(n),postMessage({type:t});break;default:}}catch(r){postMessage({type:t,err:r})}}),TL=XC?null:e=>new Worker(e??Jr,{type:"module",name:KC})}),DL={};mp(DL,{default:()=>FL});var YC,ZC,FL,AN,Gce=ye(()=>{"use strict";ZC=(YC=import.meta.url,function(){return ie(this,arguments,function*(e={}){var t,n,r=e,o=new Promise((y,v)=>{t=y,n=v}),i=typeof window=="object",s=typeof WorkerGlobalScope<"u",l=s&&self.name?.startsWith("em-pthread");r.mountExternalData=(y,v)=>{y.startsWith("./")&&(y=y.substring(2)),(r.Bd||(r.Bd=new Map)).set(y,v)},r.unmountExternalData=()=>{delete r.Bd};var c=globalThis.SharedArrayBuffer??new WebAssembly.Memory({initial:0,maximum:0,shared:!0}).buffer.constructor;let u=()=>{let y=(C,T,D)=>(...R)=>{let L=si,J=T?.();R=C(...R);let le=T?.();return J!==le&&(C=le,D(J),T=D=null),si!=L?new Promise((he,Ee)=>{yv={resolve:he,reject:Ee}}):R},v=C=>(...T)=>ie(this,null,function*(){try{if(r.Cd)throw Error("Session already started");let D=r.Cd={be:T[0],errors:[]},R=yield C(...T);if(r.Cd!==D)throw Error("Session mismatch");r.Dd?.flush();let L=D.errors;if(0<L.length){let J=yield Promise.all(L);if(J=J.filter(le=>le),0<J.length)throw Error(J.join(`
`))}return R}finally{r.Cd=null}});r._OrtCreateSession=y(r._OrtCreateSession,()=>r._OrtCreateSession,C=>r._OrtCreateSession=C),r._OrtRun=v(y(r._OrtRun,()=>r._OrtRun,C=>r._OrtRun=C)),r._OrtRunWithBinding=v(y(r._OrtRunWithBinding,()=>r._OrtRunWithBinding,C=>r._OrtRunWithBinding=C)),r._OrtBindInput=y(r._OrtBindInput,()=>r._OrtBindInput,C=>r._OrtBindInput=C),u=void 0};r.jsepInit=(y,v)=>{if(u?.(),y==="webgpu"){[r.Dd,r.Rd,r.Vd,r.Hd,r.Ud,r.hc,r.Wd,r.Zd,r.Sd,r.Td,r.Xd]=v;let C=r.Dd;r.jsepRegisterBuffer=(T,D,R,L)=>C.registerBuffer(T,D,R,L),r.jsepGetBuffer=T=>C.getBuffer(T),r.jsepCreateDownloader=(T,D,R)=>C.createDownloader(T,D,R),r.jsepOnCreateSession=T=>{C.onCreateSession(T)},r.jsepOnReleaseSession=T=>{C.onReleaseSession(T)},r.jsepOnRunStart=T=>C.onRunStart(T),r.$d=(T,D)=>{C.upload(T,D)}}else if(y==="webnn"){[r.Dd,r.Yd,r.Id,r.jsepEnsureTensor,r.Jd,r.jsepDownloadTensor]=v,r.jsepReleaseTensorId=r.Id,r.jsepUploadTensor=r.Jd;let C=r.Dd;r.jsepOnRunStart=T=>C.onRunStart(T),r.jsepOnRunEnd=C.onRunEnd.bind(C),r.jsepRegisterMLContext=(T,D)=>{C.registerMLContext(T,D)},r.jsepOnReleaseSession=T=>{C.onReleaseSession(T)},r.jsepCreateMLTensorDownloader=(T,D)=>C.createMLTensorDownloader(T,D),r.jsepRegisterMLTensor=(T,D,R,L)=>C.registerMLTensor(T,D,R,L),r.jsepCreateMLContext=T=>C.createMLContext(T),r.jsepRegisterMLConstant=(T,D,R,L,J)=>C.registerMLConstant(T,D,R,L,J,r.Bd),r.jsepRegisterGraphInput=C.registerGraphInput.bind(C),r.jsepIsGraphInput=C.isGraphInput.bind(C),r.jsepCreateTemporaryTensor=C.createTemporaryTensor.bind(C)}};var d,p,f=Object.assign({},r),m=(y,v)=>{throw v},h="";(i||s)&&(s?h=self.location.href:typeof document<"u"&&document.currentScript&&(h=document.currentScript.src),YC&&(h=YC),h=h.startsWith("blob:")?"":h.slice(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1),s&&(p=y=>{var v=new XMLHttpRequest;return v.open("GET",y,!1),v.responseType="arraybuffer",v.send(null),new Uint8Array(v.response)}),d=y=>ie(this,null,function*(){if(te(y))return new Promise((C,T)=>{var D=new XMLHttpRequest;D.open("GET",y,!0),D.responseType="arraybuffer",D.onload=()=>{D.status==200||D.status==0&&D.response?C(D.response):T(D.status)},D.onerror=T,D.send(null)});var v=yield fetch(y,{credentials:"same-origin"});if(v.ok)return v.arrayBuffer();throw Error(v.status+" : "+v.url)}));var g=console.log.bind(console),_=console.error.bind(console),$=g,x=_;Object.assign(r,f),f=null;var w,S,I,F,k,M,O,B,W,V,P,G,Z,H=r.wasmBinary,re=!1,te=y=>y.startsWith("file://");function Y(){return w.buffer!=F.buffer&&Ne(),F}function se(){return w.buffer!=F.buffer&&Ne(),k}function z(){return w.buffer!=F.buffer&&Ne(),M}function ne(){return w.buffer!=F.buffer&&Ne(),O}function U(){return w.buffer!=F.buffer&&Ne(),B}function ae(){return w.buffer!=F.buffer&&Ne(),W}function ge(){return w.buffer!=F.buffer&&Ne(),V}function we(){return w.buffer!=F.buffer&&Ne(),Z}if(l){let y=function(v){try{var C=v.data,T=C.yd;if(T==="load"){let D=[];self.onmessage=R=>D.push(R),self.startWorker=()=>{postMessage({yd:"loaded"});for(let R of D)y(R);self.onmessage=y};for(let R of C.Od)r[R]&&!r[R].proxy||(r[R]=(...L)=>{postMessage({yd:"callHandler",Nd:R,args:L})},R=="print"&&($=r[R]),R=="printErr"&&(x=r[R]));w=C.he,Ne(),Ie(C.ie)}else if(T==="run"){R7(C.xd),vv(C.xd,0,0,1,0,0),Vf(),gv(C.xd),Ae||(VD(),Ae=!0);try{j7(C.de,C.Fd)}catch(D){if(D!="unwind")throw D}}else C.target!=="setimmediate"&&(T==="checkMailbox"?Ae&&Gf():T&&(x(`worker: received unknown command ${T}`),x(C)))}catch(D){throw HD(),D}};var Se=y,Ie,Ae=!1;x=function(...v){v=v.join(" "),console.error(v)},self.alert=function(...v){postMessage({yd:"alert",text:v.join(" "),fe:em()})},self.onunhandledrejection=v=>{throw v.reason||v},self.onmessage=y}function Ne(){var y=w.buffer;r.HEAP8=F=new Int8Array(y),r.HEAP16=M=new Int16Array(y),r.HEAPU8=k=new Uint8Array(y),r.HEAPU16=O=new Uint16Array(y),r.HEAP32=B=new Int32Array(y),r.HEAPU32=W=new Uint32Array(y),r.HEAPF32=V=new Float32Array(y),r.HEAPF64=Z=new Float64Array(y),r.HEAP64=P=new BigInt64Array(y),r.HEAPU64=G=new BigUint64Array(y)}function ut(){l?startWorker(r):pe.Bb()}l||(w=new WebAssembly.Memory({initial:256,maximum:65536,shared:!0}),Ne());var At,Gt=0,Ut=null;function qt(){if(--Gt==0&&Ut){var y=Ut;Ut=null,y()}}function Ct(y){throw x(y="Aborted("+y+")"),re=!0,y=new WebAssembly.RuntimeError(y+". Build with -sASSERTIONS for more info."),n(y),y}function Yt(){return{a:{Ta:On,Va:Mo,W:O7,la:N7,b:B7,u:L7,R:U7,Za:W7,d:z7,pb:eD,g:P7,T:rD,Ga:oD,lb:sD,nb:aD,Ha:lD,Ea:cD,wb:uD,Da:dD,pa:pD,mb:fD,jb:mD,Fa:hD,kb:gD,Ma:V7,za:G7,eb:q7,cb:X7,ya:Z7,V:Q7,N:J7,db:eX,ma:aX,fb:lX,zb:cX,hb:uX,qb:dX,ab:pX,Aa:fX,yb:gv,Ja:mX,S:hX,Wa:gX,$:_X,G:$X,E:vX,m:fv,H:wX,B:IX,X:EX,J:TX,v:DX,O:FX,D:kX,t:AX,A:MX,z:RX,w:jX,r:OX,tb:NX,ub:PX,vb:BX,rb:FD,sb:kD,bb:AD,Oa:UX,La:VX,y:HX,ja:GX,Ba:qX,Ka:WX,qa:KX,Ia:XX,ib:YX,U:LX,fa:ZX,Sa:QX,gb:JX,Qa:eY,Pa:tY,Ab:OD,Ca:ND,ob:Fi,aa:PD,oa:BD,xb:LD,na:UD,$a:TY,ia:UY,sa:GY,ga:IY,da:RY,ua:VY,p:SY,e:lY,c:sY,ea:AY,f:cY,n:dY,k:$Y,Y:fY,ka:xY,j:CY,wa:kY,Ra:XY,ca:BY,Ua:KY,P:MY,K:hY,_:PY,Q:EY,Z:WY,x:mY,l:aY,va:NY,i:iY,h:pY,ra:qY,ta:HY,o:uY,q:gY,s:yY,I:_Y,C:wY,L:vY,xa:FY,_a:DY,F:LY,Ya:jY,ba:zY,M:bY,Xa:OY,ha:rY,a:w,Na:io}}}var un={1319426:()=>typeof wasmOffsetConverter<"u",1319483:(y,v,C,T,D)=>{if(r===void 0||!r.Bd)return 1;if((y=Dn(Number(y>>>0))).startsWith("./")&&(y=y.substring(2)),!(y=r.Bd.get(y)))return 2;if(v=Number(v>>>0),C=Number(C>>>0),T=Number(T>>>0),v+C>y.byteLength)return 3;try{let R=y.subarray(v,v+C);switch(D){case 0:se().set(R,T>>>0);break;case 1:r.$d(T,R);break;default:return 4}return 0}catch{return 4}},1320198:(y,v,C)=>{r.Jd(y,se().subarray(v>>>0,v+C>>>0))},1320261:()=>r.Yd(),1320302:y=>{r.Id(y)},1320338:()=>{r.Sd()},1320369:()=>{r.Td()},1320398:()=>{r.Xd()},1320423:y=>r.Rd(y),1320456:y=>r.Vd(y),1320488:(y,v,C)=>{r.Hd(Number(y),Number(v),Number(C),!0)},1320551:(y,v,C)=>{r.Hd(Number(y),Number(v),Number(C))},1320608:y=>{r.hc("Abs",y,void 0)},1320659:y=>{r.hc("Neg",y,void 0)},1320710:y=>{r.hc("Floor",y,void 0)},1320763:y=>{r.hc("Ceil",y,void 0)},1320815:y=>{r.hc("Reciprocal",y,void 0)},1320873:y=>{r.hc("Sqrt",y,void 0)},1320925:y=>{r.hc("Exp",y,void 0)},1320976:y=>{r.hc("Erf",y,void 0)},1321027:y=>{r.hc("Sigmoid",y,void 0)},1321082:(y,v,C)=>{r.hc("HardSigmoid",y,{alpha:v,beta:C})},1321161:y=>{r.hc("Log",y,void 0)},1321212:y=>{r.hc("Sin",y,void 0)},1321263:y=>{r.hc("Cos",y,void 0)},1321314:y=>{r.hc("Tan",y,void 0)},1321365:y=>{r.hc("Asin",y,void 0)},1321417:y=>{r.hc("Acos",y,void 0)},1321469:y=>{r.hc("Atan",y,void 0)},1321521:y=>{r.hc("Sinh",y,void 0)},1321573:y=>{r.hc("Cosh",y,void 0)},1321625:y=>{r.hc("Asinh",y,void 0)},1321678:y=>{r.hc("Acosh",y,void 0)},1321731:y=>{r.hc("Atanh",y,void 0)},1321784:y=>{r.hc("Tanh",y,void 0)},1321836:y=>{r.hc("Not",y,void 0)},1321887:(y,v,C)=>{r.hc("Clip",y,{min:v,max:C})},1321956:y=>{r.hc("Clip",y,void 0)},1322008:(y,v)=>{r.hc("Elu",y,{alpha:v})},1322066:y=>{r.hc("Gelu",y,void 0)},1322118:y=>{r.hc("Relu",y,void 0)},1322170:(y,v)=>{r.hc("LeakyRelu",y,{alpha:v})},1322234:(y,v)=>{r.hc("ThresholdedRelu",y,{alpha:v})},1322304:(y,v)=>{r.hc("Cast",y,{to:v})},1322362:y=>{r.hc("Add",y,void 0)},1322413:y=>{r.hc("Sub",y,void 0)},1322464:y=>{r.hc("Mul",y,void 0)},1322515:y=>{r.hc("Div",y,void 0)},1322566:y=>{r.hc("Pow",y,void 0)},1322617:y=>{r.hc("Equal",y,void 0)},1322670:y=>{r.hc("Greater",y,void 0)},1322725:y=>{r.hc("GreaterOrEqual",y,void 0)},1322787:y=>{r.hc("Less",y,void 0)},1322839:y=>{r.hc("LessOrEqual",y,void 0)},1322898:(y,v,C,T,D)=>{r.hc("ReduceMean",y,{keepDims:!!v,noopWithEmptyAxes:!!C,axes:T?Array.from(U().subarray(Number(T)>>>0,Number(D)>>>0)):[]})},1323073:(y,v,C,T,D)=>{r.hc("ReduceMax",y,{keepDims:!!v,noopWithEmptyAxes:!!C,axes:T?Array.from(U().subarray(Number(T)>>>0,Number(D)>>>0)):[]})},1323247:(y,v,C,T,D)=>{r.hc("ReduceMin",y,{keepDims:!!v,noopWithEmptyAxes:!!C,axes:T?Array.from(U().subarray(Number(T)>>>0,Number(D)>>>0)):[]})},1323421:(y,v,C,T,D)=>{r.hc("ReduceProd",y,{keepDims:!!v,noopWithEmptyAxes:!!C,axes:T?Array.from(U().subarray(Number(T)>>>0,Number(D)>>>0)):[]})},1323596:(y,v,C,T,D)=>{r.hc("ReduceSum",y,{keepDims:!!v,noopWithEmptyAxes:!!C,axes:T?Array.from(U().subarray(Number(T)>>>0,Number(D)>>>0)):[]})},1323770:(y,v,C,T,D)=>{r.hc("ReduceL1",y,{keepDims:!!v,noopWithEmptyAxes:!!C,axes:T?Array.from(U().subarray(Number(T)>>>0,Number(D)>>>0)):[]})},1323943:(y,v,C,T,D)=>{r.hc("ReduceL2",y,{keepDims:!!v,noopWithEmptyAxes:!!C,axes:T?Array.from(U().subarray(Number(T)>>>0,Number(D)>>>0)):[]})},1324116:(y,v,C,T,D)=>{r.hc("ReduceLogSum",y,{keepDims:!!v,noopWithEmptyAxes:!!C,axes:T?Array.from(U().subarray(Number(T)>>>0,Number(D)>>>0)):[]})},1324293:(y,v,C,T,D)=>{r.hc("ReduceSumSquare",y,{keepDims:!!v,noopWithEmptyAxes:!!C,axes:T?Array.from(U().subarray(Number(T)>>>0,Number(D)>>>0)):[]})},1324473:(y,v,C,T,D)=>{r.hc("ReduceLogSumExp",y,{keepDims:!!v,noopWithEmptyAxes:!!C,axes:T?Array.from(U().subarray(Number(T)>>>0,Number(D)>>>0)):[]})},1324653:y=>{r.hc("Where",y,void 0)},1324706:(y,v,C)=>{r.hc("Transpose",y,{perm:v?Array.from(U().subarray(Number(v)>>>0,Number(C)>>>0)):[]})},1324830:(y,v,C,T)=>{r.hc("DepthToSpace",y,{blocksize:v,mode:Dn(C),format:T?"NHWC":"NCHW"})},1324963:(y,v,C,T)=>{r.hc("DepthToSpace",y,{blocksize:v,mode:Dn(C),format:T?"NHWC":"NCHW"})},1325096:(y,v,C,T,D,R,L,J,le,he,Ee,Le,Qe,tn,co)=>{r.hc("ConvTranspose",y,{format:le?"NHWC":"NCHW",autoPad:v,dilations:[C],group:T,kernelShape:[D],pads:[R,L],strides:[J],wIsConst:()=>!!Y()[he>>>0],outputPadding:Ee?Array.from(U().subarray(Number(Ee)>>>0,Number(Le)>>>0)):[],outputShape:Qe?Array.from(U().subarray(Number(Qe)>>>0,Number(tn)>>>0)):[],activation:Dn(co)})},1325529:(y,v,C,T,D,R,L,J,le,he,Ee,Le,Qe,tn)=>{r.hc("ConvTranspose",y,{format:J?"NHWC":"NCHW",autoPad:v,dilations:Array.from(U().subarray(Number(C)>>>0,2+(Number(C)>>>0)>>>0)),group:T,kernelShape:Array.from(U().subarray(Number(D)>>>0,2+(Number(D)>>>0)>>>0)),pads:Array.from(U().subarray(Number(R)>>>0,4+(Number(R)>>>0)>>>0)),strides:Array.from(U().subarray(Number(L)>>>0,2+(Number(L)>>>0)>>>0)),wIsConst:()=>!!Y()[le>>>0],outputPadding:he?Array.from(U().subarray(Number(he)>>>0,Number(Ee)>>>0)):[],outputShape:Le?Array.from(U().subarray(Number(Le)>>>0,Number(Qe)>>>0)):[],activation:Dn(tn)})},1326190:(y,v,C,T,D,R,L,J,le,he,Ee,Le,Qe,tn,co)=>{r.hc("ConvTranspose",y,{format:le?"NHWC":"NCHW",autoPad:v,dilations:[C],group:T,kernelShape:[D],pads:[R,L],strides:[J],wIsConst:()=>!!Y()[he>>>0],outputPadding:Ee?Array.from(U().subarray(Number(Ee)>>>0,Number(Le)>>>0)):[],outputShape:Qe?Array.from(U().subarray(Number(Qe)>>>0,Number(tn)>>>0)):[],activation:Dn(co)})},1326623:(y,v,C,T,D,R,L,J,le,he,Ee,Le,Qe,tn)=>{r.hc("ConvTranspose",y,{format:J?"NHWC":"NCHW",autoPad:v,dilations:Array.from(U().subarray(Number(C)>>>0,2+(Number(C)>>>0)>>>0)),group:T,kernelShape:Array.from(U().subarray(Number(D)>>>0,2+(Number(D)>>>0)>>>0)),pads:Array.from(U().subarray(Number(R)>>>0,4+(Number(R)>>>0)>>>0)),strides:Array.from(U().subarray(Number(L)>>>0,2+(Number(L)>>>0)>>>0)),wIsConst:()=>!!Y()[le>>>0],outputPadding:he?Array.from(U().subarray(Number(he)>>>0,Number(Ee)>>>0)):[],outputShape:Le?Array.from(U().subarray(Number(Le)>>>0,Number(Qe)>>>0)):[],activation:Dn(tn)})},1327284:(y,v)=>{r.hc("GlobalAveragePool",y,{format:v?"NHWC":"NCHW"})},1327375:(y,v,C,T,D,R,L,J,le,he,Ee,Le,Qe,tn)=>{r.hc("AveragePool",y,{format:tn?"NHWC":"NCHW",auto_pad:v,ceil_mode:C,count_include_pad:T,storage_order:D,dilations:R?Array.from(U().subarray(Number(R)>>>0,Number(L)>>>0)):[],kernel_shape:J?Array.from(U().subarray(Number(J)>>>0,Number(le)>>>0)):[],pads:he?Array.from(U().subarray(Number(he)>>>0,Number(Ee)>>>0)):[],strides:Le?Array.from(U().subarray(Number(Le)>>>0,Number(Qe)>>>0)):[]})},1327854:(y,v)=>{r.hc("GlobalAveragePool",y,{format:v?"NHWC":"NCHW"})},1327945:(y,v,C,T,D,R,L,J,le,he,Ee,Le,Qe,tn)=>{r.hc("AveragePool",y,{format:tn?"NHWC":"NCHW",auto_pad:v,ceil_mode:C,count_include_pad:T,storage_order:D,dilations:R?Array.from(U().subarray(Number(R)>>>0,Number(L)>>>0)):[],kernel_shape:J?Array.from(U().subarray(Number(J)>>>0,Number(le)>>>0)):[],pads:he?Array.from(U().subarray(Number(he)>>>0,Number(Ee)>>>0)):[],strides:Le?Array.from(U().subarray(Number(Le)>>>0,Number(Qe)>>>0)):[]})},1328424:(y,v)=>{r.hc("GlobalMaxPool",y,{format:v?"NHWC":"NCHW"})},1328511:(y,v,C,T,D,R,L,J,le,he,Ee,Le,Qe,tn)=>{r.hc("MaxPool",y,{format:tn?"NHWC":"NCHW",auto_pad:v,ceil_mode:C,count_include_pad:T,storage_order:D,dilations:R?Array.from(U().subarray(Number(R)>>>0,Number(L)>>>0)):[],kernel_shape:J?Array.from(U().subarray(Number(J)>>>0,Number(le)>>>0)):[],pads:he?Array.from(U().subarray(Number(he)>>>0,Number(Ee)>>>0)):[],strides:Le?Array.from(U().subarray(Number(Le)>>>0,Number(Qe)>>>0)):[]})},1328986:(y,v)=>{r.hc("GlobalMaxPool",y,{format:v?"NHWC":"NCHW"})},1329073:(y,v,C,T,D,R,L,J,le,he,Ee,Le,Qe,tn)=>{r.hc("MaxPool",y,{format:tn?"NHWC":"NCHW",auto_pad:v,ceil_mode:C,count_include_pad:T,storage_order:D,dilations:R?Array.from(U().subarray(Number(R)>>>0,Number(L)>>>0)):[],kernel_shape:J?Array.from(U().subarray(Number(J)>>>0,Number(le)>>>0)):[],pads:he?Array.from(U().subarray(Number(he)>>>0,Number(Ee)>>>0)):[],strides:Le?Array.from(U().subarray(Number(Le)>>>0,Number(Qe)>>>0)):[]})},1329548:(y,v,C,T,D)=>{r.hc("Gemm",y,{alpha:v,beta:C,transA:T,transB:D})},1329652:y=>{r.hc("MatMul",y,void 0)},1329706:(y,v,C,T)=>{r.hc("ArgMax",y,{keepDims:!!v,selectLastIndex:!!C,axis:T})},1329814:(y,v,C,T)=>{r.hc("ArgMin",y,{keepDims:!!v,selectLastIndex:!!C,axis:T})},1329922:(y,v)=>{r.hc("Softmax",y,{axis:v})},1329985:(y,v)=>{r.hc("Concat",y,{axis:v})},1330045:(y,v,C,T,D)=>{r.hc("Split",y,{axis:v,numOutputs:C,splitSizes:T?Array.from(U().subarray(Number(T)>>>0,Number(D)>>>0)):[]})},1330201:y=>{r.hc("Expand",y,void 0)},1330255:(y,v)=>{r.hc("Gather",y,{axis:Number(v)})},1330326:(y,v)=>{r.hc("GatherElements",y,{axis:Number(v)})},1330405:(y,v)=>{r.hc("GatherND",y,{batch_dims:Number(v)})},1330484:(y,v,C,T,D,R,L,J,le,he,Ee)=>{r.hc("Resize",y,{antialias:v,axes:C?Array.from(U().subarray(Number(C)>>>0,Number(T)>>>0)):[],coordinateTransformMode:Dn(D),cubicCoeffA:R,excludeOutside:L,extrapolationValue:J,keepAspectRatioPolicy:Dn(le),mode:Dn(he),nearestMode:Dn(Ee)})},1330846:(y,v,C,T,D,R,L)=>{r.hc("Slice",y,{starts:v?Array.from(U().subarray(Number(v)>>>0,Number(C)>>>0)):[],ends:T?Array.from(U().subarray(Number(T)>>>0,Number(D)>>>0)):[],axes:R?Array.from(U().subarray(Number(R)>>>0,Number(L)>>>0)):[]})},1331110:y=>{r.hc("Tile",y,void 0)},1331162:(y,v,C)=>{r.hc("InstanceNormalization",y,{epsilon:v,format:C?"NHWC":"NCHW"})},1331276:(y,v,C)=>{r.hc("InstanceNormalization",y,{epsilon:v,format:C?"NHWC":"NCHW"})},1331390:y=>{r.hc("Range",y,void 0)},1331443:(y,v)=>{r.hc("Einsum",y,{equation:Dn(v)})},1331524:(y,v,C,T,D)=>{r.hc("Pad",y,{mode:v,value:C,pads:T?Array.from(U().subarray(Number(T)>>>0,Number(D)>>>0)):[]})},1331667:(y,v,C,T,D,R)=>{r.hc("BatchNormalization",y,{epsilon:v,momentum:C,spatial:!!D,trainingMode:!!T,format:R?"NHWC":"NCHW"})},1331836:(y,v,C,T,D,R)=>{r.hc("BatchNormalization",y,{epsilon:v,momentum:C,spatial:!!D,trainingMode:!!T,format:R?"NHWC":"NCHW"})},1332005:(y,v,C)=>{r.hc("CumSum",y,{exclusive:Number(v),reverse:Number(C)})},1332102:(y,v,C)=>{r.hc("DequantizeLinear",y,{axis:v,blockSize:C})},1332192:(y,v,C,T,D)=>{r.hc("GridSample",y,{align_corners:v,mode:Dn(C),padding_mode:Dn(T),format:D?"NHWC":"NCHW"})},1332362:(y,v,C,T,D)=>{r.hc("GridSample",y,{align_corners:v,mode:Dn(C),padding_mode:Dn(T),format:D?"NHWC":"NCHW"})},1332532:(y,v)=>{r.hc("ScatterND",y,{reduction:Dn(v)})},1332617:(y,v,C,T,D,R,L,J,le)=>{r.hc("Attention",y,{numHeads:v,isUnidirectional:C,maskFilterValue:T,scale:D,doRotary:R,qkvHiddenSizes:L?Array.from(U().subarray(Number(J)>>>0,Number(J)+L>>>0)):[],pastPresentShareBuffer:!!le})},1332889:y=>{r.hc("BiasAdd",y,void 0)},1332944:y=>{r.hc("BiasSplitGelu",y,void 0)},1333005:y=>{r.hc("FastGelu",y,void 0)},1333061:(y,v,C,T,D,R,L,J,le,he,Ee,Le,Qe,tn,co,Bu)=>{r.hc("Conv",y,{format:Le?"NHWC":"NCHW",auto_pad:v,dilations:C?Array.from(U().subarray(Number(C)>>>0,Number(T)>>>0)):[],group:D,kernel_shape:R?Array.from(U().subarray(Number(R)>>>0,Number(L)>>>0)):[],pads:J?Array.from(U().subarray(Number(J)>>>0,Number(le)>>>0)):[],strides:he?Array.from(U().subarray(Number(he)>>>0,Number(Ee)>>>0)):[],w_is_const:()=>!!Y()[Number(Qe)>>>0],activation:Dn(tn),activation_params:co?Array.from(ge().subarray(Number(co)>>>0,Number(Bu)>>>0)):[]})},1333645:y=>{r.hc("Gelu",y,void 0)},1333697:(y,v,C,T,D,R,L,J,le)=>{r.hc("GroupQueryAttention",y,{numHeads:v,kvNumHeads:C,scale:T,softcap:D,doRotary:R,rotaryInterleaved:L,smoothSoftmax:J,localWindowSize:le})},1333914:(y,v,C,T)=>{r.hc("LayerNormalization",y,{axis:v,epsilon:C,simplified:!!T})},1334025:(y,v,C,T)=>{r.hc("LayerNormalization",y,{axis:v,epsilon:C,simplified:!!T})},1334136:(y,v,C,T,D,R)=>{r.hc("MatMulNBits",y,{k:v,n:C,accuracyLevel:T,bits:D,blockSize:R})},1334263:(y,v,C,T,D,R)=>{r.hc("MultiHeadAttention",y,{numHeads:v,isUnidirectional:C,maskFilterValue:T,scale:D,doRotary:R})},1334422:(y,v)=>{r.hc("QuickGelu",y,{alpha:v})},1334486:(y,v,C,T,D)=>{r.hc("RotaryEmbedding",y,{interleaved:!!v,numHeads:C,rotaryEmbeddingDim:T,scale:D})},1334625:(y,v,C)=>{r.hc("SkipLayerNormalization",y,{epsilon:v,simplified:!!C})},1334727:(y,v,C)=>{r.hc("SkipLayerNormalization",y,{epsilon:v,simplified:!!C})},1334829:(y,v,C,T)=>{r.hc("GatherBlockQuantized",y,{gatherAxis:v,quantizeAxis:C,blockSize:T})},1334950:y=>{r.Wd(y)},1334984:(y,v)=>r.Zd(Number(y),Number(v),r.Cd.be,r.Cd.errors)};function Mo(y,v,C){return SD(()=>ie(this,null,function*(){yield r.Ud(Number(y),Number(v),Number(C))}))}function On(){return typeof wasmOffsetConverter<"u"}class jr{name="ExitStatus";constructor(v){this.message=`Program terminated with exit(${v})`,this.status=v}}var dr=y=>{y.terminate(),y.onmessage=()=>{}},Ro=[],Or=y=>{so.length==0&&(Q1(),Z1(so[0]));var v=so.pop();if(!v)return 6;ki.push(v),ao[y.xd]=v,v.xd=y.xd;var C={yd:"run",de:y.ce,Fd:y.Fd,xd:y.xd};return v.postMessage(C,y.Ld),0},Xn=0,Mt=(y,v,...C)=>{for(var T=2*C.length,D=Ye(),R=Sv(8*T),L=R>>>3,J=0;J<C.length;J++){var le=C[J];typeof le=="bigint"?(P[L+2*J]=1n,P[L+2*J+1]=le):(P[L+2*J]=0n,we()[L+2*J+1>>>0]=le)}return y=GD(y,0,T,R,v),Xe(D),y};function io(y){if(l)return Mt(0,1,y);if(I=y,!(0<Xn)){for(var v of ki)dr(v);for(v of so)dr(v);so=[],ki=[],ao={},re=!0}m(0,new jr(y))}function jo(y){if(l)return Mt(1,0,y);Fi(y)}var Fi=y=>{if(I=y,l)throw jo(y),"unwind";io(y)},so=[],ki=[],Wf=[],ao={},zf=y=>{var v=y.xd;delete ao[v],so.push(y),ki.splice(ki.indexOf(y),1),y.xd=0,qD(v)};function Vf(){Wf.forEach(y=>y())}var Z1=y=>new Promise(v=>{y.onmessage=D=>{var R=(D=D.data).yd;if(D.Ed&&D.Ed!=em()){var L=ao[D.Ed];L?L.postMessage(D,D.Ld):x(`Internal error! Worker sent a message "${R}" to target pthread ${D.Ed}, but that thread no longer exists!`)}else R==="checkMailbox"?Gf():R==="spawnThread"?Or(D):R==="cleanupThread"?zf(ao[D.ee]):R==="loaded"?(y.loaded=!0,v(y)):R==="alert"?alert(`Thread ${D.fe}: ${D.text}`):D.target==="setimmediate"?y.postMessage(D):R==="callHandler"?r[D.Nd](...D.args):R&&x(`worker sent an unknown command ${R}`)},y.onerror=D=>{throw x(`worker sent an error! ${D.filename}:${D.lineno}: ${D.message}`),D};var C,T=[];for(C of[])r.propertyIsEnumerable(C)&&T.push(C);y.postMessage({yd:"load",Od:T,he:w,ie:S})});function Q1(){var y=new Worker(import.meta.url.startsWith("file:")?new URL("ort.bundle.min.mjs",import.meta.url):new URL(import.meta.url),{type:"module",workerData:"em-pthread",name:"em-pthread"});so.push(y)}var R7=y=>{Ne();var v=ae()[y+52>>>2>>>0];y=ae()[y+56>>>2>>>0],YD(v,v-y),Xe(v)},j7=(y,v)=>{Xn=0,y=Cv(y,v),0<Xn?I=y:wv(y)},Hf=[];function O7(y){var v=new lv(y>>>=0);if(Y()[v.wd+12>>>0]==0){var C=1;Y()[v.wd+12>>>0]=C}return C=0,Y()[v.wd+13>>>0]=C,Hf.push(v),QD(y),eF(y)}var jl=0,N7=()=>{Ze(0,0);var y=Hf.pop();ZD(y.Gd),jl=0};class lv{constructor(v){this.Gd=v,this.wd=v-24}}function P7(y){throw jl||=y>>>0,jl}var cv=y=>{var v=jl;if(!v)return Pu(0),0;var C=new lv(v);ae()[C.wd+16>>>2>>>0]=v;var T=ae()[C.wd+4>>>2>>>0];if(!T)return Pu(0),v;for(var D of y){if(D===0||D===T)break;if(JD(D,T,C.wd+16))return Pu(D),v}return Pu(T),v};function B7(){return cv([])}function L7(y){return cv([y>>>0])}function U7(y,v){return cv([y>>>0,v>>>0])}var W7=()=>{var y=Hf.pop();y||Ct("no exception to throw");var v=y.Gd;if(Y()[y.wd+13>>>0]==0){Hf.push(y);var C=1;Y()[y.wd+13>>>0]=C,C=0,Y()[y.wd+12>>>0]=C}throw jl=v};function z7(y,v,C){var T=new lv(y>>>=0);throw v>>>=0,C>>>=0,ae()[T.wd+16>>>2>>>0]=0,ae()[T.wd+4>>>2>>>0]=v,ae()[T.wd+8>>>2>>>0]=C,jl=y}function J1(y,v,C,T){return l?Mt(2,1,y,v,C,T):eD(y,v,C,T)}function eD(y,v,C,T){if(y>>>=0,C>>>=0,T>>>=0,c===void 0)return 6;var D=[];return l&&D.length===0?J1(y,v>>>=0,C,T):(y={ce:C,xd:y,Fd:T,Ld:D},l?(y.yd="spawnThread",postMessage(y,D),0):Or(y))}var tD=typeof TextDecoder<"u"?new TextDecoder:void 0,nD=(y,v=0,C=NaN)=>{var T=(v>>>=0)+C;for(C=v;y[C]&&!(C>=T);)++C;if(16<C-v&&y.buffer&&tD)return tD.decode(y.buffer instanceof ArrayBuffer?y.subarray(v,C):y.slice(v,C));for(T="";v<C;){var D=y[v++];if(128&D){var R=63&y[v++];if((224&D)==192)T+=String.fromCharCode((31&D)<<6|R);else{var L=63&y[v++];65536>(D=(240&D)==224?(15&D)<<12|R<<6|L:(7&D)<<18|R<<12|L<<6|63&y[v++])?T+=String.fromCharCode(D):(D-=65536,T+=String.fromCharCode(55296|D>>10,56320|1023&D))}}else T+=String.fromCharCode(D)}return T},Dn=(y,v)=>(y>>>=0)?nD(se(),y,v):"";function rD(y,v,C){return l?Mt(3,1,y,v,C):0}function oD(y,v){if(l)return Mt(4,1,y,v)}var iD=y=>{for(var v=0,C=0;C<y.length;++C){var T=y.charCodeAt(C);127>=T?v++:2047>=T?v+=2:55296<=T&&57343>=T?(v+=4,++C):v+=3}return v},Ol=(y,v,C)=>{var T=se();if(v>>>=0,0<C){var D=v;C=v+C-1;for(var R=0;R<y.length;++R){var L=y.charCodeAt(R);if(55296<=L&&57343>=L&&(L=65536+((1023&L)<<10)|1023&y.charCodeAt(++R)),127>=L){if(v>=C)break;T[v++>>>0]=L}else{if(2047>=L){if(v+1>=C)break;T[v++>>>0]=192|L>>6}else{if(65535>=L){if(v+2>=C)break;T[v++>>>0]=224|L>>12}else{if(v+3>=C)break;T[v++>>>0]=240|L>>18,T[v++>>>0]=128|L>>12&63}T[v++>>>0]=128|L>>6&63}T[v++>>>0]=128|63&L}}T[v>>>0]=0,y=v-D}else y=0;return y};function sD(y,v){if(l)return Mt(5,1,y,v)}function aD(y,v,C){if(l)return Mt(6,1,y,v,C)}function lD(y,v,C){return l?Mt(7,1,y,v,C):0}function cD(y,v){if(l)return Mt(8,1,y,v)}function uD(y,v,C){if(l)return Mt(9,1,y,v,C)}function dD(y,v,C,T){if(l)return Mt(10,1,y,v,C,T)}function pD(y,v,C,T){if(l)return Mt(11,1,y,v,C,T)}function fD(y,v,C,T){if(l)return Mt(12,1,y,v,C,T)}function mD(y){if(l)return Mt(13,1,y)}function hD(y,v){if(l)return Mt(14,1,y,v)}function gD(y,v,C){if(l)return Mt(15,1,y,v,C)}var bD,us,V7=()=>Ct(""),ii=y=>{for(var v="";se()[y>>>0];)v+=bD[se()[y++>>>0]];return v},uv={},dv={},H7={};function Ai(y,v,C={}){return function(T,D,R={}){var L=D.name;if(!T)throw new us(`type "${L}" must have a positive integer typeid pointer`);if(dv.hasOwnProperty(T)){if(R.Pd)return;throw new us(`Cannot register type '${L}' twice`)}dv[T]=D,delete H7[T],uv.hasOwnProperty(T)&&(D=uv[T],delete uv[T],D.forEach(J=>J()))}(y,v,C)}var yD=(y,v,C)=>{switch(v){case 1:return C?T=>Y()[T>>>0]:T=>se()[T>>>0];case 2:return C?T=>z()[T>>>1>>>0]:T=>ne()[T>>>1>>>0];case 4:return C?T=>U()[T>>>2>>>0]:T=>ae()[T>>>2>>>0];case 8:return C?T=>P[T>>>3]:T=>G[T>>>3];default:throw new TypeError(`invalid integer width (${v}): ${y}`)}};function G7(y,v,C){C>>>=0,Ai(y>>>=0,{name:v=ii(v>>>0),fromWireType:T=>T,toWireType:function(T,D){if(typeof D!="bigint"&&typeof D!="number")throw D=D===null?"null":(T=typeof D)=="object"||T==="array"||T==="function"?D.toString():""+D,new TypeError(`Cannot convert "${D}" to ${this.name}`);return typeof D=="number"&&(D=BigInt(D)),D},zd:ds,readValueFromPointer:yD(v,C,v.indexOf("u")==-1),Ad:null})}var ds=8;function q7(y,v,C,T){Ai(y>>>=0,{name:v=ii(v>>>0),fromWireType:function(D){return!!D},toWireType:function(D,R){return R?C:T},zd:ds,readValueFromPointer:function(D){return this.fromWireType(se()[D>>>0])},Ad:null})}var pv=[],Mi=[];function fv(y){9<(y>>>=0)&&--Mi[y+1]==0&&(Mi[y]=void 0,pv.push(y))}var qr=y=>{if(!y)throw new us("Cannot use deleted val. handle = "+y);return Mi[y]},lo=y=>{switch(y){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:let v=pv.pop()||Mi.length;return Mi[v]=y,Mi[v+1]=1,v}};function mv(y){return this.fromWireType(ae()[y>>>2>>>0])}var K7={name:"emscripten::val",fromWireType:y=>{var v=qr(y);return fv(y),v},toWireType:(y,v)=>lo(v),zd:ds,readValueFromPointer:mv,Ad:null};function X7(y){return Ai(y>>>0,K7)}var Y7=(y,v)=>{switch(v){case 4:return function(C){return this.fromWireType(ge()[C>>>2>>>0])};case 8:return function(C){return this.fromWireType(we()[C>>>3>>>0])};default:throw new TypeError(`invalid float width (${v}): ${y}`)}};function Z7(y,v,C){C>>>=0,Ai(y>>>=0,{name:v=ii(v>>>0),fromWireType:T=>T,toWireType:(T,D)=>D,zd:ds,readValueFromPointer:Y7(v,C),Ad:null})}function Q7(y,v,C,T,D){if(y>>>=0,C>>>=0,v=ii(v>>>0),D===-1&&(D=4294967295),D=J=>J,T===0){var R=32-8*C;D=J=>J<<R>>>R}var L=v.includes("unsigned")?function(J,le){return le>>>0}:function(J,le){return le};Ai(y,{name:v,fromWireType:D,toWireType:L,zd:ds,readValueFromPointer:yD(v,C,T!==0),Ad:null})}function J7(y,v,C){function T(R){var L=ae()[R>>>2>>>0];return R=ae()[R+4>>>2>>>0],new D(Y().buffer,R,L)}var D=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][v];Ai(y>>>=0,{name:C=ii(C>>>0),fromWireType:T,zd:ds,readValueFromPointer:T},{Pd:!0})}function eX(y,v){Ai(y>>>=0,{name:v=ii(v>>>0),fromWireType:function(C){for(var T,D=ae()[C>>>2>>>0],R=C+4,L=R,J=0;J<=D;++J){var le=R+J;J!=D&&se()[le>>>0]!=0||(L=Dn(L,le-L),T===void 0?T=L:(T+="\0",T+=L),L=le+1)}return ai(C),T},toWireType:function(C,T){T instanceof ArrayBuffer&&(T=new Uint8Array(T));var D=typeof T=="string";if(!(D||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int8Array))throw new us("Cannot pass non-string to std::string");var R=D?iD(T):T.length,L=tm(4+R+1),J=L+4;if(ae()[L>>>2>>>0]=R,D)Ol(T,J,R+1);else if(D)for(D=0;D<R;++D){var le=T.charCodeAt(D);if(255<le)throw ai(L),new us("String has UTF-16 code units that do not fit in 8 bits");se()[J+D>>>0]=le}else for(D=0;D<R;++D)se()[J+D>>>0]=T[D];return C!==null&&C.push(ai,L),L},zd:ds,readValueFromPointer:mv,Ad(C){ai(C)}})}var _D=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,tX=(y,v)=>{for(var C=y>>1,T=C+v/2;!(C>=T)&&ne()[C>>>0];)++C;if(32<(C<<=1)-y&&_D)return _D.decode(se().slice(y,C));for(C="",T=0;!(T>=v/2);++T){var D=z()[y+2*T>>>1>>>0];if(D==0)break;C+=String.fromCharCode(D)}return C},nX=(y,v,C)=>{if(C??=2147483647,2>C)return 0;var T=v;C=(C-=2)<2*y.length?C/2:y.length;for(var D=0;D<C;++D){var R=y.charCodeAt(D);z()[v>>>1>>>0]=R,v+=2}return z()[v>>>1>>>0]=0,v-T},rX=y=>2*y.length,oX=(y,v)=>{for(var C=0,T="";!(C>=v/4);){var D=U()[y+4*C>>>2>>>0];if(D==0)break;++C,65536<=D?(D-=65536,T+=String.fromCharCode(55296|D>>10,56320|1023&D)):T+=String.fromCharCode(D)}return T},iX=(y,v,C)=>{if(v>>>=0,C??=2147483647,4>C)return 0;var T=v;C=T+C-4;for(var D=0;D<y.length;++D){var R=y.charCodeAt(D);if(55296<=R&&57343>=R&&(R=65536+((1023&R)<<10)|1023&y.charCodeAt(++D)),U()[v>>>2>>>0]=R,(v+=4)+4>C)break}return U()[v>>>2>>>0]=0,v-T},sX=y=>{for(var v=0,C=0;C<y.length;++C){var T=y.charCodeAt(C);55296<=T&&57343>=T&&++C,v+=4}return v};function aX(y,v,C){if(y>>>=0,v>>>=0,C=ii(C>>>=0),v===2)var T=tX,D=nX,R=rX,L=J=>ne()[J>>>1>>>0];else v===4&&(T=oX,D=iX,R=sX,L=J=>ae()[J>>>2>>>0]);Ai(y,{name:C,fromWireType:J=>{for(var le,he=ae()[J>>>2>>>0],Ee=J+4,Le=0;Le<=he;++Le){var Qe=J+4+Le*v;Le!=he&&L(Qe)!=0||(Ee=T(Ee,Qe-Ee),le===void 0?le=Ee:(le+="\0",le+=Ee),Ee=Qe+v)}return ai(J),le},toWireType:(J,le)=>{if(typeof le!="string")throw new us(`Cannot pass non-string to C++ string type ${C}`);var he=R(le),Ee=tm(4+he+v);return ae()[Ee>>>2>>>0]=he/v,D(le,Ee+4,he+v),J!==null&&J.push(ai,Ee),Ee},zd:ds,readValueFromPointer:mv,Ad(J){ai(J)}})}function lX(y,v){Ai(y>>>=0,{Qd:!0,name:v=ii(v>>>0),zd:0,fromWireType:()=>{},toWireType:()=>{}})}function cX(y){vv(y>>>0,!s,1,!i,131072,!1),Vf()}var hv=y=>{if(!re)try{if(y(),!(0<Xn))try{l?wv(I):Fi(I)}catch(v){v instanceof jr||v=="unwind"||m(0,v)}}catch(v){v instanceof jr||v=="unwind"||m(0,v)}};function gv(y){y>>>=0,typeof Atomics.ge=="function"&&(Atomics.ge(U(),y>>>2,y).value.then(Gf),y+=128,Atomics.store(U(),y>>>2,1))}var Gf=()=>{var y=em();y&&(gv(y),hv(XD))};function uX(y,v){(y>>>=0)==v>>>0?setTimeout(Gf):l?postMessage({Ed:y,yd:"checkMailbox"}):(y=ao[y])&&y.postMessage({yd:"checkMailbox"})}var bv=[];function dX(y,v,C,T,D){for(v>>>=0,T/=2,bv.length=T,C=D>>>0>>>3,D=0;D<T;D++)bv[D]=P[C+2*D]?P[C+2*D+1]:we()[C+2*D+1>>>0];return(v?un[v]:oY[y])(...bv)}var pX=()=>{Xn=0};function fX(y){y>>>=0,l?postMessage({yd:"cleanupThread",ee:y}):zf(ao[y])}function mX(y){}var qf=(y,v)=>{var C=dv[y];if(C===void 0)throw y=zD(y),C=ii(y),ai(y),new us(`${v} has unknown type ${C}`);return C},$D=(y,v,C)=>{var T=[];return y=y.toWireType(T,C),T.length&&(ae()[v>>>2>>>0]=lo(T)),y};function hX(y,v,C){return v>>>=0,C>>>=0,y=qr(y>>>0),v=qf(v,"emval::as"),$D(v,C,y)}function gX(y,v){return v>>>=0,y=qr(y>>>0),(v=qf(v,"emval::as")).toWireType(null,y)}var Kf=y=>{try{y()}catch(v){Ct(v)}},ps=0,si=null,xD=0,Xf=[],vD={},wD={},bX=0,yv=null,yX=[];function SD(y){return function(v){if(!re){if(ps===0){var C=!1,T=!1;v((D=0)=>{if(!re&&(xD=D,C=!0,T)){ps=2,Kf(()=>qF(si)),typeof MainLoop<"u"&&MainLoop.Md&&MainLoop.resume(),D=!1;try{var R=function(){var le=U()[si+8>>>2>>>0];return le=pe[wD[le]],--Xn,le()}()}catch(le){R=le,D=!0}var L=!1;if(!si){var J=yv;J&&(yv=null,(D?J.reject:J.resolve)(R),L=!0)}if(D&&!L)throw R}}),T=!0,C||(ps=1,si=function(){var D=tm(65548),R=D+12;ae()[D>>>2>>>0]=R,ae()[D+4>>>2>>>0]=R+65536,R=Xf[0];var L=vD[R];return L===void 0&&(L=bX++,vD[R]=L,wD[L]=R),R=L,U()[D+8>>>2>>>0]=R,D}(),typeof MainLoop<"u"&&MainLoop.Md&&MainLoop.pause(),Kf(()=>HF(si)))}else ps===2?(ps=0,Kf(KF),ai(si),si=null,yX.forEach(hv)):Ct(`invalid state: ${ps}`);return xD}}(v=>{y().then(v)})}function _X(y){return y>>>=0,SD(()=>ie(this,null,function*(){var v=yield qr(y);return lo(v)}))}var Yf=[];function $X(y,v,C,T){return C>>>=0,T>>>=0,(y=Yf[y>>>0])(null,v=qr(v>>>0),C,T)}var xX={},Zf=y=>{var v=xX[y];return v===void 0?ii(y):v};function vX(y,v,C,T,D){return C>>>=0,T>>>=0,D>>>=0,(y=Yf[y>>>0])(v=qr(v>>>0),v[C=Zf(C)],T,D)}var CD=()=>typeof globalThis=="object"?globalThis:Function("return this")();function wX(y){return(y>>>=0)==0?lo(CD()):(y=Zf(y),lo(CD()[y]))}var SX=y=>{var v=Yf.length;return Yf.push(y),v},CX=(y,v)=>{for(var C=Array(y),T=0;T<y;++T)C[T]=qf(ae()[v+4*T>>>2>>>0],"parameter "+T);return C},ID=(y,v)=>Object.defineProperty(v,"name",{value:y});function IX(y,v,C){var T=(v=CX(y,v>>>0)).shift();y--;var D=`return function (obj, func, destructorsRef, args) {
`,R=0,L=[];C===0&&L.push("obj");for(var J=["retType"],le=[T],he=0;he<y;++he)L.push("arg"+he),J.push("argType"+he),le.push(v[he]),D+=`  var arg${he} = argType${he}.readValueFromPointer(args${R?"+"+R:""});
`,R+=v[he].zd;return D+=`  var rv = ${C===1?"new func":"func.call"}(${L.join(", ")});
`,T.Qd||(J.push("emval_returnValue"),le.push($D),D+=`  return emval_returnValue(retType, destructorsRef, rv);
`),J.push(D+`};
`),y=function(Ee){var Le=Function;if(!(Le instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof Le} which is not a function`);var Qe=ID(Le.name||"unknownFunctionName",function(){});return Qe.prototype=Le.prototype,Qe=new Qe,(Ee=Le.apply(Qe,Ee))instanceof Object?Ee:Qe}(J)(...le),C=`methodCaller<(${v.map(Ee=>Ee.name).join(", ")}) => ${T.name}>`,SX(ID(C,y))}function EX(y){return y=Zf(y>>>0),lo(r[y])}function TX(y,v){return v>>>=0,y=qr(y>>>0),v=qr(v),lo(y[v])}function DX(y){9<(y>>>=0)&&(Mi[y+1]+=1)}function FX(){return lo([])}function kX(y){y=qr(y>>>0);for(var v=Array(y.length),C=0;C<y.length;C++)v[C]=y[C];return lo(v)}function AX(y){return lo(Zf(y>>>0))}function MX(){return lo({})}function RX(y){for(var v=qr(y>>>=0);v.length;){var C=v.pop();v.pop()(C)}fv(y)}function jX(y,v,C){v>>>=0,C>>>=0,y=qr(y>>>0),v=qr(v),C=qr(C),y[v]=C}function OX(y,v){return v>>>=0,y=(y=qf(y>>>0,"_emval_take_value")).readValueFromPointer(v),lo(y)}function NX(y,v){y=-9007199254740992>y||9007199254740992<y?NaN:Number(y),v>>>=0,y=new Date(1e3*y),U()[v>>>2>>>0]=y.getUTCSeconds(),U()[v+4>>>2>>>0]=y.getUTCMinutes(),U()[v+8>>>2>>>0]=y.getUTCHours(),U()[v+12>>>2>>>0]=y.getUTCDate(),U()[v+16>>>2>>>0]=y.getUTCMonth(),U()[v+20>>>2>>>0]=y.getUTCFullYear()-1900,U()[v+24>>>2>>>0]=y.getUTCDay(),y=(y.getTime()-Date.UTC(y.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,U()[v+28>>>2>>>0]=y}var ED=y=>y%4==0&&(y%100!=0||y%400==0),TD=[0,31,60,91,121,152,182,213,244,274,305,335],DD=[0,31,59,90,120,151,181,212,243,273,304,334];function PX(y,v){y=-9007199254740992>y||9007199254740992<y?NaN:Number(y),v>>>=0,y=new Date(1e3*y),U()[v>>>2>>>0]=y.getSeconds(),U()[v+4>>>2>>>0]=y.getMinutes(),U()[v+8>>>2>>>0]=y.getHours(),U()[v+12>>>2>>>0]=y.getDate(),U()[v+16>>>2>>>0]=y.getMonth(),U()[v+20>>>2>>>0]=y.getFullYear()-1900,U()[v+24>>>2>>>0]=y.getDay();var C=(ED(y.getFullYear())?TD:DD)[y.getMonth()]+y.getDate()-1|0;U()[v+28>>>2>>>0]=C,U()[v+36>>>2>>>0]=-60*y.getTimezoneOffset(),C=new Date(y.getFullYear(),6,1).getTimezoneOffset();var T=new Date(y.getFullYear(),0,1).getTimezoneOffset();y=0|(C!=T&&y.getTimezoneOffset()==Math.min(T,C)),U()[v+32>>>2>>>0]=y}function BX(y){y>>>=0;var v=new Date(U()[y+20>>>2>>>0]+1900,U()[y+16>>>2>>>0],U()[y+12>>>2>>>0],U()[y+8>>>2>>>0],U()[y+4>>>2>>>0],U()[y>>>2>>>0],0),C=U()[y+32>>>2>>>0],T=v.getTimezoneOffset(),D=new Date(v.getFullYear(),6,1).getTimezoneOffset(),R=new Date(v.getFullYear(),0,1).getTimezoneOffset(),L=Math.min(R,D);return 0>C?U()[y+32>>>2>>>0]=+(D!=R&&L==T):0<C!=(L==T)&&(D=Math.max(R,D),v.setTime(v.getTime()+6e4*((0<C?L:D)-T))),U()[y+24>>>2>>>0]=v.getDay(),C=(ED(v.getFullYear())?TD:DD)[v.getMonth()]+v.getDate()-1|0,U()[y+28>>>2>>>0]=C,U()[y>>>2>>>0]=v.getSeconds(),U()[y+4>>>2>>>0]=v.getMinutes(),U()[y+8>>>2>>>0]=v.getHours(),U()[y+12>>>2>>>0]=v.getDate(),U()[y+16>>>2>>>0]=v.getMonth(),U()[y+20>>>2>>>0]=v.getYear(),y=v.getTime(),BigInt(isNaN(y)?-1:y/1e3)}function FD(y,v,C,T,D,R,L){return l?Mt(16,1,y,v,C,T,D,R,L):-52}function kD(y,v,C,T,D,R){if(l)return Mt(17,1,y,v,C,T,D,R)}var Nu={},LX=()=>performance.timeOrigin+performance.now();function AD(y,v){if(l)return Mt(18,1,y,v);if(Nu[y]&&(clearTimeout(Nu[y].id),delete Nu[y]),!v)return 0;var C=setTimeout(()=>{delete Nu[y],hv(()=>KD(y,performance.timeOrigin+performance.now()))},v);return Nu[y]={id:C,ke:v},0}function UX(y,v,C,T){y>>>=0,v>>>=0,C>>>=0,T>>>=0;var D=new Date().getFullYear(),R=new Date(D,0,1).getTimezoneOffset();D=new Date(D,6,1).getTimezoneOffset();var L=Math.max(R,D);ae()[y>>>2>>>0]=60*L,U()[v>>>2>>>0]=+(R!=D),y=(v=J=>{var le=Math.abs(J);return`UTC${0<=J?"-":"+"}${String(Math.floor(le/60)).padStart(2,"0")}${String(le%60).padStart(2,"0")}`})(R),v=v(D),D<R?(Ol(y,C,17),Ol(v,T,17)):(Ol(y,T,17),Ol(v,C,17))}var WX=()=>Date.now(),zX=1;function VX(y,v,C){if(!(0<=y&&3>=y))return 28;if(y===0)y=Date.now();else{if(!zX)return 52;y=performance.timeOrigin+performance.now()}return P[C>>>0>>>3]=BigInt(Math.round(1e6*y)),0}var _v=[],MD=(y,v)=>{_v.length=0;for(var C;C=se()[y++>>>0];){var T=C!=105;v+=(T&=C!=112)&&v%8?4:0,_v.push(C==112?ae()[v>>>2>>>0]:C==106?P[v>>>3]:C==105?U()[v>>>2>>>0]:we()[v>>>3>>>0]),v+=T?8:4}return _v};function HX(y,v,C){return y>>>=0,v=MD(v>>>0,C>>>0),un[y](...v)}function GX(y,v,C){return y>>>=0,v=MD(v>>>0,C>>>0),un[y](...v)}var qX=()=>{};function KX(y,v){return x(Dn(y>>>0,v>>>0))}var XX=()=>{throw Xn+=1,"unwind"};function YX(){return 4294901760}var ZX=()=>navigator.hardwareConcurrency;function QX(){return Ct("Cannot use emscripten_pc_get_function without -sUSE_OFFSET_CONVERTER"),0}function JX(y){y>>>=0;var v=se().length;if(y<=v||4294901760<y)return!1;for(var C=1;4>=C;C*=2){var T=v*(1+.2/C);T=Math.min(T,y+100663296);e:{T=(Math.min(4294901760,65536*Math.ceil(Math.max(y,T)/65536))-w.buffer.byteLength+65535)/65536|0;try{w.grow(T),Ne();var D=1;break e}catch{}D=void 0}if(D)return!0}return!1}var Qf=()=>(Ct("Cannot use convertFrameToPC (needed by __builtin_return_address) without -sUSE_OFFSET_CONVERTER"),0),Nl={},RD=y=>{y.forEach(v=>{var C=Qf();C&&(Nl[C]=v)})};function eY(){var y=Error().stack.toString().split(`
`);return y[0]=="Error"&&y.shift(),RD(y),Nl.Kd=Qf(),Nl.ae=y,Nl.Kd}function tY(y,v,C){if(y>>>=0,v>>>=0,Nl.Kd==y)var T=Nl.ae;else(T=Error().stack.toString().split(`
`))[0]=="Error"&&T.shift(),RD(T);for(var D=3;T[D]&&Qf()!=y;)++D;for(y=0;y<C&&T[y+D];++y)U()[v+4*y>>>2>>>0]=Qf();return y}var $v,xv={},jD=()=>{if(!$v){var y,v={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:"./this.program"};for(y in xv)xv[y]===void 0?delete v[y]:v[y]=xv[y];var C=[];for(y in v)C.push(`${y}=${v[y]}`);$v=C}return $v};function OD(y,v){if(l)return Mt(19,1,y,v);y>>>=0,v>>>=0;var C=0;return jD().forEach((T,D)=>{var R=v+C;for(D=ae()[y+4*D>>>2>>>0]=R,R=0;R<T.length;++R)Y()[D++>>>0]=T.charCodeAt(R);Y()[D>>>0]=0,C+=T.length+1}),0}function ND(y,v){if(l)return Mt(20,1,y,v);y>>>=0,v>>>=0;var C=jD();ae()[y>>>2>>>0]=C.length;var T=0;return C.forEach(D=>T+=D.length+1),ae()[v>>>2>>>0]=T,0}function PD(y){return l?Mt(21,1,y):52}function BD(y,v,C,T){return l?Mt(22,1,y,v,C,T):52}function LD(y,v,C,T){return l?Mt(23,1,y,v,C,T):70}var nY=[null,[],[]];function UD(y,v,C,T){if(l)return Mt(24,1,y,v,C,T);v>>>=0,C>>>=0,T>>>=0;for(var D=0,R=0;R<C;R++){var L=ae()[v>>>2>>>0],J=ae()[v+4>>>2>>>0];v+=8;for(var le=0;le<J;le++){var he=se()[L+le>>>0],Ee=nY[y];he===0||he===10?((y===1?$:x)(nD(Ee)),Ee.length=0):Ee.push(he)}D+=J}return ae()[T>>>2>>>0]=D,0}function rY(y){return y>>>0}l||function(){for(var y=r.numThreads-1;y--;)Q1();Ro.unshift(()=>{Gt++,function(v){l?v():Promise.all(so.map(Z1)).then(v)}(()=>qt())})}();for(var WD=Array(256),Jf=0;256>Jf;++Jf)WD[Jf]=String.fromCharCode(Jf);bD=WD,us=r.BindingError=class extends Error{constructor(y){super(y),this.name="BindingError"}},r.InternalError=class extends Error{constructor(y){super(y),this.name="InternalError"}},Mi.push(0,1,void 0,1,null,1,!0,1,!1,1),r.count_emval_handles=()=>Mi.length/2-5-pv.length;var pe,oY=[io,jo,J1,rD,oD,sD,aD,lD,cD,uD,dD,pD,fD,mD,hD,gD,FD,kD,AD,OD,ND,PD,BD,LD,UD];(function(){return ie(this,null,function*(){function y(T,D){return pe=T.exports,pe=function(){var R=pe,L={};for(let[J,le]of Object.entries(R))L[J]=typeof le=="function"?(...he)=>{Xf.push(J);try{return le(...he)}finally{re||(Xf.pop(),si&&ps===1&&Xf.length===0&&(ps=0,Xn+=1,Kf(GF),typeof Fibers<"u"&&Fibers.le()))}}:le;return L}(),pe=function(){var R=pe,L=le=>he=>le(he)>>>0,J=le=>()=>le()>>>0;return(R=Object.assign({},R)).Cb=L(R.Cb),R.fc=J(R.fc),R.ic=L(R.ic),R.vc=L(R.vc),R.wc=J(R.wc),R.Ac=L(R.Ac),R}(),Wf.push(pe.jc),S=D,qt(),pe}Gt++;var v=Yt();if(r.instantiateWasm)return new Promise(T=>{r.instantiateWasm(v,(D,R)=>{y(D,R),T(D.exports)})});if(l)return new Promise(T=>{Ie=D=>{var R=new WebAssembly.Instance(D,Yt());T(y(R,D))}});At??=r.locateFile?r.locateFile?r.locateFile("ort-wasm-simd-threaded.jsep.wasm",h):h+"ort-wasm-simd-threaded.jsep.wasm":new URL("ort-wasm-simd-threaded.jsep.wasm",import.meta.url).href;try{var C=yield function(T){return ie(this,null,function*(){var D=At;if(!H&&typeof WebAssembly.instantiateStreaming=="function"&&!te(D))try{var R=fetch(D,{credentials:"same-origin"});return yield WebAssembly.instantiateStreaming(R,T)}catch(L){x(`wasm streaming compile failed: ${L}`),x("falling back to ArrayBuffer instantiation")}return function(L,J){return ie(this,null,function*(){try{var le=yield function(he){return ie(this,null,function*(){if(!H)try{var Ee=yield d(he);return new Uint8Array(Ee)}catch{}if(he==At&&H)he=new Uint8Array(H);else{if(!p)throw"both async and sync fetching of the wasm failed";he=p(he)}return he})}(L);return yield WebAssembly.instantiate(le,J)}catch(he){x(`failed to asynchronously prepare wasm: ${he}`),Ct(he)}})}(D,T)})}(v);return y(C.instance,C.module)}catch(T){return n(T),Promise.reject(T)}})})();var zD=y=>(zD=pe.Cb)(y),VD=()=>(VD=pe.Db)();r._OrtInit=(y,v)=>(r._OrtInit=pe.Eb)(y,v),r._OrtGetLastError=(y,v)=>(r._OrtGetLastError=pe.Fb)(y,v),r._OrtCreateSessionOptions=(y,v,C,T,D,R,L,J,le,he)=>(r._OrtCreateSessionOptions=pe.Gb)(y,v,C,T,D,R,L,J,le,he),r._OrtAppendExecutionProvider=(y,v)=>(r._OrtAppendExecutionProvider=pe.Hb)(y,v),r._OrtAddFreeDimensionOverride=(y,v,C)=>(r._OrtAddFreeDimensionOverride=pe.Ib)(y,v,C),r._OrtAddSessionConfigEntry=(y,v,C)=>(r._OrtAddSessionConfigEntry=pe.Jb)(y,v,C),r._OrtReleaseSessionOptions=y=>(r._OrtReleaseSessionOptions=pe.Kb)(y),r._OrtCreateSession=(y,v,C)=>(r._OrtCreateSession=pe.Lb)(y,v,C),r._OrtReleaseSession=y=>(r._OrtReleaseSession=pe.Mb)(y),r._OrtGetInputOutputCount=(y,v,C)=>(r._OrtGetInputOutputCount=pe.Nb)(y,v,C),r._OrtGetInputName=(y,v)=>(r._OrtGetInputName=pe.Ob)(y,v),r._OrtGetOutputName=(y,v)=>(r._OrtGetOutputName=pe.Pb)(y,v),r._OrtFree=y=>(r._OrtFree=pe.Qb)(y),r._OrtCreateTensor=(y,v,C,T,D,R)=>(r._OrtCreateTensor=pe.Rb)(y,v,C,T,D,R),r._OrtGetTensorData=(y,v,C,T,D)=>(r._OrtGetTensorData=pe.Sb)(y,v,C,T,D),r._OrtReleaseTensor=y=>(r._OrtReleaseTensor=pe.Tb)(y),r._OrtCreateRunOptions=(y,v,C,T)=>(r._OrtCreateRunOptions=pe.Ub)(y,v,C,T),r._OrtAddRunConfigEntry=(y,v,C)=>(r._OrtAddRunConfigEntry=pe.Vb)(y,v,C),r._OrtReleaseRunOptions=y=>(r._OrtReleaseRunOptions=pe.Wb)(y),r._OrtCreateBinding=y=>(r._OrtCreateBinding=pe.Xb)(y),r._OrtBindInput=(y,v,C)=>(r._OrtBindInput=pe.Yb)(y,v,C),r._OrtBindOutput=(y,v,C,T)=>(r._OrtBindOutput=pe.Zb)(y,v,C,T),r._OrtClearBoundOutputs=y=>(r._OrtClearBoundOutputs=pe._b)(y),r._OrtReleaseBinding=y=>(r._OrtReleaseBinding=pe.$b)(y),r._OrtRunWithBinding=(y,v,C,T,D)=>(r._OrtRunWithBinding=pe.ac)(y,v,C,T,D),r._OrtRun=(y,v,C,T,D,R,L,J)=>(r._OrtRun=pe.bc)(y,v,C,T,D,R,L,J),r._OrtEndProfiling=y=>(r._OrtEndProfiling=pe.cc)(y),r._JsepOutput=(y,v,C)=>(r._JsepOutput=pe.dc)(y,v,C),r._JsepGetNodeName=y=>(r._JsepGetNodeName=pe.ec)(y);var em=()=>(em=pe.fc)(),ai=r._free=y=>(ai=r._free=pe.gc)(y),tm=r._malloc=y=>(tm=r._malloc=pe.ic)(y),vv=(y,v,C,T,D,R)=>(vv=pe.kc)(y,v,C,T,D,R),HD=()=>(HD=pe.lc)(),GD=(y,v,C,T,D)=>(GD=pe.mc)(y,v,C,T,D),qD=y=>(qD=pe.nc)(y),wv=y=>(wv=pe.oc)(y),KD=(y,v)=>(KD=pe.pc)(y,v),XD=()=>(XD=pe.qc)(),Ze=(y,v)=>(Ze=pe.rc)(y,v),Pu=y=>(Pu=pe.sc)(y),YD=(y,v)=>(YD=pe.tc)(y,v),Xe=y=>(Xe=pe.uc)(y),Sv=y=>(Sv=pe.vc)(y),Ye=()=>(Ye=pe.wc)(),ZD=y=>(ZD=pe.xc)(y),QD=y=>(QD=pe.yc)(y),JD=(y,v,C)=>(JD=pe.zc)(y,v,C),eF=y=>(eF=pe.Ac)(y),tF=r.dynCall_iii=(y,v,C)=>(tF=r.dynCall_iii=pe.Bc)(y,v,C),nF=r.dynCall_vi=(y,v)=>(nF=r.dynCall_vi=pe.Cc)(y,v),Cv=r.dynCall_ii=(y,v)=>(Cv=r.dynCall_ii=pe.Dc)(y,v),rF=r.dynCall_vii=(y,v,C)=>(rF=r.dynCall_vii=pe.Ec)(y,v,C),oF=r.dynCall_iiii=(y,v,C,T)=>(oF=r.dynCall_iiii=pe.Fc)(y,v,C,T),iF=r.dynCall_viii=(y,v,C,T)=>(iF=r.dynCall_viii=pe.Gc)(y,v,C,T),sF=r.dynCall_iiiii=(y,v,C,T,D)=>(sF=r.dynCall_iiiii=pe.Hc)(y,v,C,T,D),aF=r.dynCall_viiii=(y,v,C,T,D)=>(aF=r.dynCall_viiii=pe.Ic)(y,v,C,T,D),lF=r.dynCall_viiiiii=(y,v,C,T,D,R,L)=>(lF=r.dynCall_viiiiii=pe.Jc)(y,v,C,T,D,R,L),cF=r.dynCall_viiiiiii=(y,v,C,T,D,R,L,J)=>(cF=r.dynCall_viiiiiii=pe.Kc)(y,v,C,T,D,R,L,J),uF=r.dynCall_ji=(y,v)=>(uF=r.dynCall_ji=pe.Lc)(y,v),dF=r.dynCall_v=y=>(dF=r.dynCall_v=pe.Mc)(y),pF=r.dynCall_viiiii=(y,v,C,T,D,R)=>(pF=r.dynCall_viiiii=pe.Nc)(y,v,C,T,D,R),fF=r.dynCall_i=y=>(fF=r.dynCall_i=pe.Oc)(y),mF=r.dynCall_fii=(y,v,C)=>(mF=r.dynCall_fii=pe.Pc)(y,v,C),hF=r.dynCall_viiiiiiii=(y,v,C,T,D,R,L,J,le)=>(hF=r.dynCall_viiiiiiii=pe.Qc)(y,v,C,T,D,R,L,J,le),gF=r.dynCall_viiiiiiiiii=(y,v,C,T,D,R,L,J,le,he,Ee)=>(gF=r.dynCall_viiiiiiiiii=pe.Rc)(y,v,C,T,D,R,L,J,le,he,Ee),bF=r.dynCall_jiii=(y,v,C,T)=>(bF=r.dynCall_jiii=pe.Sc)(y,v,C,T),yF=r.dynCall_dii=(y,v,C)=>(yF=r.dynCall_dii=pe.Tc)(y,v,C),_F=r.dynCall_viiiiiiiii=(y,v,C,T,D,R,L,J,le,he)=>(_F=r.dynCall_viiiiiiiii=pe.Uc)(y,v,C,T,D,R,L,J,le,he),$F=r.dynCall_viiiiiiiiiii=(y,v,C,T,D,R,L,J,le,he,Ee,Le)=>($F=r.dynCall_viiiiiiiiiii=pe.Vc)(y,v,C,T,D,R,L,J,le,he,Ee,Le),xF=r.dynCall_iiiiii=(y,v,C,T,D,R)=>(xF=r.dynCall_iiiiii=pe.Wc)(y,v,C,T,D,R),vF=r.dynCall_iij=(y,v,C)=>(vF=r.dynCall_iij=pe.Xc)(y,v,C),wF=r.dynCall_iiiiiiiiii=(y,v,C,T,D,R,L,J,le,he)=>(wF=r.dynCall_iiiiiiiiii=pe.Yc)(y,v,C,T,D,R,L,J,le,he),SF=r.dynCall_iiiiiiiiiii=(y,v,C,T,D,R,L,J,le,he,Ee)=>(SF=r.dynCall_iiiiiiiiiii=pe.Zc)(y,v,C,T,D,R,L,J,le,he,Ee),CF=r.dynCall_vij=(y,v,C)=>(CF=r.dynCall_vij=pe._c)(y,v,C),IF=r.dynCall_iiif=(y,v,C,T)=>(IF=r.dynCall_iiif=pe.$c)(y,v,C,T),EF=r.dynCall_iiij=(y,v,C,T)=>(EF=r.dynCall_iiij=pe.ad)(y,v,C,T),TF=r.dynCall_fiii=(y,v,C,T)=>(TF=r.dynCall_fiii=pe.bd)(y,v,C,T),DF=r.dynCall_viiiiiiiiiiiii=(y,v,C,T,D,R,L,J,le,he,Ee,Le,Qe,tn)=>(DF=r.dynCall_viiiiiiiiiiiii=pe.cd)(y,v,C,T,D,R,L,J,le,he,Ee,Le,Qe,tn),FF=r.dynCall_vjiii=(y,v,C,T,D)=>(FF=r.dynCall_vjiii=pe.dd)(y,v,C,T,D),kF=r.dynCall_vif=(y,v,C)=>(kF=r.dynCall_vif=pe.ed)(y,v,C),AF=r.dynCall_iiiiiii=(y,v,C,T,D,R,L)=>(AF=r.dynCall_iiiiiii=pe.fd)(y,v,C,T,D,R,L),MF=r.dynCall_iiiij=(y,v,C,T,D)=>(MF=r.dynCall_iiiij=pe.gd)(y,v,C,T,D),RF=r.dynCall_iiiiiiii=(y,v,C,T,D,R,L,J)=>(RF=r.dynCall_iiiiiiii=pe.hd)(y,v,C,T,D,R,L,J),jF=r.dynCall_viiiiiiiiiiii=(y,v,C,T,D,R,L,J,le,he,Ee,Le,Qe)=>(jF=r.dynCall_viiiiiiiiiiii=pe.id)(y,v,C,T,D,R,L,J,le,he,Ee,Le,Qe),OF=r.dynCall_diii=(y,v,C,T)=>(OF=r.dynCall_diii=pe.jd)(y,v,C,T),NF=r.dynCall_jiiii=(y,v,C,T,D)=>(NF=r.dynCall_jiiii=pe.kd)(y,v,C,T,D),PF=r.dynCall_viiij=(y,v,C,T,D)=>(PF=r.dynCall_viiij=pe.ld)(y,v,C,T,D),BF=r.dynCall_fiiii=(y,v,C,T,D)=>(BF=r.dynCall_fiiii=pe.md)(y,v,C,T,D),LF=r.dynCall_viiif=(y,v,C,T,D)=>(LF=r.dynCall_viiif=pe.nd)(y,v,C,T,D),UF=r.dynCall_diiii=(y,v,C,T,D)=>(UF=r.dynCall_diiii=pe.od)(y,v,C,T,D),WF=r.dynCall_viiid=(y,v,C,T,D)=>(WF=r.dynCall_viiid=pe.pd)(y,v,C,T,D),zF=r.dynCall_iiiijii=(y,v,C,T,D,R,L)=>(zF=r.dynCall_iiiijii=pe.qd)(y,v,C,T,D,R,L),VF=r.dynCall_iiiiiij=(y,v,C,T,D,R,L)=>(VF=r.dynCall_iiiiiij=pe.rd)(y,v,C,T,D,R,L),HF=y=>(HF=pe.sd)(y),GF=()=>(GF=pe.td)(),qF=y=>(qF=pe.ud)(y),KF=()=>(KF=pe.vd)();function iY(y,v,C){var T=Ye();try{rF(y,v,C)}catch(D){if(Xe(T),D!==D+0)throw D;Ze(1,0)}}function sY(y,v,C){var T=Ye();try{return tF(y,v,C)}catch(D){if(Xe(T),D!==D+0)throw D;Ze(1,0)}}function aY(y,v){var C=Ye();try{nF(y,v)}catch(T){if(Xe(C),T!==T+0)throw T;Ze(1,0)}}function lY(y,v){var C=Ye();try{return Cv(y,v)}catch(T){if(Xe(C),T!==T+0)throw T;Ze(1,0)}}function cY(y,v,C,T){var D=Ye();try{return oF(y,v,C,T)}catch(R){if(Xe(D),R!==R+0)throw R;Ze(1,0)}}function uY(y,v,C,T,D){var R=Ye();try{aF(y,v,C,T,D)}catch(L){if(Xe(R),L!==L+0)throw L;Ze(1,0)}}function dY(y,v,C,T,D){var R=Ye();try{return sF(y,v,C,T,D)}catch(L){if(Xe(R),L!==L+0)throw L;Ze(1,0)}}function pY(y,v,C,T){var D=Ye();try{iF(y,v,C,T)}catch(R){if(Xe(D),R!==R+0)throw R;Ze(1,0)}}function fY(y,v,C,T,D,R,L){var J=Ye();try{return AF(y,v,C,T,D,R,L)}catch(le){if(Xe(J),le!==le+0)throw le;Ze(1,0)}}function mY(y){var v=Ye();try{dF(y)}catch(C){if(Xe(v),C!==C+0)throw C;Ze(1,0)}}function hY(y,v,C){var T=Ye();try{return vF(y,v,C)}catch(D){if(Xe(T),D!==D+0)throw D;Ze(1,0)}}function gY(y,v,C,T,D,R){var L=Ye();try{pF(y,v,C,T,D,R)}catch(J){if(Xe(L),J!==J+0)throw J;Ze(1,0)}}function bY(y,v,C){var T=Ye();try{CF(y,v,C)}catch(D){if(Xe(T),D!==D+0)throw D;Ze(1,0)}}function yY(y,v,C,T,D,R,L){var J=Ye();try{lF(y,v,C,T,D,R,L)}catch(le){if(Xe(J),le!==le+0)throw le;Ze(1,0)}}function _Y(y,v,C,T,D,R,L,J){var le=Ye();try{cF(y,v,C,T,D,R,L,J)}catch(he){if(Xe(le),he!==he+0)throw he;Ze(1,0)}}function $Y(y,v,C,T,D,R){var L=Ye();try{return xF(y,v,C,T,D,R)}catch(J){if(Xe(L),J!==J+0)throw J;Ze(1,0)}}function xY(y,v,C,T,D,R,L,J){var le=Ye();try{return RF(y,v,C,T,D,R,L,J)}catch(he){if(Xe(le),he!==he+0)throw he;Ze(1,0)}}function vY(y,v,C,T,D,R,L,J,le,he){var Ee=Ye();try{_F(y,v,C,T,D,R,L,J,le,he)}catch(Le){if(Xe(Ee),Le!==Le+0)throw Le;Ze(1,0)}}function wY(y,v,C,T,D,R,L,J,le){var he=Ye();try{hF(y,v,C,T,D,R,L,J,le)}catch(Ee){if(Xe(he),Ee!==Ee+0)throw Ee;Ze(1,0)}}function SY(y){var v=Ye();try{return fF(y)}catch(C){if(Xe(v),C!==C+0)throw C;Ze(1,0)}}function CY(y,v,C,T,D,R,L,J,le,he){var Ee=Ye();try{return wF(y,v,C,T,D,R,L,J,le,he)}catch(Le){if(Xe(Ee),Le!==Le+0)throw Le;Ze(1,0)}}function IY(y,v,C){var T=Ye();try{return mF(y,v,C)}catch(D){if(Xe(T),D!==D+0)throw D;Ze(1,0)}}function EY(y,v,C,T){var D=Ye();try{return bF(y,v,C,T)}catch(R){if(Xe(D),R!==R+0)throw R;return Ze(1,0),0n}}function TY(y,v,C){var T=Ye();try{return yF(y,v,C)}catch(D){if(Xe(T),D!==D+0)throw D;Ze(1,0)}}function DY(y,v,C,T,D,R,L,J,le,he,Ee,Le){var Qe=Ye();try{$F(y,v,C,T,D,R,L,J,le,he,Ee,Le)}catch(tn){if(Xe(Qe),tn!==tn+0)throw tn;Ze(1,0)}}function FY(y,v,C,T,D,R,L,J,le,he,Ee){var Le=Ye();try{gF(y,v,C,T,D,R,L,J,le,he,Ee)}catch(Qe){if(Xe(Le),Qe!==Qe+0)throw Qe;Ze(1,0)}}function kY(y,v,C,T,D,R,L,J,le,he,Ee){var Le=Ye();try{return SF(y,v,C,T,D,R,L,J,le,he,Ee)}catch(Qe){if(Xe(Le),Qe!==Qe+0)throw Qe;Ze(1,0)}}function AY(y,v,C,T){var D=Ye();try{return IF(y,v,C,T)}catch(R){if(Xe(D),R!==R+0)throw R;Ze(1,0)}}function MY(y,v,C,T){var D=Ye();try{return EF(y,v,C,T)}catch(R){if(Xe(D),R!==R+0)throw R;Ze(1,0)}}function RY(y,v,C,T){var D=Ye();try{return TF(y,v,C,T)}catch(R){if(Xe(D),R!==R+0)throw R;Ze(1,0)}}function jY(y,v,C,T,D,R,L,J,le,he,Ee,Le,Qe,tn){var co=Ye();try{DF(y,v,C,T,D,R,L,J,le,he,Ee,Le,Qe,tn)}catch(Bu){if(Xe(co),Bu!==Bu+0)throw Bu;Ze(1,0)}}function OY(y,v,C,T,D){var R=Ye();try{FF(y,v,C,T,D)}catch(L){if(Xe(R),L!==L+0)throw L;Ze(1,0)}}function NY(y,v,C){var T=Ye();try{kF(y,v,C)}catch(D){if(Xe(T),D!==D+0)throw D;Ze(1,0)}}function PY(y,v){var C=Ye();try{return uF(y,v)}catch(T){if(Xe(C),T!==T+0)throw T;return Ze(1,0),0n}}function BY(y,v,C,T,D){var R=Ye();try{return MF(y,v,C,T,D)}catch(L){if(Xe(R),L!==L+0)throw L;Ze(1,0)}}function LY(y,v,C,T,D,R,L,J,le,he,Ee,Le,Qe){var tn=Ye();try{jF(y,v,C,T,D,R,L,J,le,he,Ee,Le,Qe)}catch(co){if(Xe(tn),co!==co+0)throw co;Ze(1,0)}}function UY(y,v,C,T){var D=Ye();try{return OF(y,v,C,T)}catch(R){if(Xe(D),R!==R+0)throw R;Ze(1,0)}}function WY(y,v,C,T,D){var R=Ye();try{return NF(y,v,C,T,D)}catch(L){if(Xe(R),L!==L+0)throw L;return Ze(1,0),0n}}function zY(y,v,C,T,D){var R=Ye();try{PF(y,v,C,T,D)}catch(L){if(Xe(R),L!==L+0)throw L;Ze(1,0)}}function VY(y,v,C,T,D){var R=Ye();try{return BF(y,v,C,T,D)}catch(L){if(Xe(R),L!==L+0)throw L;Ze(1,0)}}function HY(y,v,C,T,D){var R=Ye();try{LF(y,v,C,T,D)}catch(L){if(Xe(R),L!==L+0)throw L;Ze(1,0)}}function GY(y,v,C,T,D){var R=Ye();try{return UF(y,v,C,T,D)}catch(L){if(Xe(R),L!==L+0)throw L;Ze(1,0)}}function qY(y,v,C,T,D){var R=Ye();try{WF(y,v,C,T,D)}catch(L){if(Xe(R),L!==L+0)throw L;Ze(1,0)}}function KY(y,v,C,T,D,R,L){var J=Ye();try{return zF(y,v,C,T,D,R,L)}catch(le){if(Xe(J),le!==le+0)throw le;Ze(1,0)}}function XY(y,v,C,T,D,R,L){var J=Ye();try{return VF(y,v,C,T,D,R,L)}catch(le){if(Xe(J),le!==le+0)throw le;Ze(1,0)}}return r.stackSave=()=>Ye(),r.stackRestore=y=>Xe(y),r.stackAlloc=y=>Sv(y),r.setValue=function(y,v,C="i8"){switch(C.endsWith("*")&&(C="*"),C){case"i1":case"i8":Y()[y>>>0]=v;break;case"i16":z()[y>>>1>>>0]=v;break;case"i32":U()[y>>>2>>>0]=v;break;case"i64":P[y>>>3]=BigInt(v);break;case"float":ge()[y>>>2>>>0]=v;break;case"double":we()[y>>>3>>>0]=v;break;case"*":ae()[y>>>2>>>0]=v;break;default:Ct(`invalid type for setValue: ${C}`)}},r.getValue=function(y,v="i8"){switch(v.endsWith("*")&&(v="*"),v){case"i1":case"i8":return Y()[y>>>0];case"i16":return z()[y>>>1>>>0];case"i32":return U()[y>>>2>>>0];case"i64":return P[y>>>3];case"float":return ge()[y>>>2>>>0];case"double":return we()[y>>>3>>>0];case"*":return ae()[y>>>2>>>0];default:Ct(`invalid type for getValue: ${v}`)}},r.UTF8ToString=Dn,r.stringToUTF8=Ol,r.lengthBytesUTF8=iD,function y(){if(0<Gt)Ut=y;else if(l)t(r),ut();else{for(;0<Ro.length;)Ro.shift()(r);0<Gt?Ut=y:(r.calledRun=!0,re||(ut(),t(r)))}}(),r.PTR_SIZE=4,o})}),FL=ZC,AN=globalThis.self?.name?.startsWith("em-pthread"),AN&&ZC()}),QC,MN,Jr,kL,xb,RN,jN,JC,ON,eI,AL,tI,ML,rE=ye(()=>{"use strict";nE(),QC=typeof location>"u"?void 0:location.origin,MN=()=>import.meta.url?.startsWith("file:")?new URL(new URL("ort.bundle.min.mjs",import.meta.url).href,QC).href:import.meta.url,Jr=MN(),kL=()=>{if(Jr&&!Jr.startsWith("blob:"))return Jr.substring(0,Jr.lastIndexOf("/")+1)},xb=(e,t)=>{try{let n=t??Jr;return(n?new URL(e,n):new URL(e)).origin===QC}catch{return!1}},RN=(e,t)=>{let n=t??Jr;try{return(n?new URL(e,n):new URL(e)).href}catch{return}},jN=(e,t)=>`${t??"./"}${e}`,JC=e=>ie(void 0,null,function*(){let t=yield(yield fetch(e,{credentials:"same-origin"})).blob();return URL.createObjectURL(t)}),ON=e=>ie(void 0,null,function*(){return(yield import(e)).default}),eI=(Hce(),Ob(EL)).default,AL=()=>ie(void 0,null,function*(){if(!Jr)throw new Error("Failed to load proxy worker: cannot determine the script source URL.");if(xb(Jr))return[void 0,eI()];let e=yield JC(Jr);return[e,eI(e)]}),tI=(Gce(),Ob(DL)).default,ML=(e,t,n)=>ie(void 0,null,function*(){if(!e&&!t&&tI&&Jr&&xb(Jr))return[void 0,tI];{let r="ort-wasm-simd-threaded.jsep.mjs",o=e??RN(r,t),i=n&&o&&!xb(o,t),s=i?yield JC(o):o??jN(r,t);return[i?s:void 0,yield ON(s)]}})}),nI,vb,ep,rI,NN,PN,oE,Hn,Ya=ye(()=>{"use strict";rE(),vb=!1,ep=!1,rI=!1,NN=()=>{if(typeof SharedArrayBuffer>"u")return!1;try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},PN=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},oE=e=>ie(void 0,null,function*(){if(vb)return Promise.resolve();if(ep)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(rI)throw new Error("previous call to 'initializeWebAssembly()' failed.");ep=!0;let t=e.initTimeout,n=e.numThreads;if(!PN())throw new Error("WebAssembly SIMD is not supported in the current environment.");let r=NN();n>1&&!r&&(typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+n+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),console.warn("WebAssembly multi-threading is not supported in the current environment. Falling back to single-threading."),e.numThreads=n=1);let o=e.wasmPaths,i=typeof o=="string"?o:void 0,s=o?.mjs,l=s?.href??s,c=o?.wasm,u=c?.href??c,d=e.wasmBinary,[p,f]=yield ML(l,i,n>1),m=!1,h=[];if(t>0&&h.push(new Promise(g=>{setTimeout(()=>{m=!0,g()},t)})),h.push(new Promise((g,_)=>{let $={numThreads:n};if(d)$.wasmBinary=d;else if(u||i)$.locateFile=x=>u??i+x;else if(l&&l.indexOf("blob:")!==0)$.locateFile=x=>new URL(x,l).href;else if(p){let x=kL();x&&($.locateFile=w=>x+w)}f($).then(x=>{ep=!1,vb=!0,nI=x,g(),p&&URL.revokeObjectURL(p)},x=>{ep=!1,rI=!0,_(x)})})),yield Promise.race(h),m)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)}),Hn=()=>{if(vb&&nI)return nI;throw new Error("WebAssembly is not initialized yet.")}}),cr,Pb,Lt,iE=ye(()=>{"use strict";Ya(),cr=(e,t)=>{let n=Hn(),r=n.lengthBytesUTF8(e)+1,o=n._malloc(r);return n.stringToUTF8(e,o,r),t.push(o),o},Pb=(e,t,n,r)=>{if(typeof e=="object"&&e!==null){if(n.has(e))throw new Error("Circular reference in options");n.add(e)}Object.entries(e).forEach(([o,i])=>{let s=t?t+o:o;if(typeof i=="object")Pb(i,s+".",n,r);else if(typeof i=="string"||typeof i=="number")r(s,i.toString());else if(typeof i=="boolean")r(s,i?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof i}`)})},Lt=e=>{let t=Hn(),n=t.stackSave();try{let r=t.PTR_SIZE,o=t.stackAlloc(2*r);t._OrtGetLastError(o,o+r);let i=Number(t.getValue(o,r===4?"i32":"i64")),s=t.getValue(o+r,"*"),l=s?t.UTF8ToString(s):"";throw new Error(`${e} ERROR_CODE: ${i}, ERROR_MESSAGE: ${l}`)}finally{t.stackRestore(n)}}}),RL,qce=ye(()=>{"use strict";Ya(),iE(),RL=e=>{let t=Hn(),n=0,r=[],o=e||{};try{if(e?.logSeverityLevel===void 0)o.logSeverityLevel=2;else if(typeof e.logSeverityLevel!="number"||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(e?.logVerbosityLevel===void 0)o.logVerbosityLevel=0;else if(typeof e.logVerbosityLevel!="number"||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);e?.terminate===void 0&&(o.terminate=!1);let i=0;return e?.tag!==void 0&&(i=cr(e.tag,r)),n=t._OrtCreateRunOptions(o.logSeverityLevel,o.logVerbosityLevel,!!o.terminate,i),n===0&&Lt("Can't create run options."),e?.extra!==void 0&&Pb(e.extra,"",new WeakSet,(s,l)=>{let c=cr(s,r),u=cr(l,r);t._OrtAddRunConfigEntry(n,c,u)!==0&&Lt(`Can't set a run config entry: ${s} - ${l}.`)}),[n,r]}catch(i){throw n!==0&&t._OrtReleaseRunOptions(n),r.forEach(s=>t._free(s)),i}}}),BN,LN,UN,WN,jL,Kce=ye(()=>{"use strict";Ya(),iE(),BN=e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}},LN=e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}},UN=e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});let t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some(n=>(typeof n=="string"?n:n.name)==="webgpu")&&(e.enableMemPattern=!1)},WN=(e,t,n)=>{for(let r of t){let o=typeof r=="string"?r:r.name;switch(o){case"webnn":if(o="WEBNN",typeof r!="string"){let s=r?.deviceType;if(s){let l=cr("deviceType",n),c=cr(s,n);Hn()._OrtAddSessionConfigEntry(e,l,c)!==0&&Lt(`Can't set a session config entry: 'deviceType' - ${s}.`)}}break;case"webgpu":if(o="JS",typeof r!="string"){let s=r;if(s?.preferredLayout){if(s.preferredLayout!=="NCHW"&&s.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${s.preferredLayout}`);let l=cr("preferredLayout",n),c=cr(s.preferredLayout,n);Hn()._OrtAddSessionConfigEntry(e,l,c)!==0&&Lt(`Can't set a session config entry: 'preferredLayout' - ${s.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${o}`)}let i=cr(o,n);Hn()._OrtAppendExecutionProvider(e,i)!==0&&Lt(`Can't append execution provider: ${o}.`)}},jL=e=>{let t=Hn(),n=0,r=[],o=e||{};UN(o);try{let i=BN(o.graphOptimizationLevel??"all"),s=LN(o.executionMode??"sequential"),l=typeof o.logId=="string"?cr(o.logId,r):0,c=o.logSeverityLevel??2;if(!Number.isInteger(c)||c<0||c>4)throw new Error(`log serverity level is not valid: ${c}`);let u=o.logVerbosityLevel??0;if(!Number.isInteger(u)||u<0||u>4)throw new Error(`log verbosity level is not valid: ${u}`);let d=typeof o.optimizedModelFilePath=="string"?cr(o.optimizedModelFilePath,r):0;if(n=t._OrtCreateSessionOptions(i,!!o.enableCpuMemArena,!!o.enableMemPattern,s,!!o.enableProfiling,0,l,c,u,d),n===0&&Lt("Can't create session options."),o.executionProviders&&WN(n,o.executionProviders,r),o.enableGraphCapture!==void 0){if(typeof o.enableGraphCapture!="boolean")throw new Error(`enableGraphCapture must be a boolean value: ${o.enableGraphCapture}`);let p=cr("enableGraphCapture",r),f=cr(o.enableGraphCapture.toString(),r);t._OrtAddSessionConfigEntry(n,p,f)!==0&&Lt(`Can't set a session config entry: 'enableGraphCapture' - ${o.enableGraphCapture}.`)}if(o.freeDimensionOverrides)for(let[p,f]of Object.entries(o.freeDimensionOverrides)){if(typeof p!="string")throw new Error(`free dimension override name must be a string: ${p}`);if(typeof f!="number"||!Number.isInteger(f)||f<0)throw new Error(`free dimension override value must be a non-negative integer: ${f}`);let m=cr(p,r);t._OrtAddFreeDimensionOverride(n,m,f)!==0&&Lt(`Can't set a free dimension override: ${p} - ${f}.`)}return o.extra!==void 0&&Pb(o.extra,"",new WeakSet,(p,f)=>{let m=cr(p,r),h=cr(f,r);t._OrtAddSessionConfigEntry(n,m,h)!==0&&Lt(`Can't set a session config entry: ${p} - ${f}.`)}),[n,r]}catch(i){throw n!==0&&t._OrtReleaseSessionOptions(n)!==0&&Lt("Can't release session options."),r.forEach(s=>t._free(s)),i}}}),zc,Ha,Ga,sE,Bb,aE,lE,LI,He=ye(()=>{"use strict";zc=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;case"int4":return 22;case"uint4":return 21;default:throw new Error(`unsupported data type: ${e}`)}},Ha=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";case 22:return"int4";case 21:return"uint4";default:throw new Error(`unsupported data type: ${e}`)}},Ga=(e,t)=>{let n=[-1,4,1,1,2,2,4,8,-1,1,2,8,4,8,-1,-1,-1,-1,-1,-1,-1,.5,.5][e],r=typeof t=="number"?t:t.reduce((o,i)=>o*i,1);return n>0?Math.ceil(r*n):void 0},sE=e=>{switch(e){case"float16":return typeof Float16Array<"u"&&Float16Array.from?Float16Array:Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}},Bb=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}},aE=e=>e==="float32"||e==="float16"||e==="int32"||e==="int64"||e==="uint32"||e==="uint8"||e==="bool"||e==="uint4"||e==="int4",lE=e=>e==="float32"||e==="float16"||e==="int32"||e==="int64"||e==="uint32"||e==="uint64"||e==="int8"||e==="uint8"||e==="bool"||e==="uint4"||e==="int4",LI=e=>{switch(e){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;case"ml-tensor":return 5;default:throw new Error(`unsupported data location: ${e}`)}}}),cE,OL=ye(()=>{"use strict";nE(),cE=e=>ie(void 0,null,function*(){if(typeof e=="string")if(0)try{}catch(i){if(i.code==="ERR_FS_FILE_TOO_LARGE")try{for(var t=YAe(l),n,r,o;n=!(r=yield t.next()).done;n=!1){let u=r.value;;}}catch(r){o=[r]}finally{try{n&&(r=t.return)&&(yield r.call(t))}finally{if(o)throw o[0]}}}else{let i=yield fetch(e);if(!i.ok)throw new Error(`failed to load external data file: ${e}`);let s=i.headers.get("Content-Length"),l=s?parseInt(s,10):0;if(l<1073741824)return new Uint8Array(yield i.arrayBuffer());{if(!i.body)throw new Error(`failed to load external data file: ${e}, no response body.`);let c=i.body.getReader(),u;try{u=new ArrayBuffer(l)}catch(p){if(p instanceof RangeError){let f=Math.ceil(l/65536);u=new WebAssembly.Memory({initial:f,maximum:f}).buffer}else throw p}let d=0;for(;;){let{done:p,value:f}=yield c.read();if(p)break;let m=f.byteLength;new Uint8Array(u,d,m).set(f),d+=m}return new Uint8Array(u,0,l)}}else return e instanceof Blob?new Uint8Array(yield e.arrayBuffer()):e instanceof Uint8Array?e:new Uint8Array(e)})}),zN,VN,HN,GN,uE,qN,Et,Ji=ye(()=>{"use strict";He(),zN=["V","I","W","E","F"],VN=(e,t)=>{console.log(`[${zN[e]},${new Date().toISOString()}]${t}`)},uE=(e,t)=>{HN=e,GN=t},qN=(e,t)=>{let n=Bb(e),r=Bb(HN);n>=r&&VN(n,typeof t=="function"?t():t)},Et=(...e)=>{GN&&qN(...e)}}),dE,NL=ye(()=>{"use strict";He(),dE=(e,t)=>new(sE(t))(e)}),pE=ye(()=>{"use strict"}),oI,wb,Sb,KN,XN,iI,UI,YN,PL,Xce=ye(()=>{"use strict";Ji(),pE(),oI=new Map([[64,250],[128,200],[256,200],[512,200],[2048,230],[4096,200],[8192,50],[16384,50],[32768,50],[65536,50],[131072,50],[262144,50],[524288,50],[1048576,50],[2097152,30],[4194304,20],[8388608,10],[12582912,10],[16777216,10],[26214400,15],[33554432,22],[44236800,2],[58982400,6],[67108864,6],[134217728,6],[167772160,6]]),wb=[],Sb=e=>Math.ceil(Number(e)/16)*16,KN=e=>{for(let t=0;t<wb.length;t++){let n=wb[t];if(e<=n)return n}return Math.ceil(e/16)*16},XN=1,iI=()=>XN++,UI=(e,t,n,r)=>ie(void 0,null,function*(){let o=Sb(n),i=e.device.createBuffer({size:o,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});try{let s=e.getCommandEncoder();e.endComputePass(),s.copyBufferToBuffer(t,0,i,0,o),e.flush(),yield i.mapAsync(GPUMapMode.READ);let l=i.getMappedRange();if(r){let c=r();return c.set(new Uint8Array(l,0,n)),c}else return new Uint8Array(l.slice(0,n))}finally{i.destroy()}}),YN=class{constructor(e){this.backend=e,this.storageCache=new Map,this.freeBuffers=new Map,this.freeUniformBuffers=new Map,this.buffersPending=[],this.capturedPendingBuffers=new Map;for(let[t]of oI)wb.push(t),this.freeBuffers.set(t,[]),this.freeUniformBuffers.set(t,[]);this.sessionCount=0}upload(e,t){let n=t.buffer,r=t.byteOffset,o=t.byteLength,i=Sb(o),s=this.storageCache.get(e);if(!s)throw new Error("gpu data for uploading does not exist");if(Number(s.originalSize)!==o)throw new Error(`inconsistent data size. gpu data size=${s.originalSize}, data size=${o}`);let l=this.backend.device.createBuffer({mappedAtCreation:!0,size:i,usage:GPUBufferUsage.MAP_WRITE|GPUBufferUsage.COPY_SRC}),c=l.getMappedRange();new Uint8Array(c).set(new Uint8Array(n,r,o)),l.unmap();let u=this.backend.device.createCommandEncoder();u.copyBufferToBuffer(l,0,s.gpuData.buffer,0,i),this.backend.device.queue.submit([u.finish()]),l.destroy(),Et("verbose",()=>`[WebGPU] GpuDataManager.upload(id=${e})`)}memcpy(e,t){let n=this.storageCache.get(e);if(!n)throw new Error("source gpu data for memcpy does not exist");let r=this.storageCache.get(t);if(!r)throw new Error("destination gpu data for memcpy does not exist");if(n.originalSize!==r.originalSize)throw new Error("inconsistent source and destination gpu data size");let o=Sb(n.originalSize),i=this.backend.getCommandEncoder();this.backend.endComputePass(),i.copyBufferToBuffer(n.gpuData.buffer,0,r.gpuData.buffer,0,o)}registerExternalBuffer(e,t,n){let r;if(n){if(r=n[0],e===n[1])return Et("verbose",()=>`[WebGPU] GpuDataManager.registerExternalBuffer(size=${t}) => id=${r}, buffer is the same, skip.`),r;if(this.backend.capturedCommandList.has(this.backend.currentSessionId))throw new Error(`Registering a different external buffer under graph capture mode is not supported yet.
             Please use the previous external buffer!`)}else r=iI();return this.storageCache.set(r,{gpuData:{id:r,type:0,buffer:e},originalSize:t}),Et("verbose",()=>`[WebGPU] GpuDataManager.registerExternalBuffer(size=${t}) => id=${r}, registered.`),r}unregisterExternalBuffer(e){e!==void 0&&(this.storageCache.delete(e),Et("verbose",()=>`[WebGPU] GpuDataManager.unregisterExternalBuffer() => id=${e}`))}create(e,t=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST){let n=KN(e),r,o=(t&GPUBufferUsage.STORAGE)===GPUBufferUsage.STORAGE,i=(t&GPUBufferUsage.UNIFORM)===GPUBufferUsage.UNIFORM;if(o||i){let l=(o?this.freeBuffers:this.freeUniformBuffers).get(n);l?l.length>0?r=l.pop():r=this.backend.device.createBuffer({size:n,usage:t}):r=this.backend.device.createBuffer({size:n,usage:t})}else r=this.backend.device.createBuffer({size:n,usage:t});let s={id:iI(),type:0,buffer:r};return this.storageCache.set(s.id,{gpuData:s,originalSize:Number(e)}),Et("verbose",()=>`[WebGPU] GpuDataManager.create(size=${e}) => id=${s.id}`),s}get(e){return this.storageCache.get(e)?.gpuData}release(e){let t=typeof e=="bigint"?Number(e):e,n=this.storageCache.get(t);if(!n){if(this.storageCache.size===0)return 0;throw new Error("releasing data does not exist")}return Et("verbose",()=>`[WebGPU] GpuDataManager.release(id=${t}), gpuDataId=${n.gpuData.id}`),this.storageCache.delete(t),this.buffersPending.push(n.gpuData.buffer),n.originalSize}download(e,t){return ie(this,null,function*(){let n=this.storageCache.get(Number(e));if(!n)throw new Error("data does not exist");yield UI(this.backend,n.gpuData.buffer,n.originalSize,t)})}refreshPendingBuffers(){if(this.buffersPending.length!==0)if(this.backend.sessionStatus==="default"){for(let e of this.buffersPending){let t=oI.get(e.size);if((e.usage&GPUBufferUsage.STORAGE)===GPUBufferUsage.STORAGE){let n=this.freeBuffers.get(e.size)||[];t===void 0||n.length>=t?e.destroy():n.push(e)}else if((e.usage&GPUBufferUsage.UNIFORM)===GPUBufferUsage.UNIFORM){let n=this.freeUniformBuffers.get(e.size)||[];t===void 0||n.length>=t?e.destroy():n.push(e)}else e.destroy()}this.buffersPending=[]}else{let e=this.capturedPendingBuffers.get(this.backend.currentSessionId);e||(e=[],this.capturedPendingBuffers.set(this.backend.currentSessionId,e));for(let t of this.buffersPending)e.push(t);this.buffersPending=[]}}dispose(){this.freeBuffers.forEach(e=>{e.forEach(t=>{t.destroy()})}),this.freeUniformBuffers.forEach(e=>{e.forEach(t=>{t.destroy()})}),this.storageCache.forEach(e=>{e.gpuData.buffer.destroy()}),this.capturedPendingBuffers.forEach(e=>{e.forEach(t=>{t.destroy()})}),this.storageCache=new Map,this.freeBuffers=new Map,this.freeUniformBuffers=new Map,this.capturedPendingBuffers=new Map}onCreateSession(){this.sessionCount+=1}onReleaseSession(e){let t=this.capturedPendingBuffers.get(e);t&&(t.forEach(n=>{n.destroy()}),this.capturedPendingBuffers.delete(e)),this.sessionCount-=1,this.sessionCount===0&&(Et("warning",()=>"[WebGPU] Clearing webgpu buffer cache"),this.storageCache.forEach(n=>{n.gpuData.buffer.destroy()}),this.storageCache=new Map)}},PL=(...e)=>new YN(...e)}),ZN,Ht,En=ye(()=>{"use strict";ZN=class{constructor(e){Object.assign(this,e)}get cacheKey(){return this.key||(this.key=Object.getOwnPropertyNames(this).sort().map(e=>`${this[e]}`).join(";")),this.key}},Ht=e=>new ZN(e)}),QN,Gc,oe,Lb,BL,LL,UL,et=ye(()=>{"use strict";QN=class{static calcMatMulShape(e,t){return e[1]!==t[0]?void 0:[e[0],t[1]]}},Gc=class{static calcShape(e,t,n=!1){let r=e.length,o=t.length;if(r===0)return t;if(o===0)return e;let i=Math.max(e.length,t.length),s=new Array(i);if(n){if(r<2||o<2)return;let l=QN.calcMatMulShape([e[r-2],e[r-1]],[t[o-2],t[o-1]]);if(l===void 0)return;[s[i-2],s[i-1]]=l}for(let l=n?3:1;l<=i;l++){let c=r-l<0?1:e[r-l],u=o-l<0?1:t[o-l];if(c!==u&&c>1&&u>1)return;let d=Math.max(c,u);if(c&&u)s[i-l]=Math.max(c,u);else{if(d>1)return;s[i-l]=0}}return s}static isValidBroadcast(e,t){let n=e.length,r=t.length;if(n>r)return!1;for(let o=1;o<=n;o++)if(e[n-o]!==1&&e[n-o]!==t[r-o])return!1;return!0}},oe=class Rb{static size(t){return Rb.getSizeFromDimensionRange(t,0,t.length)}static convertShape(t,n=4){let r=t.length;if(r===0)return[];let o=new Array(r),i=r-1;for(;i>=0;){if(t[i]%n===0){o[i]=t[i]/n;break}if(n%t[i]!==0)throw new Error("cannot convert shape");o[i]=1,n/=t[i],i--}for(i--;i>=0;i--)o[i]=t[i];return o}static sizeFromDimension(t,n){if(n<0||n>t.length)throw new Error(`invalid dimension of ${n} for sizeFromDimension as Tensor has ${t.length} dimensions.`);return Rb.getSizeFromDimensionRange(t,n,t.length)}static sizeToDimension(t,n){if(n<0||n>t.length)throw new Error(`invalid dimension of ${n} for sizeToDimension as Tensor has ${t.length} dimensions.`);return Rb.getSizeFromDimensionRange(t,0,n)}static getSizeFromDimensionRange(t,n,r){let o=1;for(let i=n;i<r;i++){if(t[i]<0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains negative values in them.");o*=Number(t[i])}return o}static computeStrides(t){let n=t.length;if(n===0)return[];if(n===1)return[1];let r=new Array(n);r[n-1]=1,r[n-2]=t[n-1];for(let o=n-3;o>=0;--o)r[o]=r[o+1]*t[o+1];return r}static normalizeAxis(t,n){if(t<-n&&t>=n)throw new Error("unsupported axis for this operation.");return t<0?t+n:t}static normalizeAxes(t,n){return t.map(r=>this.normalizeAxis(r,n??t.length))}static sortBasedOnPerm(t,n){return n?n.map(r=>t[r]):t.slice().reverse()}static padShape(t,n){let r=t.length;return t.map((o,i)=>o+n[i]+n[i+r])}static areEqual(t,n){return t.length!==n.length?!1:t.every((r,o)=>r===n[o])}},Lb=class cp{static adjustPoolAttributes(t,n,r,o,i,s){if(!t&&r.length!==n.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(t)for(let l=0;l<n.length-2;l++)l>=r.length?r.push(n[l+2]):r[l]=n[l+2];for(let l=0;l<r.length;l++)if(l<o.length){if(o[l]<0)throw new Error("strides should be greater than or equal to 1")}else o.push(1);for(let l=0;l<r.length;l++)if(l<i.length){if(i[l]<0)throw new Error("dilations should be greater than or equal to 1")}else i.push(1);for(let l=0;l<r.length*2;l++)if(l<s.length){if(s[l]<0)throw new Error("pad should be greater than or equal to 1")}else s.push(0);for(let l=0;l<r.length;l++){if(r[l]<=0)throw new Error("kernel shapes need to be greater than 0");if(s[l]>=r[l]||s[l+r.length]>=r[l])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(t,n,r,o,i,s,l){if(l){if(i.length!==2*(t.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(n.length!==t.length-2)throw new Error("length of strides should be the length of data dimensions");if(o.length!==t.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let c=0;c<t.length-2;c++)cp.adjustPadAndReturnShape(t[c+(s?1:2)],n[c],r[c],o[c],i,c,c+t.length-2,l)}}static computePoolOutputShape(t,n,r,o,i,s,l){if(n.length<=0)throw new Error("input shape must be of size greater than 0");let c=[n[0],n[1]];return cp.computeShapeHelper(t,n,c,r,o,i,s,l),c}static computeConvOutputShape(t,n,r,o,i,s,l){if(t.length<=0||n.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");let c=[t[0],n[0]];return cp.computeShapeHelper(!1,t,c,r,o,i,s,l),c}static computeShapeHelper(t,n,r,o,i,s,l,c){if(t)for(let u=0;u<n.length-2;u++)r.push(1);else for(let u=0;u<n.length-2;u++)r.push(cp.adjustPadAndReturnShape(n[u+2],o[u],i[u],s[u],l,u,u+n.length-2,c))}static adjustPadAndReturnShape(t,n,r,o,i,s,l,c){let u=r*(o-1)+1;if(c&&c!=="NOTSET")switch(c){case"VALID":return i[s]=0,i[l]=0,Math.floor((t-u)/n+1);case"SAME_LOWER":case"SAME_UPPER":if(r!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{let d=((t+n-1)/n-1)*n+o-t;return i[s]=Math.floor(c==="SAME_LOWER"?(d+1)/2:d/2),i[l]=d-i[s],Math.floor((t+d-o)/n+1)}default:throw new Error("Unsupported AutoPad type")}else return Math.floor((t+i[s]+i[l]-u)/n+1)}},BL=class{static getShapeOfGemmResult(e,t,n,r,o){if(e.length!==2||n.length!==2)throw new Error("shape need to be of size 2");let i,s,l;t?(i=e[1],s=e[0]):(i=e[0],s=e[1]);let c=-1;if(r?(l=n[0],c=1):(l=n[1],c=0),n[c]!==s)throw new Error("dimension mismatch");if(i<=0||l<=0||s<=0)throw new Error("invalid shape specified");if(o&&!Gc.isValidBroadcast(o,[i,l]))throw new Error("gemm: invalid bias shape for broadcast");return[i,l,s]}},LL=-34028234663852886e22,UL=34028234663852886e22}),qc,Cb,Gn,_r,Me,wn,WI,Hc,Gs,Fe,tp,ue,De,WL,fE,JN,zL,at=ye(()=>{"use strict";He(),et(),qc=64,Cb=(e,t)=>{if(t===3)throw new Error("vec3 has same alignment as vec4, use vec4 instead");switch(Number(e)){case 10:return t>1?`vec${t}<f16>`:"f16";case 1:return t>1?`vec${t}<f32>`:"f32";case 6:return t>1?`vec${t}<i32>`:"i32";case 12:return t>1?`vec${t}<u32>`:"u32";case 7:if(t>1)throw new Error("currently not supported vecX of uint64 yet");return["vec2<u32>","i32"];case 13:if(t>1)throw new Error("currently not supported vecX of uint64 yet");return["vec2<u32>","u32"];case 9:if(t!==4)throw new Error("bool must be vec4");return["u32","vec4<bool>"];case 22:return"i32";case 21:return"u32";default:throw new Error(`Unknown data type: ${e}`)}},Gn=(e,t=1)=>{let n=Cb(e,t);return typeof n=="string"?n:n[0]},_r=(e,t=1)=>{let n=Cb(e,t);return typeof n=="string"?n:n[1]},Me=(...e)=>{let t=[];return e.forEach(n=>{n.length!==0&&t.push({type:12,data:n},{type:12,data:oe.computeStrides(n)})}),t},wn=e=>e%4===0?4:e%2===0?2:1,WI=(e="f32",t,n="0")=>!t||t===1?`${e}(${n})`:`vec${t}<${e}>(${n})`,Hc=(e,t,n)=>e==="f32"?n:t===1?`f32(${n})`:`vec${t}<f32>(${n})`,Gs=(e,t)=>t===4?`(${e}.x + ${e}.y + ${e}.z + ${e}.w)`:t===2?`(${e}.x + ${e}.y)`:t===3?`(${e}.x + ${e}.y + ${e}.z)`:e,Fe=(e,t,n,r)=>e.startsWith("uniforms.")&&n>4?typeof t=="string"?r==="f16"?`${e}[(${t}) / 8][(${t}) % 8 / 4][(${t}) % 8 % 4]`:`${e}[(${t}) / 4][(${t}) % 4]`:r==="f16"?`${e}[${Math.floor(t/8)}][${Math.floor(t%8/4)}][${t%8%4}]`:`${e}[${Math.floor(t/4)}][${t%4}]`:n>1?`${e}[${t}]`:e,tp=(e,t,n,r,o)=>{let i=typeof n=="number",s=i?n:n.length,l=[...new Array(s).keys()],c=s<2?"u32":s<=4?`vec${s}<u32>`:`array<u32, ${s}>`,u=Cb(t,o),d=typeof u=="string"?u:u[1],p=typeof u=="string"?u:u[0],f={indices:c,value:d,storage:p,tensor:t},m=z=>typeof z=="string"?z:`${z}u`,h={offsetToIndices:!1,indicesToOffset:!1,broadcastedIndicesToOffset:!1,set:!1,setByIndices:!1,get:!1,getByIndices:!1},g=i?"uniforms.":"",_=`${g}${e}_shape`,$=`${g}${e}_strides`,x="";for(let z=0;z<s-1;z++)x+=`
    let dim${z} = current / ${Fe($,z,s)};
    let rest${z} = current % ${Fe($,z,s)};
    indices[${z}] = dim${z};
    current = rest${z};
    `;x+=`indices[${s-1}] = current;`;let w=s<2?"":`
  fn o2i_${e}(offset: u32) -> ${f.indices} {
    var indices: ${f.indices};
    var current = offset;
    ${x}
    return indices;
  }`,S=z=>(h.offsetToIndices=!0,s<2?z:`o2i_${e}(${z})`),I=[];if(s>=2)for(let z=s-1;z>=0;z--)I.push(`${Fe($,z,s)} * (indices[${z}])`);let F=s<2?"":`
  fn i2o_${e}(indices: ${f.indices}) -> u32 {
    return ${I.join("+")};
  }`,k=z=>(h.indicesToOffset=!0,s<2?z:`i2o_${e}(${z})`),M=(...z)=>s===0?"0u":`${f.indices}(${z.map(m).join(",")})`,O=(z,ne)=>s<2?`${z}`:`${Fe(z,ne,s)}`,B=(z,ne,U)=>s<2?`${z}=${U};`:`${Fe(z,ne,s)}=${U};`,W={},V=(z,ne)=>{h.broadcastedIndicesToOffset=!0;let U=`${ne.name}broadcastedIndicesTo${e}Offset`;if(U in W)return`${U}(${z})`;let ae=[];for(let ge=s-1;ge>=0;ge--){let we=ne.indicesGet("outputIndices",ge+ne.rank-s);ae.push(`${O($,ge)} * (${we} % ${O(_,ge)})`)}return W[U]=`fn ${U}(outputIndices: ${ne.type.indices}) -> u32 {
             return ${ae.length>0?ae.join("+"):"0u"};
           }`,`${U}(${z})`},P=(z,ne)=>(()=>{if(f.storage===f.value)return`${e}[${z}]=${ne};`;if(f.storage==="vec2<u32>"&&f.value==="i32")return`${e}[${z}]=vec2<u32>(u32(${ne}), select(0u, 0xFFFFFFFFu, ${ne} < 0));`;if(f.storage==="vec2<u32>"&&f.value==="u32")return`${e}[${z}]=vec2<u32>(u32(${ne}), 0u);`;if(f.storage==="u32"&&f.value==="vec4<bool>")return`${e}[${z}]=dot(vec4<u32>(0x1, 0x100, 0x10000, 0x1000000), vec4<u32>(${ne}));`;throw new Error(`not supported combination of storage type ${f.storage} and value type ${f.value} yet`)})(),G=z=>(()=>{if(f.storage===f.value)return`${e}[${z}]`;if(f.storage==="vec2<u32>"&&f.value==="i32")return`i32(${e}[${z}].x)`;if(f.storage==="vec2<u32>"&&f.value==="u32")return`u32(${e}[${z}].x)`;if(f.storage==="u32"&&f.value==="vec4<bool>")return`vec4<bool>(bool(${e}[${z}] & 0xFFu), bool(${e}[${z}] & 0xFF00u), bool(${e}[${z}] & 0xFF0000u), bool(${e}[${z}] & 0xFF000000u))`;throw new Error(`not supported combination of storage type ${f.storage} and value type ${f.value} yet`)})(),Z=s<2?"":`
  fn get_${e}ByIndices(indices: ${f.indices}) -> ${d} {
    return ${G(`i2o_${e}(indices)`)};
  }`,H=s<2?"":(()=>{let z=l.map(U=>`d${U}: u32`).join(", "),ne=l.map(U=>`d${U}`).join(", ");return`
  fn get_${e}(${z}) -> ${d} {
    return get_${e}ByIndices(${M(ne)});
  }`})(),re=(...z)=>{if(z.length!==s)throw new Error(`indices length must be ${s}`);let ne=z.map(m).join(",");return s===0?G("0u"):s===1?G(ne[0]):(h.get=!0,h.getByIndices=!0,h.indicesToOffset=!0,`get_${e}(${ne})`)},te=z=>s<2?G(z):(h.getByIndices=!0,h.indicesToOffset=!0,`get_${e}ByIndices(${z})`),Y=s<2?"":`
  fn set_${e}ByIndices(indices: ${f.indices}, value: ${d}) {
    ${P(`i2o_${e}(indices)`,"value")}
  }`,se=s<2?"":(()=>{let z=l.map(U=>`d${U}: u32`).join(", "),ne=l.map(U=>`d${U}`).join(", ");return`
  fn set_${e}(${z}, value: ${d}) {
    set_${e}ByIndices(${M(ne)}, value);
  }`})();return{impl:()=>{let z=[],ne=!1;return h.offsetToIndices&&(z.push(w),ne=!0),h.indicesToOffset&&(z.push(F),ne=!0),h.broadcastedIndicesToOffset&&(Object.values(W).forEach(U=>z.push(U)),ne=!0),h.set&&(z.push(se),ne=!0),h.setByIndices&&(z.push(Y),ne=!0),h.get&&(z.push(H),ne=!0),h.getByIndices&&(z.push(Z),ne=!0),!i&&ne&&z.unshift(`const ${_} = ${f.indices}(${n.join(",")});`,`const ${$} = ${f.indices}(${oe.computeStrides(n).join(",")});`),z.join(`
`)},type:f,offsetToIndices:S,indicesToOffset:k,broadcastedIndicesToOffset:V,indices:M,indicesGet:O,indicesSet:B,set:(...z)=>{if(z.length!==s+1)throw new Error(`indices length must be ${s}`);let ne=z[s];if(typeof ne!="string")throw new Error("value must be string");let U=z.slice(0,s).map(m).join(",");return s===0?P("0u",ne):s===1?P(U[0],ne):(h.set=!0,h.setByIndices=!0,h.indicesToOffset=!0,`set_${e}(${U}, ${ne})`)},setByOffset:P,setByIndices:(z,ne)=>s<2?P(z,ne):(h.setByIndices=!0,h.indicesToOffset=!0,`set_${e}ByIndices(${z}, ${ne});`),get:re,getByOffset:G,getByIndices:te,usage:r,name:e,strides:$,shape:_,rank:s}},ue=(e,t,n,r=1)=>tp(e,t,n,"input",r),De=(e,t,n,r=1)=>tp(e,t,n,"output",r),WL=(e,t,n)=>tp(e,t,n,"atomicOutput",1),fE=(e,t,n,r=1)=>tp(e,t,n,"internal",r),JN=class{constructor(e,t){this.normalizedDispatchGroup=e,this.limits=t,this.internalVariables=[],this.variables=[],this.uniforms=[],this.variableIndex=0}guardAgainstOutOfBoundsWorkgroupSizes(e){return`if (global_idx >= ${typeof e=="number"?`${e}u`:e}) { return; }`}mainStart(e=qc){let t=typeof e=="number"?e:e[0],n=typeof e=="number"?1:e[1],r=typeof e=="number"?1:e[2];if(t>this.limits.maxComputeWorkgroupSizeX||n>this.limits.maxComputeWorkgroupSizeY||r>this.limits.maxComputeWorkgroupSizeZ)throw new Error(`workgroup size [${t}, ${n}, ${r}] exceeds the maximum workgroup size [${this.limits.maxComputeWorkgroupSizeX}, ${this.limits.maxComputeWorkgroupSizeY}, ${this.limits.maxComputeWorkgroupSizeZ}].`);if(t*n*r>this.limits.maxComputeInvocationsPerWorkgroup)throw new Error(`workgroup size [${t}, ${n}, ${r}] exceeds the maximum workgroup invocations ${this.limits.maxComputeInvocationsPerWorkgroup}.`);let o=this.normalizedDispatchGroup[1]===1&&this.normalizedDispatchGroup[2]===1,i=o?`@builtin(global_invocation_id) global_id : vec3<u32>,
    @builtin(workgroup_id) workgroup_id : vec3<u32>,
    @builtin(local_invocation_index) local_idx : u32,
    @builtin(local_invocation_id) local_id : vec3<u32>`:`@builtin(global_invocation_id) global_id : vec3<u32>,
                                             @builtin(local_invocation_id) local_id : vec3<u32>,
    @builtin(local_invocation_index) local_idx : u32,
    @builtin(workgroup_id) workgroup_id : vec3<u32>,
    @builtin(num_workgroups) num_workgroups : vec3<u32>`,s=o?`let global_idx = global_id.x;
         let workgroup_index = workgroup_id.x;`:`let workgroup_index = workgroup_id.z * num_workgroups[0] * num_workgroups[1] +
             workgroup_id.y * num_workgroups[0] + workgroup_id.x;
         let global_idx = workgroup_index * ${t*n*r}u + local_idx;`;return`@compute @workgroup_size(${t}, ${n}, ${r})
  fn main(${i}) {
    ${s}
  `}appendVariableUniforms(e){e.rank!==0&&(e.shape.startsWith("uniforms.")&&this.uniforms.push({name:e.shape.replace("uniforms.",""),type:"u32",length:e.rank}),e.strides.startsWith("uniforms.")&&this.uniforms.push({name:e.strides.replace("uniforms.",""),type:"u32",length:e.rank}))}declareVariable(e,t){if(e.usage==="internal")throw new Error("cannot use internal variable with declareVariable(). use registerInternalVariables() instead.");this.variables.push(e),this.appendVariableUniforms(e);let n=e.usage==="input"?"read":"read_write",r=e.usage==="atomicOutput"?"atomic<i32>":e.type.storage;return`@group(0) @binding(${t}) var<storage, ${n}> ${e.name}: array<${r}>;`}declareVariables(...e){return e.map(t=>this.declareVariable(t,this.variableIndex++)).join(`
`)}registerInternalVariable(e){if(e.usage!=="internal")throw new Error("cannot use input or output variable with registerInternalVariable(). use declareVariables() instead.");this.internalVariables.push(e),this.appendVariableUniforms(e)}registerInternalVariables(...e){return e.forEach(t=>this.registerInternalVariable(t)),this}registerUniform(e,t,n=1){return this.uniforms.push({name:e,type:t,length:n}),this}registerUniforms(e){return this.uniforms=this.uniforms.concat(e),this}uniformDeclaration(){if(this.uniforms.length===0)return"";let e=[];for(let{name:t,type:n,length:r}of this.uniforms)if(r&&r>4)n==="f16"?e.push(`@align(16) ${t}:array<mat2x4<${n}>, ${Math.ceil(r/8)}>`):e.push(`${t}:array<vec4<${n}>, ${Math.ceil(r/4)}>`);else{let o=r==null||r===1?n:`vec${r}<${n}>`;e.push(`${t}:${o}`)}return`
      struct Uniforms { ${e.join(", ")} };
      @group(0) @binding(${this.variableIndex}) var<uniform> uniforms: Uniforms;`}get additionalImplementations(){return this.uniformDeclaration()+this.variables.map(e=>e.impl()).join(`
`)+this.internalVariables.map(e=>e.impl()).join(`
`)}get variablesInfo(){if(this.uniforms.length===0)return;let e=t=>[12,10,1,6][["u32","f16","f32","i32"].indexOf(t)];return this.uniforms.map(t=>[e(t.type),t.length??1])}},zL=(e,t)=>new JN(e,t)}),eP,sI,tP,nP,rP,oP,to,VL,HL,qs=ye(()=>{"use strict";He(),et(),En(),at(),eP=(e,t)=>{if(!e||e.length!==1)throw new Error("Transpose requires 1 input.");if(t.length!==0&&t.length!==e[0].dims.length)throw new Error(`perm size ${t.length} does not match input rank ${e[0].dims.length}`)},sI=(e,t)=>t.length!==0?t:[...new Array(e).keys()].reverse(),tP=(e,t)=>oe.sortBasedOnPerm(e,sI(e.length,t)),nP=(e,t,n,r)=>{let o=`fn perm(i: ${r.type.indices}) -> ${n.type.indices} {
    var a: ${n.type.indices};`;for(let i=0;i<t;++i)o+=`a[${e[i]}]=i[${i}];`;return o+="return a;}"},rP=(e,t)=>{let n=[],r=[];for(let o=0;o<e.length;++o)e[o]!==1&&n.push(e[o]),e[t[o]]!==1&&r.push(t[o]);return{newShape:n,newPerm:r}},oP=(e,t)=>{let n=0;for(let r=0;r<e.length;++r)if(t[e[r]]!==1){if(e[r]<n)return!1;n=e[r]}return!0},to=(e,t)=>{let n=e.dataType,r=e.dims.length,o=sI(r,t),i=tP(e.dims,o),s=e.dims,l=i,c=r<2||oP(o,e.dims),u;if(c)return u=h=>{let g=ue("input",n,s,4),_=De("output",n,l,4);return`
  ${h.registerUniform("output_size","u32").declareVariables(g,_)}
  ${h.mainStart()}
    ${h.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
    output[global_idx] = input[global_idx];
  }`},{name:"TransposeCopy",shaderCache:{inputDependencies:["type"]},getRunData:()=>{let h=oe.size(i);return{outputs:[{dims:i,dataType:e.dataType}],dispatchGroup:{x:Math.ceil(h/64/4)},programUniforms:[{type:12,data:Math.ceil(h/4)}]}},getShaderSource:u};let{newShape:d,newPerm:p}=rP(e.dims,o),f=oe.areEqual(p,[2,3,1]),m=oe.areEqual(p,[3,1,2]);if(d.length===2||f||m){s=f?[d[0],d[1]*d[2]]:m?[d[0]*d[1],d[2]]:d,l=[s[1],s[0]];let h=16;return u=g=>{let _=ue("a",n,s.length),$=De("output",n,l.length);return`
  ${g.registerUniform("output_size","u32").declareVariables(_,$)}
  var<workgroup> tile : array<array<${$.type.value}, ${h+1}>, ${h}>;
  ${g.mainStart([h,h,1])}
    let stride = (uniforms.output_shape[1] - 1) / ${h} + 1;
    let workgroup_id_x = workgroup_index % stride;
    let workgroup_id_y = workgroup_index / stride;
    let input_col = workgroup_id_y * ${h}u + local_id.x;
    let input_row = workgroup_id_x * ${h}u + local_id.y;
    if (input_row < uniforms.a_shape[0] && input_col < uniforms.a_shape[1]) {
      tile[local_id.y][local_id.x] = ${_.getByIndices(`${_.type.indices}(input_row, input_col)`)};
    }
    workgroupBarrier();

    let output_col = workgroup_id_x * ${h}u + local_id.x;
    let output_row = workgroup_id_y * ${h}u + local_id.y;
    if (output_row < uniforms.output_shape[0] && output_col < uniforms.output_shape[1]) {
      ${$.setByIndices(`${$.type.indices}(output_row, output_col)`,"tile[local_id.x][local_id.y]")}
    }
  }`},{name:"TransposeShared",shaderCache:{inputDependencies:["type"]},getRunData:()=>{let g=oe.size(i);return{outputs:[{dims:i,dataType:e.dataType}],dispatchGroup:{x:Math.ceil(l[1]/h),y:Math.ceil(l[0]/h)},programUniforms:[{type:12,data:g},...Me(s,l)]}},getShaderSource:u}}return u=h=>{let g=ue("a",n,s.length),_=De("output",n,l.length);return`
  ${h.registerUniform("output_size","u32").declareVariables(g,_)}

  ${nP(o,r,g,_)}

  ${h.mainStart()}
    ${h.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}

    let indices = ${_.offsetToIndices("global_idx")};
    let aIndices = perm(indices);

    ${_.setByOffset("global_idx",g.getByIndices("aIndices"))}
  }`},{name:"Transpose",shaderCache:{hint:`${t}`,inputDependencies:["rank"]},getRunData:()=>{let h=oe.size(i);return{outputs:[{dims:i,dataType:e.dataType}],dispatchGroup:{x:Math.ceil(h/64)},programUniforms:[{type:12,data:h},...Me(s,l)]}},getShaderSource:u}},VL=(e,t)=>{eP(e.inputs,t.perm),e.compute(to(e.inputs[0],t.perm))},HL=e=>Ht({perm:e.perm})}),iP,sP,aP,lP,cP,uP,dP,pP,fP,mP,qo,GL,qL,KL,XL,YL,ZL,QL,JL,eU,tU,Yce=ye(()=>{"use strict";He(),et(),at(),mE(),qs(),iP={max:"select(bestValue, candidate, candidate > bestValue)",min:"select(bestValue, candidate, candidate < bestValue)",mean:"bestValue + candidate",sum:"bestValue + candidate",prod:"bestValue * candidate",sumSquare:"bestValue + candidate * candidate",logSumExp:"bestValue + exp(candidate)",l1:"bestValue + abs(candidate)",l2:"bestValue + candidate * candidate",logSum:"bestValue + candidate"},sP={max:"select(bestValue, candidate, candidate > bestValue)",min:"select(bestValue, candidate, candidate < bestValue)",mean:"bestValue + candidate",sum:"bestValue + candidate",prod:"bestValue * candidate",sumSquare:"bestValue + candidate",logSumExp:"bestValue + candidate",l1:"bestValue + candidate",l2:"bestValue + candidate",logSum:"bestValue + candidate"},aP={max:"_A[offset]",min:"_A[offset]",mean:"0",sum:"0",prod:"1",sumSquare:"0",logSumExp:"0",l1:"0",l2:"0",logSum:"0"},lP={max:"bestValue",min:"bestValue",sum:"bestValue",prod:"bestValue",sumSquare:"bestValue",logSumExp:"log(bestValue)",l1:"bestValue",l2:"sqrt(bestValue)",logSum:"log(bestValue)"},cP=(e,t)=>{let n=[];for(let r=t-e;r<t;++r)n.push(r);return n},uP=(e,t)=>{let n=[],r=e.length;for(let i=0;i<r;i++)t.indexOf(i)===-1&&n.push(e[i]);let o=t.map(i=>e[i]);return[n,o]},dP=(e,t)=>{let n=e.length+t.length,r=[],o=0;for(let i=0;i<n;i++)t.indexOf(i)===-1?r.push(e[o++]):r.push(1);return r},pP=(e,t)=>{for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0},fP=(e,t)=>{let n=[];if(!pP(e,t)){for(let r=0;r<t;++r)e.indexOf(r)===-1&&n.push(r);e.forEach(r=>n.push(r))}return n},mP=(e,t,n,r,o,i,s)=>{let l=n[0].dims,c=oe.size(i),u=oe.size(s),d=ue("_A",n[0].dataType,l),p=De("output",o,i),f=64;c===1&&(f=256);let m=`
          var<workgroup> aBestValues : array<f32, ${f}>;
       `,h=g=>`
        ${g.registerUniform("reduceSize","u32").declareVariables(d,p)}
        ${m}
        fn DIV_CEIL(a : u32, b : u32) -> u32 {
          return ((a - 1u) / b + 1u);
         }
         ${g.mainStart(f)}

          let outputIndex = global_idx / ${f};
          let offset = outputIndex * uniforms.reduceSize;

          var bestValue = f32(${aP[r]});
          let Length = uniforms.reduceSize;
          for (var k = local_idx; k < Length; k = k + ${f}) {
           let candidate = f32(${d.getByOffset("offset + k")});
           bestValue = ${iP[r]};
          }
          aBestValues[local_idx] = bestValue;
          workgroupBarrier();

         var reduceSize = min(Length, ${f}u);
         for (var currentSize = reduceSize / 2u; reduceSize > 1u;
             currentSize = reduceSize / 2u) {
           let interval = DIV_CEIL(reduceSize, 2u);
           if (local_idx < currentSize) {
            let candidate = aBestValues[local_idx + interval];
            bestValue = ${sP[r]};
            aBestValues[local_idx] = bestValue;
           }
           reduceSize = interval;
           workgroupBarrier();
         }

         if (local_idx == 0u) {
          ${p.setByOffset("outputIndex",`${r==="mean"?`${p.type.storage}(bestValue / f32(uniforms.reduceSize))`:`${p.type.storage}(${lP[r]})`}`)};
         }
        }`;return{name:e,shaderCache:{hint:`${t};${f}`,inputDependencies:["type"]},getShaderSource:h,getRunData:()=>({outputs:[{dims:i,dataType:o}],dispatchGroup:{x:c},programUniforms:[{type:12,data:u}]})}},qo=(e,t,n,r)=>{let o=e.inputs.length===1?n:zI(e.inputs,n),i=o.axes;i.length===0&&!o.noopWithEmptyAxes&&(i=e.inputs[0].dims.map((m,h)=>h));let s=oe.normalizeAxes(i,e.inputs[0].dims.length),l=s,c=e.inputs[0],u=fP(l,e.inputs[0].dims.length);u.length>0&&(c=e.compute(to(e.inputs[0],u),{inputs:[0],outputs:[-1]})[0],l=cP(l.length,c.dims.length));let[d,p]=uP(c.dims,l),f=d;o.keepDims&&(f=dP(d,s)),e.compute(mP(t,o.cacheKey,[c],r,e.inputs[0].dataType,f,p),{inputs:[c]})},GL=(e,t)=>{qo(e,"ReduceMeanShared",t,"mean")},qL=(e,t)=>{qo(e,"ReduceL1Shared",t,"l1")},KL=(e,t)=>{qo(e,"ReduceL2Shared",t,"l2")},XL=(e,t)=>{qo(e,"ReduceLogSumExpShared",t,"logSumExp")},YL=(e,t)=>{qo(e,"ReduceMaxShared",t,"max")},ZL=(e,t)=>{qo(e,"ReduceMinShared",t,"min")},QL=(e,t)=>{qo(e,"ReduceProdShared",t,"prod")},JL=(e,t)=>{qo(e,"ReduceSumShared",t,"sum")},eU=(e,t)=>{qo(e,"ReduceSumSquareShared",t,"sumSquare")},tU=(e,t)=>{qo(e,"ReduceLogSumShared",t,"logSum")}}),Ko,hP,Ub,zI,Xo,gP,bP,yP,_P,$P,xP,vP,wP,SP,CP,Yo,nU,rU,oU,iU,sU,aU,lU,cU,uU,dU,mE=ye(()=>{"use strict";He(),et(),En(),at(),Yce(),Ko=e=>{if(!e||e.length===0||e.length>2)throw new Error("Reduce op requires 1 or 2 inputs.");if(e.length===2&&e[1].dims.length!==1)throw new Error("Invalid axes input dims.")},hP=e=>["","",`var value = ${e.getByIndices("input_indices")};`,""],Ub=(e,t,n,r,o,i,s=!1,l=!1)=>{let c=[],u=n[0].dims,d=u.length,p=oe.normalizeAxes(o,d),f=!l&&p.length===0;u.forEach((g,_)=>{f||p.indexOf(_)>=0?s&&c.push(1):c.push(g)});let m=c.length,h=oe.size(c);return{name:e,shaderCache:t,getShaderSource:g=>{let _=[],$=ue("_A",n[0].dataType,d),x=De("output",i,m),w=r($,x,p),S=w[2];for(let I=0,F=0;I<d;I++)f||p.indexOf(I)>=0?(s&&F++,S=`for(var j${I}: u32 = 0; j${I} < ${u[I]}; j${I}++) {
                  ${w[2].includes("last_index")?`let last_index = j${I};`:""}
                  ${$.indicesSet("input_indices",I,`j${I}`)}
                  ${S}
                }`):(_.push(`${$.indicesSet("input_indices",I,x.indicesGet("output_indices",F))};`),F++);return`

        ${g.registerUniform("output_size","u32").declareVariables($,x)}

        ${g.mainStart()}
          ${g.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
          var input_indices: ${$.type.indices};
          let output_indices = ${x.offsetToIndices("global_idx")};

          ${_.join(`
`)}
          ${w[0]}       // init ops for reduce max/min
          ${w[1]}
          ${S}
          ${w[3]}
          ${w.length===4?x.setByOffset("global_idx","value"):w.slice(4).join(`
`)}
        }`},getRunData:()=>({outputs:[{dims:c,dataType:i}],dispatchGroup:{x:Math.ceil(h/64)},programUniforms:[{type:12,data:h},...Me(u,c)]})}},zI=(e,t)=>{let n=[];return e[1].dims[0]>0&&e[1].getBigInt64Array().forEach(r=>n.push(Number(r))),Ht({axes:n,keepDims:t.keepDims,noopWithEmptyAxes:t.noopWithEmptyAxes})},Xo=(e,t,n,r)=>{let o=e.inputs,i=o.length===1?n:zI(o,n);e.compute(Ub(t,{hint:i.cacheKey,inputDependencies:["rank"]},[o[0]],i.noopWithEmptyAxes&&i.axes.length===0?hP:r,i.axes,o[0].dataType,i.keepDims,i.noopWithEmptyAxes),{inputs:[0]})},gP=(e,t)=>{Ko(e.inputs),Xo(e,"ReduceLogSum",t,(n,r)=>[`var value = ${r.type.storage}(0);`,"",`value += ${n.getByIndices("input_indices")};`,"value = log(value);"])},bP=(e,t)=>{Ko(e.inputs),Xo(e,"ReduceL1",t,(n,r)=>[`var value = ${r.type.storage}(0);`,"",`value += abs(${n.getByIndices("input_indices")});`,""])},yP=(e,t)=>{Ko(e.inputs),Xo(e,"ReduceL2",t,(n,r)=>[`var t = ${r.type.value}(0); var value = ${r.type.value}(0);`,"",`t = ${n.getByIndices("input_indices")}; value += (t * t);`,"value = sqrt(value);"])},_P=(e,t)=>{Ko(e.inputs),Xo(e,"ReduceLogSumExp",t,(n,r)=>[`var value = ${r.type.storage}(0);`,"",`value += exp(${n.getByIndices("input_indices")});`,"value = log(value);"])},$P=(e,t)=>{Ko(e.inputs),Xo(e,"ReduceMax",t,(n,r,o)=>{let i=[];for(let s=0;s<n.rank;s++)(o.indexOf(s)>=0||o.length===0)&&i.push(n.indicesSet("input_indices",s,0));return[`${i.join(`
`)}`,`var value = ${n.getByIndices("input_indices")};`,`value = max(value, ${n.getByIndices("input_indices")});`,""]})},xP=(e,t)=>{Ko(e.inputs),Xo(e,"ReduceMean",t,(n,r,o)=>{let i=1;for(let s=0;s<n.rank;s++)(o.indexOf(s)>=0||o.length===0)&&(i*=e.inputs[0].dims[s]);return["var sum = f32(0);","",`sum += f32(${n.getByIndices("input_indices")});`,`let value = ${r.type.value}(sum / ${i});`]})},vP=(e,t)=>{Ko(e.inputs),Xo(e,"ReduceMin",t,(n,r,o)=>{let i=[];for(let s=0;s<n.rank;s++)(o.indexOf(s)>=0||o.length===0)&&i.push(`input_indices[${s}] = 0;`);return[`${i.join(`
`)}`,`var value = ${n.getByIndices("input_indices")};`,`value = min(value, ${n.getByIndices("input_indices")});`,""]})},wP=(e,t)=>{Ko(e.inputs),Xo(e,"ReduceProd",t,(n,r)=>[`var value = ${r.type.storage}(1);`,"",`value *= ${n.getByIndices("input_indices")};`,""])},SP=(e,t)=>{Ko(e.inputs),Xo(e,"ReduceSum",t,(n,r)=>[`var value = ${r.type.storage}(0);`,"",`value += ${n.getByIndices("input_indices")};`,""])},CP=(e,t)=>{Ko(e.inputs),Xo(e,"ReduceSumSquare",t,(n,r)=>[`var t = ${r.type.value}(0); var value = ${r.type.value}(0);`,"",`t = ${n.getByIndices("input_indices")}; value += t * t;`,""])},Yo=(e,t,n)=>{if(t.length===0)return n;let r=1,o=1;for(let i=0;i<t.length;i++)t.indexOf(i)===-1?r*=e[i]:o*=e[i];return o<32&&r>1024},nU=(e,t)=>{Yo(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?xP(e,t):GL(e,t)},rU=(e,t)=>{Yo(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?bP(e,t):qL(e,t)},oU=(e,t)=>{Yo(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?yP(e,t):KL(e,t)},iU=(e,t)=>{Yo(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?_P(e,t):XL(e,t)},sU=(e,t)=>{Yo(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?$P(e,t):YL(e,t)},aU=(e,t)=>{Yo(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?vP(e,t):ZL(e,t)},lU=(e,t)=>{Yo(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?wP(e,t):QL(e,t)},cU=(e,t)=>{Yo(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?SP(e,t):JL(e,t)},uU=(e,t)=>{Yo(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?CP(e,t):eU(e,t)},dU=(e,t)=>{Yo(e.inputs[0].dims,t.axes,t.noopWithEmptyAxes)?gP(e,t):tU(e,t)}}),aI,pU,fU,VI,Zce=ye(()=>{"use strict";He(),En(),mE(),aI=e=>{if(!e||e.length===0||e.length>2)throw new Error("ArgMinMaxOp op requires 1 or 2 inputs.");if(e[0].dataType!==1)throw new Error("Invalid input type.")},pU=(e,t)=>{aI(e.inputs);let n=(r,o,i)=>{let s=[];for(let l=0;l<r.rank;l++)(i.indexOf(l)>=0||i.length===0)&&s.push(`input_indices[${l}] = 0;`);return[`${s.join(`
`)}`,`var value = ${r.getByIndices("input_indices")};
var best_index : i32 = 0;`,`if (${r.getByIndices("input_indices")} ${t.selectLastIndex>0?"<=":"<"} value) {
         value = ${r.getByIndices("input_indices")};
         best_index = i32(last_index);
       }`,"",o.setByOffset("global_idx","best_index")]};e.compute(Ub("ArgMin",{hint:t.cacheKey,inputDependencies:["rank"]},[e.inputs[0]],n,[t.axis],7,t.keepDims),{inputs:[0]})},fU=(e,t)=>{aI(e.inputs);let n=(r,o,i)=>{let s=[];for(let l=0;l<r.rank;l++)(i.indexOf(l)>=0||i.length===0)&&s.push(`input_indices[${l}] = 0;`);return[`${s.join(`
`)}`,`var value = ${r.getByIndices("input_indices")};
var best_index : i32 = 0;`,`if (${r.getByIndices("input_indices")} ${t.selectLastIndex>0?">=":">"} value) {
         value = ${r.getByIndices("input_indices")};
         best_index = i32(last_index);
       }`,"",o.setByOffset("global_idx","best_index")]};e.compute(Ub("argMax",{hint:t.cacheKey,inputDependencies:["rank"]},[e.inputs[0]],n,[t.axis],7,t.keepDims),{inputs:[0]})},VI=e=>Ht(e)}),IP,Ib,EP,TP,DP,fp,FP,mU,hE=ye(()=>{"use strict";He(),et(),pE(),at(),IP=(e,t)=>{let n=e[0],r=e[1],o=e[2],i=e[3],s=e[4],l=e[5];if(s&&l)throw new Error("Attention cannot have both past and attention_bias");if(n.dims.length!==3)throw new Error('Input "input" must have 3 dimensions');let c=n.dims[0],u=n.dims[1],d=n.dims[2];if(o.dims.length!==1)throw new Error('Input "bias" is expected to have 1 dimensions');if(r.dims.length!==2)throw new Error('Input "weights" is expected to have 2 dimensions');if(r.dims[0]!==d)throw new Error("Input 1 dimension 0 should have same length as dimension 2 of input 0");if(o.dims[0]!==r.dims[1])throw new Error('Input "bias" dimension 0 should have same length as dimension 1 of input "weights"');let p=o.dims[0]/3,f=p,m=f;if(t.qkvHiddenSizes.length>0){if(t.qkvHiddenSizes.length!==3)throw new Error("qkv_hidden_sizes attribute should have 3 elements");for(let w of t.qkvHiddenSizes)if(w%t.numHeads!==0)throw new Error("qkv_hidden_sizes should be divisible by num_heads");p=t.qkvHiddenSizes[0],f=t.qkvHiddenSizes[1],m=t.qkvHiddenSizes[2]}let h=u;if(p!==f)throw new Error("qkv_hidden_sizes first element should be same as the second");if(o.dims[0]!==p+f+m)throw new Error('Input "bias" dimension 0 should have same length as sum of Q/K/V hidden sizes');let g=0;if(s){if(f!==m)throw new Error('Input "past" expect k_hidden_size == v_hidden_size');if(s.dims.length!==5)throw new Error('Input "past" must have 5 dimensions');if(s.dims[0]!==2)throw new Error('Input "past" first dimension must be 2');if(s.dims[1]!==c)throw new Error('Input "past" second dimension must be batch_size');if(s.dims[2]!==t.numHeads)throw new Error('Input "past" third dimension must be num_heads');if(s.dims[4]!==f/t.numHeads)throw new Error('Input "past" fifth dimension must be k_hidden_size / num_heads');t.pastPresentShareBuffer||(g=s.dims[3])}let _=h+g,$=-1,x=0;if(i)throw new Error("Mask not supported");if(s)throw new Error("past is not supported");if(l){if(l.dims.length!==4)throw new Error('Input "attention_bias" must have 4 dimensions');if(l.dims[0]!==c||l.dims[1]!==t.numHeads||l.dims[2]!==u||l.dims[3]!==_)throw new Error('Expect "attention_bias" shape (batch_size, num_heads, sequence_length, total_sequence_length)')}return{batchSize:c,sequenceLength:u,pastSequenceLength:g,kvSequenceLength:h,totalSequenceLength:_,maxSequenceLength:$,inputHiddenSize:d,hiddenSize:p,vHiddenSize:m,headSize:Math.floor(p/t.numHeads),vHeadSize:Math.floor(m/t.numHeads),numHeads:t.numHeads,isUnidirectional:!1,pastPresentShareBuffer:!1,maskFilterValue:t.maskFilterValue,maskType:x,scale:t.scale,broadcastResPosBias:!1,passPastInKv:!1,qkvFormat:1}},Ib=(e,t,n)=>t&&e?`
      let total_sequence_length_input = u32(${t.getByOffset("0")});
      let present_sequence_length = max(total_sequence_length_input, uniforms.past_sequence_length);
      let is_subsequent_prompt: bool = sequence_length > 1 && sequence_length != total_sequence_length_input;
      let is_first_prompt: bool = is_subsequent_prompt == false && sequence_length == total_sequence_length_input;
      total_sequence_length = u32(${e?.getByOffset("batchIdx")}) + 1;
      var past_sequence_length: u32 = 0;
      if (is_first_prompt == false) {
        past_sequence_length = total_sequence_length - sequence_length;
      }
       `:`
    ${n?"let past_sequence_length = uniforms.past_sequence_length":""};
    let present_sequence_length = total_sequence_length;
    `,EP=(e,t,n,r,o,i,s,l)=>{let c=wn(s?1:i),u=64,d=i/c;d<u&&(u=32);let p=Math.ceil(i/c/u),f=[{type:12,data:t},{type:12,data:n},{type:12,data:r},{type:12,data:o},{type:12,data:d},{type:12,data:p}],m=Gn(e.dataType,c),h=_r(1,c),g=["type"];s&&g.push("type"),l&&g.push("type");let _=$=>{let x=De("x",e.dataType,e.dims,c),w=[x],S=s?ue("seq_lens",s.dataType,s.dims):void 0;S&&w.push(S);let I=l?ue("total_sequence_length_input",l.dataType,l.dims):void 0;I&&w.push(I);let F=_r(e.dataType),k=[{name:"batch_size",type:"u32"},{name:"num_heads",type:"u32"},{name:"past_sequence_length",type:"u32"},{name:"sequence_length",type:"u32"},{name:"total_sequence_length",type:"u32"},{name:"elements_per_thread",type:"u32"}];return`
  var<workgroup> thread_max: array<f32, ${u}>;
  var<workgroup> thread_sum: array<f32, ${u}>;
  ${$.registerUniforms(k).declareVariables(...w)}
  ${$.mainStart([u,1,1])}
    let batchIdx = workgroup_id.z / uniforms.num_heads;
    let headIdx = workgroup_id.z % uniforms.num_heads;
    let sequence_length = uniforms.sequence_length;
    var total_sequence_length = uniforms.total_sequence_length;
    ${Ib(S,I,!1)}
    let local_offset = local_idx * uniforms.elements_per_thread;
    let offset = (global_idx / ${u}) * uniforms.total_sequence_length + local_offset;
    let seq_causal_length = ${s?"u32(past_sequence_length + workgroup_id.y + 1)":"total_sequence_length"};
    var thread_max_vector = ${h}(-3.402823e+38f);
    for (var i: u32 = 0; i < uniforms.elements_per_thread && i + local_offset < seq_causal_length; i++) {
      thread_max_vector = max(${h}(x[offset + i]), thread_max_vector);
    }
    thread_max[local_idx] = ${(()=>{switch(c){case 1:return"thread_max_vector";case 2:return"max(thread_max_vector.x, thread_max_vector.y)";case 4:return"max(max(thread_max_vector.x, thread_max_vector.y), max(thread_max_vector.z, thread_max_vector.w))";default:throw new Error(`Unsupported components: ${c}`)}})()};
    workgroupBarrier();

    var max_value =  f32(-3.402823e+38f);
    for (var i = 0u; i < ${u}; i++) {
      max_value = max(thread_max[i], max_value);
    }

    var sum_vector = ${h}(0);
    for (var i: u32 = 0; i < uniforms.elements_per_thread && i + local_offset < seq_causal_length; i++) {
      sum_vector += exp(${h}(x[offset + i]) - max_value);
    }
    thread_sum[local_idx] = ${(()=>{switch(c){case 1:return"sum_vector";case 2:return"sum_vector.x + sum_vector.y";case 4:return"sum_vector.x + sum_vector.y + sum_vector.z + sum_vector.w";default:throw new Error(`Unsupported components: ${c}`)}})()};
    workgroupBarrier();

    var sum: f32 = 0;
    for (var i = 0u; i < ${u}; i++) {
      sum += thread_sum[i];
    }

    if (sum == 0) {
      for (var i: u32 = 0; i < uniforms.elements_per_thread && i + local_offset < seq_causal_length; i++) {
        x[offset + i] = ${x.type.value}(${F}(1.0) / ${F}(seq_causal_length));
      }
    } else {
      for (var i: u32 = 0; i < uniforms.elements_per_thread && i + local_offset < seq_causal_length; i++) {
        var f32input = ${h}(x[offset + i]);
        x[offset + i] = ${x.type.value}(exp(f32input - max_value) / sum);
      }
    }
      ${s?`
        for (var total_seq_id: u32 = seq_causal_length; total_seq_id + local_offset < uniforms.total_sequence_length; total_seq_id++) {
          x[offset + total_seq_id] = ${x.type.value}(${F}(0));
        }`:""};
  }`};return{name:"AttentionProbsSoftmax",shaderCache:{hint:`${u};${m};${c}`,inputDependencies:g},getShaderSource:_,getRunData:()=>({outputs:[],dispatchGroup:{x:Math.ceil(i/u),y:o,z:t*n},programUniforms:f})}},TP=(e,t,n,r,o,i,s,l,c)=>{let u=s+i.kvSequenceLength,d=[i.batchSize,i.numHeads,i.sequenceLength,u],p=e>1&&r,f=i.kvNumHeads?i.kvNumHeads:i.numHeads,m=p?[i.batchSize,f,u,i.headSize]:void 0,h=i.nReps?i.nReps:1,g=i.scale===0?1/Math.sqrt(i.headSize):i.scale,_=wn(i.headSize),$=i.headSize/_,x=12,w={x:Math.ceil(u/x),y:Math.ceil(i.sequenceLength/x),z:i.batchSize*i.numHeads},S=[{type:12,data:i.sequenceLength},{type:12,data:$},{type:12,data:u},{type:12,data:i.numHeads},{type:12,data:i.headSize},{type:1,data:g},{type:12,data:s},{type:12,data:i.kvSequenceLength},{type:12,data:h}],I=p&&r&&oe.size(r.dims)>0,F=["type","type"];I&&F.push("type"),o&&F.push("type"),l&&F.push("type"),c&&F.push("type");let k=[{dims:d,dataType:t.dataType,gpuDataType:0}];p&&k.push({dims:m,dataType:t.dataType,gpuDataType:0});let M=O=>{let B=ue("q",t.dataType,t.dims,_),W=ue("key",n.dataType,n.dims,_),V=[B,W];if(I){let Y=ue("past_key",r.dataType,r.dims,_);V.push(Y)}o&&V.push(ue("attention_bias",o.dataType,o.dims));let P=l?ue("seq_lens",l.dataType,l.dims):void 0;P&&V.push(P);let G=c?ue("total_sequence_length_input",c.dataType,c.dims):void 0;G&&V.push(G);let Z=De("output",t.dataType,d),H=[Z];p&&H.push(De("present_key",t.dataType,m,_));let re=_r(1,_),te=[{name:"M",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"num_heads",type:"u32"},{name:"head_size",type:"u32"},{name:"alpha",type:"f32"},{name:"past_sequence_length",type:"u32"},{name:"kv_sequence_length",type:"u32"},{name:"n_reps",type:"u32"}];return`
  const TILE_SIZE = ${x}u;

  var<workgroup> tileQ: array<${B.type.storage}, ${x*x}>;
  var<workgroup> tileK: array<${B.type.storage}, ${x*x}>;
  ${O.registerUniforms(te).declareVariables(...V,...H)}
  ${O.mainStart([x,x,1])}
    // x holds the N and y holds the M
    let headIdx = workgroup_id.z % uniforms.num_heads;
    let kvHeadIdx = ${h===1?"headIdx":"headIdx / uniforms.n_reps"};
    let kv_num_heads = ${h===1?"uniforms.num_heads":"uniforms.num_heads / uniforms.n_reps"};
    let batchIdx = workgroup_id.z / uniforms.num_heads;
    let m = workgroup_id.y * TILE_SIZE;
    let n = workgroup_id.x * TILE_SIZE;
    let sequence_length = uniforms.M;
    var total_sequence_length = uniforms.N;
    ${Ib(P,G,!0)}
    let absKvHeadIdx = batchIdx * kv_num_heads + kvHeadIdx;
    let qOffset = workgroup_id.z * uniforms.M * uniforms.K + m * uniforms.K;
    ${I&&p?"let pastKeyOffset = absKvHeadIdx * uniforms.past_sequence_length * uniforms.K;":""};
    let kOffset = absKvHeadIdx * uniforms.kv_sequence_length * uniforms.K;
    ${p?"let presentKeyOffset = absKvHeadIdx * uniforms.N * uniforms.K;":""}
    var value = ${re}(0);
    for (var w: u32 = 0u; w < uniforms.K; w += TILE_SIZE) {
      if (global_id.y < uniforms.M && w + local_id.x < uniforms.K) {
        tileQ[TILE_SIZE * local_id.y + local_id.x] = q[qOffset + local_id.y * uniforms.K + w + local_id.x];
      }
      if (n + local_id.y < uniforms.N && w + local_id.x < uniforms.K) {
        var idx = TILE_SIZE * local_id.y + local_id.x;
      ${I&&p?`
              if (n + local_id.y < past_sequence_length) {
                tileK[idx] = past_key[pastKeyOffset + (n + local_id.y) * uniforms.K + w + local_id.x];
              } else if (n + local_id.y - past_sequence_length < uniforms.kv_sequence_length) {
                tileK[idx] = key[kOffset + (n + local_id.y - past_sequence_length) * uniforms.K + w + local_id.x];
              }`:`
          if (n + local_id.y < uniforms.kv_sequence_length) {
            tileK[idx] = key[kOffset + (n + local_id.y) * uniforms.K + w + local_id.x];
          }`}
      ${p?`if (n + local_id.y < present_sequence_length) {
        present_key[presentKeyOffset + (n + local_id.y) * uniforms.K + w + local_id.x] = tileK[idx];
      }`:""}
      }
      workgroupBarrier();

      for (var k: u32 = 0u; k < TILE_SIZE && w+k < uniforms.K; k++) {
          value += ${re}(tileQ[TILE_SIZE * local_id.y + k] * tileK[TILE_SIZE * local_id.x + k]);
      }

      workgroupBarrier();
    }

    if (global_id.y < uniforms.M && global_id.x < total_sequence_length) {
      let headOffset = workgroup_id.z * uniforms.M * uniforms.N;
      let outputIdx = headOffset + global_id.y * uniforms.N + global_id.x;
      var sum: f32 = ${(()=>{switch(_){case 1:return"value";case 2:return"value.x + value.y";case 4:return"value.x + value.y + value.z + value.w";default:throw new Error(`Unsupported components: ${_}`)}})()};
        output[outputIdx] = ${Z.type.value} (sum * uniforms.alpha) + ${o?"attention_bias[outputIdx]":"0.0"};
    }
  }`};return{name:"AttentionProbs",shaderCache:{hint:`${_};${o!==void 0};${r!==void 0};${e}`,inputDependencies:F},getRunData:()=>({outputs:k,dispatchGroup:w,programUniforms:S}),getShaderSource:M}},DP=(e,t,n,r,o,i,s=void 0,l=void 0)=>{let c=i+o.kvSequenceLength,u=o.nReps?o.nReps:1,d=o.vHiddenSize*u,p=e>1&&r,f=o.kvNumHeads?o.kvNumHeads:o.numHeads,m=p?[o.batchSize,f,c,o.headSize]:void 0,h=[o.batchSize,o.sequenceLength,d],g=12,_={x:Math.ceil(o.vHeadSize/g),y:Math.ceil(o.sequenceLength/g),z:o.batchSize*o.numHeads},$=[{type:12,data:o.sequenceLength},{type:12,data:c},{type:12,data:o.vHeadSize},{type:12,data:o.numHeads},{type:12,data:o.headSize},{type:12,data:d},{type:12,data:i},{type:12,data:o.kvSequenceLength},{type:12,data:u}],x=p&&r&&oe.size(r.dims)>0,w=["type","type"];x&&w.push("type"),s&&w.push("type"),l&&w.push("type");let S=[{dims:h,dataType:t.dataType,gpuDataType:0}];p&&S.push({dims:m,dataType:t.dataType,gpuDataType:0});let I=F=>{let k=ue("probs",t.dataType,t.dims),M=ue("v",n.dataType,n.dims),O=[k,M];x&&O.push(ue("past_value",r.dataType,r.dims));let B=s?ue("seq_lens",s.dataType,s.dims):void 0;s&&O.push(B);let W=l?ue("total_sequence_length_input",l.dataType,l.dims):void 0;l&&O.push(W);let V=[De("output",t.dataType,h)];p&&V.push(De("present_value",t.dataType,m));let P=[{name:"M",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"num_heads",type:"u32"},{name:"head_size",type:"u32"},{name:"v_hidden_size",type:"u32"},{name:"past_sequence_length",type:"u32"},{name:"kv_sequence_length",type:"u32"},{name:"n_reps",type:"u32"}];return`
  const TILE_SIZE = ${g}u;
  var<workgroup> tileQ: array<${k.type.value}, ${g*g}>;
  var<workgroup> tileV: array<${k.type.value}, ${g*g}>;
  ${F.registerUniforms(P).declareVariables(...O,...V)}
  ${F.mainStart([g,g,1])}
   let headIdx = workgroup_id.z % uniforms.num_heads;
   let batchIdx = workgroup_id.z / uniforms.num_heads;
   let kvHeadIdx = ${u===1?"headIdx":"headIdx / uniforms.n_reps"};
   let kv_num_heads = ${u===1?"uniforms.num_heads":"uniforms.num_heads / uniforms.n_reps"};
   let m = global_id.y;
   let n = global_id.x;
   let sequence_length = uniforms.M;
   var total_sequence_length = uniforms.K;
   ${Ib(B,W,!0)}
   let offsetA = workgroup_id.z * uniforms.M * uniforms.K + m * uniforms.K;
   let absKvHeadIdx = batchIdx * kv_num_heads + kvHeadIdx; // kvHeadIdx is relative to the batch
   ${x&&p?"let pastValueOffset = absKvHeadIdx * uniforms.N * uniforms.past_sequence_length + n;":""};
   let vOffset = absKvHeadIdx * uniforms.N * uniforms.kv_sequence_length + n;
   ${p?"let presentValueOffset = absKvHeadIdx * uniforms.N * uniforms.K + n;":""}
   var value = ${k.type.storage}(0);
   for (var w: u32 = 0u; w < uniforms.K; w += TILE_SIZE) {
      if (m < uniforms.M && w + local_id.x < uniforms.K) {
        tileQ[TILE_SIZE * local_id.y + local_id.x] = probs[offsetA + w + local_id.x];
      }
      if (n < uniforms.N && w + local_id.y < uniforms.K) {
        var idx = TILE_SIZE * local_id.y + local_id.x;
        ${x&&p?`
        if (w + local_id.y < past_sequence_length) {
          tileV[idx] = past_value[pastValueOffset + (w + local_id.y) * uniforms.N];
        } else if (w + local_id.y - past_sequence_length < uniforms.kv_sequence_length) {
          tileV[idx] = v[vOffset + (w + local_id.y - past_sequence_length) * uniforms.N];
        }
      `:`
            if (w + local_id.y < uniforms.kv_sequence_length) {
              tileV[idx] = v[vOffset + (w + local_id.y) * uniforms.N];
            }`}
        ${p?`
            if (w + local_id.y < present_sequence_length) {
          present_value[presentValueOffset + (w + local_id.y) * uniforms.N] = tileV[idx];
        }`:""}
      }
     workgroupBarrier();
     for (var k: u32 = 0u; k < TILE_SIZE && w+k < total_sequence_length; k++) {
       value += tileQ[TILE_SIZE * local_id.y + k] * tileV[TILE_SIZE * k + local_id.x];
     }
     workgroupBarrier();
   }

   // we need to transpose output from BNSH_v to BSND_v
   if (m < uniforms.M && n < uniforms.N) {
     let outputIdx = batchIdx * uniforms.M * uniforms.v_hidden_size + m * uniforms.v_hidden_size
       + headIdx * uniforms.N + n;
     output[outputIdx] = value;
   }
  }`};return{name:"AttentionScore",shaderCache:{hint:`${r!==void 0};${e}`,inputDependencies:w},getRunData:()=>({outputs:S,dispatchGroup:_,programUniforms:$}),getShaderSource:I}},fp=(e,t,n,r,o,i,s,l,c,u,d=void 0,p=void 0)=>{let f=Math.min(e.outputCount,1+(s?1:0)+(l?1:0)),m=f>1?u.pastSequenceLength:0,h=m+u.kvSequenceLength,g=c&&oe.size(c.dims)>0?c:void 0,_=[t,n];f>1&&s&&oe.size(s.dims)>0&&_.push(s),g&&_.push(g),d&&_.push(d),p&&_.push(p);let $=e.compute(TP(f,t,n,s,g,u,m,d,p),{inputs:_,outputs:f>1?[-1,1]:[-1]})[0];e.compute(EP($,u.batchSize,u.numHeads,m,u.sequenceLength,h,d,p),{inputs:d&&p?[$,d,p]:[$],outputs:[]});let x=[$,r];f>1&&l&&oe.size(l.dims)>0&&x.push(l),d&&x.push(d),p&&x.push(p),e.compute(DP(f,$,r,l,u,m,d,p),{inputs:x,outputs:f>1?[0,2]:[0]})},FP=(e,t)=>{let n=[t.batchSize,t.numHeads,t.sequenceLength,t.headSize],r=t.sequenceLength,o=t.inputHiddenSize,i=t.headSize,s=12,l={x:Math.ceil(t.headSize/s),y:Math.ceil(t.sequenceLength/s),z:t.batchSize*t.numHeads},c=[e.inputs[0],e.inputs[1],e.inputs[2]],u=[{type:12,data:r},{type:12,data:o},{type:12,data:i},{type:12,data:t.numHeads},{type:12,data:t.headSize},{type:12,data:t.hiddenSize},{type:12,data:t.hiddenSize+t.hiddenSize+t.vHiddenSize}],d=p=>{let f=De("output_q",c[0].dataType,n),m=De("output_k",c[0].dataType,n),h=De("output_v",c[0].dataType,n),g=ue("input",c[0].dataType,c[0].dims),_=ue("weight",c[1].dataType,c[1].dims),$=ue("bias",c[2].dataType,c[2].dims),x=g.type.storage,w=[{name:"M",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"num_heads",type:"u32"},{name:"head_size",type:"u32"},{name:"hidden_size",type:"u32"},{name:"ldb",type:"u32"}];return`
  const TILE_SIZE = ${s}u;
  var<workgroup> tileInput: array<${x}, ${s*s}>;
  var<workgroup> tileWeightQ: array<${x}, ${s*s}>;
  var<workgroup> tileWeightK: array<${x}, ${s*s}>;
  var<workgroup> tileWeightV: array<${x}, ${s*s}>;
  ${p.registerUniforms(w).declareVariables(g,_,$,f,m,h)}
  ${p.mainStart([s,s,1])}
    let batchIndex = workgroup_id.z / uniforms.num_heads;
    let headNumber = workgroup_id.z % uniforms.num_heads;
    let m = global_id.y;
    let n = global_id.x;

    let inputOffset = batchIndex * (uniforms.M * uniforms.K) + m * uniforms.K;
    let biasOffsetQ = headNumber * uniforms.head_size;
    let biasOffsetK = uniforms.hidden_size + biasOffsetQ;
    let biasOffsetV = uniforms.hidden_size + biasOffsetK;

    var valueQ = ${x}(0);
    var valueK = ${x}(0);
    var valueV = ${x}(0);
    for (var w: u32 = 0u; w < uniforms.K; w += TILE_SIZE) {
      if (m < uniforms.M && w + local_id.x < uniforms.K) {
        tileInput[TILE_SIZE * local_id.y + local_id.x] = input[inputOffset + w + local_id.x];
      }
      if (n < uniforms.N && w + local_id.y < uniforms.K) {
        let offset = n + (w + local_id.y) * uniforms.ldb;
        tileWeightQ[TILE_SIZE * local_id.y + local_id.x] = weight[biasOffsetQ + offset];
        tileWeightK[TILE_SIZE * local_id.y + local_id.x] = weight[biasOffsetK + offset];
        tileWeightV[TILE_SIZE * local_id.y + local_id.x] = weight[biasOffsetV + offset];
      }
      workgroupBarrier();
      for (var k: u32 = 0u; k<TILE_SIZE && w+k < uniforms.K; k++) {
        let inputTileOffset = TILE_SIZE * local_id.y + k;
        let weightTileOffset = TILE_SIZE * k + local_id.x;
        valueQ += tileInput[inputTileOffset] * tileWeightQ[weightTileOffset];
        valueK += tileInput[inputTileOffset] * tileWeightK[weightTileOffset];
        valueV += tileInput[inputTileOffset] * tileWeightV[weightTileOffset];
      }

      workgroupBarrier();
    }

    let headOffset = (m * uniforms.N + n) % uniforms.head_size;
    valueQ += bias[headOffset + biasOffsetQ];
    valueK += bias[headOffset + biasOffsetK];
    valueV += bias[headOffset + biasOffsetV];

    let offset = workgroup_id.z * uniforms.M * uniforms.N;
    if (m < uniforms.M && n < uniforms.N) {
      let outputIdx = offset + m * uniforms.N + n;
      output_q[outputIdx] = valueQ;
      output_k[outputIdx] = valueK;
      output_v[outputIdx] = valueV;
    }
  }`};return e.compute({name:"AttentionPrepare",shaderCache:{inputDependencies:["type","type","type"]},getRunData:()=>({outputs:[{dims:n,dataType:e.inputs[0].dataType,gpuDataType:0},{dims:n,dataType:e.inputs[0].dataType,gpuDataType:0},{dims:n,dataType:e.inputs[0].dataType,gpuDataType:0}],dispatchGroup:l,programUniforms:u}),getShaderSource:d},{inputs:c,outputs:[-1,-1,-1]})},mU=(e,t)=>{let n=IP(e.inputs,t),[r,o,i]=FP(e,n);return fp(e,r,o,i,e.inputs[4],void 0,void 0,void 0,e.inputs[5],n)}}),kP,AP,MP,hU,Qce=ye(()=>{"use strict";Jo(),He(),et(),En(),at(),kP=(e,t)=>{if(!e||e.length!==5)throw new Error("BatchNormalization requires 5 inputs");let n=(r,o,i)=>{let s=o.length;if(s!==r.length)throw new Error(`${i}: num dimensions != ${s}`);o.forEach((l,c)=>{if(l!==r[c])throw new Error(`${i}: dim[${c}] do not match`)})};if(e[0].dims.length>1){let r=t.format==="NHWC"?t.spatial?e[0].dims.slice(-1):e[0].dims.slice(-1).concat(e[0].dims.slice(1,e[0].dims.length-1)):e[0].dims.slice(1,t.spatial?2:void 0);n(e[1].dims,r,"Invalid input scale"),n(e[2].dims,r,"Invalid input B"),n(e[3].dims,r,"Invalid input mean"),n(e[4].dims,r,"Invalid input var")}else n(e[1].dims,[1],"Invalid input scale"),n(e[2].dims,[1],"Invalid input B"),n(e[3].dims,[1],"Invalid input mean"),n(e[4].dims,[1],"Invalid input var")},AP=(e,t)=>{let{epsilon:n,spatial:r,format:o}=t,i=e[0].dims,s=r?wn(i[i.length-1]):1,l=o==="NHWC"&&i.length>1?s:1,c=oe.size(i)/s,u=r,d=u?i.length:i,p=ue("x",e[0].dataType,e[0].dims,s),f=ue("scale",e[1].dataType,e[1].dims,l),m=ue("bias",e[2].dataType,e[2].dims,l),h=ue("inputMean",e[3].dataType,e[3].dims,l),g=ue("inputVar",e[4].dataType,e[4].dims,l),_=De("y",e[0].dataType,d,s),$=()=>{let w="";if(r)w=`let cOffset = ${i.length===1?"0u":o==="NHWC"?`outputIndices[${i.length-1}] / ${s}`:"outputIndices[1]"};`;else if(o==="NCHW")w=`
            ${_.indicesSet("outputIndices","0","0")}
            let cOffset = ${_.indicesToOffset("outputIndices")};`;else{w=`var cIndices = ${f.type.indices}(0);
                       cIndices[0] = outputIndices[${i.length-1}];`;for(let S=1;S<f.rank;S++)w+=`cIndices[${S}] = outputIndices[${S}];`;w+=`let cOffset = ${f.indicesToOffset("cIndices")};`}return w},x=w=>`
  const epsilon = ${n};
  ${w.registerUniform("outputSize","u32").declareVariables(p,f,m,h,g,_)}
  ${w.mainStart()}
  ${w.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
    var outputIndices = ${_.offsetToIndices(`global_idx * ${s}`)};
    ${$()}
    let scale = ${f.getByOffset("cOffset")};
    let bias = ${m.getByOffset("cOffset")};
    let inputMean = ${h.getByOffset("cOffset")};
    let inputVar = ${g.getByOffset("cOffset")};
    let x = ${p.getByOffset("global_idx")};
    let value = (x - inputMean) * inverseSqrt(inputVar + epsilon) * scale + bias;
    ${_.setByOffset("global_idx","value")}
  }`;return{name:"BatchNormalization",shaderCache:{hint:`${t.epsilon}_${t.format}_${r}_${s}`,inputDependencies:u?["rank","type","type","type","type"]:void 0},getShaderSource:x,getRunData:()=>({outputs:[{dims:e[0].dims,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(c/64)},programUniforms:u?[{type:12,data:c},...Me(i)]:[{type:12,data:c}]})}},MP=e=>Ht(e),hU=(e,t)=>{let{inputs:n,outputCount:r}=e,o=MP(tt(fe({},t),{outputCount:r}));if(_n.webgpu.validateInputContent&&kP(n,o),t.trainingMode)throw new Error("BatchNormalization trainingMode is not supported yet.");e.compute(AP(n,o))}}),RP,jP,gU,Jce=ye(()=>{"use strict";et(),at(),RP=e=>{if(e[0].dims.length!==3)throw new Error("input should have 3 dimensions");if(![320,640,1280].includes(e[0].dims[2]))throw new Error("number of channels should be 320, 640 or 1280");if(e[1].dims.length!==1)throw new Error("bias is expected to have 1 dimensions");if(e[0].dims[2]!==e[1].dims[0])throw new Error("last dimension of input and bias are not the same")},jP=e=>{let t=e[0].dims,n=e[0].dims[2],r=oe.size(t)/4,o=e[0].dataType,i=ue("input",o,t,4),s=ue("bias",o,[n],4),l=ue("residual",o,t,4),c=De("output",o,t,4);return{name:"BiasAdd",getRunData:()=>({outputs:[{dims:t,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(r/64)}}),getShaderSource:u=>`
  const channels = ${n}u / 4;
  ${u.declareVariables(i,s,l,c)}

  ${u.mainStart()}
    ${u.guardAgainstOutOfBoundsWorkgroupSizes(r)}
    let value = ${i.getByOffset("global_idx")}
      + ${s.getByOffset("global_idx % channels")} + ${l.getByOffset("global_idx")};
    ${c.setByOffset("global_idx","value")}
  }`}},gU=e=>{RP(e.inputs),e.compute(jP(e.inputs))}}),OP,Nt,bU,yU,_U,$U,xU,vU,wU,SU,CU,NP,IU,EU,TU,DU,up,FU,jb,kU,AU,MU,RU,jU,OU,NU,PU,BU,LU,UU,WU,zU,VU,HU,GU,lI,qU,HI,GI,KU,XU,YU,PP,BP,ZU,gE=ye(()=>{"use strict";He(),et(),En(),at(),OP=(e,t,n,r,o,i,s)=>{let l=Math.ceil(t/4),c="";typeof o=="string"?c=`${o}(a)`:c=o("a");let u=ue("inputData",n,[l],4),d=De("outputData",r,[l],4),p=[{name:"vec_size",type:"u32"}];return s&&p.push(...s),`
      ${e.registerUniforms(p).declareVariables(u,d)}

  ${i??""}

  ${e.mainStart()}
    ${e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size")}

    let a = ${u.getByOffset("global_idx")};
    ${d.setByOffset("global_idx",c)}
  }`},Nt=(e,t,n,r,o,i=e.dataType,s,l)=>{let c=[{type:12,data:Math.ceil(oe.size(e.dims)/4)}];return s&&c.push(...s),{name:t,shaderCache:{hint:o,inputDependencies:["type"]},getShaderSource:u=>OP(u,oe.size(e.dims),e.dataType,i,n,r,l),getRunData:u=>({outputs:[{dims:e.dims,dataType:i}],dispatchGroup:{x:Math.ceil(oe.size(u[0].dims)/64/4)},programUniforms:c})}},bU=e=>{e.compute(Nt(e.inputs[0],"Abs","abs"))},yU=e=>{e.compute(Nt(e.inputs[0],"Acos","acos"))},_U=e=>{e.compute(Nt(e.inputs[0],"Acosh","acosh"))},$U=e=>{e.compute(Nt(e.inputs[0],"Asin","asin"))},xU=e=>{e.compute(Nt(e.inputs[0],"Asinh","asinh"))},vU=e=>{e.compute(Nt(e.inputs[0],"Atan","atan"))},wU=e=>{e.compute(Nt(e.inputs[0],"Atanh","atanh"))},SU=e=>Ht(e),CU=(e,t)=>{let n;switch(t.to){case 10:n="vec4<f16>";break;case 1:n="vec4<f32>";break;case 12:n="vec4<u32>";break;case 6:n="vec4<i32>";break;case 9:n="vec4<bool>";break;default:throw new RangeError(`not supported type (specified in attribute 'to' from 'Cast' operator): ${t.to}`)}e.compute(Nt(e.inputs[0],"Cast",n,void 0,t.cacheKey,t.to))},NP=e=>{let t,n,r=e.length>=2&&e[1].data!==0,o=e.length>=3&&e[2].data!==0;switch(e[0].dataType){case 1:t=r?e[1].getFloat32Array()[0]:-34028234663852886e22,n=o?e[2].getFloat32Array()[0]:34028234663852886e22;break;case 10:t=r?e[1].getUint16Array()[0]:64511,n=o?e[2].getUint16Array()[0]:31743;break;default:throw new Error("Unsupport data type")}return Ht({min:t,max:n})},IU=(e,t)=>{let n=t||NP(e.inputs),r=_r(e.inputs[0].dataType);e.compute(Nt(e.inputs[0],"Clip",o=>`clamp(${o}, vec4<${r}>(uniforms.min), vec4<${r}>(uniforms.max))`,void 0,n.cacheKey,void 0,[{type:e.inputs[0].dataType,data:n.min},{type:e.inputs[0].dataType,data:n.max}],[{name:"min",type:r},{name:"max",type:r}]),{inputs:[0]})},EU=e=>{e.compute(Nt(e.inputs[0],"Ceil","ceil"))},TU=e=>{e.compute(Nt(e.inputs[0],"Cos","cos"))},DU=e=>{e.compute(Nt(e.inputs[0],"Cosh","cosh"))},up=e=>Ht(e),FU=(e,t)=>{let n=_r(e.inputs[0].dataType);e.compute(Nt(e.inputs[0],"Elu",r=>`elu_vf32(${r})`,`
  const elu_alpha_ = ${n}(${t.alpha});

  fn elu_f32(a: ${n}) -> ${n} {
  return select((exp(a) - 1.0) * elu_alpha_, a, a >= 0.0);
  }

  fn elu_vf32(v: vec4<${n}>) -> vec4<${n}> {
  return vec4(elu_f32(v.x), elu_f32(v.y), elu_f32(v.z), elu_f32(v.w));
  }`,t.cacheKey))},jb=(e="f32")=>`
const r0: ${e} = 0.3275911;
const r1: ${e} = 0.254829592;
const r2: ${e} = -0.284496736;
const r3: ${e} = 1.421413741;
const r4: ${e} = -1.453152027;
const r5: ${e} = 1.061405429;

fn erf_vf32(v: vec4<${e}>) -> vec4<${e}> {
  let absv = abs(v);
  let x = 1.0 / (1.0 + r0 * absv);
  return sign(v) * (1.0 - ((((r5 * x + r4) * x + r3) * x + r2) * x + r1) * x * exp(-absv * absv));
}`,kU=e=>{let t=_r(e.inputs[0].dataType);e.compute(Nt(e.inputs[0],"Erf",n=>`erf_vf32(${n})`,jb(t)))},AU=e=>{e.compute(Nt(e.inputs[0],"Exp","exp"))},MU=e=>{e.compute(Nt(e.inputs[0],"Floor","floor"))},RU=e=>{let t=_r(e.inputs[0].dataType);e.compute(Nt(e.inputs[0],"Gelu",n=>`0.5 * ${n} * (1.0 + erf_vf32(${n} * 0.7071067811865475))`,jb(t)))},jU=(e,t)=>{let n=_r(e.inputs[0].dataType);e.compute(Nt(e.inputs[0],"LeakyRelu",r=>`select(leaky_relu_alpha_ * ${r}, ${r}, ${r} >= vec4<${n}>(0.0))`,`const leaky_relu_alpha_ = ${n}(${t.alpha});`,t.cacheKey))},OU=e=>{e.compute(Nt(e.inputs[0],"Not",t=>`!${t}`))},NU=e=>{e.compute(Nt(e.inputs[0],"Neg",t=>`-${t}`))},PU=e=>{e.compute(Nt(e.inputs[0],"Reciprocal",t=>`1.0/${t}`))},BU=e=>{let t=_r(e.inputs[0].dataType);e.compute(Nt(e.inputs[0],"Relu",n=>`select(vec4<${t}>(0.0), ${n}, ${n} > vec4<${t}>(0.0))`))},LU=e=>{e.compute(Nt(e.inputs[0],"Sigmoid",t=>`(1.0 / (1.0 + exp(-${t})))`))},UU=e=>Ht(e),WU=(e,t)=>{let n=_r(e.inputs[0].dataType);e.compute(Nt(e.inputs[0],"HardSigmoid",r=>`max(vec4<${n}>(0.0), min(vec4<${n}>(1.0), ${t.alpha} * ${r} + vec4<${n}>(${t.beta})))`,void 0,t.cacheKey))},zU=e=>{e.compute(Nt(e.inputs[0],"Sin","sin"))},VU=e=>{e.compute(Nt(e.inputs[0],"Sinh","sinh"))},HU=e=>{e.compute(Nt(e.inputs[0],"Sqrt","sqrt"))},GU=e=>{e.compute(Nt(e.inputs[0],"Tan","tan"))},lI=e=>`sign(${e}) * (1 - exp(-2 * abs(${e}))) / (1 + exp(-2 * abs(${e})))`,qU=e=>{e.compute(Nt(e.inputs[0],"Tanh",lI))},HI=(e="f32")=>`
const fast_gelu_a: ${e} = 0.5;
const fast_gelu_b: ${e} = 0.7978845608028654;
const fast_gelu_c: ${e} = 0.035677408136300125;

fn tanh_v(v: vec4<${e}>) -> vec4<${e}> {
  return ${lI("v")};
}
`,GI=e=>`(fast_gelu_a + fast_gelu_a * tanh_v(${e} * (fast_gelu_c * ${e} * ${e} + fast_gelu_b))) * ${e}`,KU=e=>{let t=_r(e.inputs[0].dataType);e.compute(Nt(e.inputs[0],"FastGelu",GI,HI(t),void 0,e.inputs[0].dataType))},XU=(e,t)=>{let n=_r(e.inputs[0].dataType);return e.compute(Nt(e.inputs[0],"ThresholdedRelu",r=>`select(vec4<${n}>(0.0), ${r}, ${r} > thresholded_relu_alpha_)`,`const thresholded_relu_alpha_ = vec4<${n}>(${t.alpha});`,t.cacheKey)),0},YU=e=>{e.compute(Nt(e.inputs[0],"Log","log"))},PP=(e,t)=>`
const alpha = vec4<${e}>(${t});
const one = ${e}(1.0);
const zero = ${e}(0.0);

fn quick_gelu_impl(x: vec4<${e}>) -> vec4<${e}> {
  let v = x *alpha;
  var x1 : vec4<${e}>;
  for (var i = 0; i < 4; i = i + 1) {
    if (v[i] >= zero) {
      x1[i] = one / (one + exp(-v[i]));
    } else {
      x1[i] = one - one / (one + exp(v[i]));
    }
  }
  return x * x1;
}
`,BP=e=>`quick_gelu_impl(${e})`,ZU=(e,t)=>{let n=_r(e.inputs[0].dataType);e.compute(Nt(e.inputs[0],"QuickGelu",BP,PP(n,t.alpha),t.cacheKey,e.inputs[0].dataType))}}),LP,UP,QU,eue=ye(()=>{"use strict";et(),at(),gE(),LP=e=>{if(e[0].dims.length!==3)throw new Error("input should have 3 dimensions");if(![2560,5120,10240].includes(e[0].dims[2]))throw new Error("hidden state should be 2560, 5120 or 10240");if(e[1].dims.length!==1)throw new Error("bias is expected to have 1 dimensions");if(e[0].dims[2]!==e[1].dims[0])throw new Error("last dimension of input and bias are not the same")},UP=e=>{let t=e[0].dims.slice();t[2]=t[2]/2;let n=ue("input",e[0].dataType,e[0].dims,4),r=ue("bias",e[0].dataType,[e[0].dims[2]],4),o=De("output",e[0].dataType,t,4),i=oe.size(t)/4,s=Gn(e[0].dataType);return{name:"BiasSplitGelu",getRunData:()=>({outputs:[{dims:t,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(i/64)}}),getShaderSource:l=>`
  const M_SQRT2 = sqrt(2.0);
  const halfChannels = ${e[0].dims[2]/4/2}u;

  ${l.declareVariables(n,r,o)}

  ${jb(s)}

  ${l.mainStart()}
    ${l.guardAgainstOutOfBoundsWorkgroupSizes(i)}
    let biasIdx = global_idx % halfChannels;
    let batchIndex = global_idx / halfChannels;
    let inputOffset = biasIdx + batchIndex * halfChannels * 2;
    let valueLeft = input[inputOffset] + bias[biasIdx];
    let valueRight = input[inputOffset + halfChannels] + bias[biasIdx + halfChannels];
    let geluRight = valueRight * 0.5 * (erf_vf32(valueRight / M_SQRT2) + 1);

    ${o.setByOffset("global_idx","valueLeft * geluRight")}
  }`}},QU=e=>{LP(e.inputs),e.compute(UP(e.inputs))}}),WP,zP,Zo,JU,e4,t4,n4,r4,o4,i4,s4,a4,l4,tue=ye(()=>{"use strict";He(),et(),at(),WP=(e,t,n,r,o,i,s,l,c,u,d,p)=>{let f,m;typeof l=="string"?f=m=(x,w)=>`${l}((${x}),(${w}))`:typeof l=="function"?f=m=l:(f=l.scalar,m=l.vector);let h=De("outputData",d,r.length,4),g=ue("aData",c,t.length,4),_=ue("bData",u,n.length,4),$;if(o)if(i){let x=oe.size(t)===1,w=oe.size(n)===1,S=t.length>0&&t[t.length-1]%4===0,I=n.length>0&&n[n.length-1]%4===0;x||w?$=h.setByOffset("global_idx",m(x?`${g.type.value}(${g.getByOffset("0")}.x)`:g.getByOffset("global_idx"),w?`${_.type.value}(${_.getByOffset("0")}.x)`:_.getByOffset("global_idx"))):$=`
            let outputIndices = ${h.offsetToIndices("global_idx * 4u")};
            let offsetA = ${g.broadcastedIndicesToOffset("outputIndices",h)};
            let offsetB = ${_.broadcastedIndicesToOffset("outputIndices",h)};
            ${h.setByOffset("global_idx",m(s||S?g.getByOffset("offsetA / 4u"):`${g.type.value}(${g.getByOffset("offsetA / 4u")}[offsetA % 4u])`,s||I?_.getByOffset("offsetB / 4u"):`${_.type.value}(${_.getByOffset("offsetB / 4u")}[offsetB % 4u])`))}
          `}else $=h.setByOffset("global_idx",m(g.getByOffset("global_idx"),_.getByOffset("global_idx")));else{if(!i)throw new Error("no necessary to use scalar implementation for element-wise binary op implementation.");let x=(w,S,I="")=>{let F=`aData[indexA${S}][componentA${S}]`,k=`bData[indexB${S}][componentB${S}]`;return`
            let outputIndices${S} = ${h.offsetToIndices(`global_idx * 4u + ${S}u`)};
            let offsetA${S} = ${g.broadcastedIndicesToOffset(`outputIndices${S}`,h)};
            let offsetB${S} = ${_.broadcastedIndicesToOffset(`outputIndices${S}`,h)};
            let indexA${S} = offsetA${S} / 4u;
            let indexB${S} = offsetB${S} / 4u;
            let componentA${S} = offsetA${S} % 4u;
            let componentB${S} = offsetB${S} % 4u;
            ${w}[${S}] = ${I}(${f(F,k)});
          `};d===9?$=`
            var data = vec4<u32>(0);
            ${x("data",0,"u32")}
            ${x("data",1,"u32")}
            ${x("data",2,"u32")}
            ${x("data",3,"u32")}
            outputData[global_idx] = dot(vec4<u32>(0x1, 0x100, 0x10000, 0x1000000), vec4<u32>(data));`:$=`
            ${x("outputData[global_idx]",0)}
            ${x("outputData[global_idx]",1)}
            ${x("outputData[global_idx]",2)}
            ${x("outputData[global_idx]",3)}
          `}return`
        ${e.registerUniform("vec_size","u32").declareVariables(g,_,h)}

        ${p??""}

        ${e.mainStart()}
        ${e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size")}
        ${$}
      }`},zP=(e,t,n,r,o,i,s=n.dataType)=>{let l=n.dims.map(g=>Number(g)??1),c=r.dims.map(g=>Number(g)??1),u=!oe.areEqual(l,c),d=l,p=oe.size(l),f=!1,m=!1,h=[u];if(u){let g=Gc.calcShape(l,c,!1);if(!g)throw new Error("Can't perform binary op on the given tensors");d=g.slice(),p=oe.size(d);let _=oe.size(l)===1,$=oe.size(c)===1,x=l.length>0&&l[l.length-1]%4===0,w=c.length>0&&c[c.length-1]%4===0;h.push(_),h.push($),h.push(x),h.push(w);let S=1;for(let I=1;I<d.length;I++){let F=l[l.length-I],k=c[c.length-I];if(F===k)S*=F;else break}S%4===0?(m=!0,f=!0):(_||$||x||w)&&(f=!0)}else f=!0;return h.push(f),{name:e,shaderCache:{hint:t+h.map(g=>g.toString()).join("_"),inputDependencies:["rank","rank"]},getShaderSource:g=>WP(g,l,c,d,f,u,m,o,n.dataType,r.dataType,s,i),getRunData:()=>({outputs:[{dims:d,dataType:s}],dispatchGroup:{x:Math.ceil(p/64/4)},programUniforms:[{type:12,data:Math.ceil(oe.size(d)/4)},...Me(l,c,d)]})}},Zo=(e,t,n,r,o,i)=>{e.compute(zP(t,o??"",e.inputs[0],e.inputs[1],n,r,i))},JU=e=>{Zo(e,"Add",(t,n)=>`${t}+${n}`)},e4=e=>{Zo(e,"Div",(t,n)=>`${t}/${n}`)},t4=e=>{Zo(e,"Equal",{scalar:(t,n)=>`u32(${t}==${n})`,vector:(t,n)=>`vec4<u32>(${t}==${n})`},void 0,void 0,9)},n4=e=>{Zo(e,"Mul",(t,n)=>`${t}*${n}`)},r4=e=>{let t=ue("input",e.inputs[0].dataType,e.inputs[0].dims).type.value;Zo(e,"Pow",{scalar:(n,r)=>`pow_custom(${n},${r})`,vector:(n,r)=>`pow_vector_custom(${n},${r})`},`
    fn pow_custom(a : ${t}, b : ${t}) -> ${t} {
      if (b == ${t}(0.0)) {
        return ${t}(1.0);
      } else if (a < ${t}(0.0) && f32(b) != floor(f32(b))) {
        return ${t}(pow(f32(a), f32(b))); // NaN
      }
      return select(sign(a), ${t}(1.0), round(f32(abs(b) % ${t}(2.0))) != 1.0) * ${t}(${t==="i32"?"round":""}(pow(f32(abs(a)), f32(b))));
    }
    fn pow_vector_custom(a : vec4<${t}>, b : vec4<${t}>) -> vec4<${t}> {
      // TODO: implement vectorized pow
      return vec4<${t}>(pow_custom(a.x, b.x), pow_custom(a.y, b.y), pow_custom(a.z, b.z), pow_custom(a.w, b.w));
    }
      `)},o4=e=>{Zo(e,"Sub",(t,n)=>`${t}-${n}`)},i4=e=>{Zo(e,"Greater",{scalar:(t,n)=>`u32(${t}>${n})`,vector:(t,n)=>`vec4<u32>(${t}>${n})`},void 0,void 0,9)},s4=e=>{Zo(e,"Less",{scalar:(t,n)=>`u32(${t}<${n})`,vector:(t,n)=>`vec4<u32>(${t}<${n})`},void 0,void 0,9)},a4=e=>{Zo(e,"GreaterOrEqual",{scalar:(t,n)=>`u32(${t}>=${n})`,vector:(t,n)=>`vec4<u32>(${t}>=${n})`},void 0,void 0,9)},l4=e=>{Zo(e,"LessOrEqual",{scalar:(t,n)=>`u32(${t}<=${n})`,vector:(t,n)=>`vec4<u32>(${t}<=${n})`},void 0,void 0,9)}}),VP,HP,GP,qP,c4,u4,nue=ye(()=>{"use strict";He(),et(),En(),at(),VP=(e,t)=>{if(!e||e.length<1)throw new Error("too few inputs");let n=0,r=e[n],o=r.dataType,i=r.dims.length;e.forEach((s,l)=>{if(l!==n){if(s.dataType!==o)throw new Error("input tensors should be one type");if(s.dims.length!==i)throw new Error("input tensors should have the same shape");s.dims.forEach((c,u)=>{if(u!==t&&c!==r.dims[u])throw new Error("non concat dimensions must match")})}})},HP=(e,t)=>`
  fn calculateInputIndex(index: u32) -> u32 {
    let sizeInConcatAxis = array<u32, ${e}u>(${t});
    for (var i: u32 = 0u; i < ${e}; i += 1u ) {
      if (index < sizeInConcatAxis[i]) {
        return i;
      }
    }
    return ${e}u;
  }`,GP=(e,t)=>{let n=e.length,r=[];for(let o=0;o<n;++o){let i=t.setByOffset("global_idx",e[o].getByIndices("indices"));n===1?r.push(i):o===0?r.push(`if (inputIndex == ${o}u) { ${i} }`):o===n-1?r.push(`else { ${i} }`):r.push(`else if (inputIndex == ${o}) { ${i} }`)}return r.join(`
`)},qP=(e,t,n,r)=>{let o=oe.size(n),i=new Array(e.length),s=new Array(e.length),l=0,c=[],u=[],d=[{type:12,data:o}];for(let g=0;g<e.length;++g)l+=e[g].dims[t],i[g]=l,u.push(e[g].dims.length),s[g]=ue(`input${g}`,r,u[g]),c.push("rank"),d.push({type:12,data:i[g]});for(let g=0;g<e.length;++g)d.push(...Me(e[g].dims));d.push(...Me(n));let p=De("output",r,n.length),f=p.indicesGet("indices",t),m=Array.from(Array(i.length).keys()).map(g=>`uniforms.sizeInConcatAxis${g}`).join(","),h=g=>`

  ${(()=>{g.registerUniform("outputSize","u32");for(let _=0;_<e.length;_++)g.registerUniform(`sizeInConcatAxis${_}`,"u32");return g.declareVariables(...s,p)})()}

  ${HP(i.length,m)}

  ${g.mainStart()}
    ${g.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}

    var indices = ${p.offsetToIndices("global_idx")};

    let inputIndex = calculateInputIndex(${f});
    if (inputIndex != 0u) {
      let sizeInConcatAxis = array<u32, ${i.length}u>(${m});
      ${f} -= sizeInConcatAxis[inputIndex - 1u];
    }

    ${GP(s,p)}
  }`;return{name:"Concat",shaderCache:{hint:`${t}`,inputDependencies:c},getRunData:()=>({outputs:[{dims:n,dataType:r}],dispatchGroup:{x:Math.ceil(o/64)},programUniforms:d}),getShaderSource:h}},c4=(e,t)=>{let n=e.inputs,r=n[0].dims,o=oe.normalizeAxis(t.axis,r.length);VP(n,o);let i=r.slice();i[o]=n.reduce((l,c)=>l+(c.dims.length>o?c.dims[o]:0),0);let s=n.filter(l=>oe.size(l.dims)>0);e.compute(qP(s,o,i,n[0].dataType),{inputs:s})},u4=e=>Ht({axis:e.axis})}),qa,Ka,Xa,bE,Za=ye(()=>{"use strict";He(),et(),qa=(e,t,n="f32")=>{switch(e.activation){case"Relu":return`value = max(value, ${t}(0.0));`;case"Sigmoid":return`value = (${t}(1.0) / (${t}(1.0) + exp(-value)));`;case"Clip":return`value = clamp(value, ${t}(${n}(uniforms.clip_min)), ${t}(${n}(uniforms.clip_max)));`;case"HardSigmoid":return`value = max(${t}(0.0), min(${t}(1.0), ${n}(uniforms.alpha) * value + ${n}(uniforms.beta)));`;case"LeakyRelu":return`value = select(${n}(uniforms.alpha) * value, value, value >= ${t}(0.0));`;case"Tanh":return`let e2x = exp(-2.0 * abs(value));
              value = sign(value) * (1.0 - e2x) / (1.0 + e2x);
        `;case"":return"";default:throw new Error(`Unsupported activation ${e.activation}`)}},Ka=(e,t)=>{e.activation==="Clip"?t.push({type:1,data:e.clipMax},{type:1,data:e.clipMin}):e.activation==="HardSigmoid"?t.push({type:1,data:e.alpha},{type:1,data:e.beta}):e.activation==="LeakyRelu"&&t.push({type:1,data:e.alpha})},Xa=(e,t)=>{e.activation==="Clip"?t.push({name:"clip_max",type:"f32"},{name:"clip_min",type:"f32"}):e.activation==="HardSigmoid"?t.push({name:"alpha",type:"f32"},{name:"beta",type:"f32"}):e.activation==="LeakyRelu"&&t.push({name:"alpha",type:"f32"})},bE=e=>{let t=e?.activation||"";if(t==="HardSigmoid"){let[n,r]=e?.activation_params||[.2,.5];return{activation:t,alpha:n,beta:r}}else if(t==="Clip"){let[n,r]=e?.activation_params||[LL,UL];return{activation:t,clipMax:r,clipMin:n}}else if(t==="LeakyRelu"){let[n]=e?.activation_params||[.01];return{activation:t,alpha:n}}return{activation:t}}}),Jn,d4,yE=ye(()=>{"use strict";Jn=(e,t)=>{switch(e){case 1:return t;case 2:return`vec2<${t}>`;case 3:return`vec3<${t}>`;case 4:return`vec4<${t}>`;default:throw new Error(`${e}-component is not supported.`)}},d4=e=>`
      ${e?"value = value + getBiasByOutputCoords(coords);":""}
      `}),p4,rue=ye(()=>{"use strict";p4=e=>`
fn getIndexFromCoords4D(coords : vec4<i32>, shape : vec4<i32>) -> i32 {
  return dot(coords, vec4<i32>(
      shape.y * shape.z * shape.w, shape.z * shape.w, shape.w, 1));
}
fn getOutputIndexFromCoords(coords : vec4<i32>) -> i32 {
  return dot(coords, vec4<i32>(
    i32(${e}.x), i32(${e}.y), i32(${e}.z), 1));
}
`}),pp,_E,$E=ye(()=>{"use strict";He(),et(),at(),Za(),pp=(e,t,n,r,o)=>{let i=r-n;return`
      ${Array.from({length:n}).map((s,l)=>`
      if (${Fe(t.shape,l,t.rank)} != 1) {
        ${t.indicesSet(e,l,Fe(o,l+i,r))}
      } else {
        ${t.indicesSet(e,l,0)}
      }`).join("")}
`},_E=(e,t,n,r,o=!1,i)=>{let s=e[0].dims,l=e[1].dims,c=s[s.length-2],u=l[l.length-1],d=s[s.length-1],p=wn(u),f=wn(d),m=wn(c),h=oe.size(n)/p/m,g=e.length>2,_=r?r.slice(0,-2):n.slice(0,-2),$=[oe.size(_),c,u],x=[{type:12,data:h},{type:12,data:c},{type:12,data:u},{type:12,data:d}];Ka(t,x),x.push(...Me(_,s,l)),g&&x.push(...Me(e[2].dims)),x.push(...Me($));let w=S=>{let I=fE("batch_dims",e[0].dataType,_.length),F=ue("a",e[0].dataType,s.length,f),k=ue("b",e[1].dataType,l.length,p),M=De("output",e[0].dataType,$.length,p),O=Gn(M.type.tensor),B=qa(t,M.type.value,O),W=[F,k],V="";if(g){let Z=o?p:1;W.push(ue("bias",e[2].dataType,e[2].dims.length,Z)),V=`${o?`value += bias[col / ${Z}];`:`value += ${M.type.value}(bias[row + i]);`}`}let P=[{name:"output_size",type:"u32"},{name:"M",type:"u32"},{name:"N",type:"u32"},{name:"K",type:"u32"}];Xa(t,P);let G=()=>{let Z=`var a_data: ${F.type.value};`;for(let H=0;H<f;H++)Z+=`
              let b_data${H} = b[(b_offset + (k + ${H}) * uniforms.N + col) / ${p}];`;for(let H=0;H<m;H++){Z+=`a_data = a[(a_offset + (row + ${H}) * uniforms.K + k) / ${f}];`;for(let re=0;re<f;re++)Z+=`
            values[${H}] = fma(${k.type.value}(a_data${f===1?"":`[${re}]`}), b_data${re}, values[${H}]);
`}return Z};return`
  ${S.registerUniforms(P).registerInternalVariables(I).declareVariables(...W,M)}
  ${S.mainStart()}
    ${S.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
    let col = (global_idx % (uniforms.N / ${p})) * ${p};
    var index1 = global_idx / (uniforms.N / ${p});
    let stride1 = uniforms.M / ${m};
    let row = (index1 % stride1) * ${m};
    let batch = index1 / stride1;

    ${n.length===2?"":`let batch_indices = ${I.offsetToIndices("batch")};`}

    var a_indices: ${F.type.indices};
    ${pp("a_indices",F,F.rank-2,I.rank,"batch_indices")}
    ${F.indicesSet("a_indices",F.rank-2,0)}
    ${F.indicesSet("a_indices",F.rank-1,0)}
    let a_offset = ${F.indicesToOffset("a_indices")};

    var b_indices: ${k.type.indices};
    ${pp("b_indices",k,k.rank-2,I.rank,"batch_indices")}
    ${k.indicesSet("b_indices",k.rank-2,0)}
    ${k.indicesSet("b_indices",k.rank-1,0)}
    let b_offset = ${k.indicesToOffset("b_indices")};
    var values: array<${M.type.value}, ${m}>;
    for (var k: u32 = 0u; k < uniforms.K; k = k + ${f}) {
      ${G()}
    }
    for (var i = 0u; i < ${m}u; i++) {
      var value = values[i];
      ${V}
      ${B}
      let cur_indices = ${M.type.indices}(batch, row + i, col);
      let offset = ${M.indicesToOffset("cur_indices")};
      ${M.setByOffset(`offset / ${p}`,"value")};
    }
  }
  `};return{name:"MatMulNaive",shaderCache:{hint:`${t.activation};${p};${f};${m};${o}`,inputDependencies:g?["rank","rank","rank"]:["rank","rank"]},getRunData:()=>({outputs:[{dims:i?i(n):n,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(h/64)},programUniforms:x}),getShaderSource:w}}}),KP,XP,qI,cI,YP,KI,ZP,Wb,xE=ye(()=>{"use strict";He(),et(),at(),Za(),$E(),yE(),KP=(e,t)=>e?`
        mm_Asub[inputRow][inputCol] = mm_readA(batch,
          kStart + inputRow,
          globalRowStart / innerElementSize + inputCol${t?", batchIndices":""});
        `:`
        mm_Asub[inputRow][inputCol] = mm_readA(batch,
          globalRow + innerRow,
          kStart / innerElementSize + inputCol${t?", batchIndices":""});
        `,XP=(e,t)=>e?`
        let ACached0 = mm_Asub[k * innerElementSize][localRow];
        let ACached1 = mm_Asub[k * innerElementSize + 1][localRow];
        let ACached2 = mm_Asub[k * innerElementSize + 2][localRow];
        ${t===3?"":"let ACached3 = mm_Asub[k * innerElementSize + 3][localRow];"}
        for (var i = 0; i < rowPerThread; i = i + 1) {
          acc[i] = BCached0 * ACached0[i] + acc[i];
          acc[i] = BCached1 * ACached1[i] + acc[i];
          acc[i] = BCached2 * ACached2[i] + acc[i];
          ${t===3?"":"acc[i] = BCached3 * ACached3[i] + acc[i];"}
        }`:`
        for (var i = 0; i < rowPerThread; i = i + 1) {
          let ACached = mm_Asub[tileRow + i][k];
          acc[i] = BCached0 * ACached.x + acc[i];
          acc[i] = BCached1 * ACached.y + acc[i];
          acc[i] = BCached2 * ACached.z + acc[i];
          ${t===3?"":"acc[i] = BCached3 * ACached.w + acc[i];"}
        }`,qI=(e,t,n="f32",r,o=!1,i=32,s=!1,l=32)=>{let c=t[1]*e[1],u=t[0]*e[0],d=o?c:i,p=o?i:c,f=d/t[0],m=i/t[1];if(!((o&&f===4&&e[1]===4||!o&&(f===3||f===4))&&d%t[0]===0&&i%t[1]===0&&e[0]===4))throw new Error(`If transposeA ${o} is true, innerElementSize ${f} and workPerThread[1] ${e[1]} must be 4.
      Otherwise, innerElementSize ${f} must be 3 or 4.
  tileAWidth ${d} must be divisible by workgroupSize[0]${t[0]}. tileInner ${i} must be divisible by workgroupSize[1] ${t[1]}. colPerThread ${e[0]} must be 4.`);return`
var<workgroup> mm_Asub: array<array<vec${f}<${n}>, ${d/f}>, ${p}>;
var<workgroup> mm_Bsub: array<array<vec4<${n}>, ${u/e[0]}>, ${i}>;

const rowPerThread = ${e[1]};
const colPerThread = ${e[0]};
const innerElementSize = ${f};
const tileInner = ${i};

@compute @workgroup_size(${t[0]}, ${t[1]}, ${t[2]})
fn main(@builtin(local_invocation_id) localId : vec3<u32>,
        @builtin(global_invocation_id) globalId : vec3<u32>,
        @builtin(workgroup_id) workgroupId : vec3<u32>) {
  let localRow = i32(localId.y);
  let tileRow = localRow * rowPerThread;
  let tileCol = i32(localId.x);

  let globalRow =i32(globalId.y) * rowPerThread;
  let globalCol = i32(globalId.x);
  let batch = ${s?"0":"i32(globalId.z)"};
  ${r?`let batchIndices = ${r.offsetToIndices("u32(batch)")};`:""}
  let globalRowStart = i32(workgroupId.y) * ${c};

  let num_tiles = ${s?`${Math.ceil(l/i)}`:"(uniforms.dim_inner - 1) / tileInner + 1"};
  var kStart = ${s?`i32(globalId.z) * ${l}`:"0"};

  var acc: array<vec4<${n}>, rowPerThread>;

  // Loop over shared dimension.
  let tileRowB = localRow * ${m};
  for (var t = 0; t < num_tiles; t = t + 1) {
      // Load one tile of A into local memory.
      for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
          let inputRow = tileRow + innerRow;
          let inputCol = tileCol;
          ${KP(o,r)}
      }

      // Load one tile of B into local memory.
      for (var innerRow = 0; innerRow < ${m}; innerRow = innerRow + 1) {
          let inputRow = tileRowB + innerRow;
          let inputCol = tileCol;
          mm_Bsub[inputRow][inputCol] = mm_readB(batch, kStart + inputRow, globalCol${r?", batchIndices":""});
      }
      kStart = kStart + tileInner;
      workgroupBarrier();

      // Compute acc values for a single thread.
      for (var k = 0; k < tileInner / innerElementSize; k = k + 1) {
          let BCached0 = mm_Bsub[k * innerElementSize][tileCol];
          let BCached1 = mm_Bsub[k * innerElementSize + 1][tileCol];
          let BCached2 = mm_Bsub[k * innerElementSize + 2][tileCol];
          ${f===3?"":"let BCached3 = mm_Bsub[k * innerElementSize + 3][tileCol];"}

          ${XP(o,f)}
      }

      workgroupBarrier();
  }

  for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      mm_write(batch, globalRow + innerRow, globalCol, acc[innerRow]);
  }
}`},cI=(e,t)=>e?`
            mm_Asub[inputRow][inputCol] = mm_readA(batch,
              kStart + inputRow,
              globalRowStart + inputCol${t?", batchIndices":""});
            `:`
            mm_Asub[inputRow][inputCol] = mm_readA(batch,
              globalRowStart + inputRow,
              kStart + inputCol${t?", batchIndices":""});
            `,YP=e=>e?"let ACached = mm_Asub[k][tileRow + innerRow];":"let ACached = mm_Asub[tileRow + innerRow][k];",KI=(e,t,n="f32",r,o=!1,i=32,s=!1,l=32,c=!1)=>{let u=e[1]*t[1],d=e[0]*t[0],p=o?u:i,f=o?i:u;if(!(f%t[1]===0&&p%t[0]===0&&i%t[1]===0))throw new Error(`tileAHight ${f} must be divisible by workgroupSize[1]${t[1]}, tileAWidth ${p} must be divisible by workgroupSize[0]${t[0]}, tileInner ${i} must be divisible by workgroupSize[1]${t[1]}`);let m=f/t[1],h=p/t[0],g=i/t[1],_=c?`
    let localRow = i32(localId.y);
    let localCol = i32(localId.x);
    let globalRowStart = i32(workgroupId.y) * ${u};
    let globalColStart = i32(workgroupId.x) * ${d};

    // Loop over shared dimension.
    for (var t = 0; t < num_tiles; t = t + 1) {
      // Load one tile of A into local memory.
      for (var inputRow = localRow; inputRow < ${f}; inputRow = inputRow + ${t[1]}) {
        for (var inputCol = localCol; inputCol < ${p}; inputCol = inputCol + ${t[0]}) {
          ${cI(o,r)}
        }
      }
      // Load one tile of B into local memory.
      for (var inputRow = localRow; inputRow < ${i}; inputRow = inputRow + ${t[1]}) {
            for (var inputCol = localCol; inputCol < ${d}; inputCol = inputCol + ${t[0]}) {
          mm_Bsub[inputRow][inputCol] = mm_readB(batch,
            kStart + inputRow,
            globalColStart + inputCol${r?", batchIndices":""});
        }
      }
      kStart = kStart + tileInner;
      workgroupBarrier();

      // Compute acc values for a single thread.
      var BCached : array<${n}, colPerThread>;
      for (var k = 0; k < tileInner; k = k + 1) {
        for (var inner = 0; inner < colPerThread; inner = inner + 1) {
          BCached[inner] = mm_Bsub[k][localCol + inner * ${t[0]}];
        }
        for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
          let ACached = ${o?`mm_Asub[k][localRow + innerRow * ${t[1]}];`:`mm_Asub[localRow + innerRow * ${t[1]}][k];`}
          for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
            acc[innerRow][innerCol] = acc[innerRow][innerCol] +
                ACached * BCached[innerCol];
          }
        }
      }
      workgroupBarrier();
    }
    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      let gRow = globalRowStart + localRow + innerRow * ${t[1]};
      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
        let gCol = globalColStart + localCol + innerCol * ${t[0]};
        mm_write(batch, gRow, gCol, acc[innerRow][innerCol]);
      }
    }
    `:`
let tileRow = i32(localId.y) * rowPerThread;
let tileCol = i32(localId.x) * colPerThread;

let globalRow = i32(globalId.y) * rowPerThread;
let globalCol = i32(globalId.x) * colPerThread;
let globalRowStart = i32(workgroupId.y) * ${u};

let tileRowA = i32(localId.y) * ${m};
let tileColA = i32(localId.x) * ${h};
let tileRowB = i32(localId.y) * ${g};
// Loop over shared dimension.
for (var t = 0; t < num_tiles; t = t + 1) {
  // Load one tile of A into local memory.
  for (var innerRow = 0; innerRow < ${m}; innerRow = innerRow + 1) {
    for (var innerCol = 0; innerCol < ${h}; innerCol = innerCol + 1) {
      let inputRow = tileRowA + innerRow;
      let inputCol = tileColA + innerCol;
      ${cI(o,r)}
    }
  }

  // Load one tile of B into local memory.
  for (var innerRow = 0; innerRow < ${g}; innerRow = innerRow + 1) {
    for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
      let inputRow = tileRowB + innerRow;
      let inputCol = tileCol + innerCol;
      mm_Bsub[inputRow][inputCol] = mm_readB(batch,
        kStart + inputRow,
        globalCol + innerCol${r?", batchIndices":""});
    }
  }
  kStart = kStart + tileInner;
  workgroupBarrier();

  // Compute acc values for a single thread.
  var BCached : array<${n}, colPerThread>;
  for (var k = 0; k < tileInner; k = k + 1) {
    for (var inner = 0; inner < colPerThread; inner = inner + 1) {
      BCached[inner] = mm_Bsub[k][tileCol + inner];
    }

    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      ${YP(o)}
      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
        acc[innerRow][innerCol] = acc[innerRow][innerCol] + ACached * BCached[innerCol];
      }
    }
  }

  workgroupBarrier();
}

for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
  for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
    mm_write(batch, globalRow + innerRow, globalCol + innerCol,
        acc[innerRow][innerCol]);
  }
}
`;return`
  var<workgroup> mm_Asub : array<array<${n}, ${p}>, ${f}>;
  var<workgroup> mm_Bsub : array<array<${n}, ${d}>, ${i}>;
  const rowPerThread = ${e[1]};
  const colPerThread = ${e[0]};
  const tileInner = ${i};

@compute @workgroup_size(${t[0]}, ${t[1]}, ${t[2]})
fn main(@builtin(local_invocation_id) localId : vec3<u32>,
        @builtin(global_invocation_id) globalId : vec3<u32>,
        @builtin(workgroup_id) workgroupId : vec3<u32>) {
    let batch = ${s?"0":"i32(globalId.z)"};
    ${r?`let batchIndices = ${r.offsetToIndices("u32(batch)")};`:""}
    let num_tiles = ${s?`${Math.ceil(l/i)}`:"(uniforms.dim_inner - 1) / tileInner + 1"};
    var kStart = ${s?`i32(globalId.z) * ${l}`:"0"};

    var acc : array<array<${n}, colPerThread>, rowPerThread>;
    ${_}
  }
`},ZP=(e,t,n,r,o=!1)=>{let[i,s,l,c]=r,u=Gn(r[0].type.tensor);return`
    fn mm_readA(batch: i32, row: i32, colIn: i32, batchIndices: ${i.type.indices}) -> ${Jn(e,u)} {
      var value = ${Jn(e,u)}(0.0);
      let col = colIn * ${e};
      if(row < uniforms.dim_a_outer && col < uniforms.dim_inner)
      {
        var aIndices: ${s.type.indices};
        ${pp("aIndices",s,s.rank-2,i.rank,"batchIndices")}
        ${s.indicesSet("aIndices",s.rank-2,"u32(row)")}
        ${s.indicesSet("aIndices",s.rank-1,"u32(colIn)")}
        value = ${s.getByIndices("aIndices")};
      }
      return value;
    }

    fn mm_readB(batch: i32, row: i32, colIn: i32, batchIndices: ${i.type.indices}) -> ${Jn(e,u)} {
      var value = ${Jn(e,u)}(0.0);
      let col = colIn * ${e};
      if(row < uniforms.dim_inner && col < uniforms.dim_b_outer)
      {
        var bIndices: ${l.type.indices};
        ${pp("bIndices",l,l.rank-2,i.rank,"batchIndices")}
        ${l.indicesSet("bIndices",l.rank-2,"u32(row)")}
        ${l.indicesSet("bIndices",l.rank-1,"u32(colIn)")}
        value = ${l.getByIndices("bIndices")};
      }
      return value;
    }

    fn mm_write(batch: i32, row: i32, colIn: i32, valueIn: ${Jn(e,u)}) {
      let col = colIn * ${e};
      if (row < uniforms.dim_a_outer && col < uniforms.dim_b_outer) {
        var value = valueIn;
        let coords = vec3<i32>(batch, row, colIn);
        ${t?`value = value + ${o?"bias[colIn]":`${Jn(e,u)}(bias[row])`};`:""}
        ${n}
        ${c.setByIndices("vec3<u32>(coords)","value")}
      }
    }
    `},Wb=(e,t,n,r,o=!1,i)=>{let s=e[0].dims,l=e[1].dims,c=s.slice(0,-2),u=l.slice(0,-2),d=r?r.slice(0,-2):n.slice(0,-2),p=oe.size(d),f=s[s.length-2],m=s[s.length-1],h=l[l.length-1],g=m%4===0&&h%4===0,_=f<=8?[4,1,1]:[4,4,1],$=[8,8,1],x=[Math.ceil(h/$[0]/_[0]),Math.ceil(f/$[1]/_[1]),Math.ceil(p/$[2]/_[2])],w=g?4:1,S=[...c,f,m/w],I=S.length,F=[...u,m,h/w],k=F.length,M=[p,f,h/w],O=[{type:6,data:f},{type:6,data:h},{type:6,data:m}];Ka(t,O),O.push(...Me(d,S,F));let B=["rank","rank"],W=e.length>2;W&&(O.push(...Me(e[2].dims)),B.push("rank")),O.push(...Me(M));let V=P=>{let G=d.length,Z=fE("batchDims",e[0].dataType,G,1),H=Gn(e[0].dataType),re=ue("a",e[0].dataType,I,w),te=ue("b",e[1].dataType,k,w),Y=De("result",e[0].dataType,M.length,w),se=[re,te];if(W){let ge=o?w:1;se.push(ue("bias",e[2].dataType,e[2].dims.length,ge))}let z=[{name:"dim_a_outer",type:"i32"},{name:"dim_b_outer",type:"i32"},{name:"dim_inner",type:"i32"}];Xa(t,z);let ne=Gn(Y.type.tensor),U=qa(t,Y.type.value,ne),ae=ZP(w,W,U,[Z,re,te,Y],o);return`
  ${P.registerUniforms(z).registerInternalVariables(Z).declareVariables(...se,Y)}
  ${ae}
  ${g?qI(_,$,H,Z):KI(_,$,H,Z)}
                   `};return{name:"MatMul",shaderCache:{hint:`${_};${t.activation};${g};${o}`,inputDependencies:B},getRunData:()=>({outputs:[{dims:i?i(n):n,dataType:e[0].dataType}],dispatchGroup:{x:x[0],y:x[1],z:x[2]},programUniforms:O}),getShaderSource:V}}}),QP,f4,oue=ye(()=>{"use strict";He(),Ji(),at(),Za(),yE(),rue(),xE(),QP=(e,t,n,r,o=!1,i,s=4,l=4,c=4,u="f32")=>{let d=O=>{switch(O){case 1:return"resData = x[xIndex];";case 3:return`resData = vec3<${u}>(x[xIndex], x[xIndex + 1], x[xIndex + 2]);`;case 4:return"resData = x[xIndex / 4];";default:throw new Error(`innerElementSize ${O} is not supported.`)}},p=O=>{switch(O){case 1:return"return w[row * i32(uniforms.w_shape[3]) + colIn];";case 4:return"return w[row * i32(uniforms.w_shape[3]) / 4 + colIn];";default:throw new Error(`innerElementSize ${O} is not supported.`)}},f=e?`
    let coord = vec4<i32>(batch, xRow, xCol, xCh);
    `:`
    let coord = vec4<i32>(batch, xCh, xRow, xCol);
    `,m=e?`
    let coords = vec4<i32>(
      batch,
      row / outWidth,
      row % outWidth,
      col);
    `:`
    let coords = vec4<i32>(
      batch,
      row,
      col / outWidth,
      col % outWidth);
    `,h=e?"i32(uniforms.x_shape[1])":"i32(uniforms.x_shape[2])",g=e?"i32(uniforms.x_shape[2])":"i32(uniforms.x_shape[3])",_=e?"row":"col",$=e?"col":"row",x=`
    let inChannels = i32(uniforms.w_shape[2]);
    let outWidth = ${e?"i32(uniforms.result_shape[2])":"i32(uniforms.result_shape[3])"};
    let outRow = ${_} / outWidth;
    let outCol = ${_} % outWidth;

    let WRow = ${$} / (i32(uniforms.w_shape[1]) * inChannels);
    let WCol = ${$} / inChannels % i32(uniforms.w_shape[1]);
    let xRow = outRow * uniforms.stride[0] + uniforms.dilation[0] * WRow - uniforms.pad[0];
    let xCol = outCol * uniforms.stride[1] + uniforms.dilation[1] * WCol - uniforms.pad[1];
    let xCh = ${$} % inChannels;
    var resData = ${Jn(s,u)}(0.0);
    // The bounds checking is always needed since we use it to pad zero for
    // the 'same' padding type.
    if (xRow >= 0 && xRow < ${h} && xCol >= 0 && xCol < ${g}) {
      ${f}
      let xIndex = getIndexFromCoords4D(coord, vec4<i32>(uniforms.x_shape));
      ${d(s)}
    }
    return resData;`,w=e?t&&r?`
    let col = colIn * ${s};
    ${x}`:`
    let col = colIn * ${s};
    if (row < uniforms.dim_a_outer && col < uniforms.dim_inner) {
      ${x}
    }
    return ${Jn(s,u)}(0.0);`:r&&n?`
    let col = colIn * ${s};
    ${x}`:`
    let col = colIn * ${s};
    if (row < uniforms.dim_inner && col < uniforms.dim_b_outer) {
      ${x}
    }
    return ${Jn(s,u)}(0.0);`,S=e?r&&n?p(l):`
    let col = colIn * ${l};
    if (row < uniforms.dim_inner && col < uniforms.dim_b_outer) {
      ${p(l)}
    }
    return ${Jn(l,u)}(0.0);`:`
    let col = colIn * ${l};
    if (row < uniforms.dim_inner && col < uniforms.dim_a_outer) {
      ${p(l)}
    }
    return ${Jn(l,u)}(0.0);`,I=Jn(c,u),F=Jn(e?s:l,u),k=Jn(e?l:s,u),M=qa(i,I,u);return`
    fn mm_readA(batch: i32, row : i32, colIn : i32) -> ${F} {
      ${e?w:S}
    }

    fn mm_readB(batch: i32, row : i32, colIn : i32) -> ${k} {
      ${e?S:w}
    }

    fn mm_write(batch: i32, row : i32, colIn : i32, valueIn : ${I}) {
      let col = colIn * ${c};
      if (row < uniforms.dim_a_outer && col < uniforms.dim_b_outer)
      {
      var value = valueIn;
      let outWidth = ${e?"i32(uniforms.result_shape[2])":"i32(uniforms.result_shape[3])"};
      ${m}
      ${d4(o)}
      ${M}
      setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);
      }
    }`},f4=(e,t,n,r,o,i,s,l,c)=>{let u=t.format==="NHWC",d=u?e[0].dims[3]:e[0].dims[1],p=n[0],f=u?n[2]:n[3],m=u?n[1]:n[2],h=u?n[3]:n[1],g=u&&(d%4===0||d%3===0)&&h%4===0,_=u?h:f*m,$=u?f*m:h,x=[8,8,1],w=r<=8?[4,1,1]:[4,4,1],S=[Math.ceil(_/x[0]/w[0]),Math.ceil($/x[1]/w[1]),Math.ceil(p/x[2]/w[2])];Et("verbose",()=>`[conv2d_mm_webgpu] dispatch = ${S}`);let I=g?u&&d%4!==0?3:4:1,F=x[1]*w[1],k=x[0]*w[0],M=Math.max(x[0]*I,x[1]),O=r%F===0,B=o%k===0,W=i%M===0,V=g?[I,4,4]:[1,1,1],P=[{type:6,data:r},{type:6,data:o},{type:6,data:i},{type:6,data:[t.pads[0],t.pads[1]]},{type:6,data:t.strides},{type:6,data:t.dilations}];Ka(t,P),P.push(...Me(e[0].dims,e[1].dims));let G=["rank","rank"];s&&(P.push(...Me(e[2].dims)),G.push("rank")),P.push(...Me(n));let Z=H=>{let re=[{name:"dim_a_outer",type:"i32"},{name:"dim_b_outer",type:"i32"},{name:"dim_inner",type:"i32"},{name:"pad",type:"i32",length:2},{name:"stride",type:"i32",length:2},{name:"dilation",type:"i32",length:2}];Xa(t,re);let te=g?4:1,Y=Gn(e[0].dataType),se=`
      fn setOutputAtIndex(flatIndex : i32, value : ${g?`vec4<${Y}>`:Y}) {
        result[flatIndex] = ${g?`vec4<${Y}>`:Y}(value);
      }
      fn setOutputAtCoords(d0 : i32, d1 : i32, d2 : i32, d3 : i32, value : ${g?`vec4<${Y}>`:Y}) {
        let flatIndex = getOutputIndexFromCoords(vec4<i32>(d0, d1, d2, d3));
        setOutputAtIndex(flatIndex ${g?"/ 4":""}, value);
      }`,z=ue("x",e[0].dataType,e[0].dims.length,I===3?1:I),ne=ue("w",e[1].dataType,e[1].dims.length,te),U=[z,ne],ae=De("result",e[0].dataType,n.length,te);if(s){let ge=ue("bias",e[2].dataType,e[2].dims.length,te);U.push(ge),se+=`
        fn getBiasByOutputCoords(coords : vec4<i32>) -> ${g?`vec4<${Y}>`:Y} {
          return bias[coords.${u?"w":"y"}${g?"/ 4":""}];
        }`}return`
        ${p4("uniforms.result_strides")}
        //struct Uniforms { xShape : vec4<i32>, wShape : vec4<i32>, outShape : vec4<i32>,
        //  outShapeStrides: vec3<i32>, filterDims : vec2<i32>, pad : vec2<i32>, stride : vec2<i32>,
        //  dilation : vec2<i32>, dimAOuter : i32, dimBOuter : i32, dimInner : i32 };
        ${H.registerUniforms(re).declareVariables(...U,ae)}
        ${se}
        ${QP(u,O,B,W,s,t,V[0],V[1],V[2],Y)}
        ${g?qI(w,x,Y,void 0,!u,M):KI(w,x,Y,void 0,!u,M,!1,void 0,l)}`};return{name:"Conv2DMatMul",shaderCache:{hint:`${t.cacheKey};${I};${g};${O};${B};${W};${F};${k};${M}`,inputDependencies:G},getRunData:()=>({outputs:[{dims:c?c(n):n,dataType:e[0].dataType}],dispatchGroup:{x:S[0],y:S[1],z:S[2]},programUniforms:P}),getShaderSource:Z}}}),JP,uI,np,eB,dI,tB,m4,h4,iue=ye(()=>{"use strict";He(),Ji(),et(),at(),Za(),yE(),JP=e=>{let t=1;for(let n=0;n<e.length;n++)t*=e[n];return t},uI=e=>typeof e=="number"?[e,e,e]:e,np=(e,t)=>t<=1?e:e+(e-1)*(t-1),eB=(e,t,n,r=1)=>{let o=np(t,r);return Math.floor((e[0]*(n-1)-n+o)/2)},dI=(e,t,n,r,o)=>{o==null&&(o=eB(e,t[0],r[0]));let i=[0,0,0,n];for(let s=0;s<3;s++)e[s]+2*o>=t[s]&&(i[s]=Math.trunc((e[s]-t[s]+2*o)/r[s]+1));return i},tB=(e,t,n,r,o,i,s,l,c,u)=>{let d,p,f,m;if(e==="VALID"&&(e=0),typeof e=="number"){d={top:e,bottom:e,left:e,right:e,front:e,back:e};let h=dI([t,n,r,1],[l,c,u],1,[o,i,s],e);p=h[0],f=h[1],m=h[2]}else if(Array.isArray(e)){if(!e.every((g,_,$)=>g===$[0]))throw Error(`Unsupported padding parameter: ${e}`);d={top:e[0],bottom:e[1],left:e[2],right:e[3],front:e[4],back:e[5]};let h=dI([t,n,r,1],[l,c,u],1,[o,i,s],e[0]);p=h[0],f=h[1],m=h[2]}else if(e==="SAME_UPPER"){p=Math.ceil(t/o),f=Math.ceil(n/i),m=Math.ceil(r/s);let h=(p-1)*o+l-t,g=(f-1)*i+c-n,_=(m-1)*s+u-r,$=Math.floor(h/2),x=h-$,w=Math.floor(g/2),S=g-w,I=Math.floor(_/2),F=_-I;d={top:w,bottom:S,left:I,right:F,front:$,back:x}}else throw Error(`Unknown padding parameter: ${e}`);return{padInfo:d,outDepth:p,outHeight:f,outWidth:m}},m4=(e,t,n,r,o,i=!1,s="channelsLast")=>{let l,c,u,d,p;if(s==="channelsLast")[l,c,u,d,p]=e;else if(s==="channelsFirst")[l,p,c,u,d]=e;else throw new Error(`Unknown dataFormat ${s}`);let[f,,m,h,g]=t,[_,$,x]=uI(n),[w,S,I]=uI(r),F=np(m,w),k=np(h,S),M=np(g,I),{padInfo:O,outDepth:B,outHeight:W,outWidth:V}=tB(o,c,u,d,_,$,x,F,k,M),P=i?f*p:f,G=[0,0,0,0,0];return s==="channelsFirst"?G=[l,P,B,W,V]:s==="channelsLast"&&(G=[l,B,W,V,P]),{batchSize:l,dataFormat:s,inDepth:c,inHeight:u,inWidth:d,inChannels:p,outDepth:B,outHeight:W,outWidth:V,outChannels:P,padInfo:O,strideDepth:_,strideHeight:$,strideWidth:x,filterDepth:m,filterHeight:h,filterWidth:g,effectiveFilterDepth:F,effectiveFilterHeight:k,effectiveFilterWidth:M,dilationDepth:w,dilationHeight:S,dilationWidth:I,inShape:e,outShape:G,filterShape:t}},h4=(e,t,n,r,o,i)=>{let s=i==="channelsLast",l=s?e[0].dims[3]:e[0].dims[1],c=!1,u=[64,1,1],d={x:n.map((x,w)=>w)},p=[Math.ceil(JP(d.x.map(x=>n[x]))/u[0]),1,1];Et("verbose",()=>`[conv3d_naive_webgpu] dispatch = ${p}`);let f=c?s&&l%4!==0?3:4:1,m=oe.size(n),h=[{type:12,data:m},{type:12,data:r},{type:12,data:o},{type:12,data:t.strides},{type:12,data:t.dilations}];Ka(t,h),h.push(...Me(e[0].dims,e[1].dims));let g=["rank","rank"],_=e.length===3;_&&(h.push(...Me(e[2].dims)),g.push("rank")),h.push(...Me(n));let $=x=>{let w=[{name:"output_size",type:"u32"},{name:"filter_dims",type:"u32",length:r.length},{name:"pads",type:"u32",length:o.length},{name:"strides",type:"u32",length:t.strides.length},{name:"dilations",type:"u32",length:t.dilations.length}];Xa(t,w);let S=c?4:1,I=Gn(e[0].dataType),F=ue("x",e[0].dataType,e[0].dims.length,f===3?1:f),k=ue("W",e[1].dataType,e[1].dims.length,S),M=[F,k],O=De("result",e[0].dataType,n.length,S),B="";if(_){let P=ue("bias",e[2].dataType,e[2].dims.length,S);M.push(P),B+=`
        fn getBiasByOutputCoords(coords : array<u32, 5>) -> ${c?`vec4<${I}>`:I} {
          return bias[${s?Fe("coords",4,5):Fe("coords",1,5)}${c?"/ 4":""}];
        }`}let W=Jn(f,I),V=qa(t,W,I);return`
            ${B}
            fn getX(d0 : u32, d1 : u32, d2 : u32, d3 : u32, d4 : u32) -> f32 {
              let aIndices = array<u32, 5>(d0, d1, d2, d3, d4);
              return ${F.getByIndices("aIndices")};
            }
            fn getW(d0 : u32, d1 : u32, d2 : u32, d3 : u32, d4 : u32) -> f32 {
              let aIndices = array<u32, 5>(d0, d1, d2, d3, d4);
              return ${k.getByIndices("aIndices")};
            }
          ${x.registerUniforms(w).declareVariables(...M,O)}
          ${x.mainStart()}
          ${x.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
              let coords = ${O.offsetToIndices("global_idx")};
              let batch = ${Fe("coords",0,F.rank)};
              let d2 = ${s?Fe("coords",F.rank-1,F.rank):Fe("coords",1,F.rank)};
              let xFRCCorner = vec3<u32>(${s?Fe("coords",1,F.rank):Fe("coords",2,F.rank)},
              ${s?Fe("coords",2,F.rank):Fe("coords",3,F.rank)},
              ${s?Fe("coords",3,F.rank):Fe("coords",4,F.rank)}) * uniforms.strides - uniforms.pads;
              let xFCorner = xFRCCorner.x;
              let xRCorner = xFRCCorner.y;
              let xCCorner = xFRCCorner.z;
              let xShapeY = ${s?Fe("uniforms.x_shape",1,F.rank):Fe("uniforms.x_shape",2,F.rank)};
              let xShapeZ = ${s?Fe("uniforms.x_shape",2,F.rank):Fe("uniforms.x_shape",3,F.rank)};
              let xShapeW = ${s?Fe("uniforms.x_shape",3,F.rank):Fe("uniforms.x_shape",4,F.rank)};
              let xShapeU = ${s?Fe("uniforms.x_shape",4,F.rank):Fe("uniforms.x_shape",1,F.rank)};
              let inputDepthNearestVec4 = (xShapeU / 4) * 4;
              let inputDepthVec4Remainder = xShapeU % 4;

              var value = 0.0;
              for (var wF = 0u; wF < uniforms.filter_dims[0]; wF++) {
                let xF = xFCorner + wF * uniforms.dilations[0];
                if (xF < 0 || xF >= xShapeY) {
                  continue;
                }

                for (var wR = 0u; wR < uniforms.filter_dims[1]; wR++) {
                  let xR = xRCorner + wR * uniforms.dilations[1];
                  if (xR < 0 || xR >= xShapeZ) {
                    continue;
                  }

                  for (var wC = 0u; wC < uniforms.filter_dims[2]; wC++) {
                    let xC = xCCorner + wC * uniforms.dilations[2];
                    if (xC < 0 || xC >= xShapeW) {
                      continue;
                    }

                    for (var d1 = 0u; d1 < inputDepthNearestVec4; d1 += 4) {
                      ${s?`let xValues = vec4<f32>(
                               getX(batch, xF, xR, xC, d1),
                               getX(batch, xF, xR, xC, d1 + 1),
                               getX(batch, xF, xR, xC, d1 + 2),
                               getX(batch, xF, xR, xC, d1 + 3));
                            `:`let xValues = vec4<f32>(
                               getX(batch, d1, xF, xR, xC),
                               getX(batch, d1 + 1, xF, xR, xC),
                               getX(batch, d1 + 2, xF, xR, xC),
                               getX(batch, d1 + 3, xF, xR, xC));
                            `}
                            let wValues = vec4<f32>(
                              getW(d2, d1, wF, wR, wC),
                              getW(d2, d1 + 1, wF, wR, wC),
                              getW(d2, d1 + 2, wF, wR, wC),
                              getW(d2, d1 + 3, wF, wR, wC));
                      value += dot(xValues, wValues);
                    }
                    if (inputDepthVec4Remainder == 1) {
                        ${s?`value += getX(batch, xF, xR, xC, inputDepthNearestVec4)
                          * getW(d2, inputDepthNearestVec4, wF, wR, wC);`:`value += getX(batch, inputDepthNearestVec4, xF, xR, xC)
                          * getW(d2, inputDepthNearestVec4, wF, wR, wC);`}
                    } else if (inputDepthVec4Remainder == 2) {
                      ${s?`let xValues = vec2<f32>(
                        getX(batch, xF, xR, xC, inputDepthNearestVec4),
                        getX(batch, xF, xR, xC, inputDepthNearestVec4 + 1));
                      `:`let xValues = vec2<f32>(
                        getX(batch, inputDepthNearestVec4, xF, xR, xC),
                        getX(batch, inputDepthNearestVec4 + 1, xF, xR, xC));
                    `}
                    let wValues = vec2<f32>(
                      getW(d2, inputDepthNearestVec4, wF, wR, wC),
                      getW(d2, inputDepthNearestVec4 + 1, wF, wR, wC));
                      value += dot(xValues, wValues);
                    } else if (inputDepthVec4Remainder == 3) {
                      ${s?`let xValues = vec3<f32>(
                        getX(batch, xF, xR, xC, inputDepthNearestVec4),
                        getX(batch, xF, xR, xC, inputDepthNearestVec4 + 1),
                        getX(batch, xF, xR, xC, inputDepthNearestVec4 + 2));
                      `:`let xValues = vec3<f32>(
                        getX(batch, inputDepthNearestVec4, xF, xR, xC),
                        getX(batch, inputDepthNearestVec4 + 1, xF, xR, xC),
                        getX(batch, inputDepthNearestVec4 + 2, xF, xR, xC));
                    `}
                    let wValues = vec3<f32>(
                      getW(d2, inputDepthNearestVec4, wF, wR, wC),
                      getW(d2, inputDepthNearestVec4 + 1, wF, wR, wC),
                      getW(d2, inputDepthNearestVec4 + 2, wF, wR, wC));
                      value += dot(xValues, wValues);
                    }
                  }
                }
              }
              ${_?"value = value + getBiasByOutputCoords(coords)":""};
              ${V}
              result[global_idx] = f32(value);
          }`};return{name:"Conv3DNaive",shaderCache:{hint:`${t.cacheKey};${s};${f};${_}`,inputDependencies:g},getRunData:()=>({outputs:[{dims:n,dataType:e[0].dataType}],dispatchGroup:{x:p[0],y:p[1],z:p[2]},programUniforms:h}),getShaderSource:$}}}),g4,b4,sue=ye(()=>{"use strict";He(),et(),at(),Za(),g4=(e,t,n,r)=>{let o=e.length>2,i=o?"value += b[output_channel];":"",s=e[0].dims,l=e[1].dims,c=t.format==="NHWC",u=c?n[3]:n[1],d=u/t.group,p=c&&d>=4?wn(u):1,f=oe.size(n)/p,m=[{type:12,data:f},{type:12,data:t.dilations},{type:12,data:[t.strides[0],t.strides[1]]},{type:12,data:[t.pads[0],t.pads[1]]},{type:12,data:d}];Ka(t,m),m.push(...Me(s,[l[0],l[1],l[2],l[3]/p]));let h=o?["rank","rank","rank"]:["rank","rank"];m.push(...Me([n[0],n[1],n[2],n[3]/p]));let g=_=>{let $=De("output",e[0].dataType,n.length,p),x=Gn($.type.tensor),w=qa(t,$.type.value,x),S=ue("x",e[0].dataType,s.length),I=ue("w",e[1].dataType,l.length,p),F=[S,I];o&&F.push(ue("b",e[2].dataType,e[2].dims,p));let k=[{name:"output_size",type:"u32"},{name:"dilations",type:"u32",length:t.dilations.length},{name:"strides",type:"u32",length:2},{name:"pads",type:"u32",length:2},{name:"output_channels_per_group",type:"u32"}];Xa(t,k);let M=c?`
      for (var wHeight: u32 = 0u; wHeight < uniforms.w_shape[0]; wHeight++) {
        let xHeight = xRCCorner.x + wHeight * uniforms.dilations[0];

        if (xHeight < 0u || xHeight >= uniforms.x_shape[1]) {
          continue;
        }

        for (var wWidth: u32 = 0u; wWidth < uniforms.w_shape[1]; wWidth++) {
          let xWidth = xRCCorner.y + wWidth * uniforms.dilations[1];
          if (xWidth < 0u || xWidth >= uniforms.x_shape[2]) {
            continue;
          }

          for (var wInChannel: u32 = 0u; wInChannel < uniforms.w_shape[2]; wInChannel++) {
            let input_channel = in_channel_offset + wInChannel;
            let xVal = ${S.get("batch","xHeight","xWidth","input_channel")};
            let wVal = ${I.get("wHeight","wWidth","wInChannel","output_channel")};
            value += xVal * wVal;
          }
        }
      }
      `:`
      for (var wInChannel: u32 = 0u; wInChannel < uniforms.w_shape[1]; wInChannel++) {
        let input_channel = in_channel_offset + wInChannel;
        for (var wHeight: u32 = 0u; wHeight < uniforms.w_shape[2]; wHeight++) {
          let xHeight = xRCCorner.x + wHeight * uniforms.dilations[0];

          if (xHeight < 0u || xHeight >= uniforms.x_shape[2]) {
            continue;
          }

          for (var wWidth: u32 = 0u; wWidth < uniforms.w_shape[3]; wWidth++) {
            let xWidth = xRCCorner.y + wWidth * uniforms.dilations[1];
            if (xWidth < 0u || xWidth >= uniforms.x_shape[3]) {
              continue;
            }

            let xVal = ${S.get("batch","input_channel","xHeight","xWidth")};
            let wVal = ${I.get("output_channel","wInChannel","wHeight","wWidth")};
            value += xVal * wVal;
          }
        }
      }
      `;return`
  ${_.registerUniforms(k).declareVariables(...F,$)}

  ${_.mainStart()}
    ${_.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}

    let outputIndices = ${$.offsetToIndices("global_idx")};
    let batch: u32 = outputIndices[0];
    let output_channel: u32 = outputIndices[${c?3:1}];
    let xRCCorner: vec2<u32> = vec2<u32>(outputIndices[${c?1:2}], outputIndices[${c?2:3}]) * uniforms.strides - uniforms.pads;
    let group_id: u32 = output_channel * ${p} / uniforms.output_channels_per_group;
    var in_channel_offset = group_id * uniforms.w_shape[${c?2:1}];

    var value: ${$.type.value} = ${$.type.value}(0);
    ${M}
    ${i}
    ${w}
    ${$.setByOffset("global_idx","value")}
  }`};return{name:"GroupedConv",shaderCache:{hint:`${t.cacheKey}_${p}`,inputDependencies:h},getRunData:()=>({outputs:[{dims:r?r(n):n,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(f/64)},programUniforms:m}),getShaderSource:g}},b4=(e,t,n,r)=>{let o=e.length>2,i=wn(n[3]),s=wn(n[2]),l=oe.size(n)/i/s,c=[e[0].dims[0],e[0].dims[1],e[0].dims[2],e[0].dims[3]/i],u=[e[1].dims[0],e[1].dims[1],e[1].dims[2],e[1].dims[3]/i],d=[n[0],n[1],n[2],n[3]/i],p=[{type:12,data:l},{type:6,data:[t.strides[0],t.strides[1]]},{type:6,data:[t.pads[0],t.pads[1]]}];Ka(t,p),p.push(...Me(c,u,d));let f=(s-1)*t.strides[1]+u[1],m=h=>{let g=De("output",e[0].dataType,d.length,i),_=Gn(g.type.tensor),$=qa(t,g.type.value,_),x=ue("x",e[0].dataType,c.length,i),w=ue("w",e[1].dataType,u.length,i),S=[x,w];o&&S.push(ue("b",e[2].dataType,e[2].dims,i));let I=o?"value += b[output_channel];":"",F=[{name:"output_size",type:"u32"},{name:"strides",type:"i32",length:2},{name:"pads",type:"i32",length:2}];return Xa(t,F),`
  ${h.registerUniforms(F).declareVariables(...S,g)}
  ${h.mainStart()}
    ${h.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
    let width0 = uniforms.output_shape[3];
    let output_channel = global_idx % width0;
    var index1 = global_idx / width0;
    let width1 = uniforms.output_shape[2] / ${s}u;
    let col = (index1 % width1) * ${s}u;
    index1 = index1 / width1;
    let row = index1 % uniforms.output_shape[1];
    let batch = index1 / uniforms.output_shape[1];

    let x_corner = vec2<i32>(i32(row), i32(col)) * uniforms.strides - uniforms.pads;

    var x_vals: array<${x.type.value}, ${f}>;
    var values: array<${g.type.value}, ${s}>;
    let input_channel = output_channel;
    // Use constant instead of uniform can give better performance for w's height/width.
    for (var w_height: u32 = 0u; w_height < ${u[0]}; w_height++) {
      let x_height = x_corner.x + i32(w_height);
      if (x_height >= 0 && u32(x_height) < uniforms.x_shape[1]) {
        for (var i = 0; i < ${f}; i++) {
          let x_width = x_corner.y + i;
          if (x_width >= 0 && u32(x_width) < uniforms.x_shape[2]) {
            x_vals[i] = ${x.get("batch","u32(x_height)","u32(x_width)","input_channel")};
          } else {
            x_vals[i] = ${x.type.value}(0);
          }
        }
        for (var w_width: u32 = 0u; w_width < ${u[1]}; w_width++) {
          let w_val = ${w.get("w_height","w_width","0","output_channel")};
          for (var i = 0u; i < ${s}u; i++) {
            values[i] = fma(x_vals[i * u32(uniforms.strides[1]) + w_width], w_val, values[i]);
          }
        }
      }
    }

    for (var i = 0u; i < ${s}u; i++) {
      var value = values[i];
      ${I}
      ${$}
      ${g.set("batch","row","col + i","output_channel","value")};
    }
  }`};return{name:"GroupedConv-Vectorize",shaderCache:{hint:`${t.cacheKey};${i};${s};${f};${u[0]};${u[1]}`,inputDependencies:o?["rank","rank","type"]:["rank","rank"]},getRunData:()=>({outputs:[{dims:r?r(n):n,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(l/64)},programUniforms:p}),getShaderSource:m}}}),nB,Eb,rB,Tb,XI,pI,oB,iB,YI,aue=ye(()=>{"use strict";et(),oue(),iue(),xE(),sue(),Za(),$E(),qs(),nB=(e,t,n,r,o,i)=>{let s=e[0],l=e.slice(i?1:2,i?3:4),c=l.length,u=t[0],d=t.slice(2).map((f,m)=>f+(f-1)*(n[m]-1)),p=l.map((f,m)=>f+r[m]+r[m+c]).map((f,m)=>Math.floor((f-d[m]+o[m])/o[m]));return p.splice(0,0,s),p.splice(i?3:1,0,u),p},Eb=[2,3,1,0],rB=(e,t)=>{if(!e||e.length!==2&&e.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(e[0].dims.length>5)throw new Error("greater than 5D is not supported");if(e[0].dims.length!==e[1].dims.length)throw new Error("filter does not have same dimension as input");let n=e[0].dims[t.format==="NHWC"?e[0].dims.length-1:1],r=e[1].dims[1]*t.group;if(n!==r)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(e.length===3&&(e[2].dims.length!==1||e[1].dims[0]!==e[2].dims[0]))throw new Error("invalid bias");let o=e[0].dims.length-2;if(t.dilations.length!==o)throw new Error(`dilations should be ${o}D`);if(t.strides.length!==o)throw new Error(`strides should be ${o}D`);if(t.pads.length!==o*2)throw new Error(`pads should be ${o*2}D`);if(t.kernelShape.length!==0&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape")},Tb=(e,t)=>{let n=e.kernelShape.slice();n.length<t[1].dims.length-2&&n.push(...Array(t[1].dims.length-2-n.length).fill(0));for(let i=2;i<t[1].dims.length;++i)n[i-2]===0&&(n[i-2]=t[1].dims[i]);let r=e.pads.slice();Lb.adjustPadsBasedOnAutoPad(t[0].dims,e.strides,e.dilations,n,r,e.format==="NHWC",e.autoPad);let o=Object.assign({},e);return Object.assign(o,{kernelShape:n,pads:r}),o},XI=e=>{let t=bE(e),n=e.format,r=["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][e.auto_pad],o=e.dilations,i=e.group,s=e.kernel_shape,l=e.pads,c=e.strides,u=e.w_is_const();return tt(fe({autoPad:r,format:n,dilations:o,group:i,kernelShape:s,pads:l,strides:c,wIsConst:u},t),{cacheKey:`${e.format};${t.activation};`})},pI=(e,t,n,r)=>{let o=n.format==="NHWC",i=nB(t[0].dims,t[1].dims,n.dilations,n.pads,n.strides,o);if(n.group!==1){let F=[t[0]];if(o){let k=e.kernelCustomData.wT??e.compute(to(t[1],Eb),{inputs:[1],outputs:[n.wIsConst?-2:-1]})[0];n.wIsConst&&!e.kernelCustomData.wT&&(e.kernelCustomData.wT=k),F.push(k)}else F.push(t[1]);t.length===3&&F.push(t[2]),!e.adapterInfo.isArchitecture("ampere")&&o&&t[1].dims[0]===n.group&&t[1].dims[1]===1&&n.dilations[0]===1&&n.dilations[1]===1?e.compute(b4(F,n,i,r),{inputs:F}):e.compute(g4(F,n,i,r),{inputs:F});return}let s=t.length===3,l=t[0].dims[o?1:2],c=t[0].dims[o?2:3],u=t[0].dims[o?3:1],d=t[1].dims[2],p=t[1].dims[3],f=i[o?1:2],m=i[o?2:3],h=i[o?3:1],g=o&&d===l&&p===c&&n.pads[0]===0&&n.pads[1]===0;if(g||d===1&&p===1&&n.dilations[0]===1&&n.dilations[1]===1&&n.strides[0]===1&&n.strides[1]===1&&n.pads[0]===0&&n.pads[1]===0){let F=i[0],k,M,O,B=[];if(o){let P=e.kernelCustomData.wT??e.compute(to(t[1],Eb),{inputs:[1],outputs:[n.wIsConst?-2:-1]})[0];if(n.wIsConst&&!e.kernelCustomData.wT&&(e.kernelCustomData.wT=P),g){let G=l*c*u;k=t[0].reshape([1,F,G]),M=P.reshape([1,G,h]),O=[1,F,h]}else k=t[0].reshape([F,l*c,u]),M=P.reshape([1,u,h]),O=[F,f*m,h];B.push(k),B.push(M)}else k=t[0].reshape([F,u,l*c]),M=t[1].reshape([1,h,u]),O=[F,h,f*m],B.push(M),B.push(k);s&&B.push(t[2]);let W=O[2],V=B[0].dims[B[0].dims.length-1];W<8&&V<8?e.compute(_E(B,n,i,O,o,r),{inputs:B}):e.compute(Wb(B,n,i,O,o,r),{inputs:B});return}let _=!0,$=e.kernelCustomData.wT??e.compute(to(t[1],Eb),{inputs:[1],outputs:[n.wIsConst?-2:-1]})[0];n.wIsConst&&!e.kernelCustomData.wT&&(e.kernelCustomData.wT=$);let x=[t[0],$];s&&x.push(t[2]);let w=o?f*m:h,S=o?h:f*m,I=d*p*u;e.compute(f4(x,n,i,w,S,I,s,_,r),{inputs:x})},oB=(e,t)=>{let n=t.format==="NHWC",r=[e.inputs[0].reshape(n?[e.inputs[0].dims[0],1,e.inputs[0].dims[1],e.inputs[0].dims[2]]:[e.inputs[0].dims[0],e.inputs[0].dims[1],1,e.inputs[0].dims[2]]),e.inputs[1].reshape([e.inputs[1].dims[0],e.inputs[1].dims[1],1,e.inputs[1].dims[2]])];e.inputs.length===3&&r.push(e.inputs[2]);let o=[0,t.pads[0],0,t.pads[1]],i=[1].concat(t.strides),s=[1].concat(t.dilations),l=[1].concat(t.kernelShape),c=Tb(tt(fe({},t),{pads:o,strides:i,dilations:s,kernelShape:l}),r);pI(e,r,c,u=>n?[u[0],u[2],u[3]]:[u[0],u[1],u[3]])},iB=(e,t,n)=>{let r=n.format==="NHWC"?"channelsLast":"channelsFirst",o=Tb(n,t),i=n.autoPad==="NOTSET"?n.pads:n.autoPad,s=m4(t[0].dims,t[1].dims,n.strides,n.dilations,i,!1,r);e.compute(h4(t,o,s.outShape,[s.filterDepth,s.filterHeight,s.filterWidth],[s.padInfo.front,s.padInfo.top,s.padInfo.left],r))},YI=(e,t)=>{if(rB(e.inputs,t),e.inputs[0].dims.length===3)oB(e,t);else if(e.inputs[0].dims.length===5)iB(e,e.inputs,t);else{let n=Tb(t,e.inputs);pI(e,e.inputs,n)}}}),y4,lue=ye(()=>{"use strict";He(),Ji(),et(),at(),y4=(e,t,n)=>{let r=e.length>2,o=t.outputShape,i=t.format==="NHWC",s=t.group,l=e[1].dims,c=l[2]/s,u=l[3],d=i?wn(c):1,p=i?wn(u):1,f=i?u===1?d:p:1,m=oe.size(o)/p,h=[Math.ceil(m/64),1,1];Et("verbose",()=>`[conv2d_backprop_webgpu] dispatch = ${h}`);let g=["rank","rank"],_=[t.strides[0],t.strides[1]],$=[t.kernelShape[i?1:2],t.kernelShape[i?2:3]],x=[t.dilations[0],t.dilations[1]],w=[$[0]+(t.dilations[0]<=1?0:(t.kernelShape[i?1:2]-1)*(t.dilations[0]-1)),$[1]+(t.dilations[1]<=1?0:(t.kernelShape[i?2:3]-1)*(t.dilations[1]-1))],S=[w[0]-1-Math.floor((t.pads[0]+t.pads[2])/2),w[1]-1-Math.floor((t.pads[1]+t.pads[3])/2)],I=[{type:12,data:m},{type:12,data:_},{type:12,data:$},{type:12,data:x},{type:12,data:w},{type:6,data:S},{type:12,data:c},{type:12,data:u},...Me(e[0].dims,e[1].dims)];r&&(I.push(...Me(e[2].dims)),g.push("rank")),I.push(...Me(o));let F=k=>{let M=[{name:"output_size",type:"u32"},{name:"strides",type:"u32",length:_.length},{name:"filter_dims",type:"u32",length:$.length},{name:"dilations",type:"u32",length:$.length},{name:"effective_filter_dims",type:"u32",length:w.length},{name:"pads",type:"i32",length:S.length},{name:"input_channels_per_group",type:"u32"},{name:"output_channels_per_group",type:"u32"}],O=Gn(e[0].dataType),B=i?1:2,W=i?2:3,V=i?3:1,P=ue("W",e[1].dataType,e[1].dims.length,f),G=ue("Dy",e[0].dataType,e[0].dims.length,d),Z=[G,P];r&&Z.push(ue("bias",e[2].dataType,[o[V]].length,p));let H=De("result",e[0].dataType,o.length,p),re=()=>{let Y="";if(d===1)Y+=`
        let w_offset = ${P.indicesToOffset(`${P.type.indices}(u32(wRPerm), u32(wCPerm), inputChannel, wOutChannel)`)};
        let wValue = ${P.getByOffset(`w_offset / ${f}`)};
        dotProd = dotProd + xValue * wValue;`;else if(u===1)Y+=`
          let wValue = ${P.getByOffset(`${P.indicesToOffset(`${P.type.indices}(u32(wRPerm), u32(wCPerm), inputChannel, wOutChannel)`)} / ${f}`)};
          dotProd = dotProd + dot(xValue, wValue);`;else for(let se=0;se<d;se++)Y+=`
            let wValue${se} = ${P.getByOffset(`${P.indicesToOffset(`${P.type.indices}(u32(wRPerm), u32(wCPerm), inputChannel + ${se}, wOutChannel)`)} / ${f}`)};
            dotProd = dotProd + xValue[${se}] * wValue${se};`;return Y},te=`
            let outputIndices = ${H.offsetToIndices(`global_idx * ${p}`)};
            let batch = ${H.indicesGet("outputIndices",0)};
            let d1 = ${H.indicesGet("outputIndices",V)};
            let r = ${H.indicesGet("outputIndices",B)};
            let c = ${H.indicesGet("outputIndices",W)};
            let dyCorner = vec2<i32>(i32(r), i32(c)) - uniforms.pads;
            let dyRCorner = dyCorner.x;
            let dyCCorner = dyCorner.y;
            let groupId = d1 / uniforms.output_channels_per_group;
            let wOutChannel = d1 - groupId * uniforms.output_channels_per_group;
            // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
            // ? = to be determined. : = across all values in that axis.
            var dotProd = ${H.type.value}(0.0);
            var wR: u32 = 0;
            if (uniforms.dilations.x == 1) {
              // Minimum wR >= 0 that satisfies (dyRCorner + wR) % (uniforms.strides.x) == 0
              wR = u32(((dyRCorner + i32(uniforms.strides.x) - 1) / i32(uniforms.strides.x)) * i32(uniforms.strides.x) - dyRCorner);
            }
            for (; wR < uniforms.effective_filter_dims.x; wR = wR + 1) {
              if (wR % uniforms.dilations.x != 0) {
                continue;
              }
              let dyR = (${O}(dyRCorner) + ${O}(wR)) / ${O}(uniforms.strides[0]);
              let wRPerm = uniforms.filter_dims.x - 1 - wR / uniforms.dilations.x;
              if (dyR < 0.0 || dyR >= ${O}(uniforms.Dy_shape[${B}]) || fract(dyR) > 0.0 ||
                  wRPerm < 0) {
                continue;
              }
              let idyR: u32 = u32(dyR);
              var wC: u32 = 0;
              if (uniforms.dilations.y == 1) {
                // Minimum wC >= 0 that satisfies (dyCCorner + wC) % (uniforms.strides.y) == 0
                wC = u32(((dyCCorner + i32(uniforms.strides.y) - 1) / i32(uniforms.strides.y)) * i32(uniforms.strides.y) - dyCCorner);
              }

              for (; wC < uniforms.effective_filter_dims.y; wC = wC + 1) {
                if (wC % uniforms.dilations.y != 0) {
                  continue;
                }
                let dyC = (${O}(dyCCorner) + ${O}(wC)) / ${O}(uniforms.strides.y);
                let wCPerm = uniforms.filter_dims.y - 1 - wC / uniforms.dilations.y;
                if (dyC < 0.0 || dyC >= ${O}(uniforms.Dy_shape[${W}]) ||
                    fract(dyC) > 0.0 || wCPerm < 0) {
                  continue;
                }
                let idyC: u32 = u32(dyC);
                var inputChannel = groupId * uniforms.input_channels_per_group;
                for (var d2: u32 = 0; d2 < uniforms.input_channels_per_group; d2 = d2 + ${d}) {
                  let xValue = ${i?G.getByOffset(`${G.indicesToOffset(`${G.type.indices}(batch, idyR, idyC, inputChannel)`)} / ${d}`):G.get("batch","inputChannel","idyR","idyC")};
                  ${re()}
                  inputChannel = inputChannel + ${d};
                }
                wC = wC + uniforms.strides.y - 1;
              }
              wR = wR + uniforms.strides[0] - 1;
            }
            let value = dotProd${r?` + bias[d1 / ${p}]`:""};
            ${H.setByOffset("global_idx","value")};
          `;return`
    ${k.registerUniforms(M).declareVariables(...Z,H)}
      ${k.mainStart()}
      ${k.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")};
    ${te}}`};return{name:"ConvTranspose2D",shaderCache:{hint:`${t.cacheKey};${d}${f}${p}${u===1}`,inputDependencies:g},getRunData:()=>({dispatchGroup:{x:h[0],y:h[1],z:h[2]},outputs:[{dims:n?n(o):o,dataType:e[0].dataType}],programUniforms:I}),getShaderSource:F}}}),sB,aB,lB,fI,_4,cB,mI,uB,$4,cue=ye(()=>{"use strict";lue(),Za(),qs(),sB=(e,t,n,r,o,i)=>(e-1)*t+n+(r-1)*o+1-i,aB=(e,t,n,r,o)=>{let i=Math.floor(e/2);t==="SAME_UPPER"?(n[r]=i,n[o]=e-i):t==="SAME_LOWER"&&(n[r]=e-i,n[o]=i)},lB=(e,t,n,r,o,i,s,l,c,u)=>{let d=e.length-2,p=u.length===0;c.length<d&&c.push(...Array(d-c.length).fill(0));let f=e[0],m=t[l?3:1]*o;for(let h=0,g=e.length-d-(l?1:0);h<d;++h,++g){let _=e[g],$=p?_*s[h]:u[h],x=sB(_,s[h],i[h],t[g],n[h],$);aB(x,r,i,h,h+d),p&&u.push(s[h]*(_-1)+c[h]+(t[g]-1)*n[h]+1-i[h]-i[h+d])}u.splice(0,0,f),u.splice(l?3:1,0,m)},fI=(e,t)=>{let n=e.kernelShape.slice();if(e.kernelShape.length===0||e.kernelShape.reduce((p,f)=>p*f,1)===0){n.length=0;for(let p=2;p<t[1].dims.length;++p)n.push(t[1].dims[p])}let r=e.format==="NHWC";n.splice(0,0,t[1].dims[0]),n.splice(r?3:1,0,t[1].dims[1]);let o=e.pads.slice(),i=e.outputShape.slice(),s=e.outputPadding.slice(),l=t[0].dims,c=e.dilations.slice();if(c.reduce((p,f)=>p+f,0)===0){let p=t[0].dims.length-2;c=new Array(p).fill(1)}let u=e.strides.slice();if(u.reduce((p,f)=>p+f,0)===0){let p=t[0].dims.length-2;u=new Array(p).fill(1)}lB(l,n,c,e.autoPad,e.group,o,u,r,s,i);let d=Object.assign({},e);return Object.assign(d,{kernelShape:n,pads:o,outputPadding:s,outputShape:i,dilations:c,strides:u}),d},_4=e=>{let t=bE(e),n=e.format,r=["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][typeof e.autoPad>"u"?0:e.autoPad],o=e.dilations,i=e.group,s=e.kernelShape,l=e.pads,c=e.strides,u=e.wIsConst(),d=e.outputPadding,p=e.outputShape;return tt(fe({autoPad:r,format:n,dilations:o,group:i,kernelShape:s,outputPadding:d,outputShape:p,pads:l,strides:c,wIsConst:u},t),{cacheKey:`${e.format};${t.activation};`})},cB=(e,t)=>{if(!e||e.length!==2&&e.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(e[0].dims.length!==4&&e[0].dims.length!==3)throw new Error("currently only support 2-dimensional conv");if(e[0].dims.length!==e[1].dims.length)throw new Error("filter does not have same dimension as input");let n=e[0].dims[t.format==="NHWC"?e[0].dims.length-1:1],r=e[1].dims[0];if(n!==r)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");let o=e[1].dims[1]*t.group;if(e.length===3&&(e[2].dims.length!==1||e[2].dims[0]!==o))throw new Error("invalid bias");let i=e[0].dims.length-2;if(t.dilations.reduce((s,l)=>s+l,0)>0&&t.dilations.length!==i)throw new Error(`dilations should be ${i}D`);if(t.strides.reduce((s,l)=>s+l,0)>0&&t.strides.length!==i)throw new Error(`strides should be ${i}D`);if(t.pads.reduce((s,l)=>s+l,0)>0&&t.pads.length!==i*2)throw new Error(`pads should be ${i*2}D`);if(t.outputPadding.length!==i&&t.outputPadding.length!==0)throw new Error(`output_padding should be ${i}D`);if(t.kernelShape.reduce((s,l)=>s+l,0)>0&&t.kernelShape.length!==0&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if(t.outputShape.length!==0&&t.outputShape.length!==e[0].dims.length-2)throw new Error("invalid output shape")},mI=(e,t,n,r)=>{let o=e.kernelCustomData.wT??e.compute(to(t[1],[2,3,0,1]),{inputs:[1],outputs:[n.wIsConst?-2:-1]})[0];n.wIsConst&&!e.kernelCustomData.wT&&(e.kernelCustomData.wT=o);let i=[t[0],o];t.length===3&&i.push(t[2]),e.compute(y4(i,n,r),{inputs:i})},uB=(e,t)=>{let n=t.format==="NHWC",r=[e.inputs[0].reshape(n?[e.inputs[0].dims[0],1,e.inputs[0].dims[1],e.inputs[0].dims[2]]:[e.inputs[0].dims[0],e.inputs[0].dims[1],1,e.inputs[0].dims[2]]),e.inputs[1].reshape([e.inputs[1].dims[0],e.inputs[1].dims[1],1,e.inputs[1].dims[2]])];e.inputs.length===3&&r.push(e.inputs[2]);let o=t.kernelShape;(o.length===0||o[0]===0)&&(o=[e.inputs[1].dims[2]]);let i=t.dilations;(i.length===0||i[0]===0)&&(i=[1]);let s=t.strides;(s.length===0||s[0]===0)&&(s=[1]);let l=t.pads;l.length===0&&(l=[0,0]),l=[0,l[0],0,l[1]],s=[1].concat(s),i=[1].concat(i),o=[1].concat(o);let c=t.outputPadding;c=[0].concat(c);let u=fI(tt(fe({},t),{pads:l,strides:s,dilations:i,kernelShape:o,outputPadding:c}),r);mI(e,r,u,d=>n?[d[0],d[2],d[3]]:[d[0],d[1],d[3]])},$4=(e,t)=>{if(cB(e.inputs,t),e.inputs[0].dims.length===3)uB(e,t);else{let n=fI(t,e.inputs);mI(e,e.inputs,n)}}}),dB,x4,v4,uue=ye(()=>{"use strict";He(),et(),En(),at(),dB=(e,t,n,r)=>{let o=oe.size(t),i=t.length,s=ue("input",e,i),l=De("output",e,i),c=n.dataType===6?n.getInt32Array()[0]:Number(n.getBigInt64Array()[0]),u=oe.normalizeAxis(c,i),d=p=>{let f=` i32(${s.indicesGet("inputIndices","uniforms.axis")}) `,m=Fe("uniforms.input_shape","uniforms.axis",i),h=r.reverse?f+(r.exclusive?" + 1":""):"0",g=r.reverse?m:f+(r.exclusive?"":" + 1");return`
                ${p.registerUniform("outputSize","u32").registerUniform("axis","u32").declareVariables(s,l)}
                ${p.mainStart()}
                  ${p.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
                  var inputIndices = ${l.offsetToIndices("global_idx")};
                  var sum = ${l.type.value}(0);
                  let first : i32 = ${h};
                  let last : i32 = ${g};
                  for (var i : i32 = first; i < last; i++) {
                    ${s.indicesSet("inputIndices","uniforms.axis","u32(i)")};
                    sum = sum + ${s.getByIndices("inputIndices")};
                  }
                  ${l.setByOffset("global_idx","sum")};
                }`};return{name:"CumSum",shaderCache:{hint:r.cacheKey,inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:t,dataType:e}],dispatchGroup:{x:Math.ceil(o/64)},programUniforms:[{type:12,data:o},{type:12,data:u},...Me(t,t)]}),getShaderSource:d}},x4=(e,t)=>{let n=e.inputs[0].dims,r=e.inputs[0].dataType,o=e.inputs[1];e.compute(dB(r,n,o,t),{inputs:[0]})},v4=e=>{let t=e.exclusive===1,n=e.reverse===1;return Ht({exclusive:t,reverse:n})}}),pB,fB,mB,w4,S4,due=ye(()=>{"use strict";He(),et(),En(),at(),pB=e=>{if(!e||e.length!==1)throw new Error("DepthToSpace requires 1 input.");if(e[0].dims.length!==4)throw new Error("DepthToSpace requires 4D input.")},fB=(e,t,n,r)=>{let o=[];o.push(`fn perm(i: ${r.type.indices}) -> ${n.type.indices} {
    var a: ${n.type.indices};`);for(let i=0;i<t;++i)o.push(n.indicesSet("a",e[i],`i[${i}]`));return o.push("return a;}"),o.join(`
`)},mB=(e,t)=>{let n,r,o,i,s,l,c=t.format==="NHWC",u=t.blocksize,d=t.mode==="DCR";c?([n,r,o,i]=e.dims,s=d?[n,r,o,u,u,i/u**2]:[n,r,o,i/u**2,u,u],l=d?[0,1,3,2,4,5]:[0,1,4,2,5,3]):([n,r,o,i]=[e.dims[0],e.dims[2],e.dims[3],e.dims[1]],s=d?[n,u,u,i/u**2,r,o]:[n,i/u**2,u,u,r,o],l=d?[0,3,4,1,5,2]:[0,1,4,2,5,3]);let p=e.reshape(s),f=p.dims.length,m=e.dataType,h=ue("a",m,f),g=De("output",m,f),_=$=>`
  ${$.registerUniform("output_size","u32").declareVariables(h,g)}

  ${fB(l,f,h,g)}

  ${$.mainStart()}
    ${$.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}

    let indices = ${g.offsetToIndices("global_idx")};
    let aIndices = perm(indices);

    ${g.setByOffset("global_idx",h.getByIndices("aIndices"))}
  }`;return{name:"DepthToSpace",shaderCache:{hint:`${e.dims};${t.blocksize};${t.mode}`,inputDependencies:["rank"]},getRunData:$=>{let x=c?[n,r*u,o*u,i/u**2]:[n,i/u**2,r*u,o*u],w=oe.size(x),S=p.dims,I=oe.sortBasedOnPerm(S,l);return{outputs:[{dims:x,dataType:$[0].dataType}],dispatchGroup:{x:Math.ceil(w/64)},programUniforms:[{type:12,data:w},...Me(S,I)]}},getShaderSource:_}},w4=(e,t)=>{pB(e.inputs),e.compute(mB(e.inputs[0],t))},S4=e=>Ht({blocksize:e.blocksize,mode:e.mode,format:e.format})}),Db,rp,hI,hB,gB,bB,yB,gI,_B,C4,I4,pue=ye(()=>{"use strict";He(),et(),En(),at(),Db="[a-zA-Z]|\\.\\.\\.",rp="("+Db+")+",hI="^"+rp+"$",hB="("+rp+",)*"+rp,gB="^"+hB+"$",bB=class{constructor(e=-1){this.symbolToIndices=new Map,this.inputIndex=e}addSymbol(e,t){let n=this.symbolToIndices.get(e);n===void 0?n=[t]:n.push(t),this.symbolToIndices.set(e,n)}},yB=class{constructor(e,t){this.equation=t,this.hasEllipsis=!1,this.symbolToInfo=new Map,this.lhs=new Array,this.outputDims=[];let[n,r]=t.includes("->")?t.split("->",2):[t,""];if(!n.match(RegExp(gB)))throw new Error("Invalid LHS term");if(n.split(",").forEach((o,i)=>{let s=e[i].dims.slice();if(!o.match(RegExp(hI)))throw new Error("Invalid LHS term");let l=this.processTerm(o,!0,s,i);this.lhs.push(l)}),r==="")r+=[...this.symbolToInfo.entries()].filter(([o,i])=>i.count===1||o==="...").map(([o])=>o).join("");else if(!r.match(RegExp(rp)))throw new Error("Invalid RHS");r.match(RegExp(Db,"g"))?.forEach(o=>{if(o==="...")this.outputDims=this.outputDims.concat(this.ellipsisDims);else{let i=this.symbolToInfo.get(o);if(i===void 0)throw new Error("Invalid RHS symbol");this.outputDims.push(i.dimValue)}}),this.rhs=this.processTerm(r,!1,this.outputDims)}addSymbol(e,t,n){let r=this.symbolToInfo.get(e);if(r!==void 0){if(r.dimValue!==t&&r.count!==1)throw new Error("Dimension mismatch");r.count++,r.inputIndices.push(n)}else r={count:1,dimValue:t,inputIndices:[n]};this.symbolToInfo.set(e,r)}processTerm(e,t,n,r=-1){let o=n.length,i=!1,s=[],l=0;if(!e.match(RegExp(hI))&&!t&&e!=="")throw new Error("Invalid LHS term");let c=e.match(RegExp(Db,"g")),u=new bB(r);return c?.forEach((d,p)=>{if(d==="..."){if(i)throw new Error("Only one ellipsis is allowed per input term");i=!0;let f=o-c.length+1;if(f<0)throw new Error("Ellipsis out of bounds");if(s=n.slice(l,l+f),this.hasEllipsis){if(this.ellipsisDims.length!==s.length||this.ellipsisDims.toString()!==s.toString())throw new Error("Ellipsis dimensions mismatch")}else if(t)this.hasEllipsis=!0,this.ellipsisDims=s;else throw new Error("Ellipsis must be specified in the LHS");for(let m=0;m<s.length;m++){let h=String.fromCharCode(48+m);u.addSymbol(h,p+m),this.addSymbol(h,n[l++],r)}}else u.addSymbol(d,p+(this.hasEllipsis?this.ellipsisDims.length-1:0)),this.addSymbol(d,n[l++],r)}),u}},gI=e=>e+"_max",_B=(e,t,n,r)=>{let o=e.map(u=>u.length).map((u,d)=>ue(`input${d}`,t,u)),i=oe.size(r),s=De("output",t,r.length),l=[...n.symbolToInfo.keys()].filter(u=>!n.rhs.symbolToIndices.has(u)),c=u=>{let d=[],p="var prod = 1.0;",f="var sum = 0.0;",m="sum += prod;",h=[],g=[],_=[],$=[],x=n.symbolToInfo.size===n.rhs.symbolToIndices.size;n.symbolToInfo.forEach((S,I)=>{if(n.rhs.symbolToIndices.has(I)){let F=n.rhs.symbolToIndices.get(I)?.[0];F!==void 0&&n.lhs.forEach((k,M)=>{if(S.inputIndices.includes(M)){let O=k.symbolToIndices.get(I);if(O===void 0)throw new Error("Invalid symbol error");O.forEach(B=>{d.push(`${o[M].indicesSet(`input${M}Indices`,B,s.indicesGet("outputIndices",F))}`)})}})}else n.lhs.forEach((F,k)=>{if(S.inputIndices.includes(k)){let M=F.symbolToIndices.get(I);if(M===void 0)throw new Error("Invalid symbol error");M.forEach(O=>{h.push(`${o[k].indicesSet(`input${k}Indices`,O,`${I}`)}`)}),$.push(`prod *= ${o[k].getByIndices(`input${k}Indices`)};`)}}),g.push(`for(var ${I}: u32 = 0; ${I} < uniforms.${gI(I)}; ${I}++) {`),_.push("}")});let w=x?[...d,`let sum = ${o.map((S,I)=>S.getByIndices(`input${I}Indices`)).join(" * ")};`]:[...d,f,...g,...h,p,...$,m,..._];return`
            ${u.registerUniforms(l.map(S=>({name:`${gI(S)}`,type:"u32"}))).registerUniform("outputSize","u32").declareVariables(...o,s)}

            ${u.mainStart()}
            ${u.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
            var outputIndices = ${s.offsetToIndices("global_idx")};
            ${o.map((S,I)=>`var input${I}Indices: ${o[I].type.indices};`).join(`
`)}
            ${w.join(`
`)};
            ${s.setByOffset("global_idx","sum")};
          }`};return{name:"Einsum",shaderCache:{hint:n.equation,inputDependencies:e.map(()=>"rank")},getRunData:()=>{let u=l.filter(p=>n.symbolToInfo.has(p)).map(p=>({type:12,data:n.symbolToInfo.get(p)?.dimValue||0}));u.push({type:12,data:i});let d=e.map((p,f)=>[...Me(p)]).reduce((p,f)=>p.concat(f),u);return d.push(...Me(r)),{outputs:[{dims:r,dataType:t}],dispatchGroup:{x:Math.ceil(i/64)},programUniforms:d}},getShaderSource:c}},C4=(e,t)=>{let n=new yB(e.inputs,t.equation),r=n.outputDims,o=e.inputs.map((i,s)=>i.dims);e.compute(_B(o,e.inputs[0].dataType,n,r))},I4=e=>{let t=e.equation.replace(/\s+/g,"");return Ht({equation:t})}}),$B,bI,xB,vB,E4,fue=ye(()=>{"use strict";He(),et(),at(),$B=e=>{if(!e||e.length!==2)throw new Error("Expand requires 2 input.");let t=e[0].dims,n=Array.from(e[1].getBigInt64Array(),Number),r=n.length<t.length?0:n.length-t.length,o=t.length<n.length?0:t.length-n.length;for(;r<n.length&&o<t.length;++r,++o)if(n[r]!==t[o]&&n[r]!==1&&t[o]!==1)throw new Error("Expand requires shape to be broadcastable to input")},bI=(e,t)=>{let n=e.length-t.length,r=[];for(let o=0;o<n;++o)r.push(e[o]);for(let o=0;o<t.length;++o)r.push(t[o]===1?e[o+n]:t[o]);return r},xB=(e,t)=>e.length>t.length?bI(e,t):bI(t,e),vB=e=>{let t=e[0].dims,n=Array.from(e[1].getBigInt64Array(),Number),r=xB(t,n),o=e[0].dataType,i=o===9||oe.size(t)===1,s=o===9||t.length>0&&t[t.length-1]%4===0?4:1,l=i||r.length>0&&r[r.length-1]%4===0?4:1,c=Math.ceil(oe.size(r)/l),u=p=>{let f=ue("input",o,t.length,s),m=De("output",o,r.length,l),h;if(o===9){let g=(_,$,x="")=>`
          let outputIndices${$} = ${m.offsetToIndices(`outputOffset + ${$}u`)};
          let offset${$} = ${f.broadcastedIndicesToOffset(`outputIndices${$}`,m)};
          let index${$} = offset${$} / 4u;
          let component${$} = offset${$} % 4u;
          ${_}[${$}] = ${x}(${f.getByOffset(`index${$}`)}[component${$}]);
        `;h=`
        let outputOffset = global_idx * ${l};
        var data = vec4<u32>(0);
        ${g("data",0,"u32")}
        ${g("data",1,"u32")}
        ${g("data",2,"u32")}
        ${g("data",3,"u32")}
        ${m.setByOffset("global_idx","data")}
      }`}else h=`
        let outputIndices = ${m.offsetToIndices(`global_idx * ${l}`)};
        let inputOffset = ${f.broadcastedIndicesToOffset("outputIndices",m)};
        let data = ${m.type.value}(${f.getByOffset(`inputOffset / ${s}`)});
        ${m.setByOffset("global_idx","data")}
      }`;return`
    ${p.registerUniform("vec_size","u32").declareVariables(f,m)}
    ${p.mainStart()}
    ${p.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size")}
    ${h}`},d=[{type:12,data:c},...Me(t,r)];return{name:"Expand",shaderCache:{hint:`${r.length};${s}${l}`,inputDependencies:["rank"]},getShaderSource:u,getRunData:()=>({outputs:[{dims:r,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(c/64)},programUniforms:d})}},E4=e=>{$B(e.inputs),e.compute(vB(e.inputs),{inputs:[0]})}}),wB,T4,mue=ye(()=>{"use strict";He(),et(),at(),gE(),wB=e=>{let t=e[0].dataType,n=oe.size(e[0].dims),r=oe.size(e[1].dims),o=r%4===0,i=s=>{let l=ue("x",t,[1],4),c=ue("bias",t,[1],4),u=De("y",t,[1],4),d=[{name:"output_vec_size",type:"u32"},{name:"bias_size",type:"u32"}],p=m=>`
      let bias${m}_offset: u32 = (global_idx * 4 + ${m}) % uniforms.bias_size;
      let bias${m} = ${c.getByOffset(`bias${m}_offset / 4`)}[bias${m}_offset % 4];`,f=o?`
      let bias = ${c.getByOffset("global_idx % (uniforms.bias_size / 4)")};`:`${p(0)}${p(1)}${p(2)}${p(3)}
      let bias = ${l.type.value}(bias0, bias1, bias2, bias3);`;return`${s.registerUniforms(d).declareVariables(l,c,u)}

    ${HI(_r(t))}

    ${s.mainStart(qc)}
      ${s.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_vec_size")}

      let x = ${l.getByOffset("global_idx")};
      ${f}
      let x_in = x + bias;
      ${u.setByOffset("global_idx",GI("x_in"))}
    }`};return{name:"FastGeluWithBias",shaderCache:{hint:`${o}`,inputDependencies:["type","type"]},getShaderSource:i,getRunData:s=>({outputs:[{dims:s[0].dims,dataType:s[0].dataType}],programUniforms:[{type:12,data:Math.ceil(n/4)},{type:12,data:r}],dispatchGroup:{x:Math.ceil(n/qc/4)}})}},T4=e=>{e.inputs.length<2||oe.size(e.inputs[1].dims)===0?KU(e):e.compute(wB(e.inputs))}}),SB,CB,D4,F4,hue=ye(()=>{"use strict";He(),et(),En(),at(),SB=e=>{if(!e||e.length!==2)throw new Error("Gather requires 2 inputs.")},CB=(e,t)=>{let n=e[0].dims,r=e[1].dims,o=n.length,i=oe.normalizeAxis(t.axis,o),s=n.slice(0);s.splice(i,1,...r);let l=n[i],c=e[0].dataType===9?4:1,u=Math.ceil(oe.size(s)/c),d=[{type:12,data:u},{type:6,data:l},{type:12,data:i},...Me(e[0].dims,e[1].dims,s)],p=f=>{let m=ue("data",e[0].dataType,e[0].dims.length,c),h=ue("inputIndices",e[1].dataType,e[1].dims.length),g=De("output",e[0].dataType,s.length,c),_=x=>{let w=r.length,S=`var indicesIndices${x}  = ${h.type.indices}(0);`;for(let I=0;I<w;I++)S+=`${w>1?`indicesIndices${x}[${I}]`:`indicesIndices${x}`} = ${s.length>1?`outputIndices${x}[uniforms.axis + ${I}]`:`outputIndices${x}`};`;S+=`
          var idx${x} = ${h.getByIndices(`indicesIndices${x}`)};
          if (idx${x} < 0) {
            idx${x} = idx${x} + uniforms.axisDimLimit;
          }
          var dataIndices${x} : ${m.type.indices};
        `;for(let I=0,F=0;I<o;I++)I===i?(S+=`${o>1?`dataIndices${x}[${I}]`:`dataIndices${x}`} = u32(idx${x});`,F+=w):(S+=`${o>1?`dataIndices${x}[${I}]`:`dataIndices${x}`} = ${s.length>1?`outputIndices${x}[${F}]`:`outputIndices${x}`};`,F++);return S},$;if(e[0].dataType===9){let x=(w,S,I="")=>`
          let outputIndices${S} = ${g.offsetToIndices(`outputOffset + ${S}u`)};
          ${_(S)};
          let offset${S} = ${m.indicesToOffset(`dataIndices${S}`)};
          let index${S} = offset${S} / 4u;
          let component${S} = offset${S} % 4u;
          ${w}[${S}] = ${I}(${m.getByOffset(`index${S}`)}[component${S}]);
        `;$=`
        let outputOffset = global_idx * ${c};
        var value = vec4<u32>(0);
        ${x("value",0,"u32")}
        ${x("value",1,"u32")}
        ${x("value",2,"u32")}
        ${x("value",3,"u32")}
        ${g.setByOffset("global_idx","value")}
      `}else $=`
      let outputIndices = ${g.offsetToIndices("global_idx")};
      ${_("")};
      let value = ${m.getByIndices("dataIndices")};
      ${g.setByOffset("global_idx","value")};
      `;return`
      ${f.registerUniform("outputSize","u32").registerUniform("axisDimLimit","i32").registerUniform("axis","u32").declareVariables(m,h,g)}
      ${f.mainStart()}
        ${f.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
        ${$}
      }`};return{name:"Gather",shaderCache:{hint:t.cacheKey,inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:s,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(u/64)},programUniforms:d}),getShaderSource:p}},D4=e=>Ht({axis:e.axis}),F4=(e,t)=>{let n=e.inputs;SB(n),e.compute(CB(e.inputs,t))}}),IB,k4,A4,gue=ye(()=>{"use strict";He(),et(),at(),IB=(e,t,n,r,o,i,s,l,c)=>{let u=[{type:12,data:i},{type:12,data:r},{type:12,data:o},{type:12,data:n},{type:12,data:s},{type:12,data:l},{type:12,data:c}],d=[i];u.push(...Me(t.dims,d));let p=f=>{let m=ue("indices_data",t.dataType,t.dims.length),h=De("input_slice_offsets_data",12,1,1),g=[m,h],_=[{name:"output_size",type:"u32"},{name:"batch_dims",type:"u32"},{name:"input_dims",type:"u32",length:o.length},{name:"sizes_from_slice_dims_data",type:"u32",length:n.length},{name:"num_slices_per_batch",type:"u32"},{name:"input_batch_stride",type:"u32"},{name:"num_slice_dims",type:"u32"}];return`
  ${f.registerUniforms(_).declareVariables(...g)}
  ${f.mainStart()}
    ${f.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
    let batch_idx = global_idx / uniforms.num_slices_per_batch;
    let base_offset = batch_idx * uniforms.input_batch_stride;

    let slice_indices_base_offset = global_idx * uniforms.num_slice_dims;
    var relative_slice_offset = 0;
    for (var dim_idx = 0u; dim_idx < uniforms.num_slice_dims; dim_idx ++) {
      var index = i32(indices_data[dim_idx + slice_indices_base_offset].x);
      let input_dim_idx = uniforms.batch_dims + dim_idx;
      if (index < 0) {
        ${o.length===1?"index += i32(uniforms.input_dims);":"index += i32(uniforms.input_dims[input_dim_idx]);"}
      }
      ${n.length===1?"relative_slice_offset += index * i32(uniforms.sizes_from_slice_dims_data);":"relative_slice_offset += index * i32(uniforms.sizes_from_slice_dims_data[dim_idx]);"}
    }

    input_slice_offsets_data[global_idx] =  base_offset + u32(relative_slice_offset);
  }`};return e.compute({name:"computeSliceOffsets",shaderCache:{hint:`${o.length}_${n.length}`,inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:d,dataType:e.inputs[1].dataType}],dispatchGroup:{x:Math.ceil(i/64)},programUniforms:u}),getShaderSource:p},{inputs:[t],outputs:[-1]})[0]},k4=(e,t)=>{let n=e.inputs,r=n[0].dims,o=n[0].dataType,i=n[1].dims,s=i[i.length-1],l=oe.sizeToDimension(i,i.length-1),c=oe.sizeFromDimension(r,t.batchDims+s),u=oe.sizeToDimension(r,t.batchDims),d=oe.sizeFromDimension(r,t.batchDims),p=l/u,f=new Array(s),m=c;for(let S=0;S<s;++S)f[s-1-S]=m,m*=r[t.batchDims+s-1-S];let h=IB(e,n[1],f,t.batchDims,r,l,p,d,s),g=t.batchDims+s;if(g>r.length)throw new Error("last dimension of indices must not be larger than rank of input tensor");let _=i.slice(0,-1).concat(r.slice(g)),$=oe.size(_),x=[{type:12,data:$},{type:12,data:c},...Me(n[0].dims,h.dims,_)],w=S=>{let I=ue("data",n[0].dataType,n[0].dims.length),F=ue("slice_offsets",12,h.dims.length),k=De("output",n[0].dataType,_.length);return`
          ${S.registerUniform("output_size","u32").registerUniform("slice_size","u32").declareVariables(I,F,k)}
            ${S.mainStart()}
            ${S.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
          let slice_offset = slice_offsets[global_idx / uniforms.slice_size];
          output[global_idx] = data[u32(slice_offset) + global_idx % uniforms.slice_size];
        }`};e.compute({name:"GatherND",shaderCache:{hint:t.cacheKey,inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:_,dataType:o}],dispatchGroup:{x:Math.ceil($/64)},programUniforms:x}),getShaderSource:w},{inputs:[n[0],h]})},A4=e=>({batchDims:e.batch_dims,cacheKey:""})}),EB,TB,M4,R4,bue=ye(()=>{"use strict";He(),et(),En(),at(),EB=(e,t)=>{if(e.length<3||e.length>4)throw new Error("GatherBlockQuantized requires 3 or 4 inputs.");let n=oe.normalizeAxis(t.quantizeAxis,e[0].dims.length),r=t.blockSize,o=e[0],i=e[2],s=e.length===4?e[3]:void 0;if(i.dims.length!==o.dims.length||!o.dims.map((l,c)=>c===n?Math.ceil(l/r)===i.dims[c]:l===i.dims[c]).reduce((l,c)=>l&&c,!0))throw new Error("Scales must have the same rank as the input tensor and the dims should match except on gatherAxis.");if(s){if(s.dataType!==o.dataType)throw new Error("Zero point must have the same data type as the input tensor.");if(s.dims.length!==i.dims.length||!s.dims.map((l,c)=>l===i.dims[c]).reduce((l,c)=>l&&c,!0))throw new Error("Zero point must have the same rank as the input tensor and the dims should match except on quantizeAxis.")}},TB=(e,t)=>{let n=e[0].dims,r=e[1].dims,o=n.length,i=oe.normalizeAxis(t.gatherAxis,o),s=oe.normalizeAxis(t.quantizeAxis,o),l=n.slice(0);l.splice(i,1,...r);let c=oe.size(l),u=e[2].dataType,d=e[0].dataType===22,p=[{type:12,data:c},{type:12,data:s},{type:12,data:i},{type:12,data:t.blockSize},...Me(...e.map((m,h)=>m.dims),l)],f=m=>{let h=ue("data",e[0].dataType,e[0].dims.length),g=ue("inputIndices",e[1].dataType,e[1].dims.length),_=ue("scales",e[2].dataType,e[2].dims.length),$=e.length>3?ue("zeroPoint",e[3].dataType,e[3].dims.length):void 0,x=De("output",u,l.length),w=[h,g,_];$&&w.push($);let S=[{name:"output_size",type:"u32"},{name:"quantize_axis",type:"u32"},{name:"gather_axis",type:"u32"},{name:"block_size",type:"u32"}];return`
        ${m.registerUniforms(S).declareVariables(...w,x)}
        ${m.mainStart()}
        let output_indices = ${x.offsetToIndices("global_idx")};
        var indices_indices = ${g.type.indices}(0);
        ${r.length>1?`
          for (var i: u32 = 0; i < ${r.length}; i++) {
            let index = ${x.indicesGet("output_indices","uniforms.gather_axis + i")};
            ${g.indicesSet("indices_indices","i","index")};
          }`:`indices_indices = ${x.indicesGet("output_indices","uniforms.gather_axis")};`};
        var data_indices = ${h.type.indices}(0);
        for (var i: u32 = 0; i < uniforms.gather_axis; i++) {
          let index = ${x.indicesGet("output_indices","i")};
          ${h.indicesSet("data_indices","i","index")};
        }
        var index_from_indices = ${g.getByIndices("indices_indices")};
        if (index_from_indices < 0) {
          index_from_indices += ${n[i]};
        }
        ${h.indicesSet("data_indices","uniforms.gather_axis","u32(index_from_indices)")};
        for (var i = uniforms.gather_axis + 1; i < ${l.length}; i++) {
          let index = ${x.indicesGet("output_indices",`i + ${r.length} - 1`)};
          ${h.indicesSet("data_indices","i","index")};
        }
        let data_offset = ${h.indicesToOffset("data_indices")};
        let data_index = data_offset % 8;
        // Convert 4-bit packed data to 8-bit packed data.
        let packed_4bit_quantized_data = ${h.getByOffset("data_offset / 8")};
        let packed_8bit_quantized_data = (packed_4bit_quantized_data >> (4 * (data_index % 2))) & 0x0f0f0f0f;
        let quantized_data_vec = ${d?"unpack4xI8":"unpack4xU8"}(u32(packed_8bit_quantized_data));
        let quantized_data = quantized_data_vec[data_index / 2];
        var scale_indices = data_indices;
        let quantize_axis_index = ${_.indicesGet("data_indices","uniforms.quantize_axis")} / uniforms.block_size;
        ${_.indicesSet("scale_indices","uniforms.quantize_axis","quantize_axis_index")};
        var scale = ${_.getByIndices("scale_indices")};
        ${$?`
              let zero_point_indices = scale_indices;
              let zero_point_offset = ${$.indicesToOffset("zero_point_indices")};
              let zero_point_index = zero_point_offset % 8;
              let packed_4bit_zero_points = ${$.getByOffset("zero_point_offset / 8")};
              let packed_8bit_zero_points = (packed_4bit_zero_points >> (4 * (zero_point_index % 2))) & 0x0f0f0f0f;
              let zero_point_vec = ${d?"unpack4xI8":"unpack4xU8"}(u32(packed_8bit_zero_points));
              let zero_point = zero_point_vec[zero_point_index / 2];`:"var zero_point = 0"};
        let dequantized_data = ${_r(u)}(quantized_data - zero_point) * scale;
        ${x.setByOffset("global_idx","dequantized_data")};
    }`};return{name:"GatherBlockQuantized",shaderCache:{hint:`${t.cacheKey};${e.filter((m,h)=>h!==1).map(m=>m.dims.join("_")).join(";")}`,inputDependencies:Array.from({length:e.length},(m,h)=>"rank")},getRunData:()=>({outputs:[{dims:l,dataType:u}],dispatchGroup:{x:Math.ceil(c/64)},programUniforms:p}),getShaderSource:f}},M4=(e,t)=>{let n=e.inputs;EB(n,t),e.compute(TB(e.inputs,t))},R4=e=>Ht({blockSize:e.blockSize,gatherAxis:e.gatherAxis,quantizeAxis:e.quantizeAxis})}),DB,FB,j4,O4,yue=ye(()=>{"use strict";He(),et(),En(),at(),DB=e=>{if(!e||e.length!==2)throw new Error("GatherElements requires 2 inputs.");if(e[0].dims.length<1)throw new Error("GatherElements requires that the data input be rank >= 1.");if(e[0].dims.length!==e[1].dims.length)throw new Error(`GatherElements requires that the data input and
                     indices input tensors be of same rank.`)},FB=(e,t)=>{let n=e[0].dims,r=e[0].dataType,o=n.length,i=e[1].dims,s=e[1].dataType,l=oe.normalizeAxis(t.axis,o),c=n[l],u=i.slice(0),d=oe.size(u),p=ue("input",r,o),f=ue("indicesInput",s,i.length),m=De("output",r,u.length),h=[{type:12,data:d},{type:6,data:c},{type:12,data:l}];return h.push(...Me(n,i,u)),{name:"GatherElements",shaderCache:{inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:u,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(d/64)},programUniforms:h}),getShaderSource:g=>`
      ${g.registerUniform("outputSize","u32").registerUniform("axisDimLimit","i32").registerUniform("axis","u32").declareVariables(p,f,m)}
      ${g.mainStart()}
      ${g.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}

      let outputIndices = ${m.offsetToIndices("global_idx")};

      var idx = ${f.getByOffset("global_idx")};
      if (idx < 0) {
        idx = idx + uniforms.axisDimLimit;
      }
      var inputIndices = ${p.type.indices}(outputIndices);
      ${p.indicesSet("inputIndices","uniforms.axis","u32(idx)")};
      let value = ${p.getByIndices("inputIndices")};

      ${m.setByOffset("global_idx","value")};
  }`}},j4=e=>Ht({axis:e.axis}),O4=(e,t)=>{let n=e.inputs;DB(n),e.compute(FB(e.inputs,t))}}),kB,AB,N4,P4,_ue=ye(()=>{"use strict";He(),et(),at(),kB=e=>{if(!e)throw new Error("Input is missing");if(e.length<2||e.length>3)throw new Error("Invaid input number.");if(e.length===3&&e[2].dims.length>2)throw new Error("Invalid input shape of C");if(e[0].dataType!==e[1].dataType||e.length===3&&e[0].dataType!==e[2].dataType)throw new Error("Input types are mismatched")},AB=(e,t)=>{let n=e[0].dims.slice(),r=e[1].dims.slice(),[o,i,s]=BL.getShapeOfGemmResult(n,t.transA,r,t.transB,e.length===3?e[2].dims:void 0),l=[o,i];if(!l)throw new Error("Can't use gemm on the given tensors");let c=16,u=Math.ceil(i/c),d=Math.ceil(o/c),p=!0,f=oe.size(l),m=[{type:12,data:p?u:f},{type:12,data:o},{type:12,data:i},{type:12,data:s},{type:1,data:t.alpha},{type:1,data:t.beta}],h=["type","type"];e.length===3&&(m.push(...Me(e[2].dims)),h.push("rank")),m.push(...Me(l));let g=$=>{let x="";t.transA&&t.transB?x="value += a[k * uniforms.M + m] * b[n * uniforms.K + k];":t.transA&&!t.transB?x="value += a[k * uniforms.M + m] * b[k * uniforms.N + n];":!t.transA&&t.transB?x="value += a[m * uniforms.K + k] * b[n * uniforms.K + k];":!t.transA&&!t.transB&&(x="value += a[m * uniforms.K + k] * b[k * uniforms.N + n];");let w=t.alpha===1?"":"value *= uniforms.alpha;",S=ue("a",e[0].dataType,e[0].dims),I=ue("b",e[1].dataType,e[1].dims),F=S.type.value,k=null,M=[S,I];e.length===3&&(k=ue("c",e[2].dataType,e[2].dims.length),M.push(k));let O=De("output",e[0].dataType,l.length);M.push(O);let B=[{name:"output_size",type:"u32"},{name:"M",type:"u32"},{name:"N",type:"u32"},{name:"K",type:"u32"},{name:"alpha",type:"f32"},{name:"beta",type:"f32"}];return`
  ${$.registerUniforms(B).declareVariables(...M)}

  ${$.mainStart()}
    ${$.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}

    let m = global_idx / uniforms.N;
    let n = global_idx % uniforms.N;

    var value = ${F}(0);
    for (var k: u32 = 0u; k < uniforms.K; k++) {
      ${x}
    }

    ${w}
    ${k!=null?`let cOffset = ${k.broadcastedIndicesToOffset("vec2(m, n)",O)}; value += ${F}(uniforms.beta) * ${k.getByOffset("cOffset")};`:""}
    output[global_idx] = value;
  }`},_=$=>{let x=ue("a",e[0].dataType,e[0].dims),w=ue("b",e[1].dataType,e[1].dims),S=null,I=[x,w];e.length===3&&(S=ue("c",e[2].dataType,e[2].dims.length),I.push(S));let F=De("output",e[0].dataType,l.length);I.push(F);let k=[{name:"num_tile_n",type:"u32"},{name:"M",type:"u32"},{name:"N",type:"u32"},{name:"K",type:"u32"},{name:"alpha",type:"f32"},{name:"beta",type:"f32"}],M="",O="";t.transA&&t.transB?(O=`
      var col = tile_row_start + local_id.x;
      var row = k_start + local_id.y;
      if (col < uniforms.M && row < uniforms.K) {
        tile_a[local_id.y][local_id.x] = a[row * uniforms.M + col];
      } else {
        tile_a[local_id.y][local_id.x] = ${x.type.value}(0);
      }

      col = k_start + local_id.x;
      row = tile_col_start + local_id.y;
      if (col < uniforms.K && row < uniforms.N) {
        tile_b[local_id.y][local_id.x] = b[row * uniforms.K + col];
      } else {
        tile_b[local_id.y][local_id.x] = ${w.type.value}(0);
      }
      `,M="value += tile_a[k][local_id.y] * tile_b[local_id.x][k];"):t.transA&&!t.transB?(O=`
      var col = tile_row_start + local_id.x;
      var row = k_start + local_id.y;
      if (col < uniforms.M && row < uniforms.K) {
        tile_a[local_id.y][local_id.x] = a[row * uniforms.M + col];
      } else {
        tile_a[local_id.y][local_id.x] = ${x.type.value}(0);
      }

      col = tile_col_start + local_id.x;
      row = k_start + local_id.y;
      if (col < uniforms.N && row < uniforms.K) {
        tile_b[local_id.y][local_id.x] = b[row * uniforms.N + col];
      } else {
        tile_b[local_id.y][local_id.x] = ${w.type.value}(0);
      }
      `,M="value += tile_a[k][local_id.y] * tile_b[k][local_id.x];"):!t.transA&&t.transB?(O=`
      var col = k_start + local_id.x;
      var row = tile_row_start + local_id.y;
      if (col < uniforms.K && row < uniforms.M) {
        tile_a[local_id.y][local_id.x] = a[row * uniforms.K + col];
      } else {
        tile_a[local_id.y][local_id.x] = ${x.type.value}(0);
      }

      col = k_start + local_id.x;
      row = tile_col_start + local_id.y;
      if (col < uniforms.K && row < uniforms.N) {
        tile_b[local_id.y][local_id.x] = b[row * uniforms.K + col];
      } else {
        tile_b[local_id.y][local_id.x] = ${w.type.value}(0);
      }
      `,M="value += tile_a[local_id.y][k] * tile_b[local_id.x][k];"):!t.transA&&!t.transB&&(O=`
      var col = k_start + local_id.x;
      var row = tile_row_start + local_id.y;
      if (col < uniforms.K && row < uniforms.M) {
        tile_a[local_id.y][local_id.x] = a[row * uniforms.K + col];
      } else {
        tile_a[local_id.y][local_id.x] = ${x.type.value}(0);
      }

      col = tile_col_start + local_id.x;
      row = k_start + local_id.y;
      if (col < uniforms.N && row < uniforms.K) {
        tile_b[local_id.y][local_id.x] = b[row * uniforms.N + col];
      } else {
        tile_b[local_id.y][local_id.x] = ${w.type.value}(0);
      }
      `,M="value += tile_a[local_id.y][k] * tile_b[k][local_id.x];");let B=t.alpha===1?"":"value *= uniforms.alpha;";return`
  ${$.registerUniforms(k).declareVariables(...I)}
  var<workgroup> tile_a: array<array<${x.type.storage}, ${c}>, ${c}>;
  var<workgroup> tile_b: array<array<${w.type.storage}, ${c}>, ${c}>;
  ${$.mainStart([c,c,1])}
    let tile_col_start = (workgroup_index % uniforms.num_tile_n) * ${c};
    let tile_row_start = (workgroup_index / uniforms.num_tile_n) * ${c};
    let num_tiles = (uniforms.K - 1) / ${c} + 1;
    var k_start = 0u;
    var value = ${F.type.value}(0);
    for (var t: u32 = 0u; t < num_tiles; t++) {
      ${O}
      k_start = k_start + ${c};
      workgroupBarrier();

      for (var k: u32 = 0u; k < ${c}; k++) {
        ${M}
      }
      workgroupBarrier();
    }

    ${B}
    let m = tile_row_start + local_id.y;
    let n = tile_col_start + local_id.x;
    ${S!=null?`let cOffset = ${S.broadcastedIndicesToOffset("vec2(m, n)",F)}; value += ${F.type.value}(uniforms.beta) * ${S.getByOffset("cOffset")};`:""}
    if (m < uniforms.M && n < uniforms.N) {
      output[m * uniforms.N + n] = value;
    }
  }`};return p?{name:"GemmShared",shaderCache:{hint:`${t.cacheKey}`,inputDependencies:h},getRunData:()=>({outputs:[{dims:l,dataType:e[0].dataType}],dispatchGroup:{x:u*d},programUniforms:m}),getShaderSource:_}:{name:"Gemm",shaderCache:{hint:`${t.cacheKey}`,inputDependencies:h},getRunData:()=>({outputs:[{dims:l,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(f/64)},programUniforms:m}),getShaderSource:g}},N4=e=>{let t=e.transA,n=e.transB,r=e.alpha,o=e.beta;return{transA:t,transB:n,alpha:r,beta:o,cacheKey:`${e.transA};${e.transB};${e.alpha===1}`}},P4=(e,t)=>{kB(e.inputs),e.compute(AB(e.inputs,t))}}),wi,Qi,La,Ua,MB,RB,jB,OB,NB,PB,BB,LB,B4,L4,$ue=ye(()=>{"use strict";He(),et(),En(),at(),[wi,Qi,La,Ua]=[0,1,2,3],MB=e=>{if(e[0].dims.length!==4)throw new Error("only 4-D tensor is supported.");if(e[0].dims.length!==e[1].dims.length)throw new Error("input dimensions must be equal to grid dimensions");if(e[0].dims.length-2!==e[1].dims[e[1].dims.length-1])throw new Error(`last dimension of grid must be equal to ${e[0].dims.length-2}`);if(e[0].dims[0]!==e[1].dims[0])throw new Error("grid batch size must match input batch size")},RB=`
  fn gs_get_cubic_coeffs(x: f32) -> vec4<f32> {
    let cubic_alpha = -0.75f;
    let x_abs = abs(x);
    var coeffs: vec4<f32>;
    coeffs[0] = (((cubic_alpha * (x_abs + 1) - 5 * cubic_alpha) * (x_abs + 1) + 8 * cubic_alpha) * (x_abs + 1) - 4 * cubic_alpha);
    coeffs[1] = (((cubic_alpha + 2) * x_abs - (cubic_alpha + 3)) * x_abs * x_abs + 1);
    coeffs[2] = (((cubic_alpha + 2) * (1 - x_abs) - (cubic_alpha + 3)) * (1 - x_abs) * (1 - x_abs) + 1);
    coeffs[3] = (((cubic_alpha * (2 - x_abs) - 5 * cubic_alpha) * (2 - x_abs) + 8 * cubic_alpha) * (2 - x_abs) - 4 * cubic_alpha);
    return coeffs;
  }
`,jB=e=>`
  fn gs_bicubic_interpolate(p: mat4x4<${e}>, x: f32, y: f32) -> ${e} {
    var v: vec4<f32>;
    var coeffs = gs_get_cubic_coeffs(x);
    for (var i = 0; i < 4; i++) {
      v[i] = coeffs[0] * p[i][0] + coeffs[1] * p[i][1] + coeffs[2] * p[i][2] + coeffs[3] * p[i][3];
    }
    coeffs = gs_get_cubic_coeffs(y);
    let pixel = ${e}(coeffs[0] * v[0] + coeffs[1] * v[1] + coeffs[2] * v[2] + coeffs[3] * v[3]);
    return pixel;
  }
`,OB=e=>`
  fn gs_denormalize(n: f32, length: i32) -> f32 {
    ${e.alignCorners===0?`
    // alignCorners: false => [-1, 1] to [-0.5, length - 0.5]
    return ((n + 1.0) * f32(length) - 1.0) / 2.0;
    `:`
    // alignCorners: true => [-1, 1] to [0, length - 1]
    return (n + 1.0) / 2.0 * (f32(length - 1));
    `}
  }
`,NB=e=>`
  ${e.paddingMode==="reflection"?`
      fn gs_reflect(x: i32, x_min: f32, x_max: f32) -> u32 {
        var dx = 0.0;
        var fx = f32(x);
        let range = x_max - x_min;
        if (fx < x_min) {
          dx = x_min - fx;
          let n = u32(dx / range);
          let r = dx - f32(n) * range;
          if (n % 2 == 0) {
            fx = x_min + r;
          } else {
            fx = x_max - r;
          }
        } else if (fx > x_max) {
          dx = fx - x_max;
          let n = u32(dx / range);
          let r = dx - f32(n) * range;
          if (n % 2 == 0) {
            fx = x_max - r;
          } else {
            fx = x_min + r;
          }
        }
        return u32(fx);
      }`:""}
`,PB=(e,t,n)=>`
  fn pixel_at_grid(r: i32, c: i32, H: i32, W: i32, batch: u32, channel: u32, border: vec4<f32>) -> ${t} {
     var pixel = ${t}(0);
     var indices = vec4<u32>(0);
     indices[${wi}] = batch;
     indices[${Qi}] = channel;`+(()=>{switch(n.paddingMode){case"zeros":return`
          if (r >= 0 && r < H && c >=0 && c < W) {
            indices[${La}] = u32(r);
            indices[${Ua}] = u32(c);
          }
        `;case"border":return`
          indices[${La}] = u32(clamp(r, 0, H - 1));
          indices[${Ua}] = u32(clamp(c, 0, W - 1));
        `;case"reflection":return`
          indices[${La}] = gs_reflect(r, border[1], border[3]);
          indices[${Ua}] = gs_reflect(c, border[0], border[2]);
        `;default:throw new Error(`padding mode ${n.paddingMode} is not supported`)}})()+`
    return ${e.getByIndices("indices")};
  }
`,BB=(e,t,n)=>(()=>{switch(n.mode){case"nearest":return`
          let result = pixel_at_grid(i32(round(y)), i32(round(x)), H_in, W_in, indices[${wi}], indices[${Qi}], border);
        `;case"bilinear":return`
          let x1 = i32(floor(x));
          let y1 = i32(floor(y));
          let x2 = x1 + 1;
          let y2 = y1 + 1;

          let p11 = pixel_at_grid(y1, x1, H_in, W_in, indices[${wi}], indices[${Qi}], border);
          let p12 = pixel_at_grid(y1, x2, H_in, W_in, indices[${wi}], indices[${Qi}], border);
          let p21 = pixel_at_grid(y2, x1, H_in, W_in, indices[${wi}], indices[${Qi}], border);
          let p22 = pixel_at_grid(y2, x2, H_in, W_in, indices[${wi}], indices[${Qi}], border);

          let dx2 = ${t}(f32(x2) - x);
          let dx1 = ${t}(x - f32(x1));
          let dy2 = ${t}(f32(y2) - y);
          let dy1 = ${t}(y - f32(y1));
          let result = dy2 * (dx2 * p11 + dx1 * p12) + dy1 * (dx2 * p21 + dx1 * p22);
        `;case"bicubic":return`
          let x0 = i32(floor(x)) - 1;
          let y0 = i32(floor(y)) - 1;
          var p: mat4x4<${t}>;
          for (var h = 0; h < 4; h++) {
            for (var w = 0; w < 4; w++) {
              p[h][w] = pixel_at_grid(h + y0, w + x0, H_in, W_in, indices[${wi}], indices[${Qi}], border);
            }
          }

          let dx = x - f32(x0 + 1);
          let dy = y - f32(y0 + 1);
          let result = gs_bicubic_interpolate(p, dx, dy);
        `;default:throw new Error(`mode ${n.mode} is not supported`)}})()+`${e.setByOffset("global_idx","result")}`,LB=(e,t)=>{let n=ue("x",e[0].dataType,e[0].dims.length),r=[e[1].dims[0],e[1].dims[1],e[1].dims[2]],o=ue("grid",e[1].dataType,r.length,2),i=[e[0].dims[0],e[0].dims[1],e[1].dims[1],e[1].dims[2]];t.format==="NHWC"&&(i=[e[0].dims[0],e[1].dims[1],e[1].dims[2],e[0].dims[3]],[wi,Qi,La,Ua]=[0,3,1,2]);let s=De("output",e[0].dataType,i.length),l=n.type.value,c=oe.size(i),u=[{type:12,data:c},...Me(e[0].dims,r,i)],d=p=>`
  ${p.registerUniform("output_size","u32").declareVariables(n,o,s)}
  ${RB}
  ${jB(l)}
  ${OB(t)}
  ${NB(t)}
  ${PB(n,l,t)}

  ${p.mainStart()}
    ${p.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
      let H_in = i32(uniforms.x_shape[${La}]);
      let W_in = i32(uniforms.x_shape[${Ua}]);

      ${t.alignCorners===0?`
      let x_min = -0.5;
      let x_max = f32(W_in) - 0.5;
      let y_min = -0.5;
      let y_max = f32(H_in) - 0.5;
      `:`
      let x_min = 0.0;
      let x_max = f32(W_in) - 1.0;
      let y_min = 0.0;
      let y_max = f32(H_in) - 1.0;
      `};
      let border = vec4<f32>(x_min, y_min, x_max, y_max);

      let indices = ${s.offsetToIndices("global_idx")};
      var grid_indices = vec3<u32>(indices[${wi}], indices[${La}], indices[${Ua}]);
      let nxy = ${o.getByIndices("grid_indices")};
      var x = gs_denormalize(f32(nxy[0]), W_in);
      var y = gs_denormalize(f32(nxy[1]), H_in);

      ${BB(s,l,t)}
  }`;return{name:"GridSample",shaderCache:{hint:`${t.cacheKey}`,inputDependencies:["type","type"]},getRunData:p=>{let f=oe.size(i);return{outputs:[{dims:i,dataType:p[0].dataType}],dispatchGroup:{x:Math.ceil(f/64)},programUniforms:u}},getShaderSource:d}},B4=(e,t)=>{MB(e.inputs),e.compute(LB(e.inputs,t))},L4=e=>Ht({alignCorners:e.align_corners,mode:e.mode,paddingMode:e.padding_mode,format:e.format})}),Mr,UB,U4,yI,WB,dp,W4,z4=ye(()=>{"use strict";He(),et(),En(),pE(),hE(),at(),qs(),Mr=(e,t)=>e.length>t&&e[t].dims.length>0?e[t]:void 0,UB=(e,t)=>{let n=e[0],r=Mr(e,1),o=Mr(e,2),i=Mr(e,3),s=Mr(e,4),l=Mr(e,5),c=Mr(e,6),u=Mr(e,7);if(n.dims.length!==3&&n.dims.length!==5)throw new Error("Input query is expected to have 3 or 5 dimensions");let d=n.dims[0],p=n.dims[1],f=n.dims.length===3?n.dims[2]:t.numHeads*n.dims[4],m=p,h=0,g=0,_=Math.floor(f/t.numHeads);if(c&&u&&oe.size(c.dims)&&oe.size(u.dims)){if(c.dims.length!==4)throw new Error('Input "past_key" is expected to have 4 dimensions');if(c.dims[0]!==d||c.dims[1]!==t.numHeads||c.dims[3]!==_)throw new Error('Input "past_key" shape (batch_size, num_heads, past_sequence_length, head_size)');if(u.dims[0]!==d||u.dims[1]!==t.numHeads||u.dims[3]!==_)throw new Error('Input "past_value" shape (batch_size, num_heads, past_sequence_length, head_size)');if(c.dims[2]!==u.dims[2])throw new Error('Input "past_key" and "past_value" shall have same dim 2 (past_sequence_length)');if(u.dims.length!==4)throw new Error('Input "past_value" is expected to have 4 dimensions');h=c.dims[2],g=c.dims[2]}else if(c&&oe.size(c.dims)||u&&oe.size(u.dims))throw new Error('Input "past_key" and "past_value" shall be both present or both absent');let $;if(r&&oe.size(r.dims)>0){if(n.dims.length!==3)throw new Error('Input "query" is expected to have 3 dimensions when key is given');if(r.dims.length<3||r.dims.length>5)throw new Error('Input "key" is expected to have 3, 4, or 5 dimensions');if(n.dims[0]!==r.dims[0])throw new Error('Input "query" and "key" shall have same dim 0 (batch size)');if(r.dims.length===3){if(r.dims[2]!==n.dims[2])throw new Error('Input "query" and "key" shall have same dim 2 (hidden_size)');$=2,m=r.dims[1]}else if(r.dims.length===5){if(r.dims[2]!==t.numHeads||r.dims[3]!==2||r.dims[4]!==_)throw new Error('Expect "key" shape (batch_size, kv_sequence_length, num_heads, 2, head_size) for packed kv');if(o)throw new Error('Expect "value" be none when "key" has packed kv format.');$=5,m=r.dims[1]}else{if(r.dims[1]!==t.numHeads||r.dims[3]!==_)throw new Error('Expect "key" shape (batch_size, num_heads, kv_sequence_length, head_size) for past_key');$=0,m=r.dims[2]}}else{if(n.dims.length!==5)throw new Error('Input "query" is expected to have 5 dimensions when key is empty');if(n.dims[2]!==t.numHeads||n.dims[3]!==3)throw new Error('Expect "query" shape (batch_size, kv_sequence_length, num_heads, 3, head_size) for packed kv');$=3}if(i&&oe.size(i.dims)>0){if(i.dims.length!==1)throw new Error('Input "bias" is expected to have 1 dimension');if(r&&r.dims.length===5&&r.dims[3]===2)throw new Error("bias is not allowed for packed kv.")}let x=h+m,w=0;if(s&&oe.size(s.dims)>0){w=8;let k=s.dims;throw k.length===1?k[0]===d?w=1:k[0]===3*d+2&&(w=3):k.length===2&&k[0]===d&&k[1]===x&&(w=5),w===8?new Error('Input "key_padding_mask" shape shall be (batch_size) or (batch_size, total_sequence_length)'):new Error("Mask not supported")}let S=!1,I=f;if(o&&oe.size(o.dims)>0){if(o.dims.length!==3&&o.dims.length!==4)throw new Error('Input "value" is expected to have 3 or 4 dimensions');if(n.dims[0]!==o.dims[0])throw new Error('Input "query" and "value" shall have same dim 0 (batch_size)');if(o.dims.length===3){if(m!==o.dims[1])throw new Error('Input "key" and "value" shall have the same dim 1 (kv_sequence_length)');I=o.dims[2]}else{if(m!==o.dims[2])throw new Error('Input "key" and "value" shall have the same dim 2 (kv_sequence_length)');I=o.dims[1]*o.dims[3],S=!0}}let F=!1;if(s&&oe.size(s.dims)>0)throw new Error("Key padding mask is not supported");if(l&&oe.size(l.dims)>0){if(l.dims.length!==4)throw new Error('Input "attention_bias" is expected to have 4 dimensions');if(l.dims[0]!==d||l.dims[1]!==t.numHeads||l.dims[2]!==p||l.dims[3]!==x)throw new Error('Expect "attention_bias" shape (batch_size, num_heads, sequence_length, total_sequence_length)')}return{batchSize:d,sequenceLength:p,pastSequenceLength:h,kvSequenceLength:m,totalSequenceLength:x,maxSequenceLength:g,inputHiddenSize:0,hiddenSize:f,vHiddenSize:I,headSize:_,vHeadSize:Math.floor(I/t.numHeads),numHeads:t.numHeads,isUnidirectional:!1,pastPresentShareBuffer:!1,maskFilterValue:t.maskFilterValue,maskType:w,scale:t.scale,broadcastResPosBias:F,passPastInKv:S,qkvFormat:$}},U4=e=>Ht(fe({},e)),yI=Ht({perm:[0,2,1,3]}),WB=(e,t,n,r,o,i,s)=>{let l=[r,o,i],c=oe.size(l),u=[{type:12,data:c},{type:12,data:s},{type:12,data:i}],d=p=>{let f=De("qkv_with_bias",t.dataType,l),m=ue("qkv",t.dataType,l),h=ue("bias",n.dataType,l),g=[{name:"output_size",type:"u32"},{name:"bias_offset",type:"u32"},{name:"hidden_size",type:"u32"}];return`
  ${p.registerUniforms(g).declareVariables(m,h,f)}
  ${p.mainStart()}
    ${p.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
    let bias_offset_idx = (global_idx % uniforms.hidden_size) + uniforms.bias_offset;

    qkv_with_bias[global_idx] = qkv[global_idx] + bias[bias_offset_idx];
  }`};return e.compute({name:"MultiHeadAttentionAddBias",shaderCache:{inputDependencies:["type","type"]},getRunData:()=>({outputs:[{dims:l,dataType:t.dataType,gpuDataType:0}],dispatchGroup:{x:Math.ceil(c/64)},programUniforms:u}),getShaderSource:d},{inputs:[t,n],outputs:[-1]})[0]},dp=(e,t,n,r,o,i,s,l)=>{let c=i;if(s&&oe.size(s.dims)>0){if(r===1)throw new Error("AddBiasReshape is not implemented. Please export your model with packed QKV or KV");return c=WB(e,i,s,t,r,n*o,l),c=c.reshape([t,r,n,o]),n===1||r===1?c:e.compute(to(c,yI.perm),{inputs:[c],outputs:[-1]})[0]}else return i.dims.length===3&&(c=i.reshape([t,r,n,o])),n===1||r===1?c:e.compute(to(c,yI.perm),{inputs:[c],outputs:[-1]})[0]},W4=(e,t)=>{let n=UB(e.inputs,t),r=e.inputs[0],o=Mr(e.inputs,1),i=Mr(e.inputs,2),s=Mr(e.inputs,3),l=Mr(e.inputs,4),c=Mr(e.inputs,5),u=Mr(e.inputs,6),d=Mr(e.inputs,7);if(r.dims.length===5)throw new Error("Packed QKV is not implemented");if(o?.dims.length===5)throw new Error("Packed KV is not implemented");let p=o&&i&&o.dims.length===4&&i.dims.length===4,f=dp(e,n.batchSize,n.numHeads,n.sequenceLength,n.headSize,r,s,0);if(p)return fp(e,f,o,i,l,void 0,u,d,c,n);if(!o||!i)throw new Error("key and value must be provided");let m=dp(e,n.batchSize,n.numHeads,n.kvSequenceLength,n.headSize,o,s,n.hiddenSize),h=dp(e,n.batchSize,n.numHeads,n.kvSequenceLength,n.vHeadSize,i,s,2*n.hiddenSize);fp(e,f,m,h,l,void 0,u,d,c,n)}}),zB,VB,HB,GB,ZI,V4,H4,G4=ye(()=>{"use strict";He(),et(),En(),at(),zB=e=>{if(!e||e.length<1)throw new Error("too few inputs")},VB=(e,t)=>{let n=[],r=t.numOutputs;return e[1].dims[0]>0&&(e[1].getBigInt64Array().forEach(o=>n.push(Number(o))),r=n.length),Ht({numOutputs:r,axis:t.axis,splitSizes:n})},HB=e=>`
fn calculateOutputIndex(index: u32) -> u32 {
    for (var i: u32 = 0u; i < ${e}u; i += 1u ) {
    if (index < ${Fe("uniforms.size_in_split_axis","i",e)}) {
        return i;
    }
    }
    return ${e}u;
}`,GB=e=>{let t=e.length,n=[];for(let r=0;r<t;++r){let o=e[r].setByIndices("indices","input[global_idx]");t===1?n.push(o):r===0?n.push(`if (output_number == ${r}u) { ${o} }`):r===t-1?n.push(`else { ${o} }`):n.push(`else if (output_number == ${r}) { ${o} }`)}return`
      fn writeBufferData(output_number: u32, indices: ${e[0].type.indices}, global_idx: u32) {
        ${n.join(`
`)}
      }`},ZI=(e,t)=>{let n=e[0].dims,r=oe.size(n),o=e[0].dataType,i=oe.normalizeAxis(t.axis,n.length),s=new Array(t.numOutputs),l=ue("input",o,n.length),c=new Array(t.numOutputs),u=[],d=[],p=0,f=[{type:12,data:r}];for(let h=0;h<t.numOutputs;h++){p+=t.splitSizes[h],c[h]=p;let g=n.slice();g[i]=t.splitSizes[h],d.push(g),s[h]=De(`output${h}`,o,g.length),u.push({dims:d[h],dataType:e[0].dataType})}f.push({type:12,data:c},...Me(n,...d));let m=h=>`
  ${h.registerUniform("input_size","u32").registerUniform("size_in_split_axis","u32",c.length).declareVariables(l,...s)}
  ${HB(c.length)}
  ${GB(s)}

  ${h.mainStart()}
    ${h.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.input_size")}

    var indices = ${l.offsetToIndices("global_idx")};
    var index = ${l.indicesGet("indices",i)};
    let output_number = calculateOutputIndex(index);
    if (output_number != 0) {
      index -= ${Fe("uniforms.size_in_split_axis","output_number - 1u",c.length)};
      ${l.indicesSet("indices",i,"index")};
    }
    writeBufferData(output_number, indices, global_idx);
  }`;return{name:"Split",shaderCache:{hint:t.cacheKey,inputDependencies:["rank"]},getShaderSource:m,getRunData:()=>({outputs:u,dispatchGroup:{x:Math.ceil(r/64)},programUniforms:f})}},V4=(e,t)=>{zB(e.inputs);let n=e.inputs.length===1?t:VB(e.inputs,t);e.compute(ZI(e.inputs,n),{inputs:[0]})},H4=e=>{let t=e.axis,n=e.splitSizes,r=e.numOutputs<0?n.length:e.numOutputs;if(r!==n.length)throw new Error("numOutputs and splitSizes lengh must be equal");return Ht({axis:t,numOutputs:r,splitSizes:n})}}),qB,KB,_I,q4,xue=ye(()=>{"use strict";En(),hE(),z4(),G4(),qs(),qB=(e,t)=>{if(t.doRotary)throw new Error("GroupQuerryAttention do_rotary attribute is not supported");if(t.doRotary&&e.length<=7)throw new Error("cos_cache and sin_cache inputs are required if do_rotary is specified");let n=e[0],r=e[1],o=e[2],i=e[3],s=e[4];if(t.localWindowSize!==-1)throw new Error("Local attention is not supported");if(t.softcap!==0)throw new Error("Softcap is not supported");if(t.rotaryInterleaved!==0)throw new Error("Rotary interleaved is not supported");if(t.smoothSoftmax)throw new Error("Smooth softmax is not supported");if(n.dims.length!==3&&n.dims.length!==5)throw new Error("Input query is expected to have 3 or 5 dimensions");let l=!1,c=n.dims[0],u=n.dims[1],d=n.dims.length===3?l?n.dims[2]/3:n.dims[2]:t.numHeads*n.dims[4],p=u,f=0,m=!r||r.dims.length===0,h=Math.floor(m?d/(t.numHeads+2*t.kvNumHeads):d/t.numHeads);m&&(d=h*t.numHeads);let g=i&&i.dims.length!==0,_=s&&s.dims.length!==0;if(g&&i.dims.length===4&&i.dims[0]===c&&i.dims[1]!==t.kvNumHeads&&i.dims[2]===t.kvNumHeads&&i.dims[3]===h)throw new Error("BSNH pastKey/pastValue is not supported");if(g&&_){if(i.dims.length!==4)throw new Error('Input "past_key" is expected to have 4 dimensions');if(s.dims.length!==4)throw new Error('Input "past_value" is expected to have 4 dimensions');f=i.dims[2]}else if(g||_)throw new Error('Input "past_key" and "past_value" shall be both present or both absent');let $=1;if(r&&r.dims.length>0){if(n.dims.length!==3)throw new Error('Input "query" is expected to have 3 dimensions when key is given');if(r.dims.length<3||r.dims.length>5)throw new Error('Input "key" is expected to have 3, 4, or 5 dimensions');if(n.dims[0]!==r.dims[0])throw new Error('Input "query" and "key" shall have same dim 0 (batch size)');if(r.dims.length===3){if(n.dims[2]%r.dims[2]!==0)throw new Error('Dimension 2 of "query" should be a multiple of "key"');p=r.dims[1]}else if(r.dims.length===5){if(r.dims[2]!==t.numHeads||r.dims[3]!==2||r.dims[4]!==h)throw new Error('Expect "key" shape (batch_size, kv_sequence_length, num_heads, 2, head_size) for packed kv');if(o)throw new Error('Expect "value" be none when "key" has packed kv format.');p=r.dims[1]}else{if(r.dims[1]!==t.numHeads||r.dims[3]!==h)throw new Error('Expect "key" shape (batch_size, num_heads, kv_sequence_length, head_size) for past_key');p=r.dims[2]}}else{if(n.dims.length!==3&&n.dims.length!==5)throw new Error('Input "query" is expected to have 3 or 5 dimensions when key is empty');if(n.dims.length===5&&(n.dims[2]!==t.numHeads||n.dims[3]!==3))throw new Error('Expect "query" shape (batch_size, kv_sequence_length, num_heads, 3, head_size) for packed kv');$=3}let x=0,w=!1,S=t.kvNumHeads?h*t.kvNumHeads:d;if(o&&o.dims.length>0){if(o.dims.length!==3&&o.dims.length!==4)throw new Error('Input "value" is expected to have 3 or 4 dimensions');if(n.dims[0]!==o.dims[0])throw new Error('Input "query" and "value" shall have same dim 0 (batch_size)');if(o.dims.length===3){if(p!==o.dims[1])throw new Error('Input "key" and "value" shall have the same dim 1 (kv_sequence_length)');S=o.dims[2]}else{if(p!==o.dims[2])throw new Error('Input "past_key" and "past_value" shall have the same dim 2 (kv_sequence_length)');S=o.dims[1]*o.dims[3],w=!0}}let I=e.length>4?e[5]:void 0;if(I&&I.dims.length!==1&&I.dims[0]!==c)throw new Error('Input "seqlens" is expected to have 1 dimension and the same dim 0 as batch_size');return{batchSize:c,sequenceLength:u,pastSequenceLength:f,kvSequenceLength:p,totalSequenceLength:-1,maxSequenceLength:-1,inputHiddenSize:0,hiddenSize:d,vHiddenSize:S,headSize:h,vHeadSize:Math.floor(S/t.kvNumHeads),numHeads:t.numHeads,kvNumHeads:t.kvNumHeads,nReps:t.numHeads/t.kvNumHeads,pastPresentShareBuffer:!1,maskType:x,scale:t.scale,broadcastResPosBias:!1,passPastInKv:w,qkvFormat:$}},KB=Ht({perm:[0,2,1,3]}),_I=(e,t,n)=>{let r=t,o=n.kvNumHeads;return t.dims.length===3&&n.kvSequenceLength!==0&&(r=t.reshape([n.batchSize,n.kvSequenceLength,o,n.headSize]),r=e.compute(to(r,KB.perm),{inputs:[r],outputs:[-1]})[0]),r},q4=(e,t)=>{let n=qB(e.inputs,t);if(e.inputs[0].dims.length===5)throw new Error("Packed QKV is not implemented");if(e.inputs[1]?.dims.length===5)throw new Error("Packed KV is not implemented");let r=e.inputs[0],o=e.inputs[1]&&e.inputs[1].dims.length>0?e.inputs[1]:void 0,i=e.inputs[2]&&e.inputs[2].dims.length>0?e.inputs[2]:void 0,s=e.inputs[3]&&e.inputs[3].dims.length!==0?e.inputs[3]:void 0,l=e.inputs[4]&&e.inputs[4].dims.length!==0?e.inputs[4]:void 0,c=e.inputs.length>4?e.inputs[5]:void 0,u=e.inputs.length>5?e.inputs[6]:void 0,d=n.kvNumHeads?n.kvNumHeads:n.numHeads,p=Ht({axis:2,numOutputs:3,splitSizes:[n.numHeads*n.headSize,d*n.headSize,d*n.headSize]}),[f,m,h]=!o&&!i?e.compute(ZI([r],p),{inputs:[r],outputs:[-1,-1,-1]}):[r,o,i],g=dp(e,n.batchSize,n.numHeads,n.sequenceLength,n.headSize,f,void 0,0);fp(e,g,_I(e,m,n),_I(e,h,n),void 0,void 0,s,l,void 0,n,c,u)}}),$I,XB,YB,K4,vue=ye(()=>{"use strict";He(),et(),qs(),at(),$I=(e,t,n,r,o,i,s,l)=>{let c=wn(i),u=c===1?"f32":`vec${c}f`,d=c===1?"vec2f":`mat2x${c}f`,p=o*s,f=64;p===1&&(f=256);let m=[o,s,i/c],h=[o,s,2],g=["rank","type","type"],_=[];_.push(...Me(m,h));let $=x=>{let w=ue("x",t.dataType,3,c),S=ue("scale",n.dataType,n.dims),I=ue("bias",r.dataType,r.dims),F=De("output",1,3,2),k=[w,S,I,F];return`
  var<workgroup> workgroup_shared : array<${d}, ${f}>;
  const workgroup_size = ${f}u;
  ${x.declareVariables(...k)}
  ${x.mainStart(f)}
    let batch = workgroup_index / uniforms.x_shape[1];
    let channel = workgroup_index % uniforms.x_shape[1];
    let hight = uniforms.x_shape[2];
    // initialize workgroup memory
    var sum = ${u}(0);
    var squared_sum = ${u}(0);
    for (var h = local_idx; h < hight; h += workgroup_size) {
      let value = ${u}(${w.get("batch","channel","h")});
      sum += value;
      squared_sum += value * value;
    }
    workgroup_shared[local_idx] = ${d}(sum, squared_sum);
    workgroupBarrier();

    for (var currSize = workgroup_size >> 1;  currSize > 0; currSize = currSize >> 1) {
      if (local_idx < currSize) {
        workgroup_shared[local_idx] = workgroup_shared[local_idx] + workgroup_shared[local_idx + currSize];
      }
      workgroupBarrier();
    }
    if (local_idx == 0) {
      let sum_final = ${Gs("workgroup_shared[0][0]",c)} / f32(hight * ${c});
      let squared_sum_final = ${Gs("workgroup_shared[0][1]",c)} / f32(hight * ${c});

      let inv_std_dev = inverseSqrt(squared_sum_final - sum_final * sum_final + f32(${l}));
      let channel_scale = inv_std_dev * f32(scale[channel]);
      let channel_shift = f32(bias[channel]) - sum_final * channel_scale;
      output[workgroup_index] = vec2f(channel_scale, channel_shift);
    }
  }`};return e.compute({name:"InstanceNormComputeChannelScaleShift",shaderCache:{hint:`${c};${l};${f}`,inputDependencies:g},getRunData:()=>({outputs:[{dims:h,dataType:1}],dispatchGroup:{x:p},programUniforms:_}),getShaderSource:$},{inputs:[t,n,r],outputs:[-1]})[0]},XB=(e,t,n)=>{let r=t[0].dims,o=r,i=2,s=r[0],l=r[1],c=oe.sizeFromDimension(r,i),u=wn(c),d=oe.size(o)/u,p=$I(e,t[0],t[1],t[2],s,c,l,n.epsilon),f=[s,l,c/u],m=[s,l],h=["type","none"],g=_=>{let $=ue("x",t[0].dataType,f.length,u),x=ue("scale_shift",1,m.length,2),w=De("output",t[0].dataType,f.length,u),S=[$,x,w];return`
  ${_.registerUniform("output_size","u32").declareVariables(...S)}
  ${_.mainStart()}
  ${_.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
      let outputIndices = ${w.offsetToIndices("global_idx")};
      let batch = outputIndices[0];
      let channel = outputIndices[1];
      let scale_shift = ${x.getByIndices("vec2<u32>(batch, channel)")};
      let value = ${$.getByOffset("global_idx")} * ${w.type.value}(scale_shift.x) + ${w.type.value}(scale_shift.y);
      ${w.setByOffset("global_idx","value")};
  }`};e.compute({name:"InstanceNormalization",shaderCache:{hint:`${u}`,inputDependencies:h},getRunData:()=>({outputs:[{dims:o,dataType:t[0].dataType}],dispatchGroup:{x:Math.ceil(d/64)},programUniforms:[{type:12,data:d},...Me(f,m,f)]}),getShaderSource:g},{inputs:[t[0],p]})},YB=(e,t,n)=>{let r=t[0].dims,o=r,i=r[0],s=r[r.length-1],l=oe.sizeFromDimension(r,1)/s,c=wn(s),u=oe.size(o)/c,d=[{type:12,data:l},{type:12,data:Math.floor(s/c)}],p=["type","type"],f=!1,m=[0,r.length-1];for(let $=0;$<r.length-2;$++)f=f||r[$+1]!==1,m.push($+1);f=f&&r[r.length-1]!==1;let h=f?e.compute(to(e.inputs[0],m),{inputs:[e.inputs[0]],outputs:[-1]})[0]:e.inputs[0].reshape(Array.from({length:r.length},($,x)=>r[m[x]])),g=$I(e,h,t[1],t[2],i,l,s,n.epsilon),_=$=>{let x=Gn(t[0].dataType),w=c===1?"vec2f":`mat${c}x2f`,S=k=>{let M=k===0?"x":"y",O=c===1?"f32":`vec${c}f`;switch(c){case 1:return`${x}(${O}(scale.${M}))`;case 2:return`vec2<${x}>(${O}(scale[0].${M}, scale[1].${M}))`;case 4:return`vec4<${x}>(${O}(scale[0].${M}, scale[1].${M}, scale[2].${M}, scale[3].${M}))`;default:throw new Error(`Not supported compoents ${c}`)}},I=ue("input",t[0].dataType,t[0].dims,c),F=De("output",t[0].dataType,o,c);return`
  @group(0) @binding(0) var<storage, read> input : array<${I.type.storage}>;
  @group(0) @binding(1) var<storage, read> scale_input : array<${w}>;
  @group(0) @binding(2) var<storage, read_write> output : array<${F.type.storage}>;
  struct Uniforms {H: u32, C : u32};
  @group(0) @binding(3) var<uniform> uniforms: Uniforms;

  ${$.mainStart()}
    let current_image_number = global_idx / (uniforms.C * uniforms.H);
    let current_channel_number = global_idx % uniforms.C;

    let scale_offset = current_image_number * uniforms.C + current_channel_number;
    let scale = scale_input[scale_offset];
    output[global_idx] = fma(input[global_idx], ${S(0)}, ${S(1)});
  }`};e.compute({name:"InstanceNormalizationNHWC",shaderCache:{hint:`${c}`,inputDependencies:p},getRunData:()=>({outputs:[{dims:o,dataType:t[0].dataType}],dispatchGroup:{x:Math.ceil(u/64)},programUniforms:d}),getShaderSource:_},{inputs:[t[0],g]})},K4=(e,t)=>{t.format==="NHWC"?YB(e,e.inputs,t):XB(e,e.inputs,t)}}),ZB,QB,X4,wue=ye(()=>{"use strict";He(),et(),at(),ZB=e=>{if(!e||e.length<2)throw new Error("layerNorm requires at least 2 inputs.")},QB=(e,t,n)=>{let r=t.simplified,o=e[0].dims,i=e[1],s=!r&&e[2],l=o,c=oe.normalizeAxis(t.axis,o.length),u=oe.sizeToDimension(o,c),d=oe.sizeFromDimension(o,c),p=oe.size(i.dims),f=s?oe.size(s.dims):0;if(p!==d||s&&f!==d)throw new Error(`Size of X.shape()[axis:] == ${d}.
       Size of scale and bias (if provided) must match this.
       Got scale size of ${p} and bias size of ${f}`);let m=[];for(let I=0;I<o.length;++I)I<c?m.push(o[I]):m.push(1);let h=wn(d),g=["type","type"],_=[{type:12,data:u},{type:1,data:d},{type:12,data:Math.floor(d/h)},{type:1,data:t.epsilon}];s&&g.push("type");let $=n>1,x=n>2,w=I=>{let F=Gn(e[0].dataType),k=[ue("x",e[0].dataType,e[0].dims,h),ue("scale",i.dataType,i.dims,h)];s&&k.push(ue("bias",s.dataType,s.dims,h)),k.push(De("output",e[0].dataType,l,h)),$&&k.push(De("mean_data_output",1,m)),x&&k.push(De("inv_std_output",1,m));let M=[{name:"norm_count",type:"u32"},{name:"norm_size",type:"f32"},{name:"norm_size_vectorized",type:"u32"},{name:"epsilon",type:"f32"}];return`
  ${I.registerUniforms(M).declareVariables(...k)}
  ${I.mainStart()}
    ${I.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.norm_count")}
    let offset = global_idx * uniforms.norm_size_vectorized;
    var mean_vector = ${WI("f32",h)};
    var mean_square_vector = ${WI("f32",h)};

    for (var h: u32 = 0u; h < uniforms.norm_size_vectorized; h++) {
      let value = ${Hc(F,h,"x[h + offset]")};
      mean_vector += value;
      mean_square_vector += value * value;
    }
    let mean = ${Gs("mean_vector",h)} / uniforms.norm_size;
    let inv_std_dev = inverseSqrt(${Gs("mean_square_vector",h)} / uniforms.norm_size ${r?"":"- mean * mean"} + uniforms.epsilon);

    for (var j: u32 = 0; j < uniforms.norm_size_vectorized; j++) {
      let f32input = ${Hc(F,h,"x[j + offset]")};
      let f32scale = ${Hc(F,h,"scale[j]")};
      output[j + offset] = ${k[0].type.value}((f32input ${r?"":"- mean"}) * inv_std_dev * f32scale
        ${s?`+ ${Hc(F,h,"bias[j]")}`:""}
      );
    }

    ${$?"mean_data_output[global_idx] = mean":""};
    ${x?"inv_std_output[global_idx] = inv_std_dev":""};
  }`},S=[{dims:l,dataType:e[0].dataType}];return $&&S.push({dims:m,dataType:1}),x&&S.push({dims:m,dataType:1}),{name:"LayerNormalization",shaderCache:{hint:`${h};${n};${r}`,inputDependencies:g},getRunData:()=>({outputs:S,dispatchGroup:{x:Math.ceil(u/64)},programUniforms:_}),getShaderSource:w}},X4=(e,t)=>{ZB(e.inputs),e.compute(QB(e.inputs,t,e.outputCount))}}),JB,Y4,Sue=ye(()=>{"use strict";et(),$E(),xE(),JB=e=>{if(!e||e.length!==2)throw new Error("MatMul requires 2 inputs.");if(e[0].dims[e[0].dims.length-1]!==e[1].dims[e[1].dims.length-2])throw new Error("shared dimension does not match.")},Y4=e=>{JB(e.inputs);let t=Gc.calcShape(e.inputs[0].dims,e.inputs[1].dims,!0);if(!t)throw new Error("Can't use matmul on the given tensors");let n=t[t.length-1],r=e.inputs[0].dims[e.inputs[0].dims.length-1];if(n<8&&r<8)e.compute(_E(e.inputs,{activation:""},t));else{let o=t[t.length-2],i=oe.size(e.inputs[0].dims.slice(0,-2)),s=oe.size(e.inputs[1].dims.slice(0,-2));if(i!==1&&o===1&&s===1){let l=e.inputs[0].reshape([1,i,r]),c=e.inputs[1].reshape([1,r,n]),u=[1,i,n],d=[l,c];e.compute(Wb(d,{activation:""},t,u),{inputs:d})}else e.compute(Wb(e.inputs,{activation:""},t))}}}),e3,t3,n3,Z4,Q4,Cue=ye(()=>{"use strict";He(),et(),En(),at(),e3=(e,t)=>{if(e.length<3||e.length>4)throw new Error("MatMulNBits requires 3 or 4 inputs");let n=e[0],r=n.dims.length;if(n.dims[r-1]!==t.k)throw new Error("The last dim of input shape does not match the k value");let o=Math.floor((t.k+t.blockSize-1)/t.blockSize),i=t.blockSize/8*t.bits,s=e[1];if(!oe.areEqual(s.dims,[t.n,o,i]))throw new Error("The second inputs must be 3D tensor with shape N X nBlocksPerCol X blobSize");let l=e[2].dims;if(oe.size(l)!==t.n*o)throw new Error("scales input size error.");if(e.length===4){let c=e[3].dims,u=t.bits>4?t.n*o:t.n*Math.floor((o+1)/2);if(oe.size(c)!==u)throw new Error("zeroPoints input size error.")}},t3=(e,t)=>{let n=e[0].dims,r=n.length,o=n[r-2],i=t.k,s=t.n,l=n.slice(0,r-2),c=oe.size(l),u=e[1].dims[2]/4,d=e[0].dataType,p=wn(t.k),f=wn(u),m=wn(s),h=l.concat([o,s]),g=o>1&&s/m%2===0?2:1,_=oe.size(h)/m/g,$=64,x=[],w=[c,o,i/p],S=oe.convertShape(e[1].dims).slice();S.splice(-1,1,u/f),x.push(...Me(w)),x.push(...Me(S)),x.push(...Me(e[2].dims)),e.length===4&&x.push(...Me(oe.convertShape(e[3].dims)));let I=[c,o,s/m];x.push(...Me(I));let F=k=>{let M=w.length,O=ue("a",e[0].dataType,M,p),B=ue("b",12,S.length,f),W=ue("scales",e[2].dataType,e[2].dims.length),V=[O,B,W],P=e.length===4?ue("zero_points",12,e[3].dims.length):void 0;P&&V.push(P);let G=I.length,Z=De("output",e[0].dataType,G,m),H=Gn(e[0].dataType),re=(()=>{switch(p){case 1:return`array<${H}, 8>`;case 2:return`mat4x2<${H}>`;case 4:return`mat2x4<${H}>`;default:throw new Error(`${p}-component is not supported.`)}})(),te=()=>{let z=`
          // reuse a data
            var input_offset = ${O.indicesToOffset(`${O.type.indices}(batch, row, word_offset)`)};
            var a_data: ${re};
            for (var j: u32 = 0; j < ${8/p}; j++) {
              a_data[j] = ${O.getByOffset("input_offset")};
              input_offset++;
            }
          `;for(let ne=0;ne<m*g;ne++)z+=`
            b_value = ${f===1?`b${ne}_data`:`b${ne}_data[i]`};
            b_value_lower = unpack4xU8(b_value & b_mask);
            b_value_upper = unpack4xU8((b_value >> 4) & b_mask);
            b_quantized_values = ${re}(${Array.from({length:4},(U,ae)=>`${H}(b_value_lower[${ae}]), ${H}(b_value_upper[${ae}])`).join(", ")});
            b_dequantized_values = ${p===1?`${re}(${Array.from({length:8},(U,ae)=>`(b_quantized_values[${ae}] - ${P?`zero_point${ne}`:"zero_point"}) * scale${ne}`).join(", ")});`:`(b_quantized_values - ${re}(${Array(8).fill(`${P?`zero_point${ne}`:"zero_point"}`).join(",")})) * scale${ne};`};
            workgroup_shared[local_id.x * ${g} + ${Math.floor(ne/m)}]${m>1?`[${ne%m}]`:""} += ${Array.from({length:8/p},(U,ae)=>`${p===1?`a_data[${ae}] * b_dequantized_values[${ae}]`:`dot(a_data[${ae}], b_dequantized_values[${ae}])`}`).join(" + ")};
          `;return z},Y=()=>{let z=`
            var col_index = col * ${m};
            ${P?`
            let zero_point_bytes_per_col = (nBlocksPerCol + 1) / 2;
            var zero_point_byte_count: u32;
            var zero_point_word_index: u32;
            var zero_point_byte_offset: u32;
            let zero_point_nibble_offset: u32 = block & 0x1u;
            var zero_point_bits_offset: u32;
            var zero_point_word: u32;`:`
            // The default zero point is 8 for unsigned 4-bit quantization.
            let zero_point = ${H}(8);`}
            `;for(let ne=0;ne<m*g;ne++)z+=`
            let scale${ne} = ${W.getByOffset("col_index * nBlocksPerCol + block")};
            ${P?`
            zero_point_byte_count = col_index * zero_point_bytes_per_col + (block >> 0x1u);
            zero_point_word_index = zero_point_byte_count >> 0x2u;
            zero_point_byte_offset = zero_point_byte_count & 0x3u;
            zero_point_bits_offset = (zero_point_byte_offset << 3) + (zero_point_nibble_offset << 2);
            zero_point_word = ${P.getByOffset("zero_point_word_index")} >> zero_point_bits_offset;
            let zero_point${ne} = ${H}((zero_point_word) & 0xFu);`:""}
            col_index += 1;`;return z},se=()=>{let z=`col_index = col * ${m};`;for(let ne=0;ne<m*g;ne++)z+=`
            let b${ne}_data = ${B.getByIndices(`${B.type.indices}(col_index, block, word)`)};
            col_index += 1;`;return z+=`
            var b_value: u32;
            let b_mask: u32 = 0x0F0F0F0Fu;
            var b_value_lower: vec4<u32>;
            var b_value_upper: vec4<u32>;
            var b_quantized_values: ${re};
            var b_dequantized_values: ${re};`,z};return`
        var<workgroup> workgroup_shared: array<${Z.type.value}, ${g*$}>;
        ${k.declareVariables(...V,Z)}
        ${k.mainStart([$,1,1])}
          let output_indices = ${Z.offsetToIndices(`(global_idx / ${$}) * ${g}`)};
          let col = output_indices[2];
          let row = output_indices[1];
          let batch = output_indices[0];
          let nBlocksPerCol = uniforms.b_shape[1];

          for (var block = local_id.x; block < nBlocksPerCol; block += ${$}) {
            //process one block
            var word_offset: u32 = block * ${t.blockSize/p};
            ${Y()}
            for (var word: u32 = 0; word < ${u}; word += ${f}) {
              ${se()}
              for (var i: u32 = 0; i < ${f}; i++) {
                ${te()}
                word_offset += ${8/p};
              }
            }
          }
          workgroupBarrier();

          if (local_id.x < ${g}) {
            var output_value: ${Z.type.value} = ${Z.type.value}(0);
            var workgroup_shared_offset: u32 = local_id.x;
            for (var b: u32 = 0u; b < ${$}u; b++) {
              output_value += workgroup_shared[workgroup_shared_offset];
              workgroup_shared_offset += ${g};
            }
            ${Z.setByIndices(`${Z.type.indices}(batch, row, col + local_id.x)`,"output_value")};
          }
        }`};return{name:"MatMulNBits",shaderCache:{hint:`${t.blockSize};${t.bits};${p};${f};${m};${g};${$}`,inputDependencies:Array(e.length).fill("rank")},getRunData:()=>({outputs:[{dims:h,dataType:d}],dispatchGroup:{x:_},programUniforms:x}),getShaderSource:F}},n3=(e,t)=>{let n=e[0].dims,r=n.length,o=n[r-2],i=t.k,s=t.n,l=n.slice(0,r-2),c=oe.size(l),u=e[1].dims[2]/4,d=e[0].dataType,p=wn(t.k),f=wn(u),m=l.concat([o,s]),h=128,g=s%8===0?8:s%4===0?4:1,_=h/g,$=_*f*8,x=$/p,w=$/t.blockSize,S=oe.size(m)/g,I=[],F=[c,o,i/p],k=oe.convertShape(e[1].dims).slice();k.splice(-1,1,u/f),I.push(...Me(F)),I.push(...Me(k)),I.push(...Me(e[2].dims)),e.length===4&&I.push(...Me(oe.convertShape(e[3].dims)));let M=[c,o,s];I.push(...Me(M));let O=B=>{let W=F.length,V=ue("a",e[0].dataType,W,p),P=ue("b",12,k.length,f),G=ue("scales",e[2].dataType,e[2].dims.length),Z=[V,P,G],H=e.length===4?ue("zero_points",12,e[3].dims.length):void 0;H&&Z.push(H);let re=M.length,te=De("output",e[0].dataType,re),Y=Gn(e[0].dataType),se=()=>{switch(p){case 1:return`
          let a_data0 = vec4<${Y}>(sub_a[word_offset], sub_a[word_offset + 1], sub_a[word_offset + 2], sub_a[word_offset + 3]);
          let a_data1 = vec4<${Y}>(sub_a[word_offset + 4], sub_a[word_offset + 5], sub_a[word_offset + 6], sub_a[word_offset + 7]);`;case 2:return`
          let a_data0 = vec4<${Y}>(sub_a[word_offset], sub_a[word_offset + 1]);
          let a_data1 = vec4<${Y}>(sub_a[word_offset + 2], sub_a[word_offset + 3]);`;case 4:return`
          let a_data0 = sub_a[word_offset];
          let a_data1 = sub_a[word_offset + 1];`;default:throw new Error(`${p}-component is not supported.`)}};return`
        var<workgroup> sub_a: array<${V.type.value}, ${x}>;
        var<workgroup> inter_results: array<array<${te.type.value}, ${_}>, ${g}>;
        ${B.declareVariables(...Z,te)}
        ${B.mainStart([_,g,1])}
          let output_indices = ${te.offsetToIndices(`workgroup_index * ${g}`)};
          let col = output_indices[2];
          let row = output_indices[1];
          let batch = output_indices[0];
          let n_blocks_per_col = uniforms.b_shape[1];
          let num_tiles =  (n_blocks_per_col - 1) / ${w} + 1;

          // Loop over shared dimension.
          for (var tile: u32 = 0; tile < num_tiles; tile += 1) {
            let a_col_start = tile * ${x};
            // load one tile A data into shared memory.
            for (var a_offset = local_idx; a_offset < ${x}; a_offset += ${h})
            {
              let a_col = a_col_start + a_offset;
              if (a_col < uniforms.a_shape[2])
              {
                sub_a[a_offset] = ${V.getByIndices(`${V.type.indices}(batch, row, a_col)`)};
              } else {
                sub_a[a_offset] = ${V.type.value}(0);
              }
            }
            workgroupBarrier();

            // each thread process one block
            let b_row = col + local_id.y;
            let block = tile * ${w} + local_id.x;
            ${H?`
            let zero_point_bytes_per_col = (n_blocks_per_col + 1) / 2;
            let zero_point_byte_count = b_row * zero_point_bytes_per_col + (block >> 0x1u);
            let zero_point_word_index = zero_point_byte_count >> 0x2u;
            let zero_point_byte_offset = zero_point_byte_count & 0x3u;
            let zero_point_nibble_offset: u32 = block & 0x1u;
            let zero_point_bits_offset = (zero_point_byte_offset << 3) + (zero_point_nibble_offset << 2);
            let zero_point_word = ${H.getByOffset("zero_point_word_index")} >> zero_point_bits_offset;
            let zero_point = ${Y}((zero_point_word) & 0xFu);`:`
            // The default zero point is 8 for unsigned 4-bit quantization.
            let zero_point = ${Y}(8);`}
            let scale = ${G.getByOffset("b_row * n_blocks_per_col + block")};
            let b_data = ${P.getByIndices(`${P.type.indices}(b_row, block, 0)`)};
            var word_offset = local_id.x * ${t.blockSize/p};
            for (var i: u32 = 0; i < ${f}; i++) {
              ${se()}
              let b_value = ${f===1?"b_data":"b_data[i]"};
              let b_value_lower = unpack4xU8(b_value & 0x0F0F0F0Fu);
              let b_value_upper = unpack4xU8((b_value >> 4) & 0x0F0F0F0Fu);
              let b_quantized_values = mat2x4<${Y}>(${Array.from({length:4},(z,ne)=>`${Y}(b_value_lower[${ne}]), ${Y}(b_value_upper[${ne}])`).join(", ")});
              let b_dequantized_values = (b_quantized_values - mat2x4<${Y}>(${Array(8).fill("zero_point").join(",")})) * scale;
              inter_results[local_id.y][local_id.x] += ${Array.from({length:2},(z,ne)=>`${`dot(a_data${ne}, b_dequantized_values[${ne}])`}`).join(" + ")};
              word_offset += ${8/p};
            }
            workgroupBarrier();
          }

          if (local_idx < ${g}) {
            var output_value: ${te.type.value} = ${te.type.value}(0);
            for (var b = 0u; b < ${_}; b++) {
              output_value += inter_results[local_idx][b];
            }
            if (col + local_idx < uniforms.output_shape[2])
            {
              ${te.setByIndices(`${te.type.indices}(batch, row, col + local_idx)`,"output_value")}
            }
          }
        }`};return{name:"BlockwiseMatMulNBits32",shaderCache:{hint:`${t.blockSize};${p};${f};${_};${g}`,inputDependencies:Array(e.length).fill("rank")},getRunData:()=>({outputs:[{dims:m,dataType:d}],dispatchGroup:{x:S},programUniforms:I}),getShaderSource:O}},Z4=(e,t)=>{e3(e.inputs,t),t.blockSize===32&&e.adapterInfo.isVendor("intel")&&e.adapterInfo.isArchitecture("gen-12lp")?e.compute(n3(e.inputs,t)):e.compute(t3(e.inputs,t))},Q4=e=>Ht(e)}),r3,o3,i3,s3,a3,l3,c3,u3,J4,Iue=ye(()=>{"use strict";He(),et(),at(),r3=e=>{if(!e||e.length<1)throw new Error("Too few inputs");if(e[0].dataType!==1&&e[0].dataType!==10)throw new Error("Input type must be float or float16.");if(e.length>=2){let t=e[0].dims.length*2===e[1].dims[0];if(e.length===4&&(t=e[3].dims[0]*2===e[1].dims[0]),!t)throw new Error("The pads should be a 1D tensor of shape [2 * input_rank] or [2 * num_axes].")}},o3=(e,t,n)=>{let r="";for(let o=t-1;o>=0;--o)r+=`
            k = i32(${e.indicesGet("indices",o)}) - ${Fe("uniforms.pads",o,n)};
            if (k < 0) {
              break;
            }
            if (k >= i32(${Fe("uniforms.x_shape",o,t)})) {
              break;
            }
            offset += k * i32(${Fe("uniforms.x_strides",o,t)});
        `;return`
          value = ${e.type.value}(uniforms.constant_value);
          for (var i = 0; i < 1; i++) {
            var offset = 0;
            var k = 0;
            ${r}
            value = x[offset];
          }
      `},i3=(e,t,n)=>{let r="";for(let o=t-1;o>=0;--o)r+=`
                k = i32(${e.indicesGet("indices",o)}) - ${Fe("uniforms.pads",o,n)};
                if (k < 0) {
                  k = -k;
                }
                {
                  let _2n_1 = 2 * (i32(${Fe("uniforms.x_shape",o,t)}) - 1);
                  k = k % _2n_1;
                  if(k >= i32(${Fe("uniforms.x_shape",o,t)})) {
                    k = _2n_1 - k;
                  }
                }
                offset += k * i32(${Fe("uniforms.x_strides",o,t)});
            `;return`
              var offset = 0;
              var k = 0;
              ${r}
              value = x[offset];
          `},s3=(e,t,n)=>{let r="";for(let o=t-1;o>=0;--o)r+=`
                k = i32(${e.indicesGet("indices",o)}) - ${Fe("uniforms.pads",o,n)};
                if (k < 0) {
                  k = 0;
                }
                if (k >= i32(${Fe("uniforms.x_shape",o,t)})) {
                  k = i32(${Fe("uniforms.x_shape",o,t)}) - 1;
                }
                offset += k * i32(${Fe("uniforms.x_strides",o,t)});
            `;return`
              var offset = 0;
              var k = 0;
              ${r}
              value = x[offset];
          `},a3=(e,t,n)=>{let r="";for(let o=t-1;o>=0;--o)r+=`
                k = i32(${e.indicesGet("indices",o)}) - ${Fe("uniforms.pads",o,n)};
                if (k < 0)  {
                  k += i32(${Fe("uniforms.x_shape",o,t)}]);
                }
                if (k >= i32(${Fe("uniforms.x_shape",o,t)})) {
                  k -= i32(${Fe("uniforms.x_shape",o,t)});
                }
                offset += k * i32(${Fe("uniforms.x_strides",o,t)});
            `;return`
              var offset = 0;
              var k = 0;
              ${r}
              value = x[offset];
          `},l3=(e,t,n)=>{switch(n.mode){case 0:return o3(e,t,n.pads.length);case 1:return i3(e,t,n.pads.length);case 2:return s3(e,t,n.pads.length);case 3:return a3(e,t,n.pads.length);default:throw new Error("Invalid mode")}},c3=(e,t)=>{let n=oe.padShape(e[0].dims.slice(),t.pads),r=e[0].dims,o=oe.size(n),i=[{type:12,data:o},{type:6,data:t.pads}],s=e.length>=3&&e[2].data;t.mode===0&&i.push({type:s?e[2].dataType:1,data:t.value}),i.push(...Me(e[0].dims,n));let l=["rank"],c=u=>{let d=De("output",e[0].dataType,n.length),p=ue("x",e[0].dataType,r.length),f=p.type.value,m=l3(d,r.length,t),h=[{name:"output_size",type:"u32"},{name:"pads",type:"i32",length:t.pads.length}];return t.mode===0&&h.push({name:"constant_value",type:s?f:"f32"}),`
            ${u.registerUniforms(h).declareVariables(p,d)}
            ${u.mainStart()}
            ${u.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}

            let indices = ${d.offsetToIndices("global_idx")};

            var value = ${f}(0);
            ${m}
            output[global_idx] = value;
        }`};return{name:"Pad",shaderCache:{hint:`${t.mode}${s}`,inputDependencies:l},getRunData:()=>({outputs:[{dims:n,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(oe.size(n)/64)},programUniforms:i}),getShaderSource:c}},u3=(e,t)=>{if(e.length>1){let n=e[1].getBigInt64Array(),r=e.length>=3&&e[2].data?e[2].dataType===10?e[2].getUint16Array()[0]:e[2].getFloat32Array()[0]:0,o=e[0].dims.length,i=new Int32Array(2*o).fill(0);if(e.length>=4){let l=e[3].getBigInt64Array();for(let c=0;c<l.length;c++)i[Number(l[c])]=Number(n[c]),i[Number(l[c])+o]=Number(n[c+l.length])}else n.forEach((l,c)=>i[Number(c)]=Number(l));let s=[];return i.forEach(l=>s.push(l)),{mode:t.mode,value:r,pads:s}}else return t},J4=(e,t)=>{r3(e.inputs);let n=u3(e.inputs,t);e.compute(c3(e.inputs,n),{inputs:[0]})}}),op,xI,vI,wI,SI,d3,p3,CI,II,eW,tW,EI,nW,rW,TI,oW,iW,sW,aW,Eue=ye(()=>{"use strict";Jo(),He(),et(),at(),op=e=>{if(_n.webgpu.validateInputContent&&(!e||e.length!==1))throw new Error("Pool ops requires 1 input.")},xI=(e,t,n)=>{let r=t.format==="NHWC",o=e.dims.slice();r&&o.splice(1,0,o.pop());let i=Object.hasOwnProperty.call(t,"dilations"),s=t.kernelShape.slice(),l=t.strides.slice(),c=i?t.dilations.slice():[],u=t.pads.slice();Lb.adjustPoolAttributes(n,o,s,l,c,u);let d=Lb.computePoolOutputShape(n,o,l,c,s,u,t.autoPad),p=Object.assign({},t);i?Object.assign(p,{kernelShape:s,strides:l,pads:u,dilations:c,cacheKey:t.cacheKey}):Object.assign(p,{kernelShape:s,strides:l,pads:u,cacheKey:t.cacheKey});let f=d.slice();return f.push(f.splice(1,1)[0]),[p,r?f:d]},vI=(e,t)=>{let n=t.format==="NHWC",r=oe.size(e),o=oe.size(t.kernelShape),i=[{type:12,data:r},{type:12,data:o}],s=[{name:"outputSize",type:"u32"},{name:"kernelSize",type:"u32"}];if(t.kernelShape.length<=2){let l=t.kernelShape[t.kernelShape.length-1],c=t.strides[t.strides.length-1],u=t.pads[t.pads.length/2-1],d=t.pads[t.pads.length-1],p=!!(u+d);i.push({type:12,data:l},{type:12,data:c},{type:12,data:u},{type:12,data:d}),s.push({name:"kw",type:"u32"},{name:"sw",type:"u32"},{name:"pwStart",type:"u32"},{name:"pwEnd",type:"u32"});let f=!1;if(t.kernelShape.length===2){let m=t.kernelShape[t.kernelShape.length-2],h=t.strides[t.strides.length-2],g=t.pads[t.pads.length/2-2],_=t.pads[t.pads.length-2];f=!!(g+_),i.push({type:12,data:m},{type:12,data:h},{type:12,data:g},{type:12,data:_}),s.push({name:"kh",type:"u32"},{name:"sh",type:"u32"},{name:"phStart",type:"u32"},{name:"phEnd",type:"u32"})}return[i,s,!0,p,f]}else{if(n)throw new Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");let l=oe.computeStrides(t.kernelShape);i.push({type:12,data:l},{type:12,data:t.pads},{type:12,data:t.strides}),s.push({name:"kernelStrides",type:"u32",length:l.length},{name:"pads",type:"u32",length:t.pads.length},{name:"strides",type:"u32",length:t.strides.length});let c=t.pads.reduce((u,d)=>u+d);return[i,s,!!c,!1,!1]}},wI=(e,t,n,r,o,i,s,l,c,u,d,p)=>{let f=o.format==="NHWC",m=t.type.value,h=De("output",t.type.tensor,r);if(o.kernelShape.length<=2){let g="",_="",$="",x=n-(f?2:1);if(d?g=`
                for (var i: u32 = 0u; i < uniforms.kw; i++) {
                  xIndices[${x}] = indices[${x}] * uniforms.sw - uniforms.pwStart + i;
                  if (xIndices[${x}] < 0 || xIndices[${x}]
                      >= uniforms.x_shape[${x}]) {
                    pad++;
                    continue;
                  }
                  let x_val = x[${t.indicesToOffset("xIndices")}];
                  ${i}
                }`:g=`
                for (var i: u32 = 0u; i < uniforms.kw; i++) {
                  xIndices[${x}] = indices[${x}] * uniforms.sw - uniforms.pwStart + i;
                  let x_val = x[${t.indicesToOffset("xIndices")}];
                  ${i}
                }`,o.kernelShape.length===2){let w=n-(f?3:2);p?_=`
                for (var j: u32 = 0u; j < uniforms.kh; j++) {
                  xIndices[${w}] = indices[${w}] * uniforms.sh - uniforms.phStart + j;
                  if (xIndices[${w}] < 0 || xIndices[${w}] >= uniforms.x_shape[${w}]) {
                    pad += i32(uniforms.kw);
                    continue;
                  }
              `:_=`
                for (var j: u32 = 0u; j < uniforms.kh; j++) {
                  xIndices[${w}] = indices[${w}] * uniforms.sh - uniforms.phStart + j;
                `,$=`
              }
            `}return`
            ${e.registerUniforms(c).declareVariables(t,h)}

            ${e.mainStart()}
              ${e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}

              let indices = ${h.offsetToIndices("global_idx")};
              var xIndices = ${h.offsetToIndices("global_idx")};

              var value = ${m}(${l});
              var pad = 0;
              ${_}
              ${g}
              ${$}
              ${s}

              output[global_idx] = value;
            }`}else{if(f)throw new Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");let g=o.kernelShape.length,_=o.pads.length,$="";return u?$=`
                if (xIndices[j] >= uniforms.x_shape[j]) {
                  pad++;
                  isPad = true;
                  break;
                }
              }
              if (!isPad) {
                let x_val = x[${t.indicesToOffset("xIndices")}];
                ${i}
              }`:$=`
              }
              let x_val = x[${t.indicesToOffset("xIndices")}];
              ${i}
            `,`
            ${e.registerUniforms(c).declareVariables(t,h)}

            ${e.mainStart()}
              ${e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
              let indices = ${h.offsetToIndices("global_idx")};
              var xIndices = ${h.offsetToIndices("global_idx")};

              var offsets: array<u32, ${g}>;

              var value = ${m}(${l});
              var pad = 0;
              var isPad = false;

              for (var i: u32 = 0u; i < uniforms.kernelSize; i++) {
                var offset = i;
                for (var j = 0u; j < ${g-1}u; j++) {
                  offsets[j] = offset / ${Fe("uniforms.kernelStrides","j",g)};
                  offset -= offsets[j] * ${Fe("uniforms.kernelStrides","j",g)};
                }
                offsets[${g-1}] = offset;

                isPad = false;
                for (var j = ${n-g}u; j < ${n}u; j++) {
                  xIndices[j] = indices[j] * ${Fe("uniforms.strides",`j - ${n-g}u`,g)}
                    + offsets[j - ${n-g}u] - ${Fe("uniforms.pads","j - 2u",_)};
                  ${$}
              }
              ${s}

              output[global_idx] = value;
            }`}},SI=e=>`${e.format};${e.ceilMode};${e.autoPad};${e.kernelShape.length}`,d3=e=>`${SI(e)};${e.countIncludePad}`,p3=e=>`${SI(e)};${e.storageOrder};${e.dilations}`,CI=e=>({format:e.format,autoPad:["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][e.auto_pad],ceilMode:e.ceil_mode,kernelShape:e.kernel_shape,strides:e.strides,pads:e.pads}),II=(e,t,n,r)=>{let[o,i]=xI(t,r,n),s=ue("x",t.dataType,t.dims.length),l=s.type.value,c="value += x_val;",u="";o.countIncludePad?u+=`value /= ${l}(uniforms.kernelSize);`:u+=`value /= ${l}(i32(uniforms.kernelSize) - pad);`;let[d,p,f,m,h]=vI(i,o);d.push(...Me(t.dims,i));let g=["rank"];return{name:e,shaderCache:{hint:`${r.cacheKey};${f};${m};${h}`,inputDependencies:g},getRunData:()=>({outputs:[{dims:i,dataType:t.dataType}],dispatchGroup:{x:Math.ceil(oe.size(i)/64)},programUniforms:d}),getShaderSource:_=>wI(_,s,t.dims.length,i.length,o,c,u,0,p,f,m,h)}},eW=e=>{let t=e.count_include_pad!==0,n=CI(e);if(n.ceilMode!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");let r=tt(fe({countIncludePad:t},n),{cacheKey:""});return tt(fe({},r),{cacheKey:d3(r)})},tW=(e,t)=>{op(e.inputs),e.compute(II("AveragePool",e.inputs[0],!1,t))},EI={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[]},nW=e=>{let t=e.format;return tt(fe({format:t},EI),{cacheKey:t})},rW=(e,t)=>{op(e.inputs),e.compute(II("GlobalAveragePool",e.inputs[0],!0,t))},TI=(e,t,n,r)=>{let[o,i]=xI(t,r,n),s=`
      value = max(x_val, value);
    `,l="",c=ue("x",t.dataType,t.dims.length),u=["rank"],[d,p,f,m,h]=vI(i,o);return d.push(...Me(t.dims,i)),{name:e,shaderCache:{hint:`${r.cacheKey};${f};${m};${h}`,inputDependencies:u},getRunData:()=>({outputs:[{dims:i,dataType:t.dataType}],dispatchGroup:{x:Math.ceil(oe.size(i)/64)},programUniforms:d}),getShaderSource:g=>wI(g,c,t.dims.length,i.length,o,s,l,t.dataType===10?-65504:-1e5,p,f,m,h)}},oW=(e,t)=>{op(e.inputs),e.compute(TI("MaxPool",e.inputs[0],!1,t))},iW=e=>{let t=e.storage_order,n=e.dilations,r=CI(e);if(t!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(r.ceilMode!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");let o=tt(fe({storageOrder:t,dilations:n},r),{cacheKey:""});return tt(fe({},o),{cacheKey:p3(o)})},sW=e=>{let t=e.format;return tt(fe({format:t},EI),{cacheKey:t})},aW=(e,t)=>{op(e.inputs),e.compute(TI("GlobalMaxPool",e.inputs[0],!0,t))}}),f3,m3,lW,cW,Tue=ye(()=>{"use strict";He(),et(),En(),at(),f3=(e,t)=>{if(e.length<2||e.length>3)throw new Error("DequantizeLinear requires 2 or 3 inputs.");if(e.length===3&&e[1].dims===e[2].dims)throw new Error("x-scale and x-zero-point must have the same shape.");if(e.length===3&&e[0].dataType!==e[2].dataType)throw new Error("x and x-zero-point must have the same data type.");if(e[0].dataType===6&&e.length>2)throw new Error("In the case of dequantizing int32 there is no zero point.");if(e[1].dims.length!==0&&e[1].dims.length!==1&&e[1].dims.length!==e[0].dims.length)throw new Error("scale input must be a scalar, a 1D tensor, or have the same rank as the input tensor.");if(e.length>2){if(e[0].dataType!==e[2].dataType)throw new Error("x and x-zero-point must have the same data type.");if(e[1].dims.length!==e[2].dims.length)throw new Error("scale and zero-point inputs must have the same rank.");if(!e[1].dims.map((n,r)=>n===e[2].dims[r]).reduce((n,r)=>n&&r,!0))throw new Error("scale and zero-point inputs must have the same shape.")}if(t.blockSize>0){if(e[1].dims.length===0||e[1].dims.length===1&&e[1].dims[0]===1)throw new Error("blockSize must be set only for block quantization.");if(!e[1].dims.map((o,i)=>i===t.axis||o===e[0].dims[i]).reduce((o,i)=>o&&i,!0))throw new Error("For block qunatization, scale input shape to match the input shape except for the axis");if(e[1].dims.length!==e[0].dims.length)throw new Error("For block qunatization the scale input rank must be the same as the x rank.");let n=e[0].dims[t.axis],r=e[1].dims[t.axis];if(t.blockSize<Math.ceil(n/r)||t.blockSize>Math.ceil(n/(r-1)-1))throw new Error("blockSize must be with in the range [ceil(dI / Si), ceil(dI / (Si - 1) - 1)].")}},m3=(e,t)=>{let n=oe.normalizeAxis(t.axis,e[0].dims.length),r=e[0].dataType,o=r===3,i=e[0].dims,s=e[1].dataType,l=oe.size(i),c=r===3||r===2,u=c?[Math.ceil(oe.size(e[0].dims)/4)]:e[0].dims,d=e[1].dims,p=e.length>2?e[2]:void 0,f=p?c?[Math.ceil(oe.size(p.dims)/4)]:p.dims:void 0,m=d.length===0||d.length===1&&d[0]===1,h=m===!1&&d.length===1,g=wn(l),_=m&&(!c||g===4),$=_?g:1,x=_&&!c?g:1,w=ue("input",c?12:r,u.length,x),S=ue("scale",s,d.length),I=p?ue("zero_point",c?12:r,f.length):void 0,F=De("output",s,i.length,$),k=[w,S];I&&k.push(I);let M=[u,d];p&&M.push(f);let O=[{type:12,data:l/$},{type:12,data:n},{type:12,data:t.blockSize},...Me(...M,i)],B=W=>{let V=[{name:"output_size",type:"u32"},{name:"axis",type:"u32"},{name:"block_size",type:"u32"}];return`
      ${W.registerUniforms(V).declareVariables(...k,F)}
      ${W.mainStart()}
          ${W.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
          let output_indices = ${F.offsetToIndices("global_idx")};

          // Set input x
          ${c?`
            let input = ${w.getByOffset("global_idx / 4")};
            let x_vec = ${o?"unpack4xI8(input)":"unpack4xU8(input)"};
            let x_value = ${$===1?"x_vec[global_idx % 4]":"x_vec"};`:`let x_value = ${w.getByOffset("global_idx")};`};

          // Set scale input
          ${m?`let scale_value= ${S.getByOffset("0")}`:h?`
            let scale_index = ${F.indicesGet("output_indices","uniforms.axis")};
            let scale_value= ${S.getByOffset("scale_index")};`:`
            var scale_indices: ${S.type.indices} = output_indices;
            let index = ${S.indicesGet("scale_indices","uniforms.axis")} / uniforms.block_size;
            ${S.indicesSet("scale_indices","uniforms.axis","index")};
            let scale_value= ${S.getByIndices("scale_indices")};`};

          // Set zero-point input
          ${I?m?c?`
                let zero_point_input = ${I.getByOffset("0")};
                let zero_point_vec =  ${o?"unpack4xI8(zero_point_input)":"unpack4xU8(zero_point_input)"};
                let zero_point_value= zero_point_vec[0]`:`let zero_point_value = ${I.getByOffset("0")}`:h?c?`
                let zero_point_index = ${F.indicesGet("output_indices","uniforms.axis")};
                let zero_point_input = ${I.getByOffset("zero_point_index / 4")};
                let zero_point_vec =  ${o?"unpack4xI8(zero_point_input)":"unpack4xU8(zero_point_input)"};
                let zero_point_value = zero_point_vec[zero_point_index % 4]`:`
                let zero_point_index = ${F.indicesGet("output_indices","uniforms.axis")};
                let zero_point_value = ${I.getByOffset("zero_point_index")};`:c?`
                let zero_point_offset = ${S.indicesToOffset("scale_indices")};
                let zero_point_input = ${I.getByOffset("zero_point_offset / 4")};
                let zero_point_vec = ${o?"unpack4xI8(zero_point_input)":"unpack4xU8(zero_point_input)"};
                let zero_point_value = zero_point_vec[zero_point_offset % 4];`:`let zero_point_value = ${I.getByIndices("scale_indices")};`:`let zero_point_value = ${c?o?"i32":"u32":w.type.value}(0);`};
      // Compute and write output
      ${F.setByOffset("global_idx",`${F.type.value}(x_value - zero_point_value) * scale_value`)};
      }`};return{name:"DequantizeLinear",shaderCache:{hint:t.cacheKey,inputDependencies:I?["rank","rank","rank"]:["rank","rank"]},getShaderSource:B,getRunData:()=>({outputs:[{dims:i,dataType:s}],dispatchGroup:{x:Math.ceil(l/$/64),y:1,z:1},programUniforms:O})}},lW=(e,t)=>{f3(e.inputs,t),e.compute(m3(e.inputs,t))},cW=e=>Ht({axis:e.axis,blockSize:e.blockSize})}),h3,g3,uW,Due=ye(()=>{"use strict";Jo(),He(),at(),h3=(e,t,n)=>{let r=e===t,o=e<t&&n<0,i=e>t&&n>0;if(r||o||i)throw new Error("Range these inputs' contents are invalid.")},g3=(e,t,n,r)=>{let o=Math.abs(Math.ceil((t-e)/n)),i=[o],s=o,l=[{type:12,data:s},{type:r,data:e},{type:r,data:n},...Me(i)],c=u=>{let d=De("output",r,i.length),p=d.type.value,f=[{name:"outputSize",type:"u32"},{name:"start",type:p},{name:"delta",type:p}];return`
        ${u.registerUniforms(f).declareVariables(d)}
        ${u.mainStart()}
        ${u.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
        output[global_idx] = uniforms.start + ${p}(global_idx) * uniforms.delta;
      }`};return{name:"Range",shaderCache:{hint:`${r}`},getShaderSource:c,getRunData:()=>({outputs:[{dims:i,dataType:r}],dispatchGroup:{x:Math.ceil(s/64)},programUniforms:l})}},uW=e=>{let t=0,n=0,r=0;e.inputs[0].dataType===6?(t=e.inputs[0].getInt32Array()[0],n=e.inputs[1].getInt32Array()[0],r=e.inputs[2].getInt32Array()[0]):e.inputs[0].dataType===1&&(t=e.inputs[0].getFloat32Array()[0],n=e.inputs[1].getFloat32Array()[0],r=e.inputs[2].getFloat32Array()[0]),_n.webgpu.validateInputContent&&h3(t,n,r),e.compute(g3(t,n,r,e.inputs[0].dataType),{inputs:[]})}}),b3,y3,dW,pW,Fue=ye(()=>{"use strict";He(),et(),En(),at(),b3=(e,t,n,r)=>{if(e!=="none"&&r!=="i32"&&r!=="u32"&&r!=="f32")throw new Error(`Input ${r} is not supported with reduction ${e}.`);let o=`{
                var oldValue = 0;
                loop {
                  let newValueF32 =`,i=`;
                  let newValue = bitcast<i32>(newValueF32);
                  let res = atomicCompareExchangeWeak(&${t}, oldValue, newValue);
                  if res.exchanged {
                    break;
                  }
                  oldValue = res.old_value;
                }
              }`;switch(e){case"none":return`${t}=${n};`;case"add":return r==="i32"||r==="u32"?`atomicAdd(&${t}, bitcast<${r}>(${n}));`:`
              ${o}bitcast<${r}>(oldValue) + (${n})${i}`;case"max":return r==="i32"||r==="u32"?`atomicMax(&${t}, bitcast<${r}>(${n}));`:`
                ${o}max(bitcast<f32>(oldValue), (${n}))${i}`;case"min":return r==="i32"||r==="u32"?`atomicMin(&${t}, bitcast<${r}>(${n}));`:`${o}min(bitcast<${r}>(oldValue), (${n}))${i}`;case"mul":return`${o}(bitcast<${r}>(oldValue) * (${n}))${i}`;default:throw new Error(`Reduction ${e} is not supported.`)}},y3=(e,t)=>{let n=e[0].dims,r=e[1].dims,o=n,i=1,s=Math.ceil(oe.size(r)/i),l=r[r.length-1],c=oe.sizeFromDimension(n,l),u=[{type:12,data:s},{type:12,data:l},{type:12,data:c},...Me(e[1].dims,e[2].dims,o)],d=p=>{let f=ue("indices",e[1].dataType,e[1].dims.length),m=ue("updates",e[2].dataType,e[2].dims.length,i),h=t.reduction!=="none"&&t.reduction!==""?WL("output",e[0].dataType,o.length):De("output",e[0].dataType,o.length,i);return`
      ${p.registerUniform("output_size","u32").registerUniform("last_index_dimension","u32").registerUniform("num_updates_elements","u32").declareVariables(f,m,h)}
      ${p.mainStart()}
        ${p.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
  var hasDuplicates = false;
  if (${t.reduction==="none"}) {
    let n = ${oe.size(r)};
    for (var i = 0; i < n; i = i + 1) {
      for (var j = i + 1; j < n; j = j + 1) {
        var index_i = i32(indices[i].x);
        var index_j = i32(indices[j].x);
        if (index_i == index_j) {
          hasDuplicates = true;
          break;
        }
      }
      if (hasDuplicates) {
        break;
      }
    }
  }

  var data_offset = 0u;
  var indices_start = uniforms.last_index_dimension * global_idx;
  if (${t.reduction==="none"} && hasDuplicates) {
    if (global_idx != 0u) {
      return;
    }
    indices_start = 0u;
  }
  let indices_end = indices_start + uniforms.last_index_dimension;
  for (var i = indices_start; i < indices_end; i++) {
    var index = i32(indices[i].x);
    ${e[0].dims.length===1?`
    let element_count_dim = uniforms.output_strides;
    let dim_value = uniforms.output_shape;`:`
    let element_count_dim = uniforms.output_strides[i - indices_start];
    let dim_value = uniforms.output_shape[i - indices_start + uniforms.last_index_dimension];`}
    if (index >= 0) {
      if (index >= i32(dim_value)) {
        index = i32(dim_value - 1);
      }
    } else {
      if (index < -i32(dim_value)) {
        index = 0;
      } else {
        index += i32(dim_value);
      }
    }
    data_offset += u32((u32(index) * element_count_dim));
  }

  for (var i = 0u; i < uniforms.num_updates_elements; i++) {
    let value = updates[uniforms.num_updates_elements * global_idx + i];
    ${b3(t.reduction,"output[data_offset + i]","value",h.type.value)}
  }

      }`};return{name:"ScatterND",shaderCache:{hint:`${t.cacheKey}_${t.reduction}`,inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:o,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(s/64)},programUniforms:u}),getShaderSource:d}},dW=e=>Ht({reduction:e.reduction}),pW=(e,t)=>{e.compute(y3(e.inputs,t),{inputs:[e.inputs[1],e.inputs[2]],outputs:[]})}}),_3,$3,x3,DI,v3,w3,S3,C3,I3,E3,T3,D3,FI,F3,k3,A3,M3,R3,fW,mW,kue=ye(()=>{"use strict";He(),et(),En(),at(),_3=(e,t)=>{if(e.every(n=>n>0||(()=>{throw new Error("Resize requires scales input values to be positive")})),e.length>0){if(t.mode==="linear"){if(!(e.length===2||e.length===3||e.length===4&&e[0]===1&&e[1]===1||e.length===4&&e[0]===1&&e[3]===1||e.length===5&&e[0]===1&&e[1]===1))throw new Error(`For linear mode, Resize requires scales to be 2D, 3D, 4D with either two outermost or one innermost and
            one outermost scale values equal to 1, or 5D with two outermost scale values equal to 1`)}else if(t.mode==="cubic"&&!(e.length===2||e.length===4&&e[0]===1&&e[1]===1||e.length===4&&e[0]===1&&e[3]===1))throw new Error("Resize requires scales input size to be 2 or 4 for cubic mode")}},$3=(e,t,n)=>{t.every(o=>o>=0&&o<n||(()=>{throw new Error("Resize requires axes input values to be positive and less than rank")}));let r=new Array(n).fill(1);return t.forEach((o,i)=>r[o]=e[i]),r},x3=(e,t,n,r,o,i)=>{let[s,l,c]=n>10?[1,2,3]:[-1,e.length>1?1:-1,-1],u=e[0].dims.length;if(s>0&&e.length>s&&e[s].dims.length>0)e[s].getFloat32Array().forEach(d=>i.push(d));else if(t.coordinateTransformMode==="tf_crop_and_resize")throw new Error("Resize requires RoI input to be specified when coordinateTransformMode is tfCropAndResize");if(l>0&&e.length>l&&e[l].dims.length===1&&e[l].dims[0]>0){if(e[l].getFloat32Array().forEach(d=>r.push(d)),r.length!==0&&r.length!==u&&n>=18&&r.length!==t.axes.length)throw new Error("Resize requires scales input size to be same as input rank or axes size for opset 18 and up");_3(r,t),t.axes.length>0&&$3(r,t.axes,u).forEach((d,p)=>r[p]=d)}if(c>0&&e.length>c&&e[c].dims.length===1&&e[c].dims[0]>0&&(e[c].getBigInt64Array().forEach(d=>o.push(Number(d))),o.length!==0&&o.length!==u&&n>=18&&o.length!==t.axes.length))throw new Error("Resize requires sizes input size to be same as input rank or axes size for opset 18 and up");if(t.axes.length>0){if(r.length!==0&&r.length!==t.axes.length)throw new Error('Resize requires "scales" input size to be of axes rank when axes attributes is specified');if(o.length!==0&&o.length!==t.axes.length)throw new Error('Resize requires "sizes" input size to be of rank axes rank when axes attributes is specified')}if(typeof r<"u"&&typeof o<"u"&&r.length>0&&o.length>u)throw new Error("Resize requires only of scales or sizes to be specified")},DI=(e,t,n,r)=>`
  // The whole part and the fractional part are calculated separately due to inaccuracy of floating
  // point division. As an example, f32(21) / f32(7) may evaluate to 2.99... instead of 3, causing an
  // offset-by-one error later in floor().
  let big = (${e}) * (${t});
  let whole = ${r}(big / (${n}));
  let fract = ${r}(big % (${n})) / ${r}(${n});
  return whole + fract;
`,v3=(e,t)=>`fn getOriginalCoordinateFromResizedCoordinate(xResized: u32, xScale: f32, lengthResized: u32,
     lengthOriginal: u32, roiStart: f32, roiEnd: f32) -> ${t} { `+(()=>{switch(e){case"asymmetric":return`
          if (xScale < 1.0 || floor(xScale) != xScale) {
            return ${t}(xResized) / ${t}(xScale);
          } else {
            ${DI("xResized","lengthOriginal","lengthResized",t)}
          }
        `;case"pytorch_half_pixel":return`if (lengthResized > 1) {
                    return (${t}(xResized) + 0.5) / ${t}(xScale) - 0.5;
                  } else {
                    return 0.0;
                  }`;case"tf_half_pixel_for_nn":return`return (${t}(xResized) + 0.5) / ${t}(xScale);`;case"align_corners":return`if (lengthResized == 1) {
                    return 0.0;
                  } else {
                    ${DI("xResized","lengthOriginal - 1","lengthResized - 1",t)}
                  }`;case"tf_crop_and_resize":return`if (lengthResized > 1) {
                    return ${t}(roiStart) * ${t}(lengthOriginal - 1) +
                        (${t}(xResized) * ${t}(roiEnd - roiStart) * ${t}(lengthOriginal - 1)) /
                        ${t}(lengthResized - 1);
                  } else {
                    return 0.5 * ${t}(roiStart + roiEnd) * ${t}(lengthOriginal - 1);
                  }`;case"half_pixel_symmetric":return`const outputWidth = ${t}xScale * ${t}(lengthResized);
                  const adjustment = ${t}(lengthResized) / outputWidth;
                  const center = ${t}(lengthOriginal) / 2;
                  const offset = center * (1 - adjustment);
                  return offset + ((${t}(xResized) + 0.5) / ${t}(xScale)) - 0.5;`;case"half_pixel":return`return ((${t}(xResized) + 0.5) / ${t}(xScale)) - 0.5;`;default:throw new Error(`Coordinate transform mode ${e} is not supported`)}})()+"}",w3=(e,t,n)=>`fn getNearestPixelFromOriginal(xOriginal: ${n}, isDownSample: bool) -> ${n} {`+(()=>{switch(e){case"round_prefer_ceil":return"if (fract(xOriginal) == 0.5) {             return ceil(xOriginal);           } else {             return round(xOriginal);           }";case"floor":return"return floor(xOriginal);";case"ceil":return"return ceil(xOriginal);";case"round_prefer_floor":return"if (fract(xOriginal) == 0.5) {                     return floor(xOriginal);                   } else {                     return round(xOriginal);                   }";case"simple":default:if(t<11)return"if (isDownSample)                     {                       return ceil(xOriginal);                     } else {                       return xOriginal;                     }";throw new Error(`Nearest mode ${e} is not supported`)}})()+"}",S3=(e,t,n)=>{let r=new Array(n).fill(0).concat(new Array(n).fill(1)),o=e.length===0?r:e.slice();return t.length>0?(t.forEach((i,s)=>{r[i]=o[s],r[s+n]=o[t.length+s]}),r):o},C3=(e,t,n,r)=>{let o=[];if(n.length>0)if(r.length>0){if(e.forEach(i=>o.push(i)),Math.max(...r)>e.length)throw new Error("axes is out of bound");r.forEach((i,s)=>o[i]=n[s])}else n.forEach(i=>o.push(i));else{if(t.length===0)throw new Error("Resize requires either scales or sizes.");o=e.map((i,s)=>Math.round(i*t[s]))}return o},I3=(e,t,n)=>{let r=(()=>{switch(n.keepAspectRatioPolicy){case"not_larger":return n.axes.length>0?Math.min(...n.axes.map(i=>t[i]),Number.MAX_VALUE):Math.min(...t,Number.MAX_VALUE);case"not_smaller":return n.axes.length>0?Math.max(...n.axes.map(i=>t[i]),Number.MIN_VALUE):Math.max(...t,Number.MIN_VALUE);default:throw new Error(`Keep aspect ratio policy ${n.keepAspectRatioPolicy} is not supported`)}})();t.fill(1,0,t.length);let o=e.slice();return n.axes.length>0?(n.axes.forEach(i=>t[i]=r),n.axes.forEach(i=>o[i]=Math.round(e[i]*t[i]))):(t.fill(r,0,t.length),o.forEach((i,s)=>o[s]=Math.round(i*t[s]))),o},E3=(e,t,n,r,o)=>`
    fn calculateOriginalIndicesFromOutputIndices(output_indices: ${e.type.indices}) -> array<${e.type.value}, ${n.length}> {
      var original_indices: array<${e.type.value}, ${n.length}>;
      for (var i:u32 = 0; i < ${n.length}; i++) {
        var output_index = ${e.indicesGet("output_indices","i")};
        var scale = ${Fe("uniforms.scales","i",r)};
        var roi_low = ${Fe("uniforms.roi","i",o)};
        var roi_hi = ${Fe("uniforms.roi",`i + ${t.length}`,o)};
        if (scale == 1.0) {
          original_indices[i] = ${e.type.value}(output_index);
        } else {
          var input_shape_i = ${Fe("uniforms.input_shape","i",t.length)};
          var output_shape_i = ${Fe("uniforms.output_shape","i",n.length)};
          original_indices[i] = getOriginalCoordinateFromResizedCoordinate(output_index, scale, output_shape_i,
                                                                           input_shape_i, roi_low, roi_hi);
        }
      }
      return original_indices;
    }`,T3=(e,t,n,r,o,i,s)=>`
    fn calculateInputIndicesFromOutputIndices(output_indices: ${t.type.indices}) -> ${e.type.indices} {
      var input_indices: ${e.type.indices};
      for (var i:u32 = 0; i < ${r.length}; i++) {
        var output_index = ${t.indicesGet("output_indices","i")};
        var input_index: u32;
        var scale = ${Fe("uniforms.scales","i",o)};
        if (scale == 1.0) {
          input_index = output_index;
        } else {
          var roi_low = ${Fe("uniforms.roi","i",i)};
          var roi_hi = ${Fe("uniforms.roi",`i + ${n.length}`,i)};
          var input_shape_i = ${Fe("uniforms.input_shape","i",n.length)};
          var output_shape_i = ${Fe("uniforms.output_shape","i",r.length)};
          var original_idx = getOriginalCoordinateFromResizedCoordinate(output_index, scale, output_shape_i,
                                                                        input_shape_i, roi_low, roi_hi);
          if (!${s} || (original_idx >= 0 && original_idx < ${t.type.value}(input_shape_i))) {
            if (original_idx < 0) {
              input_index = 0;
            } else if (original_idx > ${t.type.value}(input_shape_i - 1)) {
              input_index = input_shape_i - 1;
            } else {
              input_index = u32(getNearestPixelFromOriginal(original_idx, scale < 1));
            }
          } else {
            input_index = u32(original_idx);
          }
        }
        ${e.indicesSet("input_indices","i","input_index")}
      }
      return input_indices;
    }`,D3=(e,t)=>`
    fn checkInputIndices(input_indices: ${e.type.indices}) -> bool {
      for (var i:u32 = 0; i < ${t.length}; i++) {
        var input_index = ${e.indicesGet("input_indices","i")};
        if (input_index < 0 || input_index >= ${Fe("uniforms.input_shape","i",t.length)}) {
          return false;
        }
      }
      return true;
    }`,FI=(e,t,n,r)=>e.rank>r?`
    ${e.indicesSet("input_indices",t,"channel")};
    ${e.indicesSet("input_indices",n,"batch")};
`:"",F3=(e,t,n,r,o)=>{let[i,s,l,c]=n.length===2?[-1,0,1,-1]:[0,2,3,1],u=e.type.value;return`
    fn getInputValue(batch: u32, channel: u32, row: u32, col: u32) -> ${u} {
      var input_indices: ${e.type.indices};
      ${e.indicesSet("input_indices",s,`max(0, min(row, ${n[s]} - 1))`)};
      ${e.indicesSet("input_indices",l,`max(0, min(col, ${n[l]} - 1))`)};
      ${FI(e,c,i,2)}
      return ${e.getByIndices("input_indices")};
    }

    fn bilinearInterpolation(output_indices: ${t.type.indices}) -> ${u} {
      var originalIndices = calculateOriginalIndicesFromOutputIndices(output_indices);
      var row:${u} = originalIndices[${s}];
      var col:${u} = originalIndices[${l}];
      ${r?`if (row < 0 || row > (${n[s]} - 1) || col < 0 || col > (${n[l]} - 1)) {
        return ${o};
      }`:""};
      row = max(0, min(row, ${n[s]} - 1));
      col = max(0, min(col, ${n[l]} - 1));
      var row1: u32 = u32(row);
      var col1: u32 = u32(col);
      var row2: u32 = u32(row + 1);
      var col2: u32 = u32(col + 1);
      var channel: u32 = ${n.length>2?`u32(originalIndices[${c}])`:"0"};
      var batch: u32 =  ${n.length>2?`u32(originalIndices[${i}])`:"0"};
      var x11: ${u} = getInputValue(batch, channel, row1, col1);
      var x12: ${u} = getInputValue(batch, channel, row1, col2);
      var x21: ${u} = getInputValue(batch, channel, row2, col1);
      var x22: ${u} = getInputValue(batch, channel, row2, col2);
      var dx1: ${u} = abs(row - ${u}(row1));
      var dx2: ${u} = abs(${u}(row2) - row);
      var dy1: ${u} = abs(col - ${u}(col1));
      var dy2: ${u} = abs(${u}(col2) - col);
      if (row1 == row2) {
        dx1 = 0.5;
        dx2 = 0.5;
      }
      if (col1 == col2) {
        dy1 = 0.5;
        dy2 = 0.5;
      }
      return (x11 * dx2 * dy2 + x12 * dx2 * dy1 + x21 * dx1 * dy2 + x22 * dx1 * dy1);
    }`},k3=(e,t,n,r,o,i,s,l,c,u)=>{let d=n.length===2,p=!0,[f,m]=d?[0,1]:p?[2,3]:[1,2],h=e.type.value,g=_=>{let $=_===f?"row":"col";return`
      fn ${$}CubicInterpolation(input_indices: ${e.type.indices}, output_indices: ${t.type.indices}) -> ${h} {
        var output_index = ${t.indicesGet("output_indices",_)};
        var originalIdx: ${h} = getOriginalCoordinateFromResizedCoordinate(output_index, ${o[_]},
        ${r[_]}, ${n[_]}, ${i[_]}, ${i[_]} + ${n.length});
        var fractOriginalIdx: ${h} = originalIdx - floor(originalIdx);
        var coefs = getCubicInterpolationCoefs(fractOriginalIdx);

        if (${l} && (originalIdx < 0 || originalIdx > (${n[_]} - 1))) {
          return ${c};
        }
        var data: array<${h}, 4> = array<${h}, 4>(0.0, 0.0, 0.0, 0.0);
        for (var i: i32 = -1; i < 3; i++) {
          var ${$}: ${h} = originalIdx + ${h}(i);
          if (${$} < 0 || ${$} >= ${n[_]}) {
            ${u?`coefs[i + 1] = 0.0;
                        continue;`:l?`return ${c};`:`${$} = max(0, min(${$}, ${n[_]} - 1));`};
          }
        var input_indices_copy: ${e.type.indices} = input_indices;
          ${e.indicesSet("input_indices_copy",_,`u32(${$})`)};
          data[i + 1] = ${_===f?e.getByIndices("input_indices_copy"):"rowCubicInterpolation(input_indices_copy, output_indices)"};
        }
        return cubicInterpolation1D(data, coefs);
      }`};return`
    ${g(f)};
    ${g(m)};
  fn getCubicInterpolationCoefs(s: ${h}) -> array<${h}, 4> {
    var absS = abs(s);
    var coeffs: array<${h}, 4> = array<${h}, 4>(0.0, 0.0, 0.0, 0.0);
    var oneMinusAbsS: ${h} = 1.0 - absS;
    var twoMinusAbsS: ${h} = 2.0 - absS;
    var onePlusAbsS: ${h} = 1.0 + absS;
    coeffs[0] = ((${s} * onePlusAbsS - 5 * ${s}) * onePlusAbsS + 8 * ${s}) * onePlusAbsS - 4 * ${s};
    coeffs[1] = ((${s} + 2) * absS - (${s} + 3)) * absS * absS + 1;
    coeffs[2] = ((${s} + 2) * oneMinusAbsS - (${s} + 3)) * oneMinusAbsS * oneMinusAbsS + 1;
    coeffs[3] = ((${s} * twoMinusAbsS - 5 * ${s}) * twoMinusAbsS + 8 * ${s}) * twoMinusAbsS - 4 * ${s};
    return coeffs;
  }

  fn cubicInterpolation1D(x: array<${h}, 4>, coefs: array<${h}, 4>) -> ${h} {
    var coefsSum: ${h} = coefs[0] + coefs[1] + coefs[2] + coefs[3];
    return (x[0] * coefs[0] + x[1] * coefs[1]+ x[2] * coefs[2]+ x[3] * coefs[3]) / coefsSum;
  }

  fn bicubicInterpolation(output_indices: ${t.type.indices}) -> ${h} {
    var input_indices: ${e.type.indices} = output_indices;
    return colCubicInterpolation(input_indices, output_indices);
  }
    `},A3=(e,t,n,r,o)=>{let[i,s,l,c,u]=n.length===3?[-1,0,1,2,-1]:[0,2,3,4,1],d=e.type.value;return`
    fn getInputValue(batch: u32, channel: u32, depth:u32, height: u32, width: u32) -> ${d} {
      var input_indices: ${e.type.indices};
      ${e.indicesSet("input_indices",s,`max(0, min(depth, ${n[s]} - 1))`)};
      ${e.indicesSet("input_indices",l,`max(0, min(height, ${n[l]} - 1))`)};
      ${e.indicesSet("input_indices",c,`max(0, min(width, ${n[c]} - 1))`)};
      ${FI(e,u,i,3)}
      return ${e.getByIndices("input_indices")};
    }

    fn trilinearInterpolation(output_indices: ${t.type.indices}) -> ${d} {
      var originalIndices = calculateOriginalIndicesFromOutputIndices(output_indices);
      var depth:${d} = originalIndices[${s}];
      var height:${d} = originalIndices[${l}];
      var width:${d} = originalIndices[${c}];
      ${r?`if (depth < 0 || depth > (${n[s]} - 1) || height < 0 || height > (${n[l]} - 1) || width < 0 || (width > ${n[c]} - 1)) {
      return ${o};
        }`:""};

    depth = max(0, min(depth, ${n[s]} - 1));
      height = max(0, min(height, ${n[l]} - 1));
      width = max(0, min(width, ${n[c]} - 1));
      var depth1: u32 = u32(depth);
      var height1: u32 = u32(height);
      var width1: u32 = u32(width);
      var depth2: u32 = u32(depth + 1);
      var height2: u32 = u32(height + 1);
      var width2: u32 = u32(width + 1);
      var channel: u32 = ${n.length>3?`u32(originalIndices[${u}])`:"0"};
      var batch: u32 =  ${n.length>3?`u32(originalIndices[${i}])`:"0"};

      var x111: ${d} = getInputValue(batch, channel, depth1, height1, width1);
      var x112: ${d} = getInputValue(batch, channel, depth1, height1, width2);
      var x121: ${d} = getInputValue(batch, channel, depth1, height2, width1);
      var x122: ${d} = getInputValue(batch, channel, depth1, height2, width2);
      var x211: ${d} = getInputValue(batch, channel, depth2, height1, width1);
      var x212: ${d} = getInputValue(batch, channel, depth2, height1, width2);
      var x221: ${d} = getInputValue(batch, channel, depth2, height2, width1);
      var x222: ${d} = getInputValue(batch, channel, depth2, height2, width2);
      var dx1: ${d} = abs(depth - ${d}(depth1));
      var dx2: ${d} = abs(${d}(depth2) - depth);
      var dy1: ${d} = abs(height - ${d}(height1));
      var dy2: ${d} = abs(${d}(height2) - height);
      var dz1: ${d} = abs(width - ${d}(width1));
      var dz2: ${d} = abs(${d}(width2) - width);
      if (depth1 == depth2) {
        dx1 = 0.5;
        dx2 = 0.5;
      }
      if (height1 == height2) {
        dy1 = 0.5;
        dy2 = 0.5;
      }
      if (width1 == width2) {
        dz1 = 0.5;
        dz2 = 0.5;
      }
      return (x111 * dx2 * dy2 * dz2 + x112 * dx2 * dy2 * dz1 + x121 * dx2 * dy1 *dz2 + x122 * dx2 * dy1 * dz1 +
              x211 * dx1 * dy2 * dz2 + x212 * dx1 * dy2 * dz1 + x221 * dx1 * dy1 *dz2 + x222 * dx1 * dy1 * dz1);
    }`},M3=(e,t,n,r,o,i)=>{let s=e.dims,l=S3(i,t.axes,s.length),c=C3(s,r,o,t.axes),u=r.slice();r.length===0&&(u=s.map((x,w)=>x===0?1:c[w]/x),t.keepAspectRatioPolicy!=="stretch"&&(c=I3(s,u,t)));let d=De("output",e.dataType,c.length),p=ue("input",e.dataType,s.length),f=oe.size(c),m=s.length===c.length&&s.every((x,w)=>x===c[w]),h=t.coordinateTransformMode==="tf_crop_and_resize",g=t.extrapolationValue,_=p.type.value,$=x=>`
      ${m?"":`
      ${v3(t.coordinateTransformMode,_)};
      ${(()=>{switch(t.mode){case"nearest":return`
              ${D3(p,s)};
              ${w3(t.nearestMode,n,_)};
              ${T3(p,d,s,c,u.length,l.length,h)};
              `;case"linear":return`
              ${E3(d,s,c,u.length,l.length)};
              ${(()=>{if(s.length===2||s.length===4)return`${F3(p,d,s,h,g)}`;if(s.length===3||s.length===5)return`${A3(p,d,s,h,g)}`;throw Error("Linear mode only supports input dims 2, 3, 4 and 5 are supported in linear mode.")})()};
            `;case"cubic":return`
            ${(()=>{if(s.length===2||s.length===4)return`${k3(p,d,s,c,u,l,t.cubicCoeffA,h,t.extrapolationValue,t.excludeOutside)}`;throw Error("Cubic mode only supports input dims 2 and 4 are supported in linear mode.")})()};
            `;default:throw Error("Invalid resize mode")}})()};
      `}
      ${x.registerUniform("output_size","u32").registerUniform("scales","f32",u.length).registerUniform("roi","f32",l.length).declareVariables(p,d)}
      ${x.mainStart()}
        ${x.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
        ${m?"output[global_idx] = input[global_idx];":`
        let output_indices = ${d.offsetToIndices("global_idx")};
        var input_indices: ${p.type.indices};
        ${(()=>{switch(t.mode){case"nearest":return`input_indices = calculateInputIndicesFromOutputIndices(output_indices);
                if (checkInputIndices(input_indices)) {
                  output[global_idx] = ${p.getByIndices("input_indices")};
                } else {
                  output[global_idx] = ${t.extrapolationValue};
                }`;case"linear":return`output[global_idx] = ${s.length===2||s.length===4?"bilinearInterpolation":"trilinearInterpolation"}(output_indices);`;case"cubic":return"output[global_idx] = bicubicInterpolation(output_indices);";default:throw Error(`Unsupported resize mode: ${t.mode}`)}})()};
`}
      }`;return{name:"Resize",shaderCache:{hint:`${t.cacheKey}|${n}|${u.length>0?t.mode==="cubic"?u:u.length:""}|${o.length>0?o:""}|${l.length>0?l:""}|${m}|${t.mode==="nearest"?s.length:s}`,inputDependencies:["rank"]},getShaderSource:$,getRunData:()=>({outputs:[{dims:c,dataType:e.dataType}],dispatchGroup:{x:Math.ceil(f/64)},programUniforms:[{type:12,data:f},{type:1,data:u},{type:1,data:l},...Me(s,c)]})}},R3=e=>{let t=e.customDataBuffer;return new Uint32Array(t,t.byteOffset,1)[0]},fW=(e,t)=>{let n=[],r=[],o=[],i=R3(e);if(t.antialias!==0)throw Error("Only default value (0) for Antialias attribute is supported");x3(e.inputs,t,i,n,r,o),e.compute(M3(e.inputs[0],t,i,n,r,o),{inputs:[0]})},mW=e=>{let t=e.antialias,n=e.axes,r=e.coordinateTransformMode,o=e.cubicCoeffA,i=e.excludeOutside!==0,s=e.extrapolationValue,l=e.keepAspectRatioPolicy,c=e.mode,u=e.nearestMode===""?"simple":e.nearestMode;return Ht({antialias:t,axes:n,coordinateTransformMode:r,cubicCoeffA:o,excludeOutside:i,extrapolationValue:s,keepAspectRatioPolicy:l,mode:c,nearestMode:u})}}),j3,O3,hW,Aue=ye(()=>{"use strict";He(),et(),En(),at(),j3=(e,t)=>{let[n,r,o,i]=e,{numHeads:s,rotaryEmbeddingDim:l}=t;if(n.dims.length!==3&&n.dims.length!==4)throw new Error(`Input 'x' is expected to have 3 or 4 dimensions, got ${n.dims.length}`);if(!oe.areEqual(r.dims,[])&&!oe.areEqual(r.dims,[1])&&r.dims.length!==2)throw new Error(`Input 'position_ids' is expected to have 0, 1, or 2 dimensions, got ${r.dims.length}`);if(o.dims.length!==2)throw new Error(`Input 'cos_cache' is expected to have 2 dimensions, got ${o.dims.length}`);if(i.dims.length!==2)throw new Error(`Input 'sin_cache' is expected to have 2 dimensions, got ${i.dims.length}`);if(!oe.areEqual(o.dims,i.dims))throw new Error("Inputs 'cos_cache' and 'sin_cache' are expected to have the same shape");if(l>0&&s===0)throw new Error("num_heads must be provided if rotary_embedding_dim is specified");let c=n.dims[0],u=n.dims[n.dims.length-2],d=o.dims[0],p=oe.sizeFromDimension(n.dims,1)/u,f=l===0?o.dims[1]*2:p/s;if(l>f)throw new Error("rotary_embedding_dim must be less than or equal to head_size");if(r.dims.length===2){if(c!==r.dims[0])throw new Error(`Input 'position_ids' dimension 0 should be of size batch_size, got ${r.dims[0]}`);if(u!==r.dims[1])throw new Error(`Input 'position_ids' dimension 1 should be of size sequence_length, got ${r.dims[1]}`)}if(f/2!==o.dims[1]&&l/2!==o.dims[1])throw new Error(`Input 'cos_cache' dimension 1 should be same as head_size / 2 or rotary_embedding_dim / 2, got ${o.dims[1]}`);if(u>d)throw new Error("Updating cos_cache and sin_cache in RotaryEmbedding is not currently supported")},O3=(e,t)=>{let{interleaved:n,numHeads:r,rotaryEmbeddingDim:o,scale:i}=t,s=e[0].dims[0],l=oe.sizeFromDimension(e[0].dims,1),c=e[0].dims[e[0].dims.length-2],u=l/c,d=e[2].dims[1],p=o===0?d*2:u/r,f=new Array(s,c,u/p,p-d),m=oe.computeStrides(f),h=[{type:1,data:i},{type:12,data:f},{type:12,data:m},...e[0].dims.length===3?new Array({type:12,data:[l,u,p,1]}):[],...e[0].dims.length===4?new Array({type:12,data:[l,p,c*p,1]}):[],...Me(e[0].dims,e[1].dims,e[2].dims,e[3].dims,e[0].dims)],g=_=>{let $=ue("input",e[0].dataType,e[0].dims.length),x=ue("position_ids",e[1].dataType,e[1].dims.length),w=ue("cos_cache",e[2].dataType,e[2].dims.length),S=ue("sin_cache",e[3].dataType,e[3].dims.length),I=De("output",e[0].dataType,e[0].dims.length);return _.registerUniforms([{name:"scale",type:"f32"},{name:"global_shape",type:"u32",length:f.length},{name:"global_strides",type:"u32",length:m.length},{name:"input_output_strides",type:"u32",length:m.length}]),`
        ${_.declareVariables($,x,w,S,I)}

        ${_.mainStart(qc)}
          let half_rotary_emb_dim = uniforms.${w.name}_shape[1];
          let bsnh = global_idx / uniforms.global_strides % uniforms.global_shape;
          let size = uniforms.global_shape[0] * uniforms.global_strides[0];
          ${_.guardAgainstOutOfBoundsWorkgroupSizes("size")}

          if (bsnh[3] < half_rotary_emb_dim) {
            let position_ids_idx =
                ${x.broadcastedIndicesToOffset("bsnh.xy",De("",x.type.tensor,2))};
            let position_id =
                u32(${x.getByOffset("position_ids_idx")}) + select(0, bsnh[1], position_ids_idx == 0);
            let i = dot(bsnh, uniforms.input_output_strides) + select(0, bsnh[3], ${n});
            let j = i + select(half_rotary_emb_dim, 1, ${n});
            let re = ${$.getByOffset("i")} * ${w.get("position_id","bsnh[3]")} -
                ${$.getByOffset("j")} * ${S.get("position_id","bsnh[3]")};
            ${I.setByOffset("i","re")}
            let im = ${$.getByOffset("i")} * ${S.get("position_id","bsnh[3]")} +
                ${$.getByOffset("j")} * ${w.get("position_id","bsnh[3]")};
            ${I.setByOffset("j","im")}
          } else {
            let k = dot(bsnh, uniforms.input_output_strides) + half_rotary_emb_dim;
            ${I.setByOffset("k",$.getByOffset("k"))}
          }
        }`};return{name:"RotaryEmbedding",shaderCache:{hint:Ht({interleaved:n}).cacheKey,inputDependencies:["rank","rank","rank","rank"]},getShaderSource:g,getRunData:()=>({outputs:[{dims:e[0].dims,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(oe.size(f)/qc)},programUniforms:h})}},hW=(e,t)=>{j3(e.inputs,t),e.compute(O3(e.inputs,t))}}),N3,P3,gW,Mue=ye(()=>{"use strict";He(),et(),at(),N3=e=>{if(!e||e.length<3)throw new Error("layerNorm requires at least 3 inputs.");let t=e[0],n=e[1],r=e[2];if(t.dataType!==n.dataType||t.dataType!==r.dataType)throw new Error("All inputs must have the same data type");if(t.dims.length!==3&&t.dims.length!==2)throw new Error("Input must be 2D or 3D");if(n.dims.length!==3&&n.dims.length!==2)throw new Error("Skip must be 2D or 3D");let o=t.dims[t.dims.length-1],i=t.dims[t.dims.length-2];if(n.dims[n.dims.length-1]!==o)throw new Error("Skip must have the same hidden size as input");if(n.dims[n.dims.length-2]!==i)throw new Error("Skip must have the same sequence length as input");if(r.dims.length!==1)throw new Error("Gamma must be 1D");if(r.dims[r.dims.length-1]!==o)throw new Error("Gamma must have the same hidden size as input");if(e.length>3){let s=e[3];if(s.dims.length!==1)throw new Error("Beta must be 1D");if(s.dims[s.dims.length-1]!==o)throw new Error("Beta must have the same hidden size as input")}if(e.length>4){let s=e[4];if(s.dims.length!==1)throw new Error("Bias must be 1D");if(s.dims[s.dims.length-1]!==o)throw new Error("Bias must have the same hidden size as input")}},P3=(e,t,n,r)=>{let o=t.simplified,i=e[0].dims,s=oe.size(i),l=i,c=s,u=i.slice(-1)[0],d=r?i.slice(0,-1).concat(1):[],p=!o&&e.length>3,f=e.length>4,m=r&&n>1,h=r&&n>2,g=n>3,_=64,$=wn(u),x=[{type:12,data:c},{type:12,data:$},{type:12,data:u},{type:1,data:t.epsilon}],w=I=>{let F=[{name:"output_size",type:"u32"},{name:"components",type:"u32"},{name:"hidden_size",type:"u32"},{name:"epsilon",type:"f32"}],k=[ue("x",e[0].dataType,e[0].dims,$),ue("skip",e[1].dataType,e[1].dims,$),ue("gamma",e[2].dataType,e[2].dims,$)];p&&k.push(ue("beta",e[3].dataType,e[3].dims,$)),f&&k.push(ue("bias",e[4].dataType,e[4].dims,$)),k.push(De("output",e[0].dataType,l,$)),m&&k.push(De("mean_output",1,d)),h&&k.push(De("inv_std_output",1,d)),g&&k.push(De("input_skip_bias_sum",e[0].dataType,l,$));let M=Gn(e[0].dataType),O=Gn(1,$);return`

      ${I.registerUniforms(F).declareVariables(...k)}
      var<workgroup> sum_shared : array<${O}, ${_}>;
      var<workgroup> sum_squared_shared : array<${O}, ${_}>;

      ${I.mainStart([_,1,1])}
        let ix = local_id.x;
        let iy = global_id.x / ${_};

        let hidden_size_vectorized: u32 = uniforms.hidden_size / uniforms.components;
        var stride = hidden_size_vectorized / ${_};
        let offset = ix * stride + iy * hidden_size_vectorized;
        let offset1d = stride * ix;
        if (ix == ${_-1}) {
          stride = hidden_size_vectorized - stride * ix;
        }
        for (var i: u32 = 0; i < stride; i++) {
          let skip_value = skip[offset + i];
          let bias_value = ${f?"bias[offset1d + i]":M+"(0.0)"};
          let input_value = x[offset + i];
          let value = input_value + skip_value + bias_value;
          ${g?"input_skip_bias_sum[offset + i] = value;":""}
          output[offset + i] = value;
          let f32_value = ${Hc(M,$,"value")};
          sum_shared[ix] += f32_value;
          sum_squared_shared[ix] += f32_value * f32_value;
        }
        workgroupBarrier();

        var reduce_size : u32 = ${_};
        for (var curr_size = reduce_size >> 1;  curr_size > 0; curr_size = reduce_size >> 1) {
          reduce_size = curr_size + (reduce_size & 1);
          if (ix < curr_size) {
            sum_shared[ix] += sum_shared[ix + reduce_size];
            sum_squared_shared[ix] += sum_squared_shared[ix + reduce_size];
          }
          workgroupBarrier();
        }

        let sum = sum_shared[0];
        let square_sum = sum_squared_shared[0];
        let mean = ${Gs("sum",$)} / f32(uniforms.hidden_size);
        let inv_std_dev = inverseSqrt(${Gs("square_sum",$)} / f32(uniforms.hidden_size) ${o?"":"- mean * mean"} + uniforms.epsilon);
        ${m?"mean_output[global_idx] = mean;":""}
        ${h?"inv_std_output[global_idx] = inv_std_dev;":""}

        for (var i: u32 = 0; i < stride; i++) {
          output[offset + i] = (output[offset + i] ${o?"":`- ${M}(mean)`}) *
            ${M}(inv_std_dev) * gamma[offset1d + i]
            ${p?"+ beta[offset1d + i]":""};
        }
      }`},S=[{dims:l,dataType:e[0].dataType}];return n>1&&S.push({dims:d,dataType:1}),n>2&&S.push({dims:d,dataType:1}),n>3&&S.push({dims:i,dataType:e[0].dataType}),{name:"SkipLayerNormalization",shaderCache:{hint:`${$};${m};${h};${g}`,inputDependencies:e.map((I,F)=>"type")},getShaderSource:w,getRunData:()=>({outputs:S,dispatchGroup:{x:Math.ceil(c/u)},programUniforms:x})}},gW=(e,t)=>{N3(e.inputs);let n=[0];e.outputCount>1&&n.push(-3),e.outputCount>2&&n.push(-3),e.outputCount>3&&n.push(3),e.compute(P3(e.inputs,t,e.outputCount,!1),{outputs:n})}}),B3,ip,L3,kI,U3,W3,bW,yW,Rue=ye(()=>{"use strict";He(),et(),En(),at(),B3=(e,t)=>{if(!e||e.length<1)throw new Error("too few inputs");if(t.axes.length!==0){if(t.axes.length!==t.starts.length||t.axes.length!==t.ends.length)throw new Error("axes, starts and ends must have the same length")}else if(t.starts.length!==t.ends.length)throw new Error("starts and ends must have the same length");e.slice(1).forEach((n,r)=>{if(e[r+1].dataType!==6&&e[r+1].dataType!==7)throw new Error(`Input ${r} must be an array of int32 or int64`)})},ip=(e,t)=>{let n=[];if(e.length>t)if(e[t].dataType===7)e[t].getBigInt64Array().forEach(r=>n.push(Number(r)));else if(e[t].dataType===6)e[t].getInt32Array().forEach(r=>n.push(Number(r)));else throw new Error(`Input ${t} must be an array of int32 or int64`);return n},L3=(e,t)=>{if(e.length>1){let n=ip(e,1),r=ip(e,2),o=ip(e,3);return o.length===0&&(o=[...Array(e[0].dims.length).keys()]),Ht({starts:n,ends:r,axes:o})}else return t},kI=(e,t,n,r,o)=>{let i=e;return e<0&&(i+=n[r[t]]),o[t]<0?Math.max(0,Math.min(i,n[r[t]]-1)):Math.max(0,Math.min(i,n[r[t]]))},U3=(e,t,n)=>`fn calculateInputIndices(output_indices: ${t.type.indices}) -> ${e.type.indices} {
          var input_indices: ${e.type.indices};
          var carry = 0u;
          for (var i = ${n.length}; i >= 0; i--) {
            let input_shape_i = ${Fe("uniforms.input_shape","i",n.length)};
            let steps_i = ${Fe("uniforms.steps","i",n.length)};
            let signs_i = ${Fe("uniforms.signs","i",n.length)};
            let starts_i = ${Fe("uniforms.starts","i",n.length)};
            var output_index = ${t.indicesGet("output_indices","i")};
            var input_index = output_index * steps_i + starts_i + carry;
            carry = input_index / input_shape_i;
            input_index = input_index % input_shape_i;
            if (signs_i < 0) {
              input_index = input_shape_i - input_index - 1u + starts_i;
            }
            ${e.indicesSet("input_indices","i","input_index")};
          }
          return input_indices;
      }`,W3=(e,t)=>{let n=e[0].dims,r=oe.size(n),o=t.axes.length>0?oe.normalizeAxes(t.axes,n.length):[...Array(n.length).keys()],i=ip(e,4);i.forEach($=>$!==0||(()=>{throw new Error("step cannot be 0")})),i.length===0&&(i=Array(o.length).fill(1));let s=t.starts.map(($,x)=>kI($,x,n,o,i)),l=t.ends.map(($,x)=>kI($,x,n,o,i));if(o.length!==s.length||o.length!==l.length)throw new Error("start, ends and axes should have the same number of elements");if(o.length!==n.length)for(let $=0;$<n.length;++$)o.includes($)||(s.splice($,0,0),l.splice($,0,n[$]),i.splice($,0,1));let c=i.map($=>Math.sign($));i.forEach(($,x,w)=>{if($<0){let S=(l[x]-s[x])/$,I=s[x],F=I+S*i[x];s[x]=F,l[x]=I,w[x]=-$}});let u=n.slice(0);o.forEach(($,x)=>{u[$]=Math.ceil((l[$]-s[$])/i[$])});let d={dims:u,dataType:e[0].dataType},p=De("output",e[0].dataType,u.length),f=ue("input",e[0].dataType,e[0].dims.length),m=oe.size(u),h=[{name:"outputSize",type:"u32"},{name:"starts",type:"u32",length:s.length},{name:"signs",type:"i32",length:c.length},{name:"steps",type:"u32",length:i.length}],g=[{type:12,data:m},{type:12,data:s},{type:6,data:c},{type:12,data:i},...Me(e[0].dims,u)],_=$=>`
      ${$.registerUniforms(h).declareVariables(f,p)}
        ${U3(f,p,n)}
        ${$.mainStart()}
          ${$.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
          let output_indices = ${p.offsetToIndices("global_idx")};
          let input_indices = calculateInputIndices(output_indices);
          ${p.setByOffset("global_idx",f.getByIndices("input_indices"))}
      }`;return{name:"Slice",shaderCache:{hint:`${c.length}_${s.length}_${i.length}`,inputDependencies:["rank"]},getShaderSource:_,getRunData:()=>({outputs:[d],dispatchGroup:{x:Math.ceil(r/64)},programUniforms:g})}},bW=(e,t)=>{B3(e.inputs,t);let n=L3(e.inputs,t);e.compute(W3(e.inputs,n),{inputs:[0]})},yW=e=>{let t=e.starts,n=e.ends,r=e.axes;return Ht({starts:t,ends:n,axes:r})}}),z3,V3,_W,$W,jue=ye(()=>{"use strict";He(),et(),En(),qs(),at(),z3=e=>{if(!e||e.length!==1)throw new Error("Softmax op requires 1 input.")},V3=(e,t)=>{let n=e.inputs[0],r=n.dims,o=oe.size(r),i=r.length,s=oe.normalizeAxis(t.axis,i),l=s<r.length-1,c,u=[];l?(u=Array.from({length:i},(k,M)=>M),u[s]=i-1,u[i-1]=s,c=e.compute(to(n,u),{inputs:[n],outputs:[-1]})[0]):c=n;let d=c.dims,p=d[i-1],f=o/p,m=wn(p),h=p/m,g=64;f===1&&(g=256);let _=(k,M)=>M===4?`max(max(${k}.x, ${k}.y), max(${k}.z, ${k}.w))`:M===2?`max(${k}.x, ${k}.y)`:M===3?`max(max(${k}.x, ${k}.y), ${k}.z)`:k,$=ue("x",c.dataType,c.dims,m),x=De("result",c.dataType,c.dims,m),w=$.type.value,S=Gn(c.dataType)==="f32"?`var threadMax = ${w}(-3.402823e+38f);`:`var threadMax = ${w}(-65504.0h);`,I=k=>`
      var<workgroup> rowMaxShared : ${w};
      var<workgroup> rowSumShared : ${w};
      var<workgroup> threadShared : array<${w}, ${g}>;

      fn getValue(row: i32, col: i32, row_stride: i32) -> ${w} {
        let index = row * row_stride + col;
        return x[index];
      }

      fn setValue(row: i32, col: i32, row_stride: i32, value: ${w}) {
        let index = row * row_stride + col;
        result[index] = value;
      }
      ${k.registerUniform("packedCols","i32").declareVariables($,x)}
      ${k.mainStart(g)}
        let gindex = i32(global_idx);
        let lindex = i32(local_idx);
        const wg = ${g};
        let row = gindex / wg;
        let cols = uniforms.packedCols;
        let row_stride : i32 = uniforms.packedCols;

        // find the rows max
        ${S}
        for (var col = lindex; col < cols; col += wg) {
          let value = getValue(row, col, row_stride);
          threadMax = max(threadMax, value);
        }
        if (lindex < cols) {
          threadShared[lindex] = threadMax;
        }
        workgroupBarrier();

        var reduceSize = min(cols, wg);
        for (var currSize = reduceSize >> 1;  currSize > 0; currSize = reduceSize >> 1) {
          reduceSize = currSize + (reduceSize & 1);
          if (lindex < currSize) {
            threadShared[lindex] = max(threadShared[lindex], threadShared[lindex + reduceSize]);
          }
          workgroupBarrier();
        }
        if (lindex == 0) {
          rowMaxShared = ${w}(${_("threadShared[0]",m)});
        }
        workgroupBarrier();

        // find the rows sum
        var threadSum = ${w}(0.0);
        for (var col = lindex; col < cols; col += wg) {
          let subExp = exp(getValue(row, col, row_stride) - rowMaxShared);
          threadSum += subExp;
        }
        threadShared[lindex] = threadSum;
        workgroupBarrier();

        for (var currSize = wg >> 1;  currSize > 0; currSize = currSize >> 1) {
          if (lindex < currSize) {
            threadShared[lindex] = threadShared[lindex] + threadShared[lindex + currSize];
          }
          workgroupBarrier();
        }
        if (lindex == 0) {
          rowSumShared = ${w}(${Gs("threadShared[0]",m)});
        }
        workgroupBarrier();

        // calculate final value for each element in the row
        for (var col = lindex; col < cols; col += wg) {
          let value = exp(getValue(row, col, row_stride) - rowMaxShared) / rowSumShared;
          setValue(row, col, row_stride, value);
        }
      }`,F=e.compute({name:"Softmax",shaderCache:{hint:`${m};${g}`,inputDependencies:["type"]},getRunData:()=>({outputs:[{dims:d,dataType:c.dataType}],dispatchGroup:{x:f},programUniforms:[{type:6,data:h}]}),getShaderSource:I},{inputs:[c],outputs:[l?-1:0]})[0];l&&e.compute(to(F,u),{inputs:[F]})},_W=(e,t)=>{z3(e.inputs),V3(e,t)},$W=e=>Ht({axis:e.axis})}),AI,H3,G3,q3,xW,Oue=ye(()=>{"use strict";He(),et(),at(),AI=e=>Array.from(e.getBigInt64Array(),Number),H3=e=>{if(!e||e.length!==2)throw new Error("Tile requires 2 inputs.");if(e[0].dataType!==1&&e[0].dataType!==10&&e[0].dataType!==6&&e[0].dataType!==12)throw new Error("Tile only support float, float16, int32, and uint32 data types");if(e[1].dataType!==7)throw new Error("Tile `repeats` input should be of int64 data type");if(e[1].dims.length!==1)throw new Error("Tile `repeats` input should be 1-D");if(AI(e[1]).length!==e[0].dims.length)throw new Error("Tile `repeats` input should have same number of elements as rank of input data tensor")},G3=(e,t)=>{let n=[];for(let r=0;r<e.length;++r)n.push(e[r]*t[r]);return n},q3=(e,t)=>{let n=e[0].dims,r=t??AI(e[1]),o=G3(n,r),i=oe.size(o),s=e[0].dataType,l=ue("input",s,n.length),c=De("output",s,o.length),u=d=>`
      const inputShape = ${l.indices(...n)};
      ${d.registerUniform("output_size","u32").declareVariables(l,c)}
      ${d.mainStart()}
      ${d.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
      let output_indices = ${c.offsetToIndices("global_idx")};
      var input_indices: ${l.type.indices};
      for (var i = 0; i < ${n.length}; i++) {
        let input_dim_i = ${l.indicesGet("uniforms.input_shape","i")};
        let input_dim_value = ${c.indicesGet("output_indices","i")}  % input_dim_i;

        ${l.indicesSet("input_indices","i","input_dim_value")}
      }
      ${c.setByOffset("global_idx",l.getByIndices("input_indices"))}
    }`;return{name:"Tile",shaderCache:{hint:`${r}`,inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:o,dataType:e[0].dataType}],dispatchGroup:{x:Math.ceil(i/64)},programUniforms:[{type:12,data:i},...Me(e[0].dims,o)]}),getShaderSource:u}},xW=e=>{H3(e.inputs),e.compute(q3(e.inputs),{inputs:[0]})}}),K3,X3,vW,Nue=ye(()=>{"use strict";He(),et(),at(),K3=(e,t,n,r,o)=>{let i=De("output_data",o,n.length,4),s=ue("a_data",t[1].dataType,t[1].dims.length,4),l=ue("b_data",t[2].dataType,t[2].dims.length,4),c=ue("c_data",t[0].dataType,t[0].dims.length,4),u,d=(p,f,m)=>`select(${f}, ${p}, ${m})`;if(!r)u=i.setByOffset("global_idx",d(s.getByOffset("global_idx"),l.getByOffset("global_idx"),c.getByOffset("global_idx")));else{let p=(f,m,h="")=>{let g=`a_data[index_a${m}][component_a${m}]`,_=`b_data[index_b${m}][component_b${m}]`,$=`bool(c_data[index_c${m}] & (0xffu << (component_c${m} * 8)))`;return`
            let output_indices${m} = ${i.offsetToIndices(`global_idx * 4u + ${m}u`)};
            let offset_a${m} = ${s.broadcastedIndicesToOffset(`output_indices${m}`,i)};
            let offset_b${m} = ${l.broadcastedIndicesToOffset(`output_indices${m}`,i)};
            let offset_c${m} = ${c.broadcastedIndicesToOffset(`output_indices${m}`,i)};
            let index_a${m} = offset_a${m} / 4u;
            let index_b${m} = offset_b${m} / 4u;
            let index_c${m} = offset_c${m} / 4u;
            let component_a${m} = offset_a${m} % 4u;
            let component_b${m} = offset_b${m} % 4u;
            let component_c${m} = offset_c${m} % 4u;
            ${f}[${m}] = ${h}(${d(g,_,$)});
          `};o===9?u=`
            var data = vec4<u32>(0);
            ${p("data",0,"u32")}
            ${p("data",1,"u32")}
            ${p("data",2,"u32")}
            ${p("data",3,"u32")}
            output_data[global_idx] = dot(vec4<u32>(0x1, 0x100, 0x10000, 0x1000000), vec4<u32>(data));`:u=`
            ${p("output_data[global_idx]",0)}
            ${p("output_data[global_idx]",1)}
            ${p("output_data[global_idx]",2)}
            ${p("output_data[global_idx]",3)}
          `}return`
        ${e.registerUniform("vec_size","u32").declareVariables(c,s,l,i)}
        ${e.mainStart()}
        ${e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size")}
        ${u}
      }`},X3=e=>{let t=e[1].dims,n=e[2].dims,r=e[0].dims,o=e[1].dataType,i=!(oe.areEqual(t,n)&&oe.areEqual(n,r)),s=t,l=oe.size(t);if(i){let u=Gc.calcShape(Gc.calcShape(t,n,!1),r,!1);if(!u)throw new Error("Can't perform where op on the given tensors");s=u,l=oe.size(s)}let c=Math.ceil(l/4);return{name:"Where",shaderCache:{inputDependencies:["rank","rank","rank"]},getShaderSource:u=>K3(u,e,s,i,o),getRunData:()=>({outputs:[{dims:s,dataType:o}],dispatchGroup:{x:Math.ceil(l/64/4)},programUniforms:[{type:12,data:c},...Me(r,t,n,s)]})}},vW=e=>{e.compute(X3(e.inputs))}}),wW,Pue=ye(()=>{"use strict";Zce(),hE(),Qce(),Jce(),eue(),tue(),nue(),aue(),cue(),uue(),due(),pue(),fue(),mue(),hue(),gue(),bue(),yue(),_ue(),$ue(),xue(),vue(),wue(),Sue(),Cue(),z4(),Iue(),Eue(),Tue(),Due(),Fue(),mE(),kue(),Aue(),Mue(),Rue(),jue(),G4(),Oue(),qs(),gE(),Nue(),wW=new Map([["Abs",[bU]],["Acos",[yU]],["Acosh",[_U]],["Add",[JU]],["ArgMax",[fU,VI]],["ArgMin",[pU,VI]],["Asin",[$U]],["Asinh",[xU]],["Atan",[vU]],["Atanh",[wU]],["Attention",[mU]],["AveragePool",[tW,eW]],["BatchNormalization",[hU]],["BiasAdd",[gU]],["BiasSplitGelu",[QU]],["Cast",[CU,SU]],["Ceil",[EU]],["Clip",[IU]],["Concat",[c4,u4]],["Conv",[YI,XI]],["ConvTranspose",[$4,_4]],["Cos",[TU]],["Cosh",[DU]],["CumSum",[x4,v4]],["DepthToSpace",[w4,S4]],["DequantizeLinear",[lW,cW]],["Div",[e4]],["Einsum",[C4,I4]],["Elu",[FU,up]],["Equal",[t4]],["Erf",[kU]],["Exp",[AU]],["Expand",[E4]],["FastGelu",[T4]],["Floor",[MU]],["FusedConv",[YI,XI]],["Gather",[F4,D4]],["GatherElements",[O4,j4]],["GatherBlockQuantized",[M4,R4]],["GatherND",[k4,A4]],["Gelu",[RU]],["Gemm",[P4,N4]],["GlobalAveragePool",[rW,nW]],["GlobalMaxPool",[aW,sW]],["Greater",[i4]],["GreaterOrEqual",[a4]],["GridSample",[B4,L4]],["GroupQueryAttention",[q4]],["HardSigmoid",[WU,UU]],["InstanceNormalization",[K4]],["LayerNormalization",[X4]],["LeakyRelu",[jU,up]],["Less",[s4]],["LessOrEqual",[l4]],["Log",[YU]],["MatMul",[Y4]],["MatMulNBits",[Z4,Q4]],["MaxPool",[oW,iW]],["Mul",[n4]],["MultiHeadAttention",[W4,U4]],["Neg",[NU]],["Not",[OU]],["Pad",[J4]],["Pow",[r4]],["QuickGelu",[ZU,up]],["Range",[uW]],["Reciprocal",[PU]],["ReduceMin",[aU]],["ReduceMean",[nU]],["ReduceMax",[sU]],["ReduceSum",[cU]],["ReduceProd",[lU]],["ReduceL1",[rU]],["ReduceL2",[oU]],["ReduceLogSum",[dU]],["ReduceLogSumExp",[iU]],["ReduceSumSquare",[uU]],["Relu",[BU]],["Resize",[fW,mW]],["RotaryEmbedding",[hW]],["ScatterND",[pW,dW]],["Sigmoid",[LU]],["Sin",[zU]],["Sinh",[VU]],["Slice",[bW,yW]],["SkipLayerNormalization",[gW]],["Split",[V4,H4]],["Sqrt",[HU]],["Softmax",[_W,$W]],["Sub",[o4]],["Tan",[GU]],["Tanh",[qU]],["ThresholdedRelu",[XU,up]],["Tile",[xW]],["Transpose",[VL,HL]],["Where",[vW]]])}),SW,Bue=ye(()=>{"use strict";Jo(),Ji(),at(),SW=class{constructor(e){this.backend=e,this.repo=new Map,this.attributesBound=!1}getArtifact(e){return this.repo.get(e)}setArtifact(e,t){this.repo.set(e,t)}run(e,t,n,r,o){Si(e.programInfo.name);let i=this.backend.device,s=this.backend.getComputePassEncoder();this.backend.writeTimestamp(this.backend.pendingDispatchNumber*2);let l=[];for(let u of t)l.push({binding:l.length,resource:{buffer:u.buffer}});for(let u of n)l.push({binding:l.length,resource:{buffer:u.buffer}});o&&l.push({binding:l.length,resource:o});let c=i.createBindGroup({layout:e.computePipeline.getBindGroupLayout(0),entries:l,label:e.programInfo.name});if(this.backend.sessionStatus==="capturing"){let u={kernelId:this.backend.currentKernelId,computePipeline:e.computePipeline,bindGroup:c,dispatchGroup:r};this.backend.capturedCommandList.get(this.backend.currentSessionId).push(u)}s.setPipeline(e.computePipeline),s.setBindGroup(0,c),s.dispatchWorkgroups(...r),this.backend.writeTimestamp(this.backend.pendingDispatchNumber*2+1),this.backend.pendingDispatchNumber++,(this.backend.pendingDispatchNumber>=this.backend.maxDispatchNumber||this.backend.queryType==="at-passes")&&this.backend.endComputePass(),this.backend.pendingDispatchNumber>=this.backend.maxDispatchNumber&&this.backend.flush(),Qo(e.programInfo.name)}dispose(){}build(e,t){Si(e.name);let n=this.backend.device,r=[];[{feature:"shader-f16",extension:"f16"},{feature:"subgroups",extension:"subgroups"},{feature:"subgroups-f16",extension:"subgroups_f16"}].forEach(u=>{n.features.has(u.feature)&&r.push(`enable ${u.extension};`)});let o=zL(t,this.backend.device.limits),i=e.getShaderSource(o),s=`${r.join(`
`)}
${o.additionalImplementations}
${i}`,l=n.createShaderModule({code:s,label:e.name});Et("verbose",()=>`[WebGPU] ${e.name} shader code: ${s}`);let c=n.createComputePipeline({compute:{module:l,entryPoint:"main"},layout:"auto",label:e.name});return Qo(e.name),{programInfo:e,computePipeline:c,uniformVariablesInfo:o.variablesInfo}}normalizeDispatchGroupSize(e){let t=typeof e=="number"?e:e.x,n=typeof e=="number"?1:e.y||1,r=typeof e=="number"?1:e.z||1,o=this.backend.device.limits.maxComputeWorkgroupsPerDimension;if(t<=o&&n<=o&&r<=o)return[t,n,r];let i=t*n*r,s=Math.ceil(Math.sqrt(i));if(s>o){if(s=Math.ceil(Math.cbrt(i)),s>o)throw new Error("Total dispatch size exceeds WebGPU maximum.");return[s,s,s]}else return[s,s,1]}}}),Y3,Z3,Q3,J3,CW,Lue=ye(()=>{"use strict";Jo(),He(),Ji(),NL(),Xce(),Pue(),Bue(),Y3=(e,t)=>{if(t.length!==e.length)throw new Error(`inputDependencies length ${t.length} is not equal to inputTensors length ${e.length}.`);let n=[];for(let r=0;r<e.length;++r){let o=e[r].dataType;switch(t[r]){case"none":{n.push("");break}case"type":{n.push(`${o}`);break}case"rank":{let i=e[r].dims.length;n.push(`${o};${i}`);break}case"dims":{let i=e[r].dims.join(",");n.push(`${o};${i}`);break}default:throw new Error(`unsupported input dependency: ${t[r]}`)}}return n.join("|")},Z3=(e,t,n)=>{let r=e.name;return e.shaderCache?.hint&&(r+="["+e.shaderCache.hint+"]"),r+=":"+n+`:${Y3(t,e.shaderCache?.inputDependencies??new Array(t.length).fill("dims"))}`,r},Q3=class{constructor(e){e&&(this.architecture=e.architecture,this.vendor=e.vendor)}isArchitecture(e){return this.architecture===e}isVendor(e){return this.vendor===e}},J3=class{constructor(e){this.subgroupsSupported=e.features.has("subgroups"),this.subgroupsF16Supported=e.features.has("subgroups");let t=e.limits;!this.subgroupsSupported||!t.minSubgroupSize||!t.maxSubgroupSize?this.subgroupSizeRange=void 0:this.subgroupSizeRange=[t.minSubgroupSize,t.maxSubgroupSize]}},CW=class{constructor(){this.currentSessionId=null,this.currentKernelId=null,this.commandEncoder=null,this.computePassEncoder=null,this.maxDispatchNumber=16,this.pendingDispatchNumber=0,this.pendingKernels=[],this.pendingQueries=new Map,this.sessionStatus="default",this.capturedCommandList=new Map,this.capturedPendingKernels=new Map,this.sessionExternalDataMapping=new Map}get currentKernelCustomData(){if(this.currentKernelId===null)throw new Error("currentKernelCustomData(): currentKernelId is null. (should not happen)");let e=this.kernelCustomData.get(this.currentKernelId);return e||(e={},this.kernelCustomData.set(this.currentKernelId,e)),e}initialize(e,t){return ie(this,null,function*(){this.env=e;let n=[],r={requiredLimits:{maxComputeWorkgroupStorageSize:t.limits.maxComputeWorkgroupStorageSize,maxComputeWorkgroupsPerDimension:t.limits.maxComputeWorkgroupsPerDimension,maxStorageBufferBindingSize:t.limits.maxStorageBufferBindingSize,maxBufferSize:t.limits.maxBufferSize,maxComputeInvocationsPerWorkgroup:t.limits.maxComputeInvocationsPerWorkgroup,maxComputeWorkgroupSizeX:t.limits.maxComputeWorkgroupSizeX,maxComputeWorkgroupSizeY:t.limits.maxComputeWorkgroupSizeY,maxComputeWorkgroupSizeZ:t.limits.maxComputeWorkgroupSizeZ},requiredFeatures:n},o=i=>t.features.has(i)&&n.push(i)&&!0;o("chromium-experimental-timestamp-query-inside-passes")||o("timestamp-query"),o("shader-f16"),o("subgroups")&&o("subgroups-f16"),this.device=yield t.requestDevice(r),this.deviceInfo=new J3(this.device),this.adapterInfo=new Q3(t.info||(yield t.requestAdapterInfo())),this.gpuDataManager=PL(this),this.programManager=new SW(this),this.kernels=new Map,this.kernelPersistentData=new Map,this.kernelCustomData=new Map,uE(e.logLevel,!!e.debug),this.device.onuncapturederror=i=>{i.error instanceof GPUValidationError&&console.error(`An uncaught WebGPU validation error was raised: ${i.error.message}`)},Object.defineProperty(this.env.webgpu,"device",{value:this.device,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(this.env.webgpu,"adapter",{value:t,writable:!1,enumerable:!0,configurable:!1}),this.setQueryType()})}dispose(){typeof this.querySet<"u"&&this.querySet.destroy(),this.gpuDataManager.dispose()}getCommandEncoder(){return this.commandEncoder||(this.commandEncoder=this.device.createCommandEncoder()),this.commandEncoder}getComputePassEncoder(){if(!this.computePassEncoder){let e=this.getCommandEncoder(),t={};this.queryType==="at-passes"&&(t.timestampWrites={querySet:this.querySet,beginningOfPassWriteIndex:this.pendingDispatchNumber*2,endOfPassWriteIndex:this.pendingDispatchNumber*2+1}),this.computePassEncoder=e.beginComputePass(t)}return this.computePassEncoder}endComputePass(){this.computePassEncoder&&(this.computePassEncoder.end(),this.computePassEncoder=null)}flush(){if(!this.commandEncoder)return;Si(),this.endComputePass();let e;this.queryType!=="none"&&(this.commandEncoder.resolveQuerySet(this.querySet,0,this.pendingDispatchNumber*2,this.queryResolveBuffer,0),e=this.device.createBuffer({size:this.pendingDispatchNumber*2*8,usage:GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST}),this.pendingQueries.set(e,this.pendingKernels),this.pendingKernels=[],this.commandEncoder.copyBufferToBuffer(this.queryResolveBuffer,0,e,0,this.pendingDispatchNumber*2*8)),this.device.queue.submit([this.commandEncoder.finish()]),this.gpuDataManager.refreshPendingBuffers(),this.commandEncoder=null,this.pendingDispatchNumber=0,this.queryType!=="none"&&e.mapAsync(GPUMapMode.READ).then(()=>{let t=new BigUint64Array(e.getMappedRange()),n=this.pendingQueries.get(e);for(let r=0;r<t.length/2;r++){let o=n[r],i=o.kernelId,s=this.kernels.get(i),l=s.kernelType,c=s.kernelName,u=o.programName,d=o.inputTensorViews,p=o.outputTensorViews,f=t[r*2],m=t[r*2+1];typeof this.queryTimeBase>"u"&&(this.queryTimeBase=f);let h=Number(f-this.queryTimeBase),g=Number(m-this.queryTimeBase);if(!Number.isSafeInteger(h)||!Number.isSafeInteger(g))throw new RangeError("incorrect timestamp range");if(this.env.webgpu.profiling?.ondata)this.env.webgpu.profiling.ondata({version:1,inputsMetadata:d.map(_=>({dims:_.dims,dataType:Ha(_.dataType)})),outputsMetadata:p.map(_=>({dims:_.dims,dataType:Ha(_.dataType)})),kernelId:i,kernelType:l,kernelName:c,programName:u,startTime:h,endTime:g});else{let _="";d.forEach((x,w)=>{_+=`input[${w}]: [${x.dims}] | ${Ha(x.dataType)}, `});let $="";p.forEach((x,w)=>{$+=`output[${w}]: [${x.dims}] | ${Ha(x.dataType)}, `}),console.log(`[profiling] kernel "${i}|${l}|${c}|${u}" ${_}${$}execution time: ${g-h} ns`)}Nb("GPU",`${u}::${f}::${m}`)}e.unmap(),this.pendingQueries.delete(e)}),Qo()}run(e,t,n,r,o,i){Si(e.name);let s=[];for(let x=0;x<t.length;++x){let w=t[x].data;if(w===0)continue;let S=this.gpuDataManager.get(w);if(!S)throw new Error(`no GPU data for input: ${w}`);s.push(S)}let{outputs:l,dispatchGroup:c,programUniforms:u}=e.getRunData(t),d=n.length===0?l.map((x,w)=>w):n;if(d.length!==l.length)throw new Error(`Output size ${d.length} must be equal to ${l.length}.`);let p=[],f=[];for(let x=0;x<l.length;++x){if(!Number.isInteger(d[x])||d[x]<-3||d[x]>=i)throw new Error(`Invalid output index: ${d[x]}`);if(d[x]===-3)continue;let w=d[x]===-1,S=d[x]===-2,I=w||S?o(l[x].dataType,l[x].dims):r(d[x],l[x].dataType,l[x].dims);if(p.push(I),I.data===0)continue;let F=this.gpuDataManager.get(I.data);if(!F)throw new Error(`no GPU data for output: ${I.data}`);if(w&&this.temporaryData.push(F),S){let k=this.kernelPersistentData.get(this.currentKernelId);k||(k=[],this.kernelPersistentData.set(this.currentKernelId,k)),k.push(F)}f.push(F)}if(s.length!==t.length||f.length!==p.length){if(f.length===0)return Qo(e.name),p;throw new Error(`Program ${e.name} has zero-sized tensor(s) in inputs or outputs. This is not supported now.`)}let m;if(u){let x=0,w=[];u.forEach(k=>{let M=typeof k.data=="number"?[k.data]:k.data;if(M.length===0)return;let O=k.type===10?2:4,B,W;k.type===10?(W=M.length>4?16:M.length>2?8:M.length*O,B=M.length>4?16:O*M.length):(W=M.length<=2?M.length*O:16,B=16),x=Math.ceil(x/W)*W,w.push(x);let V=k.type===10?8:4;x+=M.length>4?Math.ceil(M.length/V)*B:M.length*O});let S=16;x=Math.ceil(x/S)*S;let I=new ArrayBuffer(x);u.forEach((k,M)=>{let O=w[M],B=typeof k.data=="number"?[k.data]:k.data;if(k.type===6)new Int32Array(I,O,B.length).set(B);else if(k.type===12)new Uint32Array(I,O,B.length).set(B);else if(k.type===10)new Uint16Array(I,O,B.length).set(B);else if(k.type===1)new Float32Array(I,O,B.length).set(B);else throw new Error(`Unsupported uniform type: ${Ha(k.type)}`)});let F=this.gpuDataManager.create(x,GPUBufferUsage.COPY_DST|GPUBufferUsage.UNIFORM);this.device.queue.writeBuffer(F.buffer,0,I,0,x),this.gpuDataManager.release(F.id),m={offset:0,size:x,buffer:F.buffer}}let h=this.programManager.normalizeDispatchGroupSize(c),g=h[1]===1&&h[2]===1,_=Z3(e,t,g),$=this.programManager.getArtifact(_);if($||($=this.programManager.build(e,h),this.programManager.setArtifact(_,$),Et("info",()=>`[artifact] key: ${_}, programName: ${e.name}`)),u&&$.uniformVariablesInfo){if(u.length!==$.uniformVariablesInfo.length)throw new Error(`Uniform variables count mismatch: expect ${$.uniformVariablesInfo.length}, got ${u.length} in program "${$.programInfo.name}".`);for(let x=0;x<u.length;x++){let w=u[x],S=w.type,I=typeof w.data=="number"?1:w.data.length,[F,k]=$.uniformVariablesInfo[x];if(S!==F||I!==k)throw new Error(`Uniform variable ${x} mismatch: expect type ${F} with size ${k}, got type ${S} with size ${I} in program "${$.programInfo.name}".`)}}if(Et("info",()=>`[ProgramManager] run "${e.name}" (key=${_}) with ${h[0]}x${h[1]}x${h[2]}`),this.queryType!=="none"||this.sessionStatus==="capturing"){let x={kernelId:this.currentKernelId,programName:$.programInfo.name,inputTensorViews:t,outputTensorViews:p};this.pendingKernels.push(x),this.sessionStatus==="capturing"&&this.capturedPendingKernels.get(this.currentSessionId).push(x)}return this.programManager.run($,s,f,h,m),Qo(e.name),p}upload(e,t){this.gpuDataManager.upload(e,t)}memcpy(e,t){this.gpuDataManager.memcpy(e,t)}download(e,t){return ie(this,null,function*(){yield this.gpuDataManager.download(e,t)})}alloc(e){return this.gpuDataManager.create(e).id}free(e){return this.gpuDataManager.release(e)}createKernel(e,t,n,r){let o=wW.get(e);if(!o)throw new Error(`kernel not implemented: ${e}`);let i={kernelType:e,kernelName:r,kernelEntry:o[0],attributes:[o[1],n]};this.kernels.set(t,i)}releaseKernel(e){let t=this.kernelPersistentData.get(e);if(t){for(let n of t)this.gpuDataManager.release(n.id);this.kernelPersistentData.delete(e)}this.kernelCustomData.delete(e),this.kernels.delete(e)}computeKernel(e,t,n){let r=this.kernels.get(e);if(!r)throw new Error(`kernel not created: ${e}`);let o=r.kernelType,i=r.kernelName,s=r.kernelEntry,l=r.attributes;if(this.currentKernelId!==null)throw new Error(`kernel "[${o}] ${i}" is not allowed to be called recursively`);this.currentKernelId=e,l[0]&&(l[1]=l[0](l[1]),l[0]=void 0),Et("info",()=>`[WebGPU] Start to run kernel "[${o}] ${i}"...`);let c=this.env.debug;this.temporaryData=[];try{return c&&this.device.pushErrorScope("validation"),s(t,l[1]),0}catch(u){return n.push(Promise.resolve(`[WebGPU] Kernel "[${o}] ${i}" failed. ${u}`)),1}finally{c&&n.push(this.device.popErrorScope().then(u=>u?`GPU validation error for kernel "[${o}] ${i}": ${u.message}`:null));for(let u of this.temporaryData)this.gpuDataManager.release(u.id);this.temporaryData=[],this.currentKernelId=null}}registerBuffer(e,t,n,r){let o=this.sessionExternalDataMapping.get(e);o||(o=new Map,this.sessionExternalDataMapping.set(e,o));let i=o.get(t),s=this.gpuDataManager.registerExternalBuffer(n,r,i);return o.set(t,[s,n]),s}unregisterBuffers(e){let t=this.sessionExternalDataMapping.get(e);t&&(t.forEach(n=>this.gpuDataManager.unregisterExternalBuffer(n[0])),this.sessionExternalDataMapping.delete(e))}getBuffer(e){let t=this.gpuDataManager.get(e);if(!t)throw new Error(`no GPU data for buffer: ${e}`);return t.buffer}createDownloader(e,t,n){return()=>ie(this,null,function*(){let r=yield UI(this,e,t);return dE(r.buffer,n)})}writeTimestamp(e){this.queryType==="inside-passes"&&this.computePassEncoder.writeTimestamp(this.querySet,e)}setQueryType(){this.queryType="none",(this.env.webgpu.profiling?.mode==="default"||(typeof this.env.trace>"u"?this.env.wasm.trace:this.env.trace))&&(this.device.features.has("chromium-experimental-timestamp-query-inside-passes")?this.queryType="inside-passes":this.device.features.has("timestamp-query")&&(this.queryType="at-passes"),this.queryType!=="none"&&typeof this.querySet>"u"&&(this.querySet=this.device.createQuerySet({type:"timestamp",count:this.maxDispatchNumber*2}),this.queryResolveBuffer=this.device.createBuffer({size:this.maxDispatchNumber*2*8,usage:GPUBufferUsage.COPY_SRC|GPUBufferUsage.QUERY_RESOLVE})))}captureBegin(){Et("info","captureBegin"),this.capturedCommandList.get(this.currentSessionId)||this.capturedCommandList.set(this.currentSessionId,[]),this.capturedPendingKernels.get(this.currentSessionId)||this.capturedPendingKernels.set(this.currentSessionId,[]),this.flush(),this.sessionStatus="capturing"}captureEnd(){Et("info","captureEnd"),this.flush(),this.sessionStatus="default"}replay(){Et("info","replay"),this.sessionStatus="replaying";let e=this.capturedCommandList.get(this.currentSessionId),t=this.capturedPendingKernels.get(this.currentSessionId),n=e.length;this.pendingKernels=[];for(let r=0;r<n;r++){let o=this.getComputePassEncoder(),i=e[r];this.writeTimestamp(this.pendingDispatchNumber*2),o.setPipeline(i.computePipeline),o.setBindGroup(0,i.bindGroup),o.dispatchWorkgroups(...i.dispatchGroup),this.writeTimestamp(this.pendingDispatchNumber*2+1),this.pendingDispatchNumber++,this.queryType!=="none"&&this.pendingKernels.push(t[r]),(this.pendingDispatchNumber>=this.maxDispatchNumber||this.queryType==="at-passes")&&this.endComputePass(),this.pendingDispatchNumber>=this.maxDispatchNumber&&this.flush()}this.flush(),this.sessionStatus="default"}onCreateSession(){this.gpuDataManager.onCreateSession()}onReleaseSession(e){this.unregisterBuffers(e),this.capturedCommandList.has(e)&&this.capturedCommandList.delete(e),this.capturedPendingKernels.has(e)&&this.capturedPendingKernels.delete(e),this.gpuDataManager.onReleaseSession(e)}onRunStart(e){this.currentSessionId=e,this.setQueryType()}}}),eL,MI,tL,RI,jI,OI,nL,IW,Uue=ye(()=>{"use strict";Ji(),eL=1,MI=()=>eL++,tL=new Map([["float32",32],["float16",16],["int32",32],["uint32",32],["int64",64],["uint64",64],["int8",8],["uint8",8],["int4",4],["uint4",4]]),RI=(e,t)=>{let n=tL.get(e);if(!n)throw new Error("Unsupported data type.");return t.length>0?Math.ceil(t.reduce((r,o)=>r*o)*n/8):0},jI=class{constructor(e){this.sessionId=e.sessionId,this.mlContext=e.context,this.mlTensor=e.tensor,this.dataType=e.dataType,this.tensorShape=e.shape}get tensor(){return this.mlTensor}get type(){return this.dataType}get shape(){return this.tensorShape}get byteLength(){return RI(this.dataType,this.tensorShape)}destroy(){Et("verbose",()=>"[WebNN] TensorWrapper.destroy"),this.mlTensor.destroy()}write(e){this.mlContext.writeTensor(this.mlTensor,e)}read(e){return ie(this,null,function*(){return e?this.mlContext.readTensor(this.mlTensor,e):this.mlContext.readTensor(this.mlTensor)})}canReuseTensor(e,t,n){return this.mlContext===e&&this.dataType===t&&this.tensorShape.length===n.length&&this.tensorShape.every((r,o)=>r===n[o])}},OI=class{constructor(e,t){this.tensorManager=e,this.wrapper=t}get tensorWrapper(){return this.wrapper}releaseTensor(){this.tensorWrapper&&(this.tensorManager.releaseTensor(this.tensorWrapper),this.wrapper=void 0)}ensureTensor(e,t,n,r){return ie(this,null,function*(){let o=this.tensorManager.getMLContext(e);if(this.wrapper){if(this.wrapper.canReuseTensor(o,t,n))return this.wrapper.tensor;if(r){if(this.wrapper.byteLength!==RI(t,n))throw new Error("Unable to copy data to tensor with different size.");this.activeUpload=new Uint8Array(yield this.wrapper.read())}this.tensorManager.releaseTensor(this.wrapper)}let i=typeof MLTensorUsage>"u"?void 0:MLTensorUsage.READ|MLTensorUsage.WRITE;return this.wrapper=yield this.tensorManager.getCachedTensor(e,t,n,i,!0,!0),r&&this.activeUpload&&(this.wrapper.write(this.activeUpload),this.activeUpload=void 0),this.wrapper.tensor})}upload(e){if(this.wrapper)if(e.byteLength===this.wrapper.byteLength){this.wrapper.write(e);return}else Et("verbose",()=>"Data size does not match tensor size. Releasing tensor."),this.releaseTensor();this.activeUpload?this.activeUpload.set(e):this.activeUpload=new Uint8Array(e)}download(e){return ie(this,null,function*(){if(this.activeUpload)if(e){e instanceof ArrayBuffer?new Uint8Array(e).set(this.activeUpload):new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(this.activeUpload);return}else return this.activeUpload.buffer;if(!this.wrapper)throw new Error("Tensor has not been created.");return e?this.wrapper.read(e):this.wrapper.read()})}},nL=class{constructor(e){this.backend=e,this.tensorTrackersById=new Map,this.freeTensors=[],this.externalTensors=new Set}getMLContext(e){let t=this.backend.getMLContext(e);if(!t)throw new Error("MLContext not found for session.");return t}reserveTensorId(){let e=MI();return this.tensorTrackersById.set(e,new OI(this)),e}releaseTensorId(e){let t=this.tensorTrackersById.get(e);t&&(this.tensorTrackersById.delete(e),t.tensorWrapper&&this.releaseTensor(t.tensorWrapper))}ensureTensor(e,t,n,r,o){return ie(this,null,function*(){Et("verbose",()=>`[WebNN] TensorManager.ensureTensor {tensorId: ${t}, dataType: ${n}, shape: ${r}, copyOld: ${o}}`);let i=this.tensorTrackersById.get(t);if(!i)throw new Error("Tensor not found.");return i.ensureTensor(e,n,r,o)})}upload(e,t){let n=this.tensorTrackersById.get(e);if(!n)throw new Error("Tensor not found.");n.upload(t)}download(e,t){return ie(this,null,function*(){Et("verbose",()=>`[WebNN] TensorManager.download {tensorId: ${e}, dstBuffer: ${t?.byteLength}}`);let n=this.tensorTrackersById.get(e);if(!n)throw new Error("Tensor not found.");return n.download(t)})}releaseTensorsForSession(e){for(let t of this.freeTensors)t.sessionId===e&&t.destroy();this.freeTensors=this.freeTensors.filter(t=>t.sessionId!==e)}registerTensor(e,t,n,r){let o=this.getMLContext(e),i=MI(),s=new jI({sessionId:e,context:o,tensor:t,dataType:n,shape:r});return this.tensorTrackersById.set(i,new OI(this,s)),this.externalTensors.add(s),i}getCachedTensor(e,t,n,r,o,i){return ie(this,null,function*(){let s=this.getMLContext(e);for(let[c,u]of this.freeTensors.entries())if(u.canReuseTensor(s,t,n)){Et("verbose",()=>`[WebNN] Reusing tensor {dataType: ${t}, shape: ${n}}`);let d=this.freeTensors.splice(c,1)[0];return d.sessionId=e,d}Et("verbose",()=>`[WebNN] MLContext.createTensor {dataType: ${t}, shape: ${n}}`);let l=yield s.createTensor({dataType:t,shape:n,dimensions:n,usage:r,writable:o,readable:i});return new jI({sessionId:e,context:s,tensor:l,dataType:t,shape:n})})}releaseTensor(e){this.externalTensors.has(e)&&this.externalTensors.delete(e),this.freeTensors.push(e)}},IW=(...e)=>new nL(...e)}),Fb,rL,EW,Wue=ye(()=>{"use strict";He(),Ya(),NL(),Uue(),Ji(),Fb=new Map([[1,"float32"],[10,"float16"],[6,"int32"],[12,"uint32"],[7,"int64"],[13,"uint64"],[22,"int4"],[21,"uint4"],[3,"int8"],[2,"uint8"],[9,"uint8"]]),rL=(e,t)=>{if(e===t)return!0;if(e===void 0||t===void 0)return!1;let n=Object.keys(e).sort(),r=Object.keys(t).sort();return n.length===r.length&&n.every((o,i)=>o===r[i]&&e[o]===t[o])},EW=class{constructor(e){this.tensorManager=IW(this),this.mlContextBySessionId=new Map,this.sessionIdsByMLContext=new Map,this.mlContextCache=[],this.sessionGraphInputs=new Map,this.temporaryGraphInputs=[],this.temporarySessionTensorIds=new Map,uE(e.logLevel,!!e.debug)}get currentSessionId(){if(this.activeSessionId===void 0)throw new Error("No active session");return this.activeSessionId}onRunStart(e){Et("verbose",()=>`[WebNN] onRunStart {sessionId: ${e}}`),this.activeSessionId=e}onRunEnd(e){Et("verbose",()=>`[WebNN] onRunEnd {sessionId: ${e}}`);let t=this.temporarySessionTensorIds.get(e);if(t){for(let n of t)Et("verbose",()=>`[WebNN] releasing temporary tensor {tensorId: ${n}}`),this.tensorManager.releaseTensorId(n);this.temporarySessionTensorIds.delete(e),this.activeSessionId=void 0}}createMLContext(e){return ie(this,null,function*(){if(e instanceof GPUDevice){let n=this.mlContextCache.findIndex(r=>r.gpuDevice===e);if(n!==-1)return this.mlContextCache[n].mlContext;{let r=yield navigator.ml.createContext(e);return this.mlContextCache.push({gpuDevice:e,mlContext:r}),r}}else if(e===void 0){let n=this.mlContextCache.findIndex(r=>r.options===void 0&&r.gpuDevice===void 0);if(n!==-1)return this.mlContextCache[n].mlContext;{let r=yield navigator.ml.createContext();return this.mlContextCache.push({mlContext:r}),r}}let t=this.mlContextCache.findIndex(n=>rL(n.options,e));if(t!==-1)return this.mlContextCache[t].mlContext;{let n=yield navigator.ml.createContext(e);return this.mlContextCache.push({options:e,mlContext:n}),n}})}registerMLContext(e,t){this.mlContextBySessionId.set(e,t);let n=this.sessionIdsByMLContext.get(t);n||(n=new Set,this.sessionIdsByMLContext.set(t,n)),n.add(e),this.temporaryGraphInputs.length>0&&(this.sessionGraphInputs.set(e,this.temporaryGraphInputs),this.temporaryGraphInputs=[])}onReleaseSession(e){this.sessionGraphInputs.delete(e);let t=this.mlContextBySessionId.get(e);if(!t)return;this.tensorManager.releaseTensorsForSession(e),this.mlContextBySessionId.delete(e);let n=this.sessionIdsByMLContext.get(t);if(n.delete(e),n.size===0){this.sessionIdsByMLContext.delete(t);let r=this.mlContextCache.findIndex(o=>o.mlContext===t);r!==-1&&this.mlContextCache.splice(r,1)}}getMLContext(e){return this.mlContextBySessionId.get(e)}reserveTensorId(){return this.tensorManager.reserveTensorId()}releaseTensorId(e){Et("verbose",()=>`[WebNN] releaseTensorId {tensorId: ${e}}`),this.tensorManager.releaseTensorId(e)}ensureTensor(e,t,n,r,o){return ie(this,null,function*(){let i=Fb.get(n);if(!i)throw new Error(`Unsupported ONNX data type: ${n}`);return this.tensorManager.ensureTensor(e??this.currentSessionId,t,i,r,o)})}createTemporaryTensor(e,t,n){return ie(this,null,function*(){Et("verbose",()=>`[WebNN] createTemporaryTensor {onnxDataType: ${t}, shape: ${n}}`);let r=Fb.get(t);if(!r)throw new Error(`Unsupported ONNX data type: ${t}`);let o=this.tensorManager.reserveTensorId();yield this.tensorManager.ensureTensor(e,o,r,n,!1);let i=this.temporarySessionTensorIds.get(e);return i?i.push(o):this.temporarySessionTensorIds.set(e,[o]),o})}uploadTensor(e,t){if(!Hn().shouldTransferToMLTensor)throw new Error("Trying to upload to a MLTensor while shouldTransferToMLTensor is false");Et("verbose",()=>`[WebNN] uploadTensor {tensorId: ${e}, data: ${t.byteLength}}`),this.tensorManager.upload(e,t)}downloadTensor(e,t){return ie(this,null,function*(){return this.tensorManager.download(e,t)})}createMLTensorDownloader(e,t){return()=>ie(this,null,function*(){let n=yield this.tensorManager.download(e);return dE(n,t)})}registerMLTensor(e,t,n,r){let o=Fb.get(n);if(!o)throw new Error(`Unsupported ONNX data type: ${n}`);let i=this.tensorManager.registerTensor(e,t,o,r);return Et("verbose",()=>`[WebNN] registerMLTensor {tensor: ${t}, dataType: ${o}, dimensions: ${r}} -> {tensorId: ${i}}`),i}registerMLConstant(e,t,n,r,o,i){if(!i)throw new Error("External mounted files are not available.");let s=e;e.startsWith("./")&&(s=e.substring(2));let l=i.get(s);if(!l)throw new Error(`File with name ${s} not found in preloaded files.`);if(t+n>l.byteLength)throw new Error("Out of bounds: data offset and length exceed the external file data size.");let c=l.slice(t,t+n).buffer,u;switch(o.dataType){case"float32":u=new Float32Array(c);break;case"float16":u=new Uint16Array(c);break;case"int32":u=new Int32Array(c);break;case"uint32":u=new Uint32Array(c);break;case"int64":u=new BigInt64Array(c);break;case"uint64":u=new BigUint64Array(c);break;case"int8":u=new Int8Array(c);break;case"int4":case"uint4":case"uint8":u=new Uint8Array(c);break;default:throw new Error(`Unsupported data type: ${o.dataType} in creating WebNN Constant from external data.`)}return Et("verbose",()=>`[WebNN] registerMLConstant {dataType: ${o.dataType}, shape: ${o.shape}}}`),r.constant(o,u)}registerGraphInput(e){this.temporaryGraphInputs.push(e)}isGraphInput(e,t){let n=this.sessionGraphInputs.get(e);return n?n.includes(t):!1}flush(){}}}),TW={};mp(TW,{init:()=>DW});var kb,oL,DW,zue=ye(()=>{"use strict";He(),Lue(),Ji(),et(),Wue(),kb=class FW{constructor(t,n,r,o){this.module=t,this.dataType=n,this.data=r,this.dims=o}getFloat32Array(){if(this.dataType!==1)throw new Error("Invalid data type");let t=oe.size(this.dims);return t===0?new Float32Array:new Float32Array(this.module.HEAP8.buffer,this.data,t)}getBigInt64Array(){if(this.dataType!==7)throw new Error("Invalid data type");let t=oe.size(this.dims);return t===0?new BigInt64Array:new BigInt64Array(this.module.HEAP8.buffer,this.data,t)}getInt32Array(){if(this.dataType!==6)throw new Error("Invalid data type");let t=oe.size(this.dims);return t===0?new Int32Array:new Int32Array(this.module.HEAP8.buffer,this.data,t)}getUint16Array(){if(this.dataType!==10&&this.dataType!==4)throw new Error("Invalid data type");let t=oe.size(this.dims);return t===0?new Uint16Array:new Uint16Array(this.module.HEAP8.buffer,this.data,t)}reshape(t){if(oe.size(t)!==oe.size(this.dims))throw new Error("Invalid new shape");return new FW(this.module,this.dataType,this.data,t)}},oL=class{constructor(e,t,n){this.module=e,this.backend=t,this.customDataOffset=0,this.customDataSize=0,this.adapterInfo=t.adapterInfo,this.deviceInfo=t.deviceInfo;let r=e.PTR_SIZE,o=n/e.PTR_SIZE,i=r===4?"i32":"i64";this.opKernelContext=Number(e.getValue(r*o++,i));let s=Number(e.getValue(r*o++,i));this.outputCount=Number(e.getValue(r*o++,i)),this.customDataOffset=Number(e.getValue(r*o++,"*")),this.customDataSize=Number(e.getValue(r*o++,i));let l=[];for(let c=0;c<s;c++){let u=Number(e.getValue(r*o++,i)),d=Number(e.getValue(r*o++,"*")),p=Number(e.getValue(r*o++,i)),f=[];for(let m=0;m<p;m++)f.push(Number(e.getValue(r*o++,i)));l.push(new kb(e,u,d,f))}this.inputs=l}get kernelCustomData(){return this.backend.currentKernelCustomData}get customDataBuffer(){return this.module.HEAPU8.subarray(this.customDataOffset,this.customDataOffset+this.customDataSize)}compute(e,t){let n=t?.inputs?.map(s=>typeof s=="number"?this.inputs[s]:s)??this.inputs,r=t?.outputs??[],o=(s,l,c)=>new kb(this.module,l,this.output(s,c),c),i=(s,l)=>{let c=Ga(s,l);if(!c)throw new Error(`Unsupported data type: ${s}`);let u=c>0?this.backend.gpuDataManager.create(c).id:0;return new kb(this.module,s,u,l)};return this.backend.run(e,n,r,o,i,this.outputCount)}output(e,t){let n=this.module.stackSave();try{let r=this.module.PTR_SIZE,o=r===4?"i32":"i64",i=this.module.stackAlloc((1+t.length)*r);this.module.setValue(i,t.length,o);for(let s=0;s<t.length;s++)this.module.setValue(i+r*(s+1),t[s],o);return this.module._JsepOutput(this.opKernelContext,e,i)}catch(r){throw new Error(`Failed to generate kernel's output[${e}] with dims [${t}]. If you are running with pre-allocated output, please make sure the output type/dims are correct. Error: ${r}`)}finally{this.module.stackRestore(n)}}},DW=(e,t,n,r)=>ie(void 0,null,function*(){let o=t.jsepInit;if(!o)throw new Error("Failed to initialize JSEP. The WebAssembly module is not built with JSEP support.");if(e==="webgpu"){let i=new CW;yield i.initialize(n,r),o("webgpu",[i,s=>i.alloc(Number(s)),s=>i.free(s),(s,l,c,u=!1)=>{if(u)Et("verbose",()=>`[WebGPU] jsepCopyGpuToGpu: src=${Number(s)}, dst=${Number(l)}, size=${Number(c)}`),i.memcpy(Number(s),Number(l));else{Et("verbose",()=>`[WebGPU] jsepCopyCpuToGpu: dataOffset=${Number(s)}, gpuDataId=${Number(l)}, size=${Number(c)}`);let d=t.HEAPU8.subarray(Number(s>>>0),Number(s>>>0)+Number(c));i.upload(Number(l),d)}},(s,l,c)=>ie(void 0,null,function*(){Et("verbose",()=>`[WebGPU] jsepCopyGpuToCpu: gpuDataId=${s}, dataOffset=${l}, size=${c}`),yield i.download(Number(s),()=>t.HEAPU8.subarray(Number(l)>>>0,Number(l+c)>>>0))}),(s,l,c)=>i.createKernel(s,Number(l),c,t.UTF8ToString(t._JsepGetNodeName(Number(l)))),s=>i.releaseKernel(s),(s,l,c,u)=>{Et("verbose",()=>`[WebGPU] jsepRun: sessionHandle=${c}, kernel=${s}, contextDataOffset=${l}`);let d=new oL(t,i,Number(l));return i.computeKernel(Number(s),d,u)},()=>i.captureBegin(),()=>i.captureEnd(),()=>i.replay()])}else{let i=new EW(n);o("webnn",[i,()=>i.reserveTensorId(),s=>i.releaseTensorId(s),(s,l,c,u,d)=>ie(void 0,null,function*(){return i.ensureTensor(s,l,c,u,d)}),(s,l)=>{i.uploadTensor(s,l)},(s,l)=>ie(void 0,null,function*(){return i.downloadTensor(s,l)})])}})}),iL,vE,wE,Vs,sL,zb,SE,CE,NI,IE,EE,TE,kW=ye(()=>{"use strict";qce(),Kce(),He(),Ya(),iE(),OL(),iL=(e,t)=>{Hn()._OrtInit(e,t)!==0&&Lt("Can't initialize onnxruntime.")},vE=e=>ie(void 0,null,function*(){iL(e.wasm.numThreads,Bb(e.logLevel))}),wE=(e,t)=>ie(void 0,null,function*(){{let n=(zue(),Ob(TW)).init;if(t==="webgpu"){if(typeof navigator>"u"||!navigator.gpu)throw new Error("WebGPU is not supported in current environment");let r=e.webgpu.adapter;if(r){if(typeof r.limits!="object"||typeof r.features!="object"||typeof r.requestDevice!="function")throw new Error("Invalid GPU adapter set in `env.webgpu.adapter`. It must be a GPUAdapter object.")}else{let o=e.webgpu.powerPreference;if(o!==void 0&&o!=="low-power"&&o!=="high-performance")throw new Error(`Invalid powerPreference setting: "${o}"`);let i=e.webgpu.forceFallbackAdapter;if(i!==void 0&&typeof i!="boolean")throw new Error(`Invalid forceFallbackAdapter setting: "${i}"`);if(r=yield navigator.gpu.requestAdapter({powerPreference:o,forceFallbackAdapter:i}),!r)throw new Error('Failed to get GPU adapter. You may need to enable flag "--enable-unsafe-webgpu" if you are using Chrome.')}yield n("webgpu",Hn(),e,r)}if(t==="webnn"){if(typeof navigator>"u"||!navigator.ml)throw new Error("WebNN is not supported in current environment");yield n("webnn",Hn(),e)}}}),Vs=new Map,sL=e=>{let t=Hn(),n=t.stackSave();try{let r=t.PTR_SIZE,o=t.stackAlloc(2*r);t._OrtGetInputOutputCount(e,o,o+r)!==0&&Lt("Can't get session input/output count.");let i=r===4?"i32":"i64";return[Number(t.getValue(o,i)),Number(t.getValue(o+r,i))]}finally{t.stackRestore(n)}},zb=e=>{let t=Hn(),n=t._malloc(e.byteLength);if(n===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${e.byteLength}.`);return t.HEAPU8.set(e,n),[n,e.byteLength]},SE=(e,t)=>ie(void 0,null,function*(){let n,r,o=Hn();Array.isArray(e)?[n,r]=e:e.buffer===o.HEAPU8.buffer?[n,r]=[e.byteOffset,e.byteLength]:[n,r]=zb(e);let i=0,s=0,l=0,c=[],u=[],d=[];try{if([s,c]=jL(t),t?.externalData&&o.mountExternalData){let x=[];for(let w of t.externalData){let S=typeof w=="string"?w:w.path;x.push(cE(typeof w=="string"?w:w.data).then(I=>{o.mountExternalData(S,I)}))}yield Promise.all(x)}for(let x of t?.executionProviders??[])if((typeof x=="string"?x:x.name)==="webnn"){if(o.shouldTransferToMLTensor=!1,typeof x!="string"){let w=x,S=w?.context,I=w?.gpuDevice,F=w?.deviceType,k=w?.powerPreference;S?o.currentContext=S:I?o.currentContext=yield o.jsepCreateMLContext(I):o.currentContext=yield o.jsepCreateMLContext({deviceType:F,powerPreference:k})}else o.currentContext=yield o.jsepCreateMLContext();break}i=yield o._OrtCreateSession(n,r,s),i===0&&Lt("Can't create a session."),o.jsepOnCreateSession?.(),o.currentContext&&(o.jsepRegisterMLContext(i,o.currentContext),o.currentContext=void 0,o.shouldTransferToMLTensor=!0);let[p,f]=sL(i),m=!!t?.enableGraphCapture,h=[],g=[],_=[];for(let x=0;x<p;x++){let w=o._OrtGetInputName(i,x);w===0&&Lt("Can't get an input name."),u.push(w),h.push(o.UTF8ToString(w))}for(let x=0;x<f;x++){let w=o._OrtGetOutputName(i,x);w===0&&Lt("Can't get an output name."),d.push(w);let S=o.UTF8ToString(w);g.push(S);{if(m&&t?.preferredOutputLocation===void 0){_.push("gpu-buffer");continue}let I=typeof t?.preferredOutputLocation=="string"?t.preferredOutputLocation:t?.preferredOutputLocation?.[S]??"cpu";if(I!=="cpu"&&I!=="cpu-pinned"&&I!=="gpu-buffer"&&I!=="ml-tensor")throw new Error(`Not supported preferred output location: ${I}.`);if(m&&I!=="gpu-buffer")throw new Error(`Not supported preferred output location: ${I}. Only 'gpu-buffer' location is supported when enableGraphCapture is true.`);_.push(I)}}let $=null;return _.some(x=>x==="gpu-buffer"||x==="ml-tensor")&&(l=o._OrtCreateBinding(i),l===0&&Lt("Can't create IO binding."),$={handle:l,outputPreferredLocations:_,outputPreferredLocationsEncoded:_.map(x=>LI(x))}),Vs.set(i,[i,u,d,$,m,!1]),[i,h,g]}catch(p){throw u.forEach(f=>o._OrtFree(f)),d.forEach(f=>o._OrtFree(f)),l!==0&&o._OrtReleaseBinding(l)!==0&&Lt("Can't release IO binding."),i!==0&&o._OrtReleaseSession(i)!==0&&Lt("Can't release session."),p}finally{o._free(n),s!==0&&o._OrtReleaseSessionOptions(s)!==0&&Lt("Can't release session options."),c.forEach(p=>o._free(p)),o.unmountExternalData?.()}}),CE=e=>{let t=Hn(),n=Vs.get(e);if(!n)throw new Error(`cannot release session. invalid session id: ${e}`);let[r,o,i,s,l]=n;s&&(l&&t._OrtClearBoundOutputs(s.handle)!==0&&Lt("Can't clear bound outputs."),t._OrtReleaseBinding(s.handle)!==0&&Lt("Can't release IO binding.")),t.jsepOnReleaseSession?.(e),o.forEach(c=>t._OrtFree(c)),i.forEach(c=>t._OrtFree(c)),t._OrtReleaseSession(r)!==0&&Lt("Can't release session."),Vs.delete(e)},NI=(e,t,n,r,o,i=!1)=>ie(void 0,null,function*(){if(!e){t.push(0);return}let s=Hn(),l=s.PTR_SIZE,c=e[0],u=e[1],d=e[3],p=d,f,m;if(c==="string"&&(d==="gpu-buffer"||d==="ml-tensor"))throw new Error("String tensor is not supported on GPU.");if(i&&d!=="gpu-buffer")throw new Error(`External buffer must be provided for input/output index ${o} when enableGraphCapture is true.`);if(d==="gpu-buffer"){let _=e[2].gpuBuffer;m=Ga(zc(c),u);let $=s.jsepRegisterBuffer;if(!$)throw new Error('Tensor location "gpu-buffer" is not supported without using WebGPU.');f=$(r,o,_,m)}else if(d==="ml-tensor"){let _=e[2].mlTensor;m=Ga(zc(c),u);let $=s.jsepRegisterMLTensor;if(!$)throw new Error('Tensor location "ml-tensor" is not supported without using WebNN.');f=$(r,_,zc(c),u)}else{let _=e[2];if(Array.isArray(_)){m=l*_.length,f=s._malloc(m),n.push(f);for(let $=0;$<_.length;$++){if(typeof _[$]!="string")throw new TypeError(`tensor data at index ${$} is not a string`);s.setValue(f+$*l,cr(_[$],n),"*")}}else{let $=s.jsepIsGraphInput;if(c!=="string"&&$){let x=s._OrtGetInputName(r,o),w=s.UTF8ToString(x);if($(r,w)){let S=zc(c);m=Ga(S,u),p="ml-tensor";let I=s.jsepCreateTemporaryTensor,F=s.jsepUploadTensor;if(!I||!F)throw new Error('Tensor location "ml-tensor" is not supported without using WebNN.');let k=yield I(r,S,u);F(k,new Uint8Array(_.buffer,_.byteOffset,_.byteLength)),f=k}else m=_.byteLength,f=s._malloc(m),n.push(f),s.HEAPU8.set(new Uint8Array(_.buffer,_.byteOffset,m),f)}else m=_.byteLength,f=s._malloc(m),n.push(f),s.HEAPU8.set(new Uint8Array(_.buffer,_.byteOffset,m),f)}}let h=s.stackSave(),g=s.stackAlloc(4*u.length);try{u.forEach(($,x)=>s.setValue(g+x*l,$,l===4?"i32":"i64"));let _=s._OrtCreateTensor(zc(c),f,m,g,u.length,LI(p));_===0&&Lt(`Can't create tensor for input/output. session=${r}, index=${o}.`),t.push(_)}finally{s.stackRestore(h)}}),IE=(e,t,n,r,o,i)=>ie(void 0,null,function*(){let s=Hn(),l=s.PTR_SIZE,c=Vs.get(e);if(!c)throw new Error(`cannot run inference. invalid session id: ${e}`);let u=c[0],d=c[1],p=c[2],f=c[3],m=c[4],h=c[5],g=t.length,_=r.length,$=0,x=[],w=[],S=[],I=[],F=s.stackSave(),k=s.stackAlloc(g*l),M=s.stackAlloc(g*l),O=s.stackAlloc(_*l),B=s.stackAlloc(_*l);try{[$,x]=RL(i);for(let P=0;P<g;P++)yield NI(n[P],w,I,e,t[P],m);for(let P=0;P<_;P++)yield NI(o[P],S,I,e,g+r[P],m);for(let P=0;P<g;P++)s.setValue(k+P*l,w[P],"*"),s.setValue(M+P*l,d[t[P]],"*");for(let P=0;P<_;P++)s.setValue(O+P*l,S[P],"*"),s.setValue(B+P*l,p[r[P]],"*");if(f&&!h){let{handle:P,outputPreferredLocations:G,outputPreferredLocationsEncoded:Z}=f;if(d.length!==g)throw new Error(`input count from feeds (${g}) is expected to be always equal to model's input count (${d.length}).`);for(let H=0;H<g;H++){let re=t[H];(yield s._OrtBindInput(P,d[re],w[H]))!==0&&Lt(`Can't bind input[${H}] for session=${e}.`)}for(let H=0;H<_;H++){let re=r[H];o[H]?.[3]?s._OrtBindOutput(P,p[re],S[H],0)!==0&&Lt(`Can't bind pre-allocated output[${H}] for session=${e}.`):s._OrtBindOutput(P,p[re],0,Z[re])!==0&&Lt(`Can't bind output[${H}] to ${G[H]} for session=${e}.`)}Vs.set(e,[u,d,p,f,m,!0])}s.jsepOnRunStart?.(u);let W;f?W=yield s._OrtRunWithBinding(u,f.handle,_,O,$):W=yield s._OrtRun(u,M,k,g,B,_,O,$),W!==0&&Lt("failed to call OrtRun().");let V=[];for(let P=0;P<_;P++){let G=Number(s.getValue(O+P*l,"*"));if(G===S[P]){V.push(o[P]);continue}let Z=s.stackSave(),H=s.stackAlloc(4*l),re=!1,te,Y=0;try{s._OrtGetTensorData(G,H,H+l,H+2*l,H+3*l)!==0&&Lt(`Can't access output tensor data on index ${P}.`);let se=l===4?"i32":"i64",z=Number(s.getValue(H,se));Y=s.getValue(H+l,"*");let ne=s.getValue(H+l*2,"*"),U=Number(s.getValue(H+l*3,se)),ae=[];for(let Se=0;Se<U;Se++)ae.push(Number(s.getValue(ne+Se*l,se)));s._OrtFree(ne)!==0&&Lt("Can't free memory for tensor dims.");let ge=ae.reduce((Se,Ie)=>Se*Ie,1);te=Ha(z);let we=f?.outputPreferredLocations[r[P]];if(te==="string"){if(we==="gpu-buffer"||we==="ml-tensor")throw new Error("String tensor is not supported on GPU.");let Se=[];for(let Ie=0;Ie<ge;Ie++){let Ae=s.getValue(Y+Ie*l,"*"),Ne=s.getValue(Y+(Ie+1)*l,"*"),ut=Ie===ge-1?void 0:Ne-Ae;Se.push(s.UTF8ToString(Ae,ut))}V.push([te,ae,Se,"cpu"])}else if(we==="gpu-buffer"&&ge>0){let Se=s.jsepGetBuffer;if(!Se)throw new Error('preferredLocation "gpu-buffer" is not supported without using WebGPU.');let Ie=Se(Y),Ae=Ga(z,ge);if(Ae===void 0||!aE(te))throw new Error(`Unsupported data type: ${te}`);re=!0,V.push([te,ae,{gpuBuffer:Ie,download:s.jsepCreateDownloader(Ie,Ae,te),dispose:()=>{s._OrtReleaseTensor(G)!==0&&Lt("Can't release tensor.")}},"gpu-buffer"])}else if(we==="ml-tensor"&&ge>0){let Se=s.jsepEnsureTensor;if(!Se)throw new Error('preferredLocation "ml-tensor" is not supported without using WebNN.');if(Ga(z,ge)===void 0||!lE(te))throw new Error(`Unsupported data type: ${te}`);let Ie=yield Se(e,Y,z,ae,!1);re=!0,V.push([te,ae,{mlTensor:Ie,download:s.jsepCreateMLTensorDownloader(Y,te),dispose:()=>{s.jsepReleaseTensorId(Y),s._OrtReleaseTensor(G)}},"ml-tensor"])}else{let Se=sE(te),Ie=new Se(ge);new Uint8Array(Ie.buffer,Ie.byteOffset,Ie.byteLength).set(s.HEAPU8.subarray(Y,Y+Ie.byteLength)),V.push([te,ae,Ie,"cpu"])}}finally{s.stackRestore(Z),te==="string"&&Y&&s._free(Y),re||s._OrtReleaseTensor(G),s.jsepOnRunEnd?.(u)}}return f&&!m&&(s._OrtClearBoundOutputs(f.handle)!==0&&Lt("Can't clear bound outputs."),Vs.set(e,[u,d,p,f,m,!1])),V}finally{s.stackRestore(F),w.forEach(W=>s._OrtReleaseTensor(W)),S.forEach(W=>s._OrtReleaseTensor(W)),I.forEach(W=>s._free(W)),$!==0&&s._OrtReleaseRunOptions($),x.forEach(W=>s._free(W))}}),EE=e=>{let t=Hn(),n=Vs.get(e);if(!n)throw new Error("invalid session id");let r=n[0],o=t._OrtEndProfiling(r);o===0&&Lt("Can't get an profile file name."),t._OrtFree(o)},TE=e=>{let t=[];for(let n of e){let r=n[2];!Array.isArray(r)&&"buffer"in r&&t.push(r.buffer)}return t}}),Hs,$o,Wc,sp,ap,Ab,PI,Mb,Wa,za,aL,AW,MW,RW,jW,OW,NW,PW,BW=ye(()=>{"use strict";Jo(),kW(),Ya(),rE(),Hs=()=>!!_n.wasm.proxy&&typeof document<"u",Wc=!1,sp=!1,ap=!1,Mb=new Map,Wa=(e,t)=>{let n=Mb.get(e);n?n.push(t):Mb.set(e,[t])},za=()=>{if(Wc||!sp||ap||!$o)throw new Error("worker not ready")},aL=e=>{switch(e.data.type){case"init-wasm":Wc=!1,e.data.err?(ap=!0,PI[1](e.data.err)):(sp=!0,PI[0]()),Ab&&(URL.revokeObjectURL(Ab),Ab=void 0);break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{let t=Mb.get(e.data.type);e.data.err?t.shift()[1](e.data.err):t.shift()[0](e.data.out);break}default:}},AW=()=>ie(void 0,null,function*(){if(!sp){if(Wc)throw new Error("multiple calls to 'initWasm()' detected.");if(ap)throw new Error("previous call to 'initWasm()' failed.");if(Wc=!0,Hs())return new Promise((e,t)=>{$o?.terminate(),AL().then(([n,r])=>{try{$o=r,$o.onerror=i=>t(i),$o.onmessage=aL,PI=[e,t];let o={type:"init-wasm",in:_n};!o.in.wasm.wasmPaths&&(n||import.meta.url?.startsWith("file:"))&&(o.in.wasm.wasmPaths={wasm:new URL("ort-wasm-simd-threaded.jsep.wasm",import.meta.url).href}),$o.postMessage(o),Ab=n}catch(o){t(o)}},t)});try{yield oE(_n.wasm),yield vE(_n),sp=!0}catch(e){throw ap=!0,e}finally{Wc=!1}}}),MW=e=>ie(void 0,null,function*(){if(Hs())return za(),new Promise((t,n)=>{Wa("init-ep",[t,n]);let r={type:"init-ep",in:{epName:e,env:_n}};$o.postMessage(r)});yield wE(_n,e)}),RW=e=>ie(void 0,null,function*(){return Hs()?(za(),new Promise((t,n)=>{Wa("copy-from",[t,n]);let r={type:"copy-from",in:{buffer:e}};$o.postMessage(r,[e.buffer])})):zb(e)}),jW=(e,t)=>ie(void 0,null,function*(){if(Hs()){if(t?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return za(),new Promise((n,r)=>{Wa("create",[n,r]);let o={type:"create",in:{model:e,options:fe({},t)}},i=[];e instanceof Uint8Array&&i.push(e.buffer),$o.postMessage(o,i)})}else return SE(e,t)}),OW=e=>ie(void 0,null,function*(){if(Hs())return za(),new Promise((t,n)=>{Wa("release",[t,n]);let r={type:"release",in:e};$o.postMessage(r)});CE(e)}),NW=(e,t,n,r,o,i)=>ie(void 0,null,function*(){if(Hs()){if(n.some(s=>s[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(o.some(s=>s))throw new Error("pre-allocated output tensor is not supported for proxy.");return za(),new Promise((s,l)=>{Wa("run",[s,l]);let c=n,u={type:"run",in:{sessionId:e,inputIndices:t,inputs:c,outputIndices:r,options:i}};$o.postMessage(u,TE(c))})}else return IE(e,t,n,r,o,i)}),PW=e=>ie(void 0,null,function*(){if(Hs())return za(),new Promise((t,n)=>{Wa("end-profiling",[t,n]);let r={type:"end-profiling",in:e};$o.postMessage(r)});EE(e)})}),BI,lL,LW,Vue=ye(()=>{"use strict";Jo(),BW(),He(),nE(),OL(),BI=(e,t)=>{switch(e.location){case"cpu":return[e.type,e.dims,e.data,"cpu"];case"gpu-buffer":return[e.type,e.dims,{gpuBuffer:e.gpuBuffer},"gpu-buffer"];case"ml-tensor":return[e.type,e.dims,{mlTensor:e.mlTensor},"ml-tensor"];default:throw new Error(`invalid data location: ${e.location} for ${t()}`)}},lL=e=>{switch(e[3]){case"cpu":return new Ur(e[0],e[2],e[1]);case"gpu-buffer":{let t=e[0];if(!aE(t))throw new Error(`not supported data type: ${t} for deserializing GPU tensor`);let{gpuBuffer:n,download:r,dispose:o}=e[2];return Ur.fromGpuBuffer(n,{dataType:t,dims:e[1],download:r,dispose:o})}case"ml-tensor":{let t=e[0];if(!lE(t))throw new Error(`not supported data type: ${t} for deserializing MLTensor tensor`);let{mlTensor:n,download:r,dispose:o}=e[2];return Ur.fromMLTensor(n,{dataType:t,dims:e[1],download:r,dispose:o})}default:throw new Error(`invalid data location: ${e[3]}`)}},LW=class{fetchModelAndCopyToWasmMemory(e){return ie(this,null,function*(){return RW(yield cE(e))})}loadModel(e,t){return ie(this,null,function*(){Si();let n;typeof e=="string"?n=yield this.fetchModelAndCopyToWasmMemory(e):n=e,[this.sessionId,this.inputNames,this.outputNames]=yield jW(n,t),Qo()})}dispose(){return ie(this,null,function*(){return OW(this.sessionId)})}run(e,t,n){return ie(this,null,function*(){Si();let r=[],o=[];Object.entries(e).forEach(p=>{let f=p[0],m=p[1],h=this.inputNames.indexOf(f);if(h===-1)throw new Error(`invalid input '${f}'`);r.push(m),o.push(h)});let i=[],s=[];Object.entries(t).forEach(p=>{let f=p[0],m=p[1],h=this.outputNames.indexOf(f);if(h===-1)throw new Error(`invalid output '${f}'`);i.push(m),s.push(h)});let l=r.map((p,f)=>BI(p,()=>`input "${this.inputNames[o[f]]}"`)),c=i.map((p,f)=>p?BI(p,()=>`output "${this.outputNames[s[f]]}"`):null),u=yield NW(this.sessionId,o,l,s,c,n),d={};for(let p=0;p<u.length;p++)d[this.outputNames[s[p]]]=i[p]??lL(u[p]);return Qo(),d})}startProfiling(){}endProfiling(){PW(this.sessionId)}}}),UW={};mp(UW,{OnnxruntimeWebAssemblyBackend:()=>JI,initializeFlags:()=>QI,wasmBackend:()=>WW});var QI,JI,WW,Hue=ye(()=>{"use strict";Jo(),BW(),Vue(),QI=()=>{if((typeof _n.wasm.initTimeout!="number"||_n.wasm.initTimeout<0)&&(_n.wasm.initTimeout=0),_n.wasm.simd===!1&&console.warn('Deprecated property "env.wasm.simd" is set to false. non-SIMD build is no longer provided, and this setting will be ignored.'),typeof _n.wasm.proxy!="boolean"&&(_n.wasm.proxy=!1),typeof _n.wasm.trace!="boolean"&&(_n.wasm.trace=!1),typeof _n.wasm.numThreads!="number"||!Number.isInteger(_n.wasm.numThreads)||_n.wasm.numThreads<=0)if(typeof self<"u"&&!self.crossOriginIsolated)_n.wasm.numThreads=1;else{let e=typeof navigator>"u"?Dce("node:os").cpus().length:navigator.hardwareConcurrency;_n.wasm.numThreads=Math.min(4,Math.ceil((e||1)/2))}},JI=class{init(e){return ie(this,null,function*(){QI(),yield AW(),yield MW(e)})}createInferenceSessionHandler(e,t){return ie(this,null,function*(){let n=new LW;return yield n.loadModel(e,t),Promise.resolve(n)})}},WW=new JI});Jo();Jo();Jo();var Gue="1.21.0";{let e=(Hue(),Ob(UW)).wasmBackend;Vc("webgpu",e,5),Vc("webnn",e,5),Vc("cpu",e,10),Vc("wasm",e,10)}Object.defineProperty(_n.versions,"web",{value:Gue,enumerable:!0});var VW=(()=>{class e{router;global_service;mytext_app;path_img="";input_ml;constructor(n,r){this.router=n,this.global_service=r,this.mytext_app=r.text_app()}ngOnInit(){}ngOnDestroy(){}clickImg0(){this.path_img="/camerafeet1/assets/images/0.png",this.prepareToML()}clickImg1(){this.path_img="/camerafeet1/assets/images/1.png",this.prepareToML()}clickImg2(){this.path_img="/camerafeet1/assets/images/2.png",this.prepareToML()}clickImg3(){this.path_img="/camerafeet1/assets/images/3.png",this.prepareToML()}clickImg4(){this.path_img="/camerafeet1/assets/images/4.png",this.prepareToML()}clickImg5(){this.path_img="/camerafeet1/assets/images/5.png",this.prepareToML()}clickImg6(){this.path_img="/camerafeet1/assets/images/6.png",this.prepareToML()}clickImg7(){this.path_img="/camerafeet1/assets/images/7.png",this.prepareToML()}clickImg8(){this.path_img="/camerafeet1/assets/images/8.png",this.prepareToML()}clickImg9(){this.path_img="/camerafeet1/assets/images/9.png",this.prepareToML()}convertBlobToBase64(n){return ie(this,null,function*(){return new Promise((r,o)=>{let i=new FileReader;i.onerror=o,i.onload=()=>{r(i.result)},i.readAsDataURL(n)})})}downloadImageAsBase64(){return ie(this,null,function*(){let r=yield(yield fetch(this.path_img)).blob();return this.convertBlobToBase64(r)})}prepareToML(){this.downloadImageAsBase64().then(n=>{let r=n;this.convertImgToNumberArray(r).then(o=>{console.log(o);let i=o.length,s=new Float32Array(i);for(let c=0;c<i;c++)s[c]=o[c]/1;console.log(s);let l=new Ur("float32",s,[1,28,28]);this.input_ml={flatten_input:l},alert("TENSOR de entrada preparado para el MODELO")})})}convertImgToNumberArray(n){let r=new Image;r.src=n;let o=document.createElement("canvas"),i=o.getContext("2d");if(!i)throw new Error("Could not get context");return new Promise(s=>{r.onload=function(){o.width=28,o.height=28,i.drawImage(r,0,0,28,28);let l=i.getImageData(0,0,28,28),c=[];for(let u=0;u<l.data.length;u+=4){let d=(l.data[u]+l.data[u+1]+l.data[u+2])/3;c.push(d)}s(c)}})}actionRun(){this.asyncRun()}asyncRun(){return ie(this,null,function*(){console.log("asyncRun");let r=yield this.global_service.get_ml_model().arrayBuffer();console.log(r);let s=(yield(yield Kc.create(r)).run(this.input_ml,["dense_1"])).dense_1.data;console.log(".............."),console.log(s),console.log("..............");let l=new Number(s.indexOf(Math.max(...s)));var c=new String("El d\xEDgito deducido es = "),u=c.concat(l.toString());alert(u)})}static \u0275fac=function(r){return new(r||e)(q(yt),q(Ot))};static \u0275cmp=Oe({type:e,selectors:[["app-screen99ml"]],decls:87,vars:1,consts:[[1,"custom-toolbar"],[1,"example-fill-remaining-space"],[1,"span-custom"],[1,"custom-div-centered"],["src","assets/images/0.png",1,"custom-img-digit",3,"click"],["src","assets/images/linev.png",1,"custom-img-digit"],["src","assets/images/1.png",1,"custom-img-digit",3,"click"],["src","assets/images/2.png",1,"custom-img-digit",3,"click"],["src","assets/images/3.png",1,"custom-img-digit",3,"click"],["src","assets/images/4.png",1,"custom-img-digit",3,"click"],["src","assets/images/lineh.png",1,"custom-img-digit"],["src","assets/images/5.png",1,"custom-img-digit",3,"click"],["src","assets/images/6.png",1,"custom-img-digit",3,"click"],["src","assets/images/7.png",1,"custom-img-digit",3,"click"],["src","assets/images/8.png",1,"custom-img-digit",3,"click"],["src","assets/images/9.png",1,"custom-img-digit",3,"click"],["src","assets/images/lineh.png"],["mat-button","",2,"background-color","blue","color","white","width","180px",3,"click"]],template:function(r,o){r&1&&(N(0,"mat-toolbar",0)(1,"span"),ee(2),j(),X(3,"span",1),j(),X(4,"br")(5,"br")(6,"br")(7,"br")(8,"br"),N(9,"span",2),ee(10,"Primero pulsa sobre un DIGITO"),j(),N(11,"span",2),ee(12,"\xA0"),j(),N(13,"span",2),ee(14,"\xA0"),j(),N(15,"div",3)(16,"TABLE")(17,"tr")(18,"td")(19,"img",4),xe("click",function(){return o.clickImg0()}),j()(),N(20,"td"),X(21,"img",5),j(),N(22,"td")(23,"img",6),xe("click",function(){return o.clickImg1()}),j()(),N(24,"td"),X(25,"img",5),j(),N(26,"td")(27,"img",7),xe("click",function(){return o.clickImg2()}),j()(),N(28,"td"),X(29,"img",5),j(),N(30,"td")(31,"img",8),xe("click",function(){return o.clickImg3()}),j()(),N(32,"td"),X(33,"img",5),j(),N(34,"td")(35,"img",9),xe("click",function(){return o.clickImg4()}),j()()(),N(36,"tr")(37,"td"),X(38,"img",10),j(),N(39,"td"),X(40,"img",10),j(),N(41,"td"),X(42,"img",10),j(),N(43,"td"),X(44,"img",10),j(),N(45,"td"),X(46,"img",10),j(),N(47,"td"),X(48,"img",10),j(),N(49,"td"),X(50,"img",10),j(),N(51,"td"),X(52,"img",10),j(),N(53,"td"),X(54,"img",10),j()(),N(55,"tr")(56,"td")(57,"img",11),xe("click",function(){return o.clickImg5()}),j()(),N(58,"td"),X(59,"img",5),j(),N(60,"td")(61,"img",12),xe("click",function(){return o.clickImg6()}),j()(),N(62,"td"),X(63,"img",5),j(),N(64,"td")(65,"img",13),xe("click",function(){return o.clickImg7()}),j()(),N(66,"td"),X(67,"img",5),j(),N(68,"td")(69,"img",14),xe("click",function(){return o.clickImg8()}),j()(),N(70,"td"),X(71,"img",5),j(),N(72,"td")(73,"img",15),xe("click",function(){return o.clickImg9()}),j()()()()(),N(74,"div",3),X(75,"img",16),j(),N(76,"span",2),ee(77,"Al ejecutar el MODELO se deducir\xE1 el d\xEDgito"),j(),N(78,"span",2),ee(79,"a partir del stream de la imagen pulsada"),j(),N(80,"span",2),ee(81,"\xA0"),j(),N(82,"span",2),ee(83,"\xA0"),j(),N(84,"div",3)(85,"button",17),xe("click",function(){return o.actionRun()}),ee(86,"Ejecutar-Modelo"),j()()),r&2&&(K(2),be(o.mytext_app))},dependencies:[jt,Kt],styles:[".example-fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.custom-toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:400}.custom-div-centered[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#fff}.custom-img-digit[_ngcontent-%COMP%]{width:28px;height:28px}.span-custom[_ngcontent-%COMP%]{width:100%;font-weight:700;font-size:14px;text-align:center;display:block}"]})}return e})();var HW=(()=>{class e{router;global_service;mytext_app;path_img="";input_ml;session;dimension=640;constructor(n,r){this.router=n,this.global_service=r,console.log("CONSTRUCTOR"),this.mytext_app=r.text_app()}ngOnInit(){console.log("ONINIT"),this.load_model()}ngOnDestroy(){}clickPhoto0(){this.path_img="/camerafeet1/assets/images/photo0.png",this.executionML()}clickPhoto1(){return ie(this,null,function*(){this.dimension==640?this.path_img="/camerafeet1/assets/images/photo1x640.png":this.dimension==320?this.path_img="/camerafeet1/assets/images/photo1x320.png":this.dimension==160?this.path_img="/camerafeet1/assets/images/photo1x160.png":this.path_img="/assets/images/photo1.png",this.executionML()})}clickPhoto2(){this.path_img="/camerafeet1/assets/images/photo2.png",this.executionML()}clickPhoto3(){this.path_img="/camerafeet1/assets/images/photo3.png",this.executionML()}clickPhoto4(){this.path_img="/camerafeet1/assets/images/photo4.png",this.executionML()}clickPhoto5(){this.path_img="/camerafeet1/assets/images/photo5.png",this.executionML()}clickPhoto6(){this.path_img="/camerafeet1/assets/images/photo6.png",this.executionML()}convertBlobToBase64(n){return ie(this,null,function*(){return new Promise((r,o)=>{let i=new FileReader;i.onerror=o,i.onload=()=>{r(i.result)},i.readAsDataURL(n)})})}downloadImageAsBase64(){return ie(this,null,function*(){let r=yield(yield fetch(this.path_img)).blob();return this.convertBlobToBase64(r)})}load_model(){return ie(this,null,function*(){let r=yield this.global_service.get_ml_model().arrayBuffer();this.session=yield Kc.create(r,{executionProviders:["cpu"]}),console.log("Modelo-arrayBuffer-ONNX-joa cargado exitosamente")})}executionML(){return ie(this,null,function*(){let n=0,r=yield this.imageToML(),o=[1,3,this.dimension,this.dimension],i=new Ur("float32",r,o);if(this.input_ml={images:i},this.session!==null){let l=performance.now(),c=yield this.session.run(this.input_ml,["output0"]),d=performance.now()-l;console.log("duration_milliseconds1 = "+d);let p="CPU-onnx = "+d.toString(),f=Array.prototype.slice.call(c.output0.data);var s=0;this.dimension==640?s=8400:this.dimension==320?s=2100:this.dimension==160?s=525:s=8400;let m=s*1,h=s*2,g=s*3,_=s*4,$=s*5,x=[];for(let G=0;G<m;G++)x.push(f[G]);let w=[];for(let G=m;G<h;G++)w.push(f[G]);let S=[];for(let G=h;G<g;G++)S.push(f[G]);let I=[];for(let G=g;G<_;G++)I.push(f[G]);let F=[];for(let G=_;G<$;G++)F.push(f[G]);let M=new Number(F.indexOf(Math.max(...F))).valueOf();console.log("index_optimus = "+M),n=F[M],console.log("confidence_value = "+n);let O=x[M];console.log("centerX_value = "+O);let B=w[M];console.log("centerY_value = "+B);let W=S[M];console.log("width_value = "+W);let V=I[M];console.log("height_value = "+V);let P=p+" /// "+n.toString();F.splice(0),x.splice(0),w.splice(0),S.splice(0),I.splice(0),n>0&&alert(P)}})}imageToML(){return ie(this,null,function*(){let n=yield this.downloadImageAsBase64();return new Promise((r,o)=>{let i=new Image;i.src=n;let s=document.createElement("canvas"),l=s.getContext("2d");if(!l)throw new Error("Could not get context");i.onerror=o;let c=[1,3,this.dimension,this.dimension];i.onload=function(){s.width=c[2],s.height=c[3],l.drawImage(i,0,0,c[2],c[3]);let u=l.getImageData(0,0,c[2],c[3]),[d,p,f]=new Array(new Array,new Array,new Array);for(let $=0;$<u.data.length;$+=4)d.push(u.data[$]),p.push(u.data[$+1]),f.push(u.data[$+2]);let m=d.concat(p).concat(f),h,g=m.length,_=new Float32Array(c[1]*c[2]*c[3]);for(h=0;h<g;h++)_[h]=m[h]/255;r(_)}})})}static \u0275fac=function(r){return new(r||e)(q(yt),q(Ot))};static \u0275cmp=Oe({type:e,selectors:[["app-screen98ml"]],decls:20,vars:1,consts:[[1,"custom-toolbar"],[1,"example-fill-remaining-space"],[1,"span-custom"],[1,"custom-div-centered"],["src","assets/images/photo1x640.png",1,"custom-img-foot",3,"click"]],template:function(r,o){r&1&&(N(0,"mat-toolbar",0)(1,"span"),ee(2),j(),X(3,"span",1),j(),X(4,"br")(5,"br")(6,"br")(7,"br")(8,"br"),N(9,"span",2),ee(10,"Pulsa sobre la imagen"),j(),N(11,"span",2),ee(12,"\xA0"),j(),N(13,"span",2),ee(14,"\xA0"),j(),N(15,"div",3)(16,"TABLE")(17,"tr")(18,"td")(19,"img",4),xe("click",function(){return o.clickPhoto1()}),j()()()()()),r&2&&(K(2),be(o.mytext_app))},dependencies:[jt],styles:[".example-fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.custom-toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:400}.custom-div-centered[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#fff}.custom-img-foot[_ngcontent-%COMP%]{width:640px;height:640px}.span-custom[_ngcontent-%COMP%]{width:100%;font-weight:700;font-size:14px;text-align:center;display:block}"]})}return e})();var Qa=class{constructor(t,n){this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)}set(t,n){this.dataIdsCount++,this.data.set(t,n)}has(t){return this.data.has(t)}delete(t){return this.dataIdsCount--,this.data.delete(t)}numDataIds(){return this.dataIdsCount}},es=class{refCount(t){return vo("refCount")}incRef(t){return vo("incRef")}timerAvailable(){return!0}time(t){return vo("time")}read(t){return vo("read")}readSync(t){return vo("readSync")}numDataIds(){return vo("numDataIds")}disposeData(t,n){return vo("disposeData")}write(t,n,r){return vo("write")}move(t,n,r,o,i){return vo("move")}memory(){return vo("memory")}floatPrecision(){return vo("floatPrecision")}epsilon(){return this.floatPrecision()===32?1e-7:1e-4}dispose(){return vo("dispose")}};function vo(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function GW(e){let t=e.length,n=0;for(;t>0;)n=Math.random()*t|0,t--,Vb(e,t,n)}function que(e,t){if(e.length!==t.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${e.length}Second array length was ${t.length}`);let n=e.length,r=0;for(;n>0;)r=Math.random()*n|0,n--,Vb(e,n,r),Vb(t,n,r)}function Xc(e,t,n){return Math.max(e,Math.min(t,n))}function Kue(e){return e%2===0?e:e+1}function Vb(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}function Xue(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}function Yue(e,t){let n=Math.random();return t*n+(1-n)*e}function Zue(e,t){let n=0;for(let r=0;r<e.length;r++){let o=Number(e[r])-Number(t[r]);n+=o*o}return n}function Re(e,t){if(!e)throw new Error(typeof t=="string"?t:t())}function DE(e,t,n=""){Re(Yc(e,t),()=>n+` Shapes ${e} and ${t} must match`)}function hp(e){Re(e!=null,()=>"The input to the tensor constructor must be a non-null value.")}function Ks(e,t=[],n=!1){if(t==null&&(t=[]),Array.isArray(e)||Wr(e)&&!n)for(let r=0;r<e.length;++r)Ks(e[r],t,n);else t.push(e);return t}function qn(e){if(e.length===0)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function Que(e){return e.length===0}function Yc(e,t){if(e===t)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function qW(e){return e%1===0}function Jue(e){if(Math.tanh!=null)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;{let t=Math.exp(2*e);return(t-1)/(t+1)}}function ede(e){let t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function tde(e){let t=new Uint32Array(e);for(let n=0;n<e;++n)t[n]=n;return GW(t),t}function el(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function nde(e,t=r=>0,n){return new Promise((r,o)=>{let i=0,s=()=>{if(e()){r();return}i++;let l=t(i);if(n!=null&&i>=n){o();return}setTimeout(s,l)};s()})}function rde(e,t){let n=1,r=-1;for(let i=0;i<e.length;++i)if(e[i]>=0)n*=e[i];else if(e[i]===-1){if(r!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${i}`);r=i}else if(e[i]<0)throw Error(`Shapes can not be < 0. Found ${e[i]} at dim ${i}`);if(r===-1){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(n===0)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);let o=e.slice();return o[r]=t/n,o}function KW(e,t){let n=t.length;return e=e==null?t.map((r,o)=>o):[].concat(e),Re(e.every(r=>r>=-n&&r<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`),Re(e.every(r=>qW(r)),()=>`All values in axis param must be integers but got axis ${e}`),e.map(r=>r<0?n+r:r)}function ode(e,t){let n=[],r=[],o=t!=null&&Array.isArray(t)&&t.length===0,i=t==null||o?null:KW(t,e).sort(),s=0;for(let l=0;l<e.length;++l){if(i!=null){if(i[s]===l&&e[l]!==1)throw new Error(`Can't squeeze axis ${l} since its dim '${e[l]}' is not 1`);(i[s]==null||i[s]>l)&&e[l]===1&&(n.push(e[l]),r.push(l)),i[s]<=l&&s++}e[l]!==1&&(n.push(e[l]),r.push(l))}return{newShape:n,keptDims:r}}function ide(e,t){let n=null;if(e==null||e==="float32")n=new Float32Array(t);else if(e==="int32")n=new Int32Array(t);else if(e==="bool")n=new Uint8Array(t);else throw new Error(`Unknown data type ${e}`);return n}function FE(e,t){let n=null;if(e==null||e==="float32")n=new Float32Array(t);else if(e==="int32")n=new Int32Array(t);else if(e==="bool")n=new Uint8Array(t);else if(e==="string")n=new Array(t);else throw new Error(`Unknown data type ${e}`);return n}function kE(e,t){for(let n=0;n<e.length;n++){let r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}function AE(e){return e==="bool"||e==="complex64"||e==="float32"||e==="int32"||e==="string"}function sde(e,t){return!(t==="complex64"||t==="float32"&&e!=="complex64"||t==="int32"&&e!=="float32"&&e!=="complex64"||t==="bool"&&e==="bool")}function Wr(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}function Hb(e){if(e==="float32"||e==="int32")return 4;if(e==="complex64")return 8;if(e==="bool")return 1;throw new Error(`Unknown dtype ${e}`)}function ME(e){if(e==null)return 0;let t=0;return e.forEach(n=>t+=n.length),t}function Zc(e){return typeof e=="string"||e instanceof String}function XW(e){return typeof e=="boolean"}function YW(e){return typeof e=="number"}function Qc(e){return Array.isArray(e)?Qc(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":YW(e)?"float32":Zc(e)?"string":XW(e)?"bool":"float32"}function Gb(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Jc(e,t){for(let n=t;n<e;++n)if(e%n===0)return n;return e}function Ci(e){let t=e.length;if(t<2)return[];let n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function ZW(e,t,n,r=!1){let o=new Array;if(t.length===1){let i=t[0]*(r?2:1);for(let s=0;s<i;s++)o[s]=n[e+s]}else{let i=t[0],s=t.slice(1),l=s.reduce((c,u)=>c*u)*(r?2:1);for(let c=0;c<i;c++)o[c]=ZW(e+c*l,s,n,r)}return o}function Ja(e,t,n=!1){if(e.length===0)return t[0];let r=e.reduce((o,i)=>o*i)*(n?2:1);if(r===0)return[];if(r!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return ZW(0,e,t,n)}function RE(e,t){let n=eu(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function eu(e,t){if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool")return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function ade(e,t){let n=e.reduce((r,o)=>r*o,1);if(t==null||t==="float32")return Ja(e,new Float32Array(n));if(t==="int32")return Ja(e,new Int32Array(n));if(t==="bool")return Ja(e,new Uint8Array(n));throw new Error(`Unknown data type ${t}`)}function gp(e){e.forEach(t=>{Re(Number.isInteger(t)&&t>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`)})}function lde(e,t,n){if(t===0)return 0;if(t===1)return e[0];let r=e[e.length-1];for(let o=0;o<e.length-1;++o)r+=n[o]*e[o];return r}function cde(e,t,n){if(t===0)return[];if(t===1)return[e];let r=new Array(t);for(let o=0;o<r.length-1;++o)r[o]=Math.floor(e/n[o]),e-=r[o]*n[o];return r[r.length-1]=e,r}function bp(e){return e&&e.then&&typeof e.then=="function"}function wo(...e){Q().getBool("IS_TEST")||Q().getBool("PROD")||console.warn(...e)}function dde(...e){Q().getBool("IS_TEST")||Q().getBool("PROD")||console.log(...e)}var QW="tfjsflags",yp=class{constructor(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=pde,this.populateURLFlags()}setPlatform(t,n){this.platform!=null&&wo(`Platform ${this.platformName} has already been set. Overwriting the platform with ${n}.`),this.platformName=t,this.platform=n}registerFlag(t,n,r){if(this.flagRegistry[t]={evaluationFn:n,setHook:r},this.urlFlags[t]!=null){let o=this.urlFlags[t];wo(`Setting feature override from URL ${t}: ${o}.`),this.set(t,o)}}getAsync(t){return ie(this,null,function*(){return t in this.flags?this.flags[t]:(this.flags[t]=yield this.evaluateFlag(t),this.flags[t])})}get(t){if(t in this.flags)return this.flags[t];let n=this.evaluateFlag(t);if(bp(n))throw new Error(`Flag ${t} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[t]=n,this.flags[t]}getNumber(t){return this.get(t)}getBool(t){return this.get(t)}getFlags(){return this.flags}get features(){return this.flags}set(t,n){if(this.flagRegistry[t]==null)throw new Error(`Cannot set flag ${t} as it has not been registered.`);this.flags[t]=n,this.flagRegistry[t].setHook!=null&&this.flagRegistry[t].setHook(n)}evaluateFlag(t){if(this.flagRegistry[t]==null)throw new Error(`Cannot evaluate flag '${t}': no evaluation function found.`);return this.flagRegistry[t].evaluationFn()}setFlags(t){this.flags=Object.assign({},t)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;let t=this.getQueryParams(this.global.location.search);QW in t&&t[QW].split(",").forEach(r=>{let[o,i]=r.split(":");this.urlFlags[o]=mde(o,i)})}};function pde(e){let t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...r)=>(fde(t,r[0],r[1]),r.join("="))),t}function fde(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function mde(e,t){if(t=t.toLowerCase(),t==="true"||t==="false")return t==="true";if(`${+t}`===t)return+t;throw new Error(`Could not parse value flag value ${t} for flag ${e}.`)}function Q(){return OE}var OE=null;function JW(e){OE=e}var NE;function PE(){if(NE==null){let e;if(typeof window<"u")e=window;else if(typeof global<"u")e=global;else if(typeof process<"u")e=process;else if(typeof self<"u")e=self;else throw new Error("Could not find a global object");NE=e}return NE}function hde(){let e=PE();return e._tfGlobals==null&&(e._tfGlobals=new Map),e._tfGlobals}function _p(e,t){let n=hde();if(n.has(e))return n.get(e);{let r=t();return n.set(e,r),n.get(e)}}var qb="Abs",$p="Acos",xp="Acosh",tl="Add",Kb="AddN",Xb="All",Yb="Any",Zb="ArgMax",Qb="ArgMin",vp="Asin",wp="Asinh",Sp="Atan",Cp="Atanh",Ip="Atan2",Jb="AvgPool",ey="AvgPoolGrad",ty="AvgPool3D",ny="AvgPool3DGrad",ry="BatchMatMul",oy="BatchToSpaceND",iy="Bincount";var sy="BroadcastArgs",Xs="Cast",Ep="Ceil",Tp="ClipByValue",tu="Complex",ay="ComplexAbs",ly="Concat",cy="Conv2D",uy="Conv2DBackpropFilter",dy="Conv2DBackpropInput",py="Conv3D",fy="Conv3DBackpropFilterV2",my="Conv3DBackpropInputV2",Dp="Cos",Fp="Cosh",hy="Cumsum",gy="CropAndResize",by="DenseBincount",yy="DepthToSpace",_y="DepthwiseConv2dNative",$y="DepthwiseConv2dNativeBackpropFilter",xy="DepthwiseConv2dNativeBackpropInput",vy="Diag",wy="Dilation2D",BE="Dilation2DBackpropInput",LE="Dilation2DBackpropFilter",kp="RealDiv",Sy="Einsum",nl="Elu",Cy="EluGrad",Ap="Erf",Mp="Equal",Rp="Exp",Iy="ExpandDims",jp="Expm1",Ey="FFT",Ty="Fill",Dy="FlipLeftRight",Op="Floor",Np="FloorDiv",Fy="FusedBatchNorm",ky="GatherV2",Ay="GatherNd",Pp="Greater",Bp="GreaterEqual",Ys="Identity",My="IFFT",Ry="Imag",Lp="IsFinite",Up="IsInf",Wp="IsNan",nu="LeakyRelu",zp="Less",Vp="LessEqual",jy="LinSpace",Hp="Log",Gp="Log1p",qp="LogicalAnd",Kp="LogicalNot",Xp="LogicalOr";var Oy="LRN",Ny="LRNGrad",Py="Max",Yp="Maximum",By="MaxPool",Ly="MaxPoolGrad",Uy="MaxPool3D",Wy="MaxPool3DGrad",zy="MaxPoolWithArgmax",Vy="Mean",Hy="Min",Zp="Minimum",Gy="MirrorPad",Qp="Mod",qy="Multinomial",rl="Multiply",Ky="Neg",Jp="NotEqual",Xy="NonMaxSuppressionV3",Yy="NonMaxSuppressionV4",Zy="NonMaxSuppressionV5",Qy="OnesLike",Jy="OneHot",e_="Pack",t_="PadV2";var ef="Pow",ru="Prelu",n_="Prod",r_="Range",o_="Real",tf="Reciprocal",ol="Relu",ou="Reshape",i_="ResizeNearestNeighbor",s_="ResizeNearestNeighborGrad",a_="ResizeBilinear",l_="ResizeBilinearGrad",il="Relu6",c_="Reverse",nf="Round",rf="Rsqrt",u_="ScatterNd",d_="Select",of="Selu",p_="Slice",sf="Sin",af="Sinh",lf="Sign",sl="Sigmoid",cf="Softplus",uf="Sqrt",iu="Sum",f_="SpaceToBatchND",m_="SplitV",h_="Softmax",g_="SparseFillEmptyRows",b_="SparseReshape",y_="SparseSegmentMean",__="SparseSegmentSum",$_="SparseToDense",df="SquaredDifference",x_="Square",v_="StridedSlice",w_="StringNGrams",S_="StringSplit",C_="StringToHashBucketFast",pf="Sub",ff="Tan",mf="Tanh",I_="Tile",E_="TopK",T_="Transform",D_="Transpose",F_="Unique",k_="Unpack",A_="UnsortedSegmentSum",M_="ZerosLike",al="Step",ez="FromPixels",R_="RotateWithOffset",j_="_FusedMatMul",O_="FusedConv2D",N_="FusedDepthwiseConv2D";var P_=_p("kernelRegistry",()=>new Map),gde=_p("gradRegistry",()=>new Map);function UE(e,t){let n=tz(e,t);return P_.get(n)}function WE(e){return gde.get(e)}function zE(e){let t=P_.entries(),n=[];for(;;){let{done:r,value:o}=t.next();if(r)break;let[i,s]=o,[l]=i.split("_");l===e&&n.push(s)}return n}function B_(e){let{kernelName:t,backendName:n}=e,r=tz(t,n);P_.has(r)&&wo(`The kernel '${t}' for backend '${n}' is already registered`),P_.set(r,e)}function tz(e,t){return`${t}_${e}`}var E={};ca(E,{arraysEqual:()=>Yc,assert:()=>Re,assertNonNegativeIntegerDimensions:()=>gp,assertNonNull:()=>hp,assertShapesMatch:()=>DE,bytesFromStringArray:()=>ME,bytesPerElement:()=>Hb,checkConversionForErrors:()=>kE,clamp:()=>Xc,computeStrides:()=>Ci,createScalarValue:()=>wde,createShuffledIndices:()=>tde,decodeString:()=>uu,distSquared:()=>Zue,encodeString:()=>cu,fetch:()=>Cde,fingerPrint64:()=>vde,flatten:()=>Ks,getArrayFromDType:()=>FE,getTypedArrayFromDType:()=>ide,hasEncodingLoss:()=>sde,hexToLong:()=>hf,indexToLoc:()=>cde,inferDtype:()=>Qc,inferFromImplicitShape:()=>rde,isBoolean:()=>XW,isFunction:()=>Gb,isInt:()=>qW,isNumber:()=>YW,isPromise:()=>bp,isScalarShape:()=>Que,isString:()=>Zc,isTypedArray:()=>Wr,isValidDtype:()=>AE,locToIndex:()=>lde,makeOnesTypedArray:()=>RE,makeZerosNestedTypedArray:()=>ade,makeZerosTypedArray:()=>eu,nearestDivisor:()=>Jc,nearestLargerEven:()=>Kue,now:()=>pl,parseAxisParam:()=>KW,randUniform:()=>Yue,repeatedTry:()=>nde,rightPad:()=>el,shuffle:()=>GW,shuffleCombo:()=>que,sizeFromShape:()=>qn,sizeToSquarishShape:()=>ede,squeezeShape:()=>ode,sum:()=>Xue,swap:()=>Vb,tanh:()=>Jue,toNestedArray:()=>Ja,toTypedArray:()=>lu});var qE=li(pz());var dl=qE.default||qE;function hf(e){return dl.fromString(e,!0,16)}var mz=hf("c3a5c85c97cb3127"),ul=hf("b492b66fbe98f273"),$r=hf("9ae16a3b2f90404f");function GE(e){return e.xor(e.shru(47))}function hz(e,t,n){let r=e.slice(t,t+n);return dl.fromBytes(Array.from(r),!0,!0)}function ln(e,t){return hz(e,t,8)}function fz(e,t){return hz(e,t,4)}function Kn(e,t){return t===0?e:e.shru(t).or(e.shl(64-t))}function Zs(e,t,n=hf("9ddfea08eb382d69")){let r=e.xor(t).mul(n);r=r.xor(r.shru(47));let o=t.xor(r).mul(n);return o=o.xor(o.shru(47)),o=o.mul(n),o}function yde(e,t,n,r,o,i){o=o.add(e),i=Kn(i.add(o).add(r),21);let s=o;return o=o.add(t),o=o.add(n),i=i.add(Kn(o,44)),[o.add(r),i.add(s)]}function U_(e,t,n,r){return yde(ln(e,t),ln(e,t+8),ln(e,t+16),ln(e,t+24),n,r)}function _de(e,t=e.length){if(t>=8){let n=$r.add(t*2),r=ln(e,0).add($r),o=ln(e,t-8),i=Kn(o,37).mul(n).add(r),s=Kn(r,25).add(o).mul(n);return Zs(i,s,n)}if(t>=4){let n=$r.add(t*2),r=fz(e,0);return Zs(r.shl(3).add(t),fz(e,t-4),n)}if(t>0){let n=e[0],r=e[t>>1],o=e[t-1],i=n+(r<<8),s=t+(o<<2);return GE($r.mul(i).xor(mz.mul(s))).mul($r)}return $r}function $de(e,t=e.length){let n=$r.add(t*2),r=ln(e,0).mul(ul),o=ln(e,8),i=ln(e,t-8).mul(n),s=ln(e,t-16).mul($r);return Zs(Kn(r.add(o),43).add(Kn(i,30)).add(s),r.add(Kn(o.add($r),18)).add(i),n)}function xde(e,t=e.length){let n=$r.add(t*2),r=ln(e,0).mul($r),o=ln(e,8),i=ln(e,t-8).mul(n),s=ln(e,t-16).mul($r),l=Kn(r.add(o),43).add(Kn(i,30)).add(s),c=Zs(l,r.add(Kn(o.add($r),18)).add(i),n),u=ln(e,16).mul(n),d=ln(e,24),p=l.add(ln(e,t-32)).mul(n),f=c.add(ln(e,t-24)).mul(n);return Zs(Kn(u.add(d),43).add(Kn(p,30)).add(f),u.add(Kn(d.add(r),18)).add(p),n)}function vde(e,t=e.length){let n=dl.fromNumber(81,!0);if(t<=32)return t<=16?_de(e,t):$de(e,t);if(t<=64)return xde(e,t);let r=n,o=n.mul(ul).add(113),i=GE(o.mul($r).add(113)).mul($r),s=[dl.UZERO,dl.UZERO],l=[dl.UZERO,dl.UZERO];r=r.mul($r).add(ln(e,0));let c=0,u=(t-1>>6)*64,d=u+(t-1&63)-63;do r=Kn(r.add(o).add(s[0]).add(ln(e,c+8)),37).mul(ul),o=Kn(o.add(s[1]).add(ln(e,c+48)),42).mul(ul),r=r.xor(l[1]),o=o.add(s[0]).add(ln(e,c+40)),i=Kn(i.add(l[0]),33).mul(ul),s=U_(e,c,s[1].mul(ul),r.add(l[0])),l=U_(e,c+32,i.add(l[1]),o.add(ln(e,c+16))),[i,r]=[r,i],c+=64;while(c!==u);let p=ul.add(i.and(255).shl(1));return c=d,l[0]=l[0].add(t-1&63),s[0]=s[0].add(l[0]),l[0]=l[0].add(s[0]),r=Kn(r.add(o).add(s[0]).add(ln(e,c+8)),37).mul(p),o=Kn(o.add(s[1]).add(ln(e,c+48)),42).mul(p),r=r.xor(l[1].mul(9)),o=o.add(s[0].mul(9).add(ln(e,c+40))),i=Kn(i.add(l[0]),33).mul(p),s=U_(e,c,s[1].mul(p),r.add(l[0])),l=U_(e,c+32,i.add(l[1]),o.add(ln(e,c+16))),[i,r]=[r,i],Zs(Zs(s[0],l[0],p).add(GE(o).mul(mz)).add(i),Zs(s[1],l[1],p).add(r),p)}function wde(e,t){return t==="string"?cu(e):lu([e],t)}function Sde(e,t){return e instanceof Float32Array&&t==="float32"||e instanceof Int32Array&&t==="int32"||e instanceof Uint8Array&&t==="bool"}function lu(e,t){if(t==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=Ks(e)),Q().getBool("DEBUG")&&kE(e,t),Sde(e,t))return e;if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool"){let n=new Uint8Array(e.length);for(let r=0;r<n.length;++r)Math.round(e[r])!==0&&(n[r]=1);return n}else throw new Error(`Unknown data type ${t}`)}function pl(){return Q().platform.now()}function Cde(e,t){return Q().platform.fetch(e,t)}function cu(e,t="utf-8"){return t=t||"utf-8",Q().platform.encode(e,t)}function uu(e,t="utf-8"){return t=t||"utf-8",Q().platform.decode(e,t)}var W_=class{constructor(t,n){this.backendTimer=t,this.logger=n,n==null&&(this.logger=new KE)}profileKernel(t,n,r){let o,i=()=>{o=r()},s,l=pl();if(this.backendTimer.timerAvailable())s=this.backendTimer.time(i);else{i();for(let u of o)u.dataSync();s=Promise.resolve({kernelMs:pl()-l})}if(Q().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let u=0;u<o.length;u++){let d=o[u];d.data().then(p=>{Ide(p,d.dtype,t)})}return{kernelName:t,outputs:o,inputs:n,timeMs:s.then(u=>u.kernelMs),extraInfo:s.then(u=>u.getExtraProfileInfo!=null?u.getExtraProfileInfo():"")}}logKernelProfile(t){let{kernelName:n,outputs:r,timeMs:o,inputs:i,extraInfo:s}=t;r.forEach(l=>{Promise.all([l.data(),o,s]).then(c=>{this.logger.logKernelProfile(n,l,c[0],c[1],i,c[2])})})}};function Ide(e,t,n){if(t!=="float32")return!1;for(let r=0;r<e.length;r++){let o=e[r];if(isNaN(o)||!isFinite(o))return console.warn(`Found ${o} in the result of '${n}'`),!0}return!1}var KE=class{logKernelProfile(t,n,r,o,i,s){let l=typeof o=="number"?el(`${o}ms`,9):o.error,c=el(t,25),u=n.rank,d=n.size,p=el(n.shape.toString(),14),f="";for(let m in i){let h=i[m];if(h!=null){let g=h.shape||n.shape,_=g.length;f+=`${m}: ${_}D ${_>0?g:""} `}}console.log(`%c${c}	%c${l}	%c${u}D ${p}	%c${d}	%c${f}	%c${s}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}};function gz(e,t,n){let r={},o={};for(let c=0;c<t.length;c++)r[t[c].id]=!0;for(let c=0;c<e.length;c++){let u=e[c],d=u.inputs;for(let p in d){let f=d[p],m=!1;for(let h=0;h<t.length;h++)if(r[f.id]){u.outputs.forEach(g=>r[g.id]=!0),m=!0,o[u.id]=!0;break}if(m)break}}let i={};i[n.id]=!0;let s={};for(let c=e.length-1;c>=0;c--){let u=e[c],d=u.inputs;for(let p=0;p<u.outputs.length;p++)if(i[u.outputs[p].id]){for(let f in d)i[d[f].id]=!0,s[u.id]=!0;break}}let l=[];for(let c=0;c<e.length;c++){let u=e[c];if(o[u.id]&&s[u.id]){let d={};for(let f in u.inputs){let m=u.inputs[f];r[m.id]&&(d[f]=m)}let p=Object.assign({},u);p.inputs=d,p.outputs=u.outputs,l.push(p)}}return l}function bz(e,t,n,r){for(let o=t.length-1;o>=0;o--){let i=t[o],s=[];if(i.outputs.forEach(c=>{let u=e[c.id];u!=null?s.push(u):s.push(null)}),i.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${i.kernelName}.`);let l=i.gradient(s);for(let c in i.inputs){if(!(c in l))throw new Error(`Cannot backprop through input ${c}. Available gradients found: ${Object.keys(l)}.`);let u=n(()=>l[c]());if(u.dtype!=="float32")throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input ${c} must have 'float32' dtype, but has '${u.dtype}'`);let d=i.inputs[c];if(!Yc(u.shape,d.shape))throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input '${c}' has shape '${u.shape}', which does not match the shape of the input '${d.shape}'`);if(e[d.id]==null)e[d.id]=u;else{let p=e[d.id];e[d.id]=r(p,u),p.dispose()}}}}var yz=20,gf=3,XE=7;function _z(e,t,n,r){let o=Ci(t),i=Ede(e,t,n,o),s=t.length,l=z_(e,t,n,o,i),c=["Tensor"];return r&&(c.push(`  dtype: ${n}`),c.push(`  rank: ${s}`),c.push(`  shape: [${t}]`),c.push("  values:")),c.push(l.map(u=>"    "+u).join(`
`)),c.join(`
`)}function Ede(e,t,n,r){let o=qn(t),i=r[r.length-1],s=new Array(i).fill(0),l=t.length,c=n==="complex64"?yf(e):e;if(l>1)for(let u=0;u<o/i;u++){let d=u*i;for(let p=0;p<i;p++)s[p]=Math.max(s[p],bf(c[d+p],0,n).length)}return s}function bf(e,t,n){let r;return Array.isArray(e)?r=`${parseFloat(e[0].toFixed(XE))} + ${parseFloat(e[1].toFixed(XE))}j`:Zc(e)?r=`'${e}'`:n==="bool"?r=$z(e):r=parseFloat(e.toFixed(XE)).toString(),el(r,t)}function $z(e){return e===0?"false":"true"}function z_(e,t,n,r,o,i=!0){let s=n==="complex64"?2:1,l=t[0],c=t.length;if(c===0){if(n==="complex64"){let g=yf(e);return[bf(g[0],0,n)]}return n==="bool"?[$z(e[0])]:[e[0].toString()]}if(c===1){if(l>yz){let _=gf*s,$=Array.from(e.slice(0,_)),x=Array.from(e.slice((l-gf)*s,l*s));return n==="complex64"&&($=yf($),x=yf(x)),["["+$.map((w,S)=>bf(w,o[S],n)).join(", ")+", ..., "+x.map((w,S)=>bf(w,o[l-gf+S],n)).join(", ")+"]"]}return["["+(n==="complex64"?yf(e):Array.from(e)).map((_,$)=>bf(_,o[$],n)).join(", ")+"]"]}let u=t.slice(1),d=r.slice(1),p=r[0]*s,f=[];if(l>yz){for(let g=0;g<gf;g++){let _=g*p,$=_+p;f.push(...z_(e.slice(_,$),u,n,d,o,!1))}f.push("...");for(let g=l-gf;g<l;g++){let _=g*p,$=_+p;f.push(...z_(e.slice(_,$),u,n,d,o,g===l-1))}}else for(let g=0;g<l;g++){let _=g*p,$=_+p;f.push(...z_(e.slice(_,$),u,n,d,o,g===l-1))}let m=c===2?",":"";f[0]="["+f[0]+m;for(let g=1;g<f.length-1;g++)f[g]=" "+f[g]+m;let h=`,
`;for(let g=2;g<c;g++)h+=`
`;return f[f.length-1]=" "+f[f.length-1]+"]"+(i?"":h),f}function yf(e){let t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var zt=class{constructor(t,n,r){if(this.dtype=n,this.shape=t.slice(),this.size=qn(t),r!=null){let o=r.length;Re(o===this.size,()=>`Length of values '${o}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||FE(n,this.size),this.strides=Ci(t)}set(t,...n){n.length===0&&(n=[0]),Re(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);let r=this.locToIndex(n);this.values[r]=t}get(...t){t.length===0&&(t=[0]);let n=0;for(let o of t){if(o<0||o>=this.shape[n]){let i=`Requested out of range element at ${t}.   Buffer shape=${this.shape}`;throw new Error(i)}n++}let r=t[t.length-1];for(let o=0;o<t.length-1;++o)r+=this.strides[o]*t[o];return this.values[r]}locToIndex(t){if(this.rank===0)return 0;if(this.rank===1)return t[0];let n=t[t.length-1];for(let r=0;r<t.length-1;++r)n+=this.strides[r]*t[r];return n}indexToLoc(t){if(this.rank===0)return[];if(this.rank===1)return[t];let n=new Array(this.shape.length);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(t/this.strides[r]),t-=n[r]*this.strides[r];return n[n.length-1]=t,n}get rank(){return this.shape.length}toTensor(){return Ii().makeTensor(this.values,this.shape,this.dtype)}},Ii=null,du=null,Tde=null;function xz(e){Ii=e}function vz(e){du=e}function wz(e){Tde=e}var Mn=class{constructor(t,n,r,o){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=qn(t),this.strides=Ci(t),this.dataId=r,this.id=o,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}buffer(){return ie(this,null,function*(){let t=yield this.data();return du.buffer(this.shape,this.dtype,t)})}bufferSync(){return du.buffer(this.shape,this.dtype,this.dataSync())}array(){return ie(this,null,function*(){let t=yield this.data();return Ja(this.shape,t,this.dtype==="complex64")})}arraySync(){return Ja(this.shape,this.dataSync(),this.dtype==="complex64")}data(){return ie(this,null,function*(){this.throwIfDisposed();let t=Ii().read(this.dataId);if(this.dtype==="string"){let n=yield t;try{return n.map(r=>uu(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return t})}dataSync(){this.throwIfDisposed();let t=Ii().readSync(this.dataId);if(this.dtype==="string")try{return t.map(n=>uu(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return t}bytes(){return ie(this,null,function*(){this.throwIfDisposed();let t=yield Ii().read(this.dataId);return this.dtype==="string"?t:new Uint8Array(t.buffer)})}dispose(){this.isDisposed||(Ii().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(t=!1){return du.print(this,t)}clone(){return this.throwIfDisposed(),du.clone(this)}toString(t=!1){let n=this.dataSync();return _z(n,this.shape,this.dtype,t)}cast(t){return this.throwIfDisposed(),du.cast(this,t)}variable(t=!0,n,r){return this.throwIfDisposed(),Ii().makeVariable(this,t,n,r)}};Object.defineProperty(Mn,Symbol.hasInstance,{value:e=>!!e&&e.data!=null&&e.dataSync!=null&&e.throwIfDisposed!=null});function Dde(){return _p("Tensor",()=>Mn)}Dde();var fl=class extends Mn{constructor(t,n,r,o){super(t.shape,t.dtype,t.dataId,o),this.trainable=n,this.name=r}assign(t){if(t.dtype!==this.dtype)throw new Error(`dtype of the new value (${t.dtype}) and previous value (${this.dtype}) must match`);if(!Yc(t.shape,this.shape))throw new Error(`shape of the new value (${t.shape}) and previous value (${this.shape}) must match`);Ii().disposeTensor(this),this.dataId=t.dataId,Ii().incRef(this,null)}dispose(){Ii().disposeVariable(this),this.isDisposedInternal=!0}};Object.defineProperty(fl,Symbol.hasInstance,{value:e=>e instanceof Mn&&e.assign!=null&&e.assign instanceof Function});var Sz=function(e){return e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64",e}(Sz||{}),Cz=function(e){return e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64",e}(Cz||{}),Iz=function(e){return e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64",e}(Iz||{}),Ez=function(e){return e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64",e}(Ez||{}),Fde={float32:Iz,int32:Sz,bool:Cz,complex64:Ez};function Rn(e,t){if(e==="string"||t==="string"){if(e==="string"&&t==="string")return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return Fde[e][t]}function ml(e){return Rn(e,"int32")}function Tz(e,t){if(e.dtype===t.dtype)return[e,t];let n=Rn(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function Dz(e){let t=[];return Fz(e,t,new Set),t}function Fz(e,t,n){if(e==null)return;if(e instanceof Mn){t.push(e);return}if(!kde(e))return;let r=e;for(let o in r){let i=r[o];n.has(i)||(n.add(i),Fz(i,t,n))}}function kde(e){return Array.isArray(e)||typeof e=="object"}function YE(e){return e.kernelName!=null}var V_=class{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(t=>t.name)))}}}dispose(){for(let t in this.registeredVariables)this.registeredVariables[t].dispose()}},Ade=(()=>{class e{constructor(n){this.ENV=n,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new V_}ready(){return ie(this,null,function*(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;let n=this.getSortedBackends();for(let r=0;r<n.length;r++){let o=n[r];if(yield this.initializeBackend(o).success){yield this.setBackend(o);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")})}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){let{name:n,asyncInit:r}=this.initializeBackendsAndReturnBest();if(r)throw new Error(`The highest priority backend '${n}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(n)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(n){if(!(n in this.registry))if(n in this.registryFactory){let{asyncInit:r}=this.initializeBackend(n);if(r)return null}else return null;return this.registry[n]}findBackendFactory(n){return n in this.registryFactory?this.registryFactory[n].factory:null}registerBackend(n,r,o=1){return n in this.registryFactory?(wo(`${n} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[n]={factory:r,priority:o},!0)}setBackend(n){return ie(this,null,function*(){if(this.registryFactory[n]==null)throw new Error(`Backend name '${n}' not found in registry`);if(this.backendName=n,this.registry[n]==null){this.backendInstance=null;let{success:r,asyncInit:o}=this.initializeBackend(n);if(!(o?yield r:r))return!1}return this.backendInstance=this.registry[n],this.setupRegisteredKernels(),this.profiler=new W_(this.backendInstance),!0})}setupRegisteredKernels(){zE(this.backendName).forEach(r=>{r.setupFunc!=null&&r.setupFunc(this.backendInstance)})}disposeRegisteredKernels(n){zE(n).forEach(o=>{o.disposeFunc!=null&&o.disposeFunc(this.registry[n])})}initializeBackend(n){let r=this.registryFactory[n];if(r==null)throw new Error(`Cannot initialize backend ${n}, no registration found.`);try{let o=r.factory();if(o&&!(o instanceof es)&&typeof o.then=="function"){let i=++this.pendingBackendInitId,s=o.then(l=>i<this.pendingBackendInitId?!1:(this.registry[n]=l,this.pendingBackendInit=null,!0)).catch(l=>(i<this.pendingBackendInitId||(this.pendingBackendInit=null,wo(`Initialization of backend ${n} failed`),wo(l.stack||l.message)),!1));return this.pendingBackendInit=s,{success:s,asyncInit:!0}}else return this.registry[n]=o,{success:!0,asyncInit:!1}}catch(o){return wo(`Initialization of backend ${n} failed`),wo(o.stack||o.message),{success:!1,asyncInit:!1}}}removeBackend(n){if(!(n in this.registryFactory))throw new Error(`${n} backend not found in registry`);this.backendName===n&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,n in this.registry&&(this.disposeRegisteredKernels(n),this.registry[n].dispose(),delete this.registry[n]),delete this.registryFactory[n],this.backendName===n&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((n,r)=>this.registryFactory[r].priority-this.registryFactory[n].priority)}initializeBackendsAndReturnBest(){let n=this.getSortedBackends();for(let r=0;r<n.length;r++){let o=n[r],{success:i,asyncInit:s}=this.initializeBackend(o);if(s||i)return{name:o,asyncInit:s}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(n,r){let o=this.state.tensorInfo.get(r),i=o.backend,s=this.readSync(r),l=i.refCount(r);i.disposeData(r,!0),o.backend=n,n.move(r,s,o.shape,o.dtype,l),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(n,r){let o=null;if(r==null){if(typeof n!="function")throw new Error("Please provide a function to tidy()");r=n}else{if(typeof n!="string"&&!(n instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof r!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");o=n}let i;return this.scopedRun(()=>this.startScope(o),()=>this.endScope(i),()=>(i=r(),i instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),i))}scopedRun(n,r,o){n();try{let i=o();return r(),i}catch(i){throw r(),i}}nextTensorId(){return e.nextTensorId++}nextVariableId(){return e.nextVariableId++}clone(n){let r=lt.runKernel(Ys,{x:n}),o={x:n},i=l=>({x:()=>{let c="float32",u={x:l},d={dtype:c};return lt.runKernel(Xs,u,d)}}),s=[];return this.addTapeNode(this.state.activeScope.name,o,[r],i,s,{}),r}runKernel(n,r,o){if(this.backendName==null&&this.backend,!(UE(n,this.backendName)!=null))throw new Error(`Kernel '${n}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:n,inputs:r,attrs:o})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(n,r,o){let i=this.backend.numDataIds(),s=0;o.forEach(u=>{s+=u.dtype==="complex64"?3:1});let l=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],c=i-r-s-l;if(c>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${c} data ids) after running '${n}'`)}runKernelFunc(n){let r,o=[],i=this.isTapeOn(),s=this.state.numBytes,l=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let c;this.backendName==null&&this.backend;let u,d=YE(n)?n.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(YE(n)){let{kernelName:g,inputs:_,attrs:$}=n;this.backendName==null&&this.backend;let x=UE(g,this.backendName);Re(x!=null,()=>`Cannot find registered kernel '${g}' for backend '${this.backendName}'`),c=()=>{let w=this.backend.numDataIds();u=x.kernelFunc({inputs:_,attrs:$,backend:this.backend});let S=Array.isArray(u)?u:[u];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(g,w,S);let I=S.map(F=>{if(F.rank!=null)return F;let{dataId:k,shape:M,dtype:O}=F;return this.makeTensorFromDataId(k,M,O)});if(i){let F=this.getTensorsForGradient(g,_,I);o=this.saveTensorsForBackwardMode(F)}return I}}else{let{forwardFunc:g}=n,_=$=>{i&&(o=$.map(x=>this.keep(this.clone(x))))};c=()=>{let $=this.backend.numDataIds();u=this.tidy(()=>g(this.backend,_));let x=Array.isArray(u)?u:[u];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(d,$,x),x}}let{inputs:p,attrs:f}=n,m=YE(n)?null:n.backwardsFunc,h;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?r=c():(h=this.profiler.profileKernel(d,p,()=>c()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(h),r=h.outputs)}),i&&this.addTapeNode(d,p,r,m,o,f),this.state.profiling&&this.state.activeProfile.kernels.push({name:d,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-l,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(p).map(g=>p[g]!=null?p[g].shape:null),outputShapes:r.map(g=>g.shape),kernelTimeMs:h.timeMs,extraInfo:h.extraInfo}),Array.isArray(u)?r:r[0]}saveTensorsForBackwardMode(n){return n.map(o=>this.keep(this.clone(o)))}getTensorsForGradient(n,r,o){let i=WE(n);if(i!=null){let s=i.inputsToSave||[],l=i.outputsToSave||[],c;i.saveAllInputs?(Re(Array.isArray(r),()=>"saveAllInputs is true, expected inputs to be an array."),c=Object.keys(r).map(d=>r[d])):c=s.map(d=>r[d]);let u=o.filter((d,p)=>l[p]);return c.concat(u)}return[]}makeTensor(n,r,o,i){if(n==null)throw new Error("Values passed to engine.makeTensor() are null");o=o||"float32",i=i||this.backend;let s=n;o==="string"&&Zc(n[0])&&(s=n.map(u=>cu(u)));let l=i.write(s,r,o),c=new Mn(r,o,l,this.nextTensorId());if(this.trackTensor(c,i),o==="string"){let u=this.state.tensorInfo.get(l),d=ME(s);this.state.numBytes+=d-u.bytes,u.bytes=d}return c}makeTensorFromDataId(n,r,o,i){o=o||"float32";let s=new Mn(r,o,n,this.nextTensorId());return this.trackTensor(s,i),s}makeVariable(n,r=!0,o,i){o=o||this.nextVariableId().toString(),i!=null&&i!==n.dtype&&(n=n.cast(i));let s=new fl(n,r,o,this.nextTensorId());if(this.state.registeredVariables[s.name]!=null)throw new Error(`Variable with name ${s.name} was already registered`);return this.state.registeredVariables[s.name]=s,this.incRef(s,this.backend),s}trackTensor(n,r){this.state.numTensors++,n.dtype==="string"&&this.state.numStringTensors++;let o=0;n.dtype!=="complex64"&&n.dtype!=="string"&&(o=n.size*Hb(n.dtype)),this.state.numBytes+=o,this.state.tensorInfo.has(n.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(n.dataId,{backend:r||this.backend,dtype:n.dtype,shape:n.shape,bytes:o})),n instanceof fl||this.track(n)}incRef(n,r){this.trackTensor(n,r),this.backend.incRef(n.dataId)}removeDataId(n,r){this.state.tensorInfo.has(n)&&this.state.tensorInfo.get(n).backend===r&&(this.state.tensorInfo.delete(n),this.state.numDataBuffers--)}disposeTensor(n){if(!this.state.tensorInfo.has(n.dataId))return;let r=this.state.tensorInfo.get(n.dataId);if(this.state.numTensors--,n.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=r.bytes),n.dtype!=="complex64"&&n.dtype!=="string"){let o=n.size*Hb(n.dtype);this.state.numBytes-=o}r.backend.disposeData(n.dataId)&&this.removeDataId(n.dataId,r.backend)}disposeVariables(){for(let n in this.state.registeredVariables){let r=this.state.registeredVariables[n];this.disposeVariable(r)}}disposeVariable(n){this.disposeTensor(n),this.state.registeredVariables[n.name]!=null&&delete this.state.registeredVariables[n.name]}memory(){let n=this.backend.memory();return n.numTensors=this.state.numTensors,n.numDataBuffers=this.state.numDataBuffers,n.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(n.unreliable=!0,n.reasons==null&&(n.reasons=[]),n.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),n}profile(n){return ie(this,null,function*(){this.state.profiling=!0;let r=this.state.numBytes,o=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=yield n(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(i=>i.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-r,this.state.activeProfile.newTensors=this.state.numTensors-o;for(let i of this.state.activeProfile.kernels)i.kernelTimeMs=yield i.kernelTimeMs,i.extraInfo=yield i.extraInfo;return this.state.activeProfile})}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(n,r,o,i,s,l){let c={id:this.state.nextTapeNodeId++,kernelName:n,inputs:r,outputs:o,saved:s},u=WE(n);u!=null&&(i=u.gradFunc),i!=null&&(c.gradient=d=>(d=d.map((p,f)=>{if(p==null){let m=o[f],h=eu(m.size,m.dtype);return this.makeTensor(h,m.shape,m.dtype)}return p}),i(d.length>1?d:d[0],s,l))),this.state.activeTape.push(c)}keep(n){return n.kept=!0,n}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(n){let r={track:[],name:"unnamed scope",id:this.state.nextScopeId++};n&&(r.name=n),this.state.scopeStack.push(r),this.state.activeScope=r}endScope(n){let r=Dz(n),o=new Set(r.map(s=>s.id));for(let s=0;s<this.state.activeScope.track.length;s++){let l=this.state.activeScope.track[s];!l.kept&&!o.has(l.id)&&l.dispose()}let i=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],r.forEach(s=>{!s.kept&&s.scopeId===i.id&&this.track(s)})}gradients(n,r,o,i=!1){if(Re(r.length>0,()=>"gradients() received an empty list of xs."),o!=null&&o.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${o.dtype}'`);let s=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",n));Re(s instanceof Mn,()=>"The result y returned by f() must be a tensor.");let l=gz(this.state.activeTape,r,s);if(!i&&l.length===0&&r.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{let c={};c[s.id]=o??Mde(s.shape),bz(c,l,d=>this.tidy(d),Rde);let u=r.map(d=>c[d.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(d=>{for(let p of d.saved)p.dispose()}),this.state.activeTape=null),{value:s,grads:u}})}customGrad(n){return Re(Gb(n),()=>"The f passed in customGrad(f) must be a function."),(...r)=>{Re(r.every(c=>c instanceof Mn),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let o,i={};r.forEach((c,u)=>{i[u]=c});let s=(c,u)=>(o=n(...r,u),Re(o.value instanceof Mn,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),Re(Gb(o.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),o.value),l=(c,u)=>{let d=o.gradFunc(c,u),p=Array.isArray(d)?d:[d];Re(p.length===r.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),Re(p.every(m=>m instanceof Mn),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");let f={};return p.forEach((m,h)=>{f[h]=()=>m}),f};return this.runKernelFunc({forwardFunc:s,backwardsFunc:l,inputs:i})}}readSync(n){return this.state.tensorInfo.get(n).backend.readSync(n)}read(n){return this.state.tensorInfo.get(n).backend.read(n)}time(n){return ie(this,null,function*(){let r=pl(),o=yield this.backend.time(n);return o.wallMs=pl()-r,o})}track(n){return this.state.activeScope!=null&&(n.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(n)),n}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new V_;for(let n in this.registry)this.disposeRegisteredKernels(n),this.registry[n].dispose(),delete this.registry[n];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}return e.nextTensorId=0,e.nextVariableId=0,e})();function Mde(e){let t=RE(qn(e),"float32");return lt.makeTensor(t,e,"float32")}function ZE(){let e=PE();if(e._tfengine==null){let t=new yp(e);e._tfengine=new Ade(t)}return JW(e._tfengine.ENV),xz(()=>e._tfengine),e._tfengine}var lt=ZE();function Rde(e,t){let n={a:e,b:t};return lt.runKernel(tl,n)}var Qs={};ca(Qs,{isBrowser:()=>JE,isMobile:()=>Nde,mockIsMobile:()=>Ode});function jde(){return typeof navigator<"u"&&navigator!=null}var QE;function Ode(e){QE=e}function Nde(e){if(QE!==void 0)return QE;if(e||jde()){if(e||(e=navigator),e.product==="ReactNative")return!0;let t=e.userAgent||e.vendor||(typeof window<"u"?window.opera:"");if(!t){let n=e;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function JE(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}var ti=Q();ti.registerFlag("DEBUG",()=>!1,e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});ti.registerFlag("IS_BROWSER",()=>JE());ti.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");ti.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));ti.registerFlag("PROD",()=>!1);ti.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>ti.getBool("DEBUG"));ti.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);ti.registerFlag("IS_TEST",()=>!1);ti.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>!0);ti.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);function hl(e,t){let n=e;if(Wr(e))return t==="string"?[]:[e.length];if(!Array.isArray(e))return[];let r=[];for(;Array.isArray(n)||Wr(n)&&t!=="string";)r.push(n.length),n=n[0];return Array.isArray(e)&&Q().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&Az(e,r,[]),r}function Az(e,t,n){if(n=n||[],!Array.isArray(e)&&!Wr(e)){Re(t.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`);return}Re(t.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`),Re(e.length===t[0],()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`);let r=t.slice(1);for(let o=0;o<e.length;++o)Az(e[o],r,n.concat(o))}function kz(e,t,n,r){if(e!=="string_or_numeric"){if(e==null)throw new Error("Expected dtype cannot be null.");if(e!=="numeric"&&e!==t||e==="numeric"&&t==="string")throw new Error(`Argument '${n}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function Qt(e,t,n,r="numeric"){if(e instanceof Mn)return kz(r,e.dtype,t,n),e;let o=Qc(e);if(o!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(o=r),kz(r,o,t,n),e==null||!Wr(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string"){let c=e==null?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${c}'`)}let i=hl(e,o);!Wr(e)&&!Array.isArray(e)&&(e=[e]);let l=o!=="string"?lu(e,o):Ks(e,[],!0);return lt.makeTensor(l,i,o)}var Pde="__op";function bn(e){let t=Object.keys(e);if(t.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+Pde;let o=(...i)=>{lt.startScope(n);try{let s=r(...i);return bp(s)&&console.error("Cannot return a Promise inside of tidy."),lt.endScope(s),s}catch(s){throw lt.endScope(null),s}};return Object.defineProperty(o,"name",{value:n,configurable:!0}),o}function Bde(e,t){let n=Qt(e,"real","complex"),r=Qt(t,"imag","complex");DE(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);let o={real:n,imag:r};return lt.runKernel(tu,o)}var Mz=bn({complex_:Bde});function Js(e,t,n,r){if(r==null&&(r=Qc(e)),r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Wr(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(t!=null){gp(t);let o=qn(t),i=qn(n);Re(o===i,()=>`Based on the provided shape, [${t}], the tensor should have ${o} values but has ${i}`);for(let s=0;s<n.length;++s){let l=n[s],c=s===n.length-1?l!==qn(t.slice(s)):!0;Re(n[s]===t[s]||!c,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `)}}return!Wr(e)&&!Array.isArray(e)&&(e=[e]),t=t||n,e=r!=="string"?lu(e,r):Ks(e,[],!0),lt.makeTensor(e,t,r)}function eT(e,t,n){let r=hl(e,n);return Js(e,t,r,n)}var tT=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function Rz(e){return tT?Buffer.byteLength(e):new Blob([e]).size}function jz(e){if(tT)return Buffer.from(e).toString("base64");let t=new Uint8Array(e),n="";for(let r=0,o=t.length;r<o;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function Oz(e){if(tT){let r=Buffer.from(e,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}let t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}function H_(e){if(e.length===1)return e[0];let t=0;e.forEach(o=>{t+=o.byteLength});let n=new Uint8Array(t),r=0;return e.forEach(o=>{n.set(new Uint8Array(o),r),r+=o.byteLength}),n.buffer}function G_(e,t){let n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return e.signature!=null&&(n.signature=e.signature),e.userDefinedMetadata!=null&&(n.userDefinedMetadata=e.userDefinedMetadata),e.modelInitializer!=null&&(n.modelInitializer=e.modelInitializer),e.trainingConfig!=null&&(n.trainingConfig=e.trainingConfig),n}function q_(e,t){return ie(this,null,function*(){let n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(e.trainingConfig!=null&&(n.trainingConfig=e.trainingConfig),e.weightsManifest!=null){let[r,o]=yield t(e.weightsManifest);n.weightSpecs=r,n.weightData=o}return e.signature!=null&&(n.signature=e.signature),e.userDefinedMetadata!=null&&(n.userDefinedMetadata=e.userDefinedMetadata),e.modelInitializer!=null&&(n.modelInitializer=e.modelInitializer),n})}function ts(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:e.modelTopology==null?0:Rz(JSON.stringify(e.modelTopology)),weightSpecsBytes:e.weightSpecs==null?0:Rz(JSON.stringify(e.weightSpecs)),weightDataBytes:e.weightData==null?0:e.weightData.byteLength}}var Hr=class e{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return e.instance==null&&(e.instance=new e),e.instance}static registerSaveRouter(t){e.getInstance().saveRouters.push(t)}static registerLoadRouter(t){e.getInstance().loadRouters.push(t)}static getSaveHandlers(t){return e.getHandlers(t,"save")}static getLoadHandlers(t,n){return e.getHandlers(t,"load",n)}static getHandlers(t,n,r){let o=[];return(n==="load"?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach(s=>{let l=s(t,r);l!==null&&o.push(l)}),o}};var nT="tensorflowjs",rT=1,gl="models_store",ea="model_info_store";function Nz(){if(!Q().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");let e=typeof window>"u"?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(t==null)throw new Error("The current browser does not appear to support IndexedDB.");return t}function oT(e){let t=e.result;t.createObjectStore(gl,{keyPath:"modelPath"}),t.createObjectStore(ea,{keyPath:"modelPath"})}var bl=(()=>{class e{constructor(n){if(this.indexedDB=Nz(),n==null||!n)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=n}save(n){return ie(this,null,function*(){if(n.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,n)})}load(){return ie(this,null,function*(){return this.databaseAction(this.modelPath)})}databaseAction(n,r){return new Promise((o,i)=>{let s=this.indexedDB.open(nT,rT);s.onupgradeneeded=()=>oT(s),s.onsuccess=()=>{let l=s.result;if(r==null){let c=l.transaction(gl,"readonly"),d=c.objectStore(gl).get(this.modelPath);d.onsuccess=()=>{if(d.result==null)return l.close(),i(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));o(d.result.modelArtifacts)},d.onerror=p=>(l.close(),i(d.error)),c.oncomplete=()=>l.close()}else{let c=ts(r),u=l.transaction(ea,"readwrite"),d=u.objectStore(ea),p=d.put({modelPath:this.modelPath,modelArtifactsInfo:c}),f;p.onsuccess=()=>{f=l.transaction(gl,"readwrite");let h=f.objectStore(gl).put({modelPath:this.modelPath,modelArtifacts:r,modelArtifactsInfo:c});h.onsuccess=()=>o({modelArtifactsInfo:c}),h.onerror=g=>{d=u.objectStore(ea);let _=d.delete(this.modelPath);_.onsuccess=()=>(l.close(),i(h.error)),_.onerror=$=>(l.close(),i(h.error))}},p.onerror=m=>(l.close(),i(p.error)),u.oncomplete=()=>{f==null?l.close():f.oncomplete=()=>l.close()}}},s.onerror=l=>i(s.error)})}}return e.URL_SCHEME="indexeddb://",e})(),Pz=e=>Q().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(bl.URL_SCHEME)?Ude(e.slice(bl.URL_SCHEME.length)):null;Hr.registerSaveRouter(Pz);Hr.registerLoadRouter(Pz);function Ude(e){return new bl(e)}function Wde(e){return e.startsWith(bl.URL_SCHEME)?e.slice(bl.URL_SCHEME.length):e}var K_=class{constructor(){this.indexedDB=Nz()}listModels(){return ie(this,null,function*(){return new Promise((t,n)=>{let r=this.indexedDB.open(nT,rT);r.onupgradeneeded=()=>oT(r),r.onsuccess=()=>{let o=r.result,i=o.transaction(ea,"readonly"),l=i.objectStore(ea).getAll();l.onsuccess=()=>{let c={};for(let u of l.result)c[u.modelPath]=u.modelArtifactsInfo;t(c)},l.onerror=c=>(o.close(),n(l.error)),i.oncomplete=()=>o.close()},r.onerror=o=>n(r.error)})})}removeModel(t){return ie(this,null,function*(){return t=Wde(t),new Promise((n,r)=>{let o=this.indexedDB.open(nT,rT);o.onupgradeneeded=()=>oT(o),o.onsuccess=()=>{let i=o.result,s=i.transaction(ea,"readwrite"),l=s.objectStore(ea),c=l.get(t),u;c.onsuccess=()=>{if(c.result==null)return i.close(),r(new Error(`Cannot find model with path '${t}' in IndexedDB.`));{let d=l.delete(t),p=()=>{u=i.transaction(gl,"readwrite");let m=u.objectStore(gl).delete(t);m.onsuccess=()=>n(c.result.modelArtifactsInfo),m.onerror=h=>r(c.error)};d.onsuccess=p,d.onerror=f=>(p(),i.close(),r(c.error))}},c.onerror=d=>(i.close(),r(c.error)),s.oncomplete=()=>{u==null?i.close():u.oncomplete=()=>i.close()}},o.onerror=i=>r(o.error)})})}};var ns="/",pu="tensorflowjs_models",Bz="info",zde="model_topology",Vde="weight_specs",Hde="weight_data",Gde="model_metadata";function Lz(e){return{info:[pu,e,Bz].join(ns),topology:[pu,e,zde].join(ns),weightSpecs:[pu,e,Vde].join(ns),weightData:[pu,e,Hde].join(ns),modelMetadata:[pu,e,Gde].join(ns)}}function Uz(e){for(let t of Object.values(e))window.localStorage.removeItem(t)}function qde(e){let t=e.split(ns);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(ns)}function Kde(e){return e.startsWith(yl.URL_SCHEME)?e.slice(yl.URL_SCHEME.length):e}var yl=(()=>{class e{constructor(n){if(!Q().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,n==null||!n)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=n,this.keys=Lz(this.modelPath)}save(n){return ie(this,null,function*(){if(n.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{let r=JSON.stringify(n.modelTopology),o=JSON.stringify(n.weightSpecs),i=ts(n);try{this.LS.setItem(this.keys.info,JSON.stringify(i)),this.LS.setItem(this.keys.topology,r),this.LS.setItem(this.keys.weightSpecs,o),this.LS.setItem(this.keys.weightData,jz(n.weightData));let s={format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy,signature:n.signature!=null?n.signature:void 0,userDefinedMetadata:n.userDefinedMetadata!=null?n.userDefinedMetadata:void 0,modelInitializer:n.modelInitializer!=null?n.modelInitializer:void 0,trainingConfig:n.trainingConfig!=null?n.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(s)),{modelArtifactsInfo:i}}catch{throw Uz(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${i.modelTopologyBytes}, weightSpecsBytes=${i.weightSpecsBytes}, weightDataBytes=${i.weightDataBytes}.`)}}})}load(){return ie(this,null,function*(){let n=JSON.parse(this.LS.getItem(this.keys.info));if(n==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(n.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");let r={},o=JSON.parse(this.LS.getItem(this.keys.topology));if(o==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);r.modelTopology=o;let i=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(i==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);r.weightSpecs=i;let s=this.LS.getItem(this.keys.modelMetadata);if(s!=null){let c=JSON.parse(s);r.format=c.format,r.generatedBy=c.generatedBy,r.convertedBy=c.convertedBy,c.signature!=null&&(r.signature=c.signature),c.userDefinedMetadata!=null&&(r.userDefinedMetadata=c.userDefinedMetadata),c.modelInitializer!=null&&(r.modelInitializer=c.modelInitializer),c.trainingConfig!=null&&(r.trainingConfig=c.trainingConfig)}let l=this.LS.getItem(this.keys.weightData);if(l==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return r.weightData=Oz(l),r})}}return e.URL_SCHEME="localstorage://",e})(),Wz=e=>Q().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(yl.URL_SCHEME)?Xde(e.slice(yl.URL_SCHEME.length)):null;Hr.registerSaveRouter(Wz);Hr.registerLoadRouter(Wz);function Xde(e){return new yl(e)}var X_=class{constructor(){Re(Q().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),Re(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}listModels(){return ie(this,null,function*(){let t={},n=pu+ns,r=ns+Bz;for(let o=0;o<this.LS.length;++o){let i=this.LS.key(o);if(i.startsWith(n)&&i.endsWith(r)){let s=qde(i);t[s]=JSON.parse(this.LS.getItem(i))}}return t})}removeModel(t){return ie(this,null,function*(){t=Kde(t);let n=Lz(t);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${t}'`);let r=JSON.parse(this.LS.getItem(n.info));return Uz(n),r})}};var zz="://",_f=class e{constructor(){this.managers={}}static getInstance(){return e.instance==null&&(e.instance=new e),e.instance}static registerManager(t,n){Re(t!=null,()=>"scheme must not be undefined or null."),t.endsWith(zz)&&(t=t.slice(0,t.indexOf(zz))),Re(t.length>0,()=>"scheme must not be an empty string.");let r=e.getInstance();Re(r.managers[t]==null,()=>`A model store manager is already registered for scheme '${t}'.`),r.managers[t]=n}static getManager(t){let n=this.getInstance().managers[t];if(n==null)throw new Error(`Cannot find model manager for scheme '${t}'`);return n}static getSchemes(){return Object.keys(this.getInstance().managers)}};var iT=class{fetch(t,n){return fetch(t,n)}now(){return performance.now()}encode(t,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)}decode(t,n){return new TextDecoder(n).decode(t)}};if(Q().get("IS_BROWSER")){Q().setPlatform("browser",new iT);try{_f.registerManager(yl.URL_SCHEME,new X_)}catch{}try{_f.registerManager(bl.URL_SCHEME,new K_)}catch{}}var Zde={importFetch:()=>Hz()},sT;var aT=class{constructor(){this.util=Gz(),this.textEncoder=new this.util.TextEncoder}fetch(t,n){return Q().global.fetch!=null?Q().global.fetch(t,n):(sT==null&&(sT=Zde.importFetch()),sT(t,n))}now(){let t=process.hrtime();return t[0]*1e3+t[1]/1e6}encode(t,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(t)}decode(t,n){return t.length===0?"":new this.util.TextDecoder(n).decode(t)}};Q().get("IS_NODE")&&Q().setPlatform("node",new aT);function We(e,t="float32",n){return t=t||"float32",gp(e),new zt(e,t,n)}function Qde(e,t){let n=Qt(e,"x","cast");if(!AE(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if(t==="string"&&n.dtype!=="string"||t!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");let r={x:n},o={dtype:t};return lt.runKernel(Xs,r,o)}var Y_=bn({cast_:Qde});function Jde(e){let n={x:Qt(e,"x","clone","string_or_numeric")};return lt.runKernel(Ys,n)}var qz=bn({clone_:Jde});function Kz(e,t=!1){console.log(e.toString(t))}ZE();var epe={buffer:We,cast:Y_,clone:qz,print:Kz};vz(epe);var tpe="model",npe=".json",rpe=".weights.bin";function Xz(e){return new Promise(t=>setTimeout(t)).then(e)}var lT=(()=>{class e{constructor(n){if(!Q().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");n.startsWith(e.URL_SCHEME)&&(n=n.slice(e.URL_SCHEME.length)),(n==null||n.length===0)&&(n=tpe),this.modelJsonFileName=n+npe,this.weightDataFileName=n+rpe}save(n){return ie(this,null,function*(){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");let r=window.URL.createObjectURL(new Blob([n.weightData],{type:"application/octet-stream"}));if(n.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{let o=[{paths:["./"+this.weightDataFileName],weights:n.weightSpecs}],i=G_(n,o),s=window.URL.createObjectURL(new Blob([JSON.stringify(i)],{type:"application/json"})),l=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(l.download=this.modelJsonFileName,l.href=s,yield Xz(()=>l.dispatchEvent(new MouseEvent("click"))),n.weightData!=null){let c=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;c.download=this.weightDataFileName,c.href=r,yield Xz(()=>c.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:ts(n)}}})}}return e.URL_SCHEME="downloads://",e})();var ope=e=>Q().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(lT.URL_SCHEME)?ipe(e.slice(lT.URL_SCHEME.length)):null;Hr.registerSaveRouter(ope);function ipe(e="model"){return new lT(e)}function cT(e,t,n,r){s(e),n=n??0,r=r??1,l(n,r);let o=0,i=c=>(c.then(u=>{let d=n+ ++o/e.length*(r-n);return t(d),u}),c);function s(c){Re(c!=null&&Array.isArray(c)&&c.length>0,()=>"promises must be a none empty array")}function l(c,u){Re(c>=0&&c<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${c}`),Re(u>=0&&u<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${u}`),Re(u>=c,()=>`startFraction must be no more than endFraction, but got startFraction ${c} and endFraction ${u}`)}return Promise.all(e.map(i))}function Yz(e,t){return ie(this,null,function*(){t==null&&(t={});let n=t.fetchFunc==null?Q().platform.fetch:t.fetchFunc,r=e.map(p=>n(p,t.requestInit,{isBinary:!0})),l=(t.onProgress==null?yield Promise.all(r):yield cT(r,t.onProgress,0,.5)).map(p=>p.arrayBuffer());return t.onProgress==null?yield Promise.all(l):yield cT(l,t.onProgress,.5,1)})}var ape="application/octet-stream",lpe="application/json",Zz=(()=>{class e{constructor(n,r){if(this.DEFAULT_METHOD="POST",r==null&&(r={}),this.weightPathPrefix=r.weightPathPrefix,this.onProgress=r.onProgress,this.weightUrlConverter=r.weightUrlConverter,r.fetchFunc!=null?(Re(typeof r.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=r.fetchFunc):this.fetch=Q().platform.fetch,Re(n!=null&&n.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(n)&&Re(n.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${n.length}).`),this.path=n,r.requestInit!=null&&r.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=r.requestInit||{}}save(n){return ie(this,null,function*(){if(n.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");let r=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);r.body=new FormData;let o=[{paths:["./model.weights.bin"],weights:n.weightSpecs}],i=G_(n,o);r.body.append("model.json",new Blob([JSON.stringify(i)],{type:lpe}),"model.json"),n.weightData!=null&&r.body.append("model.weights.bin",new Blob([n.weightData],{type:ape}),"model.weights.bin");let s=yield this.fetch(this.path,r);if(s.ok)return{modelArtifactsInfo:ts(n),responses:[s]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${s.status}.`)})}load(){return ie(this,null,function*(){let n=yield this.fetch(this.path,this.requestInit);if(!n.ok)throw new Error(`Request to ${this.path} failed with status code ${n.status}. Please verify this URL points to the model JSON of the model to load.`);let r;try{r=yield n.json()}catch{let l=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?l+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":l+=" Please make sure the server is serving valid JSON for this request.",new Error(l)}let o=r.modelTopology,i=r.weightsManifest;if(o==null&&i==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return q_(r,s=>this.loadWeights(s))})}loadWeights(n){return ie(this,null,function*(){let r=Array.isArray(this.path)?this.path[1]:this.path,[o,i]=cpe(r),s=this.weightPathPrefix||o,l=[];for(let p of n)l.push(...p.weights);let c=[],u=[];for(let p of n)for(let f of p.paths)this.weightUrlConverter!=null?u.push(this.weightUrlConverter(f)):c.push(s+f+i);this.weightUrlConverter&&c.push(...yield Promise.all(u));let d=yield Yz(c,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});return[l,H_(d)]})}}return e.URL_SCHEME_REGEX=/^https?:\/\//,e})();function cpe(e){let t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),o=n>t?e.substring(n):"";return[r+"/",o]}function uT(e){return e.match(Zz.URL_SCHEME_REGEX)!=null}var Qz=(e,t)=>{if(typeof fetch>"u"&&(t==null||t.fetchFunc==null))return null;{let n=!0;if(Array.isArray(e)?n=e.every(r=>uT(r)):n=uT(e),n)return Jz(e,t)}return null};Hr.registerSaveRouter(Qz);Hr.registerLoadRouter(Qz);function Jz(e,t){return new Zz(e,t)}function dT(e,t,n){if(hp(e),t!=null&&t.length!==3)throw new Error("tensor3d() requires shape to have three numbers");let r=hl(e,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Js(e,t,r,n)}function dpe(e,t){let n=e.shape.length,r=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if(t.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[r-1]} vs. ${n}`);if(qn(e.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);let o=t.shape,i=o[o.length-1],s=1;for(let p=0;p<o.length-1;++p)s*=o[p];let l=e.shape,c=o.slice();c.pop();let u=1;for(let p=i;p<n;++p)u*=l[p],c.push(l[p]);let d=[...Ci(e.shape).map(p=>p/u),1].slice(0,i);return[c,s,u,d]}function eV(e,t,n){let r=t.rank>1?t.shape[t.rank-1]:1,o=t.rank>1?t.rank-1:1,i=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${o}.`;if(n.rank<o)throw new Error(i+` update.rank < ${o}. `);if(e.length<r+(n.rank-o))throw new Error(i+` Output shape length < ${r+(n.rank-o)}`);if(n.rank!==o+e.length-r)throw new Error(i+` update.rank != ${o+e.length-r}`);for(let s=0;s<o;++s)if(n.shape[s]!==t.shape[s])throw new Error(i+` updates.shape[${s}] (${n.shape[s]}) != indices.shape[${s}] (${t.shape[s]}).`);for(let s=0;s<n.rank-o;++s)if(n.shape[s+o]!==e[s+r])throw new Error(i+` updates.shape[${s+o}] (${n.shape[s+o]}) != shape[${s+o}] (${e[s+o]})`)}function ppe(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(t.size===0)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(e.size===0)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}eV(n,t,e)}function fpe(e,t,n){let r=t.shape.length,o=r>1?t.shape[r-1]:1,i=n.length,s=1;for(let p=o;p<i;++p)s*=n[p];let l=o<1?1:o,c=qn(t.shape)/l,u=[...Ci(n.slice(0,o)),1],d=qn(n);return{sliceRank:o,numUpdates:c,sliceSize:s,strides:u,outputSize:d}}var Un={};ca(Un,{assertParamsValid:()=>hpe,computeFlatOffset:()=>$pe,computeOutShape:()=>bpe,getNormalizedAxes:()=>ype,isSliceContinous:()=>_pe,maskToAxes:()=>gpe,parseSliceParams:()=>xpe,sliceInfo:()=>vpe,startForAxis:()=>lV,startIndicesWithElidedDims:()=>iV,stopForAxis:()=>cV,stopIndicesWithElidedDims:()=>sV,stridesForAxis:()=>aV,stridesWithElidedDims:()=>nV});var pT=-2,mpe=-1;function hpe(e,t,n){let r=e.shape.length;Re(r===t.length,()=>`Error in slice${r}D: Length of begin ${t} must match the rank of the array (${r}).`),Re(r===n.length,()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`);for(let o=0;o<r;++o)Re(t[o]+n[o]<=e.shape[o],()=>`Error in slice${r}D: begin[${o}] + size[${o}] (${t[o]+n[o]}) would overflow input.shape[${o}] (${e.shape[o]})`)}function gpe(e){let t=[],n=0;for(;e>0;)e&1&&t.push(n),e/=2,n++;return t}function bpe(e,t,n){let r=[];for(let o=0;o<e.length;o++)r[o]=Math.ceil((t[o]-e[o])/n[o]);return r}function nV(e,t,n,r){let o=[...e];for(let i=o.length;i<r.length;i++)o.push(1);for(let i=0;i<n;i++)i===0?o[t]=1:(o.splice(t,0,1),o.pop());return o}function rV(e,t,n){return n<=e?n:n-(t-1)}function oV(e,t){let n=[];for(let r=0;r<e;r++)n.push(t+r);return n}function ype(e,t,n,r,o,i,s,l,c){let u=e.length,d=new Array(u),p=new Array(u),f=new Array(u);if(t.length&&n>0){let m=t[0],h=n+1;d=iV(s,m,h,r,e),p=sV(l,m,h,o,e),f=nV(i,m,h,e)}else for(let m=0;m<u;m++)d[m]=lV(s,r,i,e,m,c),p[m]=cV(l,o,i,e,m,c),f[m]=aV(i,m,c);return{begin:d,end:p,strides:f}}function iV(e,t,n,r,o){let i=[...o],s=oV(n,t);for(let l=0;l<i.length;l++)if(s.indexOf(l)>-1)i[l]=0;else{let c=rV(t,n,l),u=r[c];e&1<<c&&(u=0),i[l]=u}return i}function sV(e,t,n,r,o){let i=[...o],s=oV(n,t);for(let l=0;l<i.length;l++)if(s.indexOf(l)>-1)i[l]=Number.MAX_SAFE_INTEGER;else{let c=rV(t,n,l),u=r[c];e&1<<c&&(u=Number.MAX_SAFE_INTEGER),i[l]=u}for(let l=0;l<i.length;l++){let c=o[l];i[l]<0&&(i[l]+=c),i[l]=Xc(0,i[l],o[l])}return i}function aV(e,t,n){let r=e[t];return(n&1<<t||r==null)&&(r=1),r}function lV(e,t,n,r,o,i){let s=t[o],l=n[o]||1;(e&1<<o||i&1<<o||s==null)&&(l>0?s=Number.MIN_SAFE_INTEGER:s=Number.MAX_SAFE_INTEGER);let c=r[o];return s<0&&(s+=c),s=Xc(0,s,c-1),s}function cV(e,t,n,r,o,i){let s=t[o],l=n[o]||1;(e&1<<o||i&1<<o||s==null)&&(l>0?s=Number.MAX_SAFE_INTEGER:s=Number.MIN_SAFE_INTEGER);let c=r[o];return s<0&&(s+=c),l>0?s=Xc(0,s,c):s=Xc(-1,s,c-1),s}function _pe(e,t,n){let r=n.length;for(let o=0;o<n.length;o++)if(n[o]>1){r=o;break}for(let o=r+1;o<n.length;o++)if(t[o]>0||n[o]!==e[o])return!1;return!0}function $pe(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function xpe(e,t,n){let r,o=e.shape.length;typeof t=="number"?r=[t,...new Array(o-1).fill(0)]:t.length<o?r=t.concat(new Array(o-t.length).fill(0)):r=t.slice(),r.forEach(s=>{Re(s!==-1,()=>"slice() does not support negative begin indexing.")});let i;return n==null?i=new Array(o).fill(-1):typeof n=="number"?i=[n,...new Array(o-1).fill(-1)]:n.length<o?i=n.concat(new Array(o-n.length).fill(-1)):i=n,i=i.map((s,l)=>s>=0?s:(Re(s===-1,()=>`Negative size values should be exactly -1 but got ${s} for the slice() size at index ${l}.`),e.shape[l]-r[l])),[r,i]}function vpe(e,t,n,r,o,i,s,l,c){let u;if(r==null?(u=new Array(t.length),u.fill(1)):u=r,s!=null&&s&s-1)throw new Error("Multiple ellipses in slice is not allowed.");let d=!1,p={dims:u.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:u.slice(),beginMask:o,endMask:i,ellipsisMask:s,newAxisMask:l,shrinkAxisMask:c};for(let w=0;w<p.dims;w++)d&&1<<w&l&&p.numAddAxisAfterEllipsis++,1<<w&s&&(d=!0);d||(p.ellipsisMask|=1<<p.dims,p.dims++);let f={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};wpe(p,f);let m=!0,h=!0,g=!0,_=[],$=[];for(let w=0;w<e.length;++w){if(f.strides[w]===0)throw Error(`strides[${w}] must be non-zero`);let S=!!(f.shrinkAxisMask&1<<w),I=e[w];if(I===-1){_.push(S?1:-1);continue}let F=[f.beginMask&1<<w,f.endMask&1<<w],k=[f.strides[w]>0?0:-1,f.strides[w]>0?I:I-1];if(S&&f.strides[w]<=0)throw Error("only stride 1 allowed on non-range indexing.");g=g&&f.strides[w]===1;let M=!!(f.beginMask&1<<w&&f.endMask&1<<w);if(f.beginValid&&f.endValid){if(S){let V=f.begin[w]<0?I+f.begin[w]:f.begin[w];if(f.begin[w]=V,f.end[w]=f.begin[w]+1,V<0||V>=I)throw Error(`slice index ${f.begin[w]} of dimension ${w} out of bounds.`)}else f.begin[w]=tV(f.begin[w],0,f.strides[w],I,F,k),f.end[w]=tV(f.end[w],1,f.strides[w],I,F,k);let W=f.strides[w]===1&&f.begin[w]===0&&f.end[w]===I;m=m&&W,h=h&&(w===0&&f.strides[w]===1||W)}else m=m&&f.strides[w]===1&&M,h=h&&(w===0&&f.strides[w]===1||M);let O,B=!1;if(f.beginValid&&f.endValid?(O=f.end[w]-f.begin[w],B=!0):S?(O=1,B=!0):M&&I>=0&&(f.strides[w]<0?O=-I:O=I,B=!0),B){let W;O===0||O<0!=f.strides[w]<0?W=0:W=Math.trunc(O/f.strides[w])+(O%f.strides[w]!==0?1:0),_.push(W)}else _.push(-1)}for(let w=0;w<f.finalShapeGatherIndices.length;++w){let S=f.finalShapeGatherIndices[w];S>=0?$.push(_[S]):S===pT&&$.push(1)}return{finalShapeSparse:$.filter((w,S)=>f.finalShapeGatherIndices[S]!==pT),finalShape:$,isIdentity:m,sliceDim0:h,isSimpleSlice:g,begin:f.begin,end:f.end,strides:f.strides}}function wpe(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=e.begin!=null,t.endValid=e.end!=null,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){let o=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<o;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(pT),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);e.begin!=null&&(t.begin[n]=e.begin[r]),e.end!=null&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(mpe),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}function tV(e,t,n,r,o,i){if(o[t])return n>0?i[t]:i[t+1&1];{let s=e<0?r+e:e;return s<i[0]?i[0]:s>i[1]?i[1]:s}}function Spe(e){Q().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}wz(Spe);function rs(){return lt}function uV(e,t){return lt.tidy(e,t)}function dV(e){return lt.setBackend(e)}function Z_(e,t,n=1){return lt.registerBackend(e,t,n)}function Cpe(e,t){let n=Qt(e,"a","mul"),r=Qt(t,"b","mul");[n,r]=Tz(n,r);let o={a:n,b:r};return lt.runKernel(rl,o)}var pV=bn({mul_:Cpe});function Ipe(e,t,n,r,o="NHWC",i){let s=e[3],l=[...t,s],c=mV(o);return hT(e,l,n,i,r,null,null,c)}function Epe(e,t,n,r,o,i,s="channelsLast"){let[l,c]=Q_(t),u;if(s==="channelsLast")u=[l,c,e[3],e[3]];else if(s==="channelsFirst")u=[l,c,e[1],e[1]];else throw new Error(`Unknown dataFormat ${s}`);return hT(e,u,n,r,o,i,!1,s)}function Tpe(e,t,n,r,o,i,s="NDHWC"){let[l,c,u]=fT(t),d,p;if(s==="NDHWC")p="channelsLast",d=[l,c,u,e[4],e[4]];else if(s==="NCDHW")p="channelsFirst",d=[l,c,u,e[1],e[1]];else throw new Error(`Unknown dataFormat ${s}`);return fV(e,d,n,r,o,!1,p,i)}function hT(e,t,n,r,o,i,s=!1,l="channelsLast"){let[c,u,d,p]=[-1,-1,-1,-1];if(l==="channelsLast")[c,u,d,p]=e;else if(l==="channelsFirst")[c,p,u,d]=e;else throw new Error(`Unknown dataFormat ${l}`);let[f,m,,h]=t,[g,_]=Q_(n),[$,x]=Q_(r),w=mu(f,$),S=mu(m,x),{padInfo:I,outHeight:F,outWidth:k}=kpe(o,u,d,g,_,w,S,i,l),M=s?h*p:h,O;return l==="channelsFirst"?O=[c,M,F,k]:l==="channelsLast"&&(O=[c,F,k,M]),{batchSize:c,dataFormat:l,inHeight:u,inWidth:d,inChannels:p,outHeight:F,outWidth:k,outChannels:M,padInfo:I,strideHeight:g,strideWidth:_,filterHeight:f,filterWidth:m,effectiveFilterHeight:w,effectiveFilterWidth:S,dilationHeight:$,dilationWidth:x,inShape:e,outShape:O,filterShape:t}}function fV(e,t,n,r,o,i=!1,s="channelsLast",l){let[c,u,d,p,f]=[-1,-1,-1,-1,-1];if(s==="channelsLast")[c,u,d,p,f]=e;else if(s==="channelsFirst")[c,f,u,d,p]=e;else throw new Error(`Unknown dataFormat ${s}`);let[m,h,g,,_]=t,[$,x,w]=fT(n),[S,I,F]=fT(r),k=mu(m,S),M=mu(h,I),O=mu(g,F),{padInfo:B,outDepth:W,outHeight:V,outWidth:P}=Ape(o,u,d,p,$,x,w,k,M,O,l),G=i?_*f:_,Z;return s==="channelsFirst"?Z=[c,G,W,V,P]:s==="channelsLast"&&(Z=[c,W,V,P,G]),{batchSize:c,dataFormat:s,inDepth:u,inHeight:d,inWidth:p,inChannels:f,outDepth:W,outHeight:V,outWidth:P,outChannels:G,padInfo:B,strideDepth:$,strideHeight:x,strideWidth:w,filterDepth:m,filterHeight:h,filterWidth:g,effectiveFilterDepth:k,effectiveFilterHeight:M,effectiveFilterWidth:O,dilationDepth:S,dilationHeight:I,dilationWidth:F,inShape:e,outShape:Z,filterShape:t}}function Dpe(e,t,n,r,o){r==null&&(r=gT(e,t,n));let i=e[0],s=e[1],l=$l((i-t+2*r)/n+1,o),c=$l((s-t+2*r)/n+1,o);return[l,c]}function Fpe(e,t,n,r,o,i){o==null&&(o=gT(e,t,r));let s=e[0],l=e[1],c=e[2],u=$l((s-t+2*o)/r+1,i),d=$l((l-t+2*o)/r+1,i),p=$l((c-t+2*o)/r+1,i);return[u,d,p,n]}function gT(e,t,n,r=1){let o=mu(t,r);return Math.floor((e[0]*(n-1)-n+o)/2)}function Q_(e){return typeof e=="number"?[e,e,e]:e.length===2?[e[0],e[1],1]:e}function fT(e){return typeof e=="number"?[e,e,e]:e}function mu(e,t){return t<=1?e:e+(e-1)*(t-1)}function kpe(e,t,n,r,o,i,s,l,c){let u,d,p;if(typeof e=="number"){u={top:e,bottom:e,left:e,right:e,type:e===0?"VALID":"NUMBER"};let m=Dpe([t,n],i,r,e,l);d=m[0],p=m[1]}else if(e==="same"){d=Math.ceil(t/r),p=Math.ceil(n/o);let f=Math.max(0,(d-1)*r+i-t),m=Math.max(0,(p-1)*o+s-n),h=Math.floor(f/2),g=f-h,_=Math.floor(m/2),$=m-_;u={top:h,bottom:g,left:_,right:$,type:"SAME"}}else if(e==="valid")u={top:0,bottom:0,left:0,right:0,type:"VALID"},d=Math.ceil((t-i+1)/r),p=Math.ceil((n-s+1)/o);else if(typeof e=="object"){let f=c==="channelsLast"?e[1][0]:e[2][0],m=c==="channelsLast"?e[1][1]:e[2][1],h=c==="channelsLast"?e[2][0]:e[3][0],g=c==="channelsLast"?e[2][1]:e[3][1];u={top:f,bottom:m,left:h,right:g,type:f===0&&m===0&&h===0&&g===0?"VALID":"EXPLICIT"},d=$l((t-i+f+m)/r+1,l),p=$l((n-s+h+g)/o+1,l)}else throw Error(`Unknown padding parameter: ${e}`);return{padInfo:u,outHeight:d,outWidth:p}}function Ape(e,t,n,r,o,i,s,l,c,u,d){let p,f,m,h;if(typeof e=="number"){p={top:e,bottom:e,left:e,right:e,front:e,back:e,type:e===0?"VALID":"NUMBER"};let _=Fpe([t,n,r,1],l,1,o,e,d);f=_[0],m=_[1],h=_[2]}else if(e==="same"){f=Math.ceil(t/o),m=Math.ceil(n/i),h=Math.ceil(r/s);let g=(f-1)*o+l-t,_=(m-1)*i+c-n,$=(h-1)*s+u-r,x=Math.floor(g/2),w=g-x,S=Math.floor(_/2),I=_-S,F=Math.floor($/2),k=$-F;p={top:S,bottom:I,left:F,right:k,front:x,back:w,type:"SAME"}}else if(e==="valid")p={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},f=Math.ceil((t-l+1)/o),m=Math.ceil((n-c+1)/i),h=Math.ceil((r-u+1)/s);else throw Error(`Unknown padding parameter: ${e}`);return{padInfo:p,outDepth:f,outHeight:m,outWidth:h}}function $l(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function mT(e){let[t,n,r]=Q_(e);return t===1&&n===1&&r===1}function Mpe(e,t){return mT(e)||mT(t)}function mV(e){if(e==="NHWC")return"channelsLast";if(e==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function Rpe(e,t){let r={x:Qt(e,"x","reshape","string_or_numeric")},o={shape:t};return lt.runKernel(ou,r,o)}var hV=bn({reshape_:Rpe});function jpe(e){let n={x:Qt(e,"x","sigmoid","float32")};return lt.runKernel(sl,n)}var gV=bn({sigmoid_:jpe});function Ope(e,t){let n=e.length,r=[];for(let o=0;o<n;o++){let i=n-1-o,s=e[i]||1;(t[t.length-1-o]||1)>1&&s===1&&r.unshift(i)}return r}function bT(e,t){let n=[];for(let r=0;r<t.length;r++){let o=e[e.length-r-1],i=t.length-r-1,s=t[i];(o==null||o===1&&s>1)&&n.unshift(i)}return n}function Npe(e,t){let n=[],r=Math.max(e.length,t.length);for(let o=0;o<r;o++){let i=e[e.length-o-1];i==null&&(i=1);let s=t[t.length-o-1];if(s==null&&(s=1),i===1)n.unshift(s);else if(s===1)n.unshift(i);else if(i!==s){let l=`Operands could not be broadcast together with shapes ${e} and ${t}.`;throw Error(l)}else n.unshift(i)}return n}function Bpe(e){let n={x:Qt(e,"x","elu","float32")};return lt.runKernel(nl,n)}var bV=bn({elu_:Bpe});function Lpe(e,t=.2){let r={x:Qt(e,"x","leakyRelu")},o={alpha:t};return lt.runKernel(nu,r,o)}var yV=bn({leakyRelu_:Lpe});function Upe(e,t=null,n=!1){let r=Qt(e,"x","sum");r.dtype==="bool"&&(r=Y_(r,"int32"));let o={x:r},i={axis:t,keepDims:n};return lt.runKernel(iu,o,i)}var _V=bn({sum_:Upe});function yT(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function $V(e,t,n){let r=e.length+t.length,o=[],i=0,s=0;for(let l=0;l<r;l++)n.indexOf(l)===-1?o.push(e[i++]):o.push(t[s++]);return o}function Wpe(e,t){let n=[],r=e.length;for(let i=0;i<r;i++)t.indexOf(i)===-1&&n.push(e[i]);let o=t.map(i=>e[i]);return[n,o]}function zpe(e,t){let n=t.map(r=>1);return $V(e,n,t)}function Vpe(e,t,n){Re(yT(t,n),()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`)}function Hpe(e,t){if(yT(e,t))return null;let n=[];for(let r=0;r<t;++r)e.indexOf(r)===-1&&n.push(r);return e.forEach(r=>n.push(r)),n}function Gpe(e){return e.map((t,n)=>[n,t]).sort((t,n)=>t[1]-n[1]).map(t=>t[0])}function qpe(e,t){let n=[];for(let r=t-e;r<t;++r)n.push(r);return n}function $f(e,t="float32"){if(t==="complex64"){let r=$f(e,"float32"),o=$f(e,"float32");return Mz(r,o)}let n=eu(qn(e),t);return lt.makeTensor(n,e,t)}function Kpe(e,t){let n=Qt(e,"x","prelu"),r=Qt(t,"alpha","prelu"),o={x:n,alpha:r};return lt.runKernel(ru,o)}var xV=bn({prelu_:Kpe});function Xpe(e){let n={x:Qt(e,"x","relu")};return lt.runKernel(ol,n)}var vV=bn({relu_:Xpe});function Ype(e){let n={x:Qt(e,"x","relu6")};return lt.runKernel(il,n)}var wV=bn({relu6_:Ype});function _T(e,t){if((Wr(e)&&t!=="string"||Array.isArray(e))&&t!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(t==="string"&&Wr(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Js(e,[],[],t)}function Zpe(e,t=0){let r={x:Qt(e,"x","step")},o={alpha:t};return lt.runKernel(al,r,o)}var SV=bn({step_:Zpe});function $T(e,t,n){if(hp(e),t!=null&&t.length!==4)throw new Error("tensor4d() requires shape to have four numbers");let r=hl(e,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Js(e,t,r,n)}function CV(e,t){let n=[];for(let i=0;i<t.length;i++)t[i]&&n.push(i);let r=We(e,"int32"),o=We([n.length,e.length],"int32");for(let i=0;i<n.length;i++){let s=r.indexToLoc(n[i]),l=i*e.length;o.values.set(s,l)}return o.toTensor()}function Qpe(e,t,n){if(n==null||n==="linear")return e;if(n==="relu")return pV(e,SV(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function Jpe(e,t){let n=t,r=bT(e.shape,t.shape);return r.length>0&&(n=_V(n,r)),hV(n,e.shape)}function efe(e,t,n,r){if(t==="linear")return e;if(t==="relu")return vV(e);if(t==="elu")return bV(e);if(t==="relu6")return wV(e);if(t==="prelu")return xV(e,n);if(t==="leakyrelu")return yV(e,r);if(t==="sigmoid")return gV(e);throw new Error(`Unknown fused activation ${t}.`)}var tfe=(e,t)=>!(e>0)||t==="linear";function IV(e,t,n){let r=nfe(e,t,n),o=r<0?-(r+1):r;e.splice(o,0,t)}function nfe(e,t,n){return ofe(e,t,n||rfe)}function rfe(e,t){return e>t?1:e<t?-1:0}function ofe(e,t,n){let r=0,o=e.length,i=0,s=!1;for(;r<o;){i=r+(o-r>>>1);let l=n(t,e[i]);l>0?r=i+1:(o=i,s=!l)}return s?r:-r-1}function TV(e,t,n,r,o){return xT(e,t,n,r,o,0)}function DV(e,t,n,r,o,i){return xT(e,t,n,r,o,0,!1,i,!0)}function FV(e,t,n,r,o,i){return xT(e,t,n,r,o,i,!0)}function xT(e,t,n,r,o,i,s=!1,l=!1,c=!1){let u=[];for(let _=0;_<t.length;_++)t[_]>o&&u.push({score:t[_],boxIndex:_,suppressBeginIndex:0});u.sort(EV);let d=i>0?-.5/i:0,p=[],f=[];for(;p.length<n&&u.length>0;){let _=u.pop(),{score:$,boxIndex:x,suppressBeginIndex:w}=_;if($<o)break;let S=!1;for(let I=p.length-1;I>=w;--I){let F=ife(e,x,p[I]);if(F>=r){S=!0;break}if(_.score=_.score*sfe(r,d,F),_.score<=o)break}_.suppressBeginIndex=p.length,S||(_.score===$?(p.push(x),f.push(_.score)):_.score>o&&IV(u,_,EV))}let m=p.length,h=n-m;l&&h>0&&(p.push(...new Array(h).fill(0)),f.push(...new Array(h).fill(0)));let g={selectedIndices:p};return s&&(g.selectedScores=f),c&&(g.validOutputs=m),g}function ife(e,t,n){let r=e.subarray(t*4,t*4+4),o=e.subarray(n*4,n*4+4),i=Math.min(r[0],r[2]),s=Math.min(r[1],r[3]),l=Math.max(r[0],r[2]),c=Math.max(r[1],r[3]),u=Math.min(o[0],o[2]),d=Math.min(o[1],o[3]),p=Math.max(o[0],o[2]),f=Math.max(o[1],o[3]),m=(l-i)*(c-s),h=(p-u)*(f-d);if(m<=0||h<=0)return 0;let g=Math.max(i,u),_=Math.max(s,d),$=Math.min(l,p),x=Math.min(c,f),w=Math.max($-g,0)*Math.max(x-_,0);return w/(m+h-w)}function sfe(e,t,n){let r=Math.exp(t*n*n);return n<=e?r:0}function EV(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}var A={};ca(A,{ERF_A1:()=>_fe,ERF_A2:()=>$fe,ERF_A3:()=>xfe,ERF_A4:()=>vfe,ERF_A5:()=>wfe,ERF_P:()=>yfe,PARALLELIZE_THRESHOLD:()=>J_,SELU_SCALE:()=>bfe,SELU_SCALEALPHA:()=>gfe,applyActivation:()=>efe,assertAndGetBroadcastShape:()=>Npe,assertAxesAreInnerMostDims:()=>Vpe,assertParamsConsistent:()=>afe,assignToTypedArray:()=>Dfe,axesAreInnerMostDims:()=>yT,calculateShapes:()=>fpe,checkEinsumDimSizes:()=>jfe,combineLocations:()=>$V,complexWithEvenIndex:()=>Ife,complexWithOddIndex:()=>Efe,computeConv2DInfo:()=>hT,computeConv3DInfo:()=>fV,computeDefaultPad:()=>gT,computeDilation2DInfo:()=>Ipe,computeOptimalWindowSize:()=>cfe,computeOutAndReduceShapes:()=>Wpe,computeOutShape:()=>lfe,computePool2DInfo:()=>Epe,computePool3DInfo:()=>Tpe,convertConv2DDataFormat:()=>mV,decodeEinsumEquation:()=>Mfe,eitherStridesOrDilationsAreOne:()=>Mpe,expandShapeToKeepDim:()=>zpe,exponent:()=>kfe,exponents:()=>Ffe,fromStringArrayToUint8:()=>Vfe,fromUint8ToStringArray:()=>zfe,getAxesPermutation:()=>Hpe,getBroadcastDims:()=>Ope,getComplexWithIndex:()=>Tfe,getEinsumComputePath:()=>Ofe,getEinsumPermutation:()=>Rfe,getFusedBiasGradient:()=>Jpe,getFusedDyActivation:()=>Qpe,getImageCenter:()=>ufe,getInnerMostAxes:()=>qpe,getPermuted:()=>pfe,getReductionAxes:()=>bT,getReshaped:()=>dfe,getReshapedPermuted:()=>ffe,getSliceBeginCoords:()=>mfe,getSliceSize:()=>hfe,getUndoAxesPermutation:()=>Gpe,isIdentityPermutation:()=>Nfe,log:()=>dde,mergeRealAndImagArrays:()=>Sfe,prepareAndValidate:()=>dpe,prepareSplitSize:()=>Bfe,segment_util:()=>wT,shouldFuse:()=>tfe,slice_util:()=>Un,splitRealAndImagArrays:()=>Cfe,tupleValuesAreOne:()=>mT,upcastType:()=>Rn,validateInput:()=>ppe,validateUpdateShape:()=>eV,warn:()=>wo});function afe(e,t){let n=e[0].length;e.forEach((o,i)=>{Re(o.length===n,()=>`Error in concat${n}D: rank of tensors[${i}] must be the same as the rank of the rest (${n})`)}),Re(t>=0&&t<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);let r=e[0];e.forEach((o,i)=>{for(let s=0;s<n;s++)Re(s===t||o[s]===r[s],()=>`Error in concat${n}D: Shape of tensors[${i}] (${o}) does not match the shape of the rest (${r}) along the non-concatenated axis ${i}.`)})}function lfe(e,t){let n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}var J_=30;function cfe(e){return e<=J_?e:Jc(e,Math.floor(Math.sqrt(e)))}function ufe(e,t,n){let r=n*(typeof e=="number"?e:e[0]),o=t*(typeof e=="number"?e:e[1]);return[r,o]}function dfe(e,t,n,r=!0){let o=[];if(r)o=o.concat(t.slice(0)),o.push(e[0]/n),o=o.concat(e.slice(1));else{o=o.concat(e[0]);let i=t.length;for(let s=0;s<i;++s)o=o.concat([e[s+1]/t[s],t[s]]);o=o.concat(e.slice(i+1))}return o}function pfe(e,t,n=!0){let r=[];if(n){r.push(t);for(let o=t+1;o<e;++o)o<=2*t?(r.push(o),r.push(o-(t+1))):r.push(o)}else{let o=[],i=[];for(let s=1;s<e;++s)s>=t*2+1||s%2===1?i.push(s):o.push(s);r.push(...o),r.push(0),r.push(...i)}return r}function ffe(e,t,n,r=!0){let o=[];r?o.push(e[0]/n):o.push(e[0]*n);for(let i=1;i<e.length;++i)i<=t.length?r?o.push(t[i-1]*e[i]):o.push(e[i]/t[i-1]):o.push(e[i]);return o}function mfe(e,t){let n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}function hfe(e,t,n){let r=e.slice(0,1);for(let o=0;o<n;++o)r.push(e[o+1]-t[o][0]-t[o][1]);return r}var gfe=1.7580993408473768,bfe=1.0507009873554805;var yfe=.3275911,_fe=.254829592,$fe=-.284496736,xfe=1.421413741,vfe=-1.453152027,wfe=1.061405429;function Sfe(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);let n=new Float32Array(e.length*2);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function Cfe(e){let t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function Ife(e){let t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let o=0;o<e.length;o+=4)n[Math.floor(o/4)]=e[o],r[Math.floor(o/4)]=e[o+1];return{real:n,imag:r}}function Efe(e){let t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let o=2;o<e.length;o+=4)n[Math.floor(o/4)]=e[o],r[Math.floor(o/4)]=e[o+1];return{real:n,imag:r}}function Tfe(e,t){let n=e[t*2],r=e[t*2+1];return{real:n,imag:r}}function Dfe(e,t,n,r){e[r*2]=t,e[r*2+1]=n}function Ffe(e,t){let n=new Float32Array(e/2),r=new Float32Array(e/2);for(let o=0;o<Math.ceil(e/2);o++){let i=(t?2:-2)*Math.PI*(o/e);n[o]=Math.cos(i),r[o]=Math.sin(i)}return{real:n,imag:r}}function kfe(e,t,n){let r=(n?2:-2)*Math.PI*(e/t),o=Math.cos(r),i=Math.sin(r);return{real:o,imag:i}}var vT="->",Afe=/->/g,kV=",",AV="...";function Mfe(e,t){e=e.replace(/\s/g,"");let n=(e.length-e.replace(Afe,"").length)/vT.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${vT}").`);let[r,o]=e.split(vT);Re(r.indexOf(AV)===-1,()=>`The ellipsis notation ("${AV}") is not supported yet.`);let i=r.split(kV),s=i.length;if(t!==s)throw new Error(`Expected ${s} input tensors, received ${t}`);if(s>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");let l=[];for(let f=0;f<o.length;++f){let m=o[f];if(!i.some(h=>h.indexOf(m)!==-1))throw new Error(`Output subscripts contain the label ${m} not present in the input subscripts.`);l.indexOf(m)===-1&&l.push(m)}for(let f=0;f<r.length;++f){let m=r[f];l.indexOf(m)===-1&&m!==kV&&l.push(m)}let c=new Array(i.length);for(let f=0;f<s;++f){if(new Set(i[f].split("")).size!==i[f].length)throw new Error(`Found duplicate axes in input component ${i[f]}. Support for duplicate axes in input is not implemented yet.`);c[f]=[];for(let m=0;m<i[f].length;++m)c[f].push(l.indexOf(i[f][m]))}let u=l.length,d=o.length,p=[];for(let f=d;f<u;++f)p.push(f);return{allDims:l,summedDims:p,idDims:c}}function Rfe(e,t){let n=new Array(e);n.fill(-1);for(let o=0;o<t.length;++o)n[t[o]]=o;let r=[];for(let o=0;o<e;++o)n[o]===-1&&r.push(o);return n=n.filter(o=>o!==-1),{permutationIndices:n,expandDims:r}}function jfe(e,t,n){let r=new Array(e);for(let o=0;o<n.length;++o){let i=n[o].shape;for(let s=0;s<t[o].length;++s)r[t[o][s]]===void 0?r[t[o][s]]=i[s]:Re(r[t[o][s]]===i[s],()=>`Expected dimension ${r[t[o][s]]} at axis ${s} of input shaped ${JSON.stringify(i)}, but got dimension ${i[s]}`)}}function Ofe(e,t){let n=e,r=[],o=0;e.length===0&&n.push(-1),o=e.length+1;for(let s=0;s<o;++s)r.push([]);let i=[];for(let s=0;s<n.length;++s){let l=n[s],c=Pfe(t,l);for(let u of c)i.indexOf(u)===-1&&(r[s].push(u),i.push(u))}return{path:n,steps:r}}function Nfe(e){return e.every((t,n)=>t===n)}function Pfe(e,t){let n=[];for(let r=0;r<e.length;++r)(e[r].length===0||e[r].indexOf(t)!==-1||t===-1)&&n.push(r);return n}function Bfe(e,t,n=0){let r=[];if(typeof t=="number")Re(e.shape[n]%t===0,()=>"Number of splits must evenly divide the axis."),r=new Array(t).fill(e.shape[n]/t);else{let o=t.reduce((s,l)=>(l===-1&&(s+=1),s),0);Re(o<=1,()=>"There should be only one negative value in split array.");let i=t.indexOf(-1);if(i!==-1){let s=t.reduce((l,c)=>c>0?l+c:l);t[i]=e.shape[n]-s}Re(e.shape[n]===t.reduce((s,l)=>s+l),()=>"The sum of sizes must match the size of the axis dimension."),r=t}return r}var wT={};ca(wT,{collectGatherOpShapeInfo:()=>Wfe,computeOutShape:()=>Ufe,segOpComputeOptimalWindowSize:()=>Lfe});function Lfe(e,t){let n=!1,r;for(e<=J_?(r=e,n=!0):r=Jc(e,Math.floor(Math.sqrt(e)));!n;)r>t||r===e?n=!0:r=Jc(e,r+1);return r}function Ufe(e,t,n){let r=[],o=e.length;for(let i=0;i<o;i++)i!==t?r.push(e[i]):r.push(n);return r}function Wfe(e,t,n,r){let o=t.shape.length,i=e.shape.length;if(r!==0&&(r<-o||r>o))throw new Error(`Expect batchDims in the range of [-${o}, ${o}], but got ${r}`);if(r<0&&(r+=o),r>i)throw new Error(`batchDims (${r}) must be less than rank(x) (
    ${i}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let p=0;p<r;++p)if(e.shape[p]!==t.shape[p])throw new Error(`x.shape[${p}]: ${e.shape[p]} should be equal to indices.shape[${p}]: ${t.shape[p]}.`);let s=e.shape[n],l=[],c=1,u=1,d=1;for(let p=0;p<r;++p)l.push(e.shape[p]),c*=e.shape[p];for(let p=r;p<n;p++)l.push(e.shape[p]),u*=e.shape[p];for(let p=r;p<o;p++)l.push(t.shape[p]);for(let p=n+1;p<i;p++)l.push(e.shape[p]),d*=e.shape[p];return{batchSize:c,sliceSize:d,outerSize:u,dimSize:s,outputShape:l}}function zfe(e){try{return e.map(t=>uu(t))}catch(t){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${t}`)}}function Vfe(e){return e.map(t=>cu(t))}var er={};ca(er,{nonMaxSuppressionV3Impl:()=>TV,nonMaxSuppressionV4Impl:()=>DV,nonMaxSuppressionV5Impl:()=>FV,whereImpl:()=>CV});function ce(e,t){Array.isArray(e)||(e=[e]),e.forEach(n=>{n!=null&&E.assert(n.dtype!=="complex64",()=>`${t} does not support complex64 tensors in the CPU backend.`)})}var Hfe=er.whereImpl,MV=(()=>{class e extends es{constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new Qa(this,rs())}nextDataId(){return e.nextDataId++}write(n,r,o){this.firstUse&&(this.firstUse=!1,Q().get("IS_NODE")&&A.warn(`
============================
Hi there \u{1F44B}. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.
============================`));let i={id:this.nextDataId()};return this.data.set(i,{values:n,dtype:o,refCount:1}),i}makeTensorInfo(n,r,o){let i;if(r==="string"&&o!=null&&o.length>0&&E.isString(o[0])){let s=o.map(l=>E.encodeString(l));i=this.write(s,n,r)}else i=this.write(o,n,r);return{dataId:i,shape:n,dtype:r}}refCount(n){return this.data.has(n)?this.data.get(n).refCount:0}incRef(n){let r=this.data.get(n);r.refCount++}decRef(n){if(this.data.has(n)){let r=this.data.get(n);r.refCount--}}move(n,r,o,i,s){this.data.set(n,{values:r,dtype:i,refCount:s})}numDataIds(){return this.data.numDataIds()}read(n){return ie(this,null,function*(){return this.readSync(n)})}readSync(n){let{dtype:r,complexTensorInfos:o}=this.data.get(n);if(r==="complex64"){let i=this.readSync(o.real.dataId),s=this.readSync(o.imag.dataId);return A.mergeRealAndImagArrays(i,s)}return this.data.get(n).values}bufferSync(n){let r=this.readSync(n.dataId),o=r;if(n.dtype==="string")try{o=r.map(i=>E.decodeString(i))}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return We(n.shape,n.dtype,o)}makeOutput(n,r,o){let i=this.write(n,r,o);return rs().makeTensorFromDataId(i,r,o,this)}disposeData(n,r=!1){if(this.data.has(n)){if(this.data.get(n).refCount--,!r&&this.data.get(n).refCount>0)return!1;let{complexTensorInfos:o}=this.data.get(n);o!=null&&(this.disposeData(o.real.dataId,!0),this.disposeData(o.imag.dataId,!0)),this.data.delete(n)}return!0}disposeIntermediateTensorInfo(n){this.disposeData(n.dataId)}time(n){return ie(this,null,function*(){let r=E.now();return n(),{kernelMs:E.now()-r}})}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(n){ce([n],"where");let r=this.readSync(n.dataId);return Hfe(n.shape,r)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}return e.nextDataId=0,e})();var YT={};ca(YT,{addImpl:()=>IT,bincountImpl:()=>bu,bincountReduceImpl:()=>e$,ceilImpl:()=>ET,concatImpl:()=>t$,equalImpl:()=>TT,expImpl:()=>FT,expm1Impl:()=>AT,floorImpl:()=>MT,gatherNdImpl:()=>n$,gatherV2Impl:()=>r$,greaterEqualImpl:()=>jT,greaterImpl:()=>RT,lessEqualImpl:()=>NT,lessImpl:()=>OT,linSpaceImpl:()=>o$,logImpl:()=>PT,maxImpl:()=>i$,maximumImpl:()=>BT,minimumImpl:()=>LT,multiplyImpl:()=>xf,negImpl:()=>UT,notEqualImpl:()=>WT,prodImpl:()=>zT,rangeImpl:()=>s$,rsqrtImpl:()=>VT,sigmoidImpl:()=>o6,simpleAbsImpl:()=>CT,sliceImpl:()=>GT,sparseFillEmptyRowsImpl:()=>a$,sparseReshapeImpl:()=>l$,sparseSegmentReductionImpl:()=>_u,sqrtImpl:()=>a6,squaredDifferenceImpl:()=>qT,stridedSliceImpl:()=>c$,stringNGramsImpl:()=>u$,stringSplitImpl:()=>d$,stringToHashBucketFastImpl:()=>p$,subImpl:()=>XT,tileImpl:()=>f$,topKImpl:()=>m$,transposeImpl:()=>yu,uniqueImpl:()=>h$});function CT(e){let t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}var Gfe=e=>{let{x:t}=e.inputs,n=e.backend;ce(t,"abs");let r=new Float32Array(E.sizeFromShape(t.shape)),o=n.data.get(t.dataId).values;return r=CT(o),n.makeOutput(r,t.shape,t.dtype)},RV={kernelName:qb,backendName:"cpu",kernelFunc:Gfe};function ht(e){return(t,n,r,o,i)=>{let s=A.assertAndGetBroadcastShape(t,n),l=s.length,c=E.computeStrides(s),u=E.sizeFromShape(s),d=E.getTypedArrayFromDType(i,u),p=t.length,f=n.length,m=E.computeStrides(t),h=E.computeStrides(n),g=A.getBroadcastDims(t,s),_=A.getBroadcastDims(n,s);if(g.length+_.length===0)for(let $=0;$<d.length;++$)d[$]=e(r[$%r.length],o[$%o.length]);else for(let $=0;$<d.length;++$){let x=E.indexToLoc($,l,c),w=x.slice(-p);g.forEach(k=>w[k]=0);let S=E.locToIndex(w,p,m),I=x.slice(-f);_.forEach(k=>I[k]=0);let F=E.locToIndex(I,f,h);d[$]=e(r[S],o[F])}return[d,s]}}function jn(e){let{inputs:t,backend:n}=e,{real:r,imag:o}=t,i=n.data.get(r.dataId).values,s=n.data.get(o.dataId).values,l=n.makeTensorInfo(r.shape,"complex64"),c=n.data.get(l.dataId);return c.complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",i),imag:n.makeTensorInfo(o.shape,"float32",s)},l}var jV={kernelName:tu,backendName:"cpu",kernelFunc:jn};function hu(e,t,n="float32"){if(n==="complex64"){let o=hu(e,t,"float32"),i=hu(e,t,"float32");return jn({inputs:{real:o,imag:i},backend:e})}let r=E.makeZerosTypedArray(E.sizeFromShape(t),n);return e.makeTensorInfo(t,n,r)}function tr(e){let{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var OV={kernelName:Ys,backendName:"cpu",kernelFunc:tr};function Eo(e){let{inputs:t,backend:n}=e,{input:r}=t,o=n.data.get(r.dataId).complexTensorInfos.real,i=n.data.get(o.dataId).values;return n.makeTensorInfo(o.shape,o.dtype,i)}var NV={kernelName:o_,backendName:"cpu",kernelFunc:Eo};function To(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{dtype:i}=r;if(i==="complex64"){if(o.dtype==="complex64")return tr({inputs:{x:o},backend:n});let s=hu(n,o.shape,o.dtype),l=To({inputs:{x:o},backend:n,attrs:{dtype:"float32"}}),c=jn({inputs:{real:l,imag:s},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),c}if(o.dtype==="complex64"){let s=Eo({inputs:{input:o},backend:n}),l=To({inputs:{x:s},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(s),l}if(!E.hasEncodingLoss(o.dtype,i)){let s=tr({inputs:{x:o},backend:n});return{dataId:s.dataId,shape:s.shape,dtype:i}}if(i==="int32"){let s=n.data.get(o.dataId).values,l=Int32Array.from(s);return n.makeTensorInfo(o.shape,"int32",l)}if(i==="bool"){let s=n.data.get(o.dataId).values,l=E.toTypedArray([0],o.dtype),[c,u]=ht((d,p)=>d!==p?1:0)(o.shape,[],s,l,"bool");return n.makeTensorInfo(u,"bool",c)}throw new Error(`Error in Cast: failed to cast ${o.dtype} to ${i}`)}var PV={kernelName:Xs,backendName:"cpu",kernelFunc:To};function St(e,t,n,r){return n==null?({inputs:o,backend:i})=>{let{a:s,b:l}=o,c=i;ce([s,l],e);let u=c.data.get(s.dataId).values,d=c.data.get(l.dataId).values,p=s.dtype==="string"?A.fromUint8ToStringArray(u):u,f=s.dtype==="string"?A.fromUint8ToStringArray(d):d,m=r||s.dtype,[h,g]=t(s.shape,l.shape,p,f,m);return c.makeTensorInfo(g,m,h)}:({inputs:o,backend:i})=>{let{a:s,b:l}=o,c=i;if(s.dtype==="complex64"||l.dtype==="complex64"){let u=To({inputs:{x:s},backend:c,attrs:{dtype:"complex64"}}),d=c.data.get(u.dataId),p=d.complexTensorInfos.real,f=d.complexTensorInfos.imag,m=c.data.get(p.dataId).values,h=c.data.get(f.dataId).values,g=To({inputs:{x:l},backend:c,attrs:{dtype:"complex64"}}),_=c.data.get(g.dataId),$=_.complexTensorInfos.real,x=_.complexTensorInfos.imag,w=c.data.get($.dataId).values,S=c.data.get(x.dataId).values,[I,F,k]=n(s.shape,l.shape,m,h,w,S),M=c.makeTensorInfo(k,"float32",I),O=c.makeTensorInfo(k,"float32",F),B=jn({inputs:{real:M,imag:O},backend:c});return c.disposeIntermediateTensorInfo(u),c.disposeIntermediateTensorInfo(g),c.disposeIntermediateTensorInfo(M),c.disposeIntermediateTensorInfo(O),B}else{let u=c.data.get(s.dataId).values,d=c.data.get(l.dataId).values,p=r||s.dtype,[f,m]=t(s.shape,l.shape,u,d,p);return c.makeTensorInfo(m,p,f)}}}function gu(e){return(t,n,r,o,i,s)=>{let l=A.assertAndGetBroadcastShape(t,n),c=E.sizeFromShape(l),u=l.length,d=E.computeStrides(l),p=E.getTypedArrayFromDType("float32",c),f=E.getTypedArrayFromDType("float32",c),m=A.getBroadcastDims(t,l),h=A.getBroadcastDims(n,l),g=A.mergeRealAndImagArrays(r,o),_=A.mergeRealAndImagArrays(i,s),$=t.length,x=E.computeStrides(t),w=n.length,S=E.computeStrides(n);if(m.length+h.length===0)for(let I=0;I<p.length;I++){let F=I%g.length,k=I%_.length,M=e(g[F*2],g[F*2+1],_[k*2],_[k*2+1]);p[I]=M.real,f[I]=M.imag}else for(let I=0;I<p.length;I++){let F=E.indexToLoc(I,u,d),k=F.slice(-$);m.forEach(V=>k[V]=0);let M=E.locToIndex(k,$,x),O=F.slice(-w);h.forEach(V=>O[V]=0);let B=E.locToIndex(O,w,S),W=e(g[M*2],g[M*2+1],_[B*2],_[B*2+1]);p[I]=W.real,f[I]=W.imag}return[p,f,l]}}var IT=ht((e,t)=>e+t),qfe=gu((e,t,n,r)=>({real:e+n,imag:t+r})),os=St(tl,IT,qfe),BV={kernelName:tl,backendName:"cpu",kernelFunc:os};function bu(e,t,n,r,o){let i=E.sizeFromShape(r),s=E.makeZerosTypedArray(o,n);for(let l=0;l<e.length;l++){let c=e[l];if(c<0)throw new Error("Input x must be non-negative!");c>=o||(i>0?s[c]+=t[l]:s[c]+=1)}return s}function e$(e,t,n,r=!1){let o=e.shape[0],i=e.shape[1],s=We([o,n],t.dtype);for(let l=0;l<o;l++)for(let c=0;c<i;c++){let u=e.get(l,c);if(u<0)throw new Error("Input x must be non-negative!");u>=n||(r?s.set(1,l,u):t.size>0?s.set(s.get(l,u)+t.get(l,c),l,u):s.set(s.get(l,u)+1,l,u))}return s}function xr(e){return(t,n,r)=>{let o=E.getTypedArrayFromDType(n,t.length);for(let i=0;i<t.length;++i)o[i]=e(t[i],r);return o}}function Pe(e,t,n){return({inputs:r,attrs:o,backend:i})=>{let{x:s}=r;if(ce(s,e),s.dtype==="string"||n==="string")throw new Error("unaryKernelFunc does not support string input/output");let l=i,c=l.data.get(s.dataId).values,u=E.sizeFromShape(s.shape),d=n||s.dtype,p=E.getArrayFromDType(d,u);for(let f=0;f<u;++f)p[f]=t(c[f],o);return l.makeTensorInfo(s.shape,d,p)}}function Do(e,t,n){return({inputs:r,attrs:o,backend:i})=>{let{x:s}=r;if(ce(s,e),s.dtype==="string"||n==="string")throw new Error("unaryKernelFunc does not support string input/output");let l=i,c=l.data.get(s.dataId).values,u=n||s.dtype,d=t(c,u,o);return l.makeTensorInfo(s.shape,u,d)}}var ET=xr(e=>Math.ceil(e)),Kfe=Do(Ep,ET),LV={kernelName:Ep,backendName:"cpu",kernelFunc:Kfe};function t$(e,t,n,r){let o=E.getArrayFromDType(n,E.sizeFromShape(t));if(r&&n!=="string"){let i=0;e.forEach(s=>{let l=E.sizeFromShape(s.shape);o.set(s.vals,i),i+=l})}else{let i=0;e.forEach(s=>{let l=n==="string"?A.fromUint8ToStringArray(s.vals):s.vals,c=0;for(let u=0;u<s.shape[0];++u){let d=u*t[1]+i;for(let p=0;p<s.shape[1];++p)o[d+p]=l[c++]}i+=s.shape[1]})}return o}var TT=ht((e,t)=>e===t?1:0),DT=St(Mp,TT,null,"bool"),UV={kernelName:Mp,backendName:"cpu",kernelFunc:DT};var FT=xr(e=>Math.exp(e)),kT=Do(Rp,FT,"float32"),WV={kernelName:Rp,backendName:"cpu",kernelFunc:kT};var AT=xr(e=>Math.expm1(e)),Xfe=Do(jp,AT),zV={kernelName:jp,backendName:"cpu",kernelFunc:Xfe};var MT=xr(e=>Math.floor(e)),Yfe=Do(Op,MT),VV={kernelName:Op,backendName:"cpu",kernelFunc:Yfe};function n$(e,t,n,r,o,i,s,l,c){let u=We([r,i],n);for(let d=0;d<r;d++){let p=[],f=0;for(let m=0;m<o;m++){let h=e[d*o+m];f+=h*s[m],p.push(h)}if(f<0||f>=c/i)throw new Error(`Invalid indices: ${p} does not index into ${l}`);for(let m=0;m<i;m++)u.values[d*i+m]=t.get(...t.indexToLoc(f*i+m))}return u}function r$(e,t,n){let r=We(n,e.dtype);for(let o=0;o<r.size;++o){let s=r.indexToLoc(o).slice(),l=s[0],c=s[2],u=t.locToIndex([l,c]);s[2]=t.values[u];let d=e.locToIndex(s);r.values[o]=e.values[d]}return r}var RT=ht((e,t)=>e>t?1:0),Zfe=St(Pp,RT,null,"bool"),HV={kernelName:Pp,backendName:"cpu",kernelFunc:Zfe};var jT=ht((e,t)=>e>=t?1:0),Qfe=St(Bp,jT,null,"bool"),GV={kernelName:Bp,backendName:"cpu",kernelFunc:Qfe};var OT=ht((e,t)=>e<t?1:0),Jfe=St(zp,OT,null,"bool"),qV={kernelName:zp,backendName:"cpu",kernelFunc:Jfe};var NT=ht((e,t)=>e<=t?1:0),eme=St(Vp,NT,null,"bool"),KV={kernelName:Vp,backendName:"cpu",kernelFunc:eme};function o$(e,t,n){let r=(t-e)/(n-1),o=E.makeZerosTypedArray(n,"float32");o[0]=e;for(let i=1;i<o.length;i++)o[i]=o[i-1]+r;return o}var PT=xr(e=>Math.log(e)),tme=Do(Hp,PT),XV={kernelName:Hp,backendName:"cpu",kernelFunc:tme};function i$(e,t,n,r){let o=E.getTypedArrayFromDType(r,E.sizeFromShape(n));for(let i=0;i<o.length;++i){let s=i*t,l=e[s];for(let c=0;c<t;++c){let u=e[s+c];(Number.isNaN(u)||u>l)&&(l=u)}o[i]=l}return o}var BT=ht((e,t)=>Math.max(e,t)),nme=St(Yp,BT),YV={kernelName:Yp,backendName:"cpu",kernelFunc:nme};var LT=ht((e,t)=>Math.min(e,t)),rme=St(Zp,LT),ZV={kernelName:Zp,backendName:"cpu",kernelFunc:rme};var xf=ht((e,t)=>e*t),ome=gu((e,t,n,r)=>({real:e*n-t*r,imag:e*r+t*n})),xl=St(rl,xf,ome),QV={kernelName:rl,backendName:"cpu",kernelFunc:xl};function UT(e,t,n){let r=E.createScalarValue(-1,n);return xf([],t,r,e,n)}function ime(e){let{inputs:t,backend:n}=e,{x:r}=t;ce(r,"neg");let o=n.data.get(r.dataId).values,[i,s]=UT(o,r.shape,r.dtype);return n.makeTensorInfo(s,r.dtype,i)}var JV={kernelName:Ky,backendName:"cpu",kernelFunc:ime};var WT=ht((e,t)=>e!==t?1:0),sme=St(Jp,WT,null,"bool"),e6={kernelName:Jp,backendName:"cpu",kernelFunc:sme};function yu(e,t,n,r,o){let i=t.length,s=E.sizeFromShape(t),l=E.computeStrides(t),c=E.computeStrides(o),u=E.getTypedArrayFromDType(n,E.sizeFromShape(o));for(let d=0;d<s;++d){let p=E.indexToLoc(d,i,l),f=new Array(p.length);for(let h=0;h<f.length;h++)f[h]=p[r[h]];let m=E.locToIndex(f,i,c);u[m]=e[d]}return u}function Sn(e){let{inputs:t,attrs:n,backend:r}=e,{x:o}=t,{perm:i}=n;ce(o,"transpose");let s=o.shape.length,l=new Array(s);for(let p=0;p<l.length;p++)l[p]=o.shape[i[p]];let c=r.data.get(o.dataId).values,u=yu(c,o.shape,o.dtype,i,l);return{dataId:r.write(u,l,o.dtype),shape:l,dtype:o.dtype}}var t6={kernelName:D_,backendName:"cpu",kernelFunc:Sn};function zT(e,t,n,r){let[o,i]=A.computeOutAndReduceShapes(e,r),s=Rn(t,"int32"),l=E.makeZerosTypedArray(E.sizeFromShape(o),s),c=E.sizeFromShape(i);for(let u=0;u<l.length;++u){let d=u*c,p=1;for(let f=0;f<c;++f)p*=n[d+f];l[u]=p}return{outVals:l,outShape:o,outDtype:s}}function ame(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:s}=r;ce(o,"prod");let l=o.shape.length,c=E.parseAxisParam(i,o.shape),u=A.getAxesPermutation(c,l),d=c,p=o,f=[];u!=null&&(p=Sn({inputs:{x:o},backend:n,attrs:{perm:u}}),f.push(p),d=A.getInnerMostAxes(d.length,l));let m=n.data.get(p.dataId).values,{outVals:h,outShape:g,outDtype:_}=zT(p.shape,p.dtype,m,d),$=g;return s&&($=A.expandShapeToKeepDim(g,c)),f.forEach(x=>n.disposeIntermediateTensorInfo(x)),n.makeTensorInfo($,_,h)}var n6={kernelName:n_,backendName:"cpu",kernelFunc:ame};function s$(e,t,n,r){let o=e===t,i=e<t&&n<0,s=t<e&&n>1;if(o||i||s)return E.makeZerosTypedArray(0,r);let l=Math.abs(Math.ceil((t-e)/n)),c=E.makeZerosTypedArray(l,r);t<e&&n===1&&(n=-1),c[0]=e;for(let u=1;u<c.length;u++)c[u]=c[u-1]+n;return c}var VT=xr(e=>1/Math.sqrt(e)),lme=Do(rf,VT),r6={kernelName:rf,backendName:"cpu",kernelFunc:lme};var o6=xr(e=>1/(1+Math.exp(-e))),HT=Pe(sl,e=>1/(1+Math.exp(-e))),i6={kernelName:sl,backendName:"cpu",kernelFunc:HT};function GT(e,t,n,r,o){let i=Un.isSliceContinous(r,t,n),s=E.sizeFromShape(n),l=E.computeStrides(r);if(i){let p=Un.computeFlatOffset(t,l);return o==="string"?e.slice(p,p+s):e.subarray(p,p+s)}let c=o==="string"?A.fromUint8ToStringArray(e):e,u=We(r,o,c),d=We(n,o);for(let p=0;p<d.size;++p){let f=d.indexToLoc(p),m=f.map((h,g)=>h+t[g]);d.set(u.get(...m),...f)}return o==="string"?A.fromStringArrayToUint8(d.values):d.values}function Fo(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{begin:i,size:s}=r;ce(o,"slice");let[l,c]=Un.parseSliceParams(o,i,s);Un.assertParamsValid(o,l,c);let u=n.data.get(o.dataId).values,d=GT(u,l,c,o.shape,o.dtype);return n.makeTensorInfo(c,o.dtype,d)}var s6={kernelName:p_,backendName:"cpu",kernelFunc:Fo};function a$(e,t,n,r,o,i,s){let l=t[0],c=i[0],u=new Array(c),d=new Array(l),p=t[1];if(c===0){if(l!==0)throw new Error(`Received SparseTensor with denseShape[0] = 0 but
         indices.shape[0] = ${l}`);let _=E.getArrayFromDType(n,0),$=E.getArrayFromDType(o,0);return[_,[0,p],$,u,d]}let f=!0,m=0,h=new Array(c).fill(0);for(let _=0;_<l;++_){let $=e[_*p];if($<0)throw new Error(`indices(${_}, 0) is invalid: ${$} < 0`);if($>=c)throw new Error(`indices(${_}, 0) is invalid: ${$} >= ${c}`);++h[$],f=f&&$>=m,m=$}let g=!0;for(let _=0;_<c;++_){let $=h[_]===0;u[_]=$,g=g&&!$,h[_]=Math.max(h[_],1),_>0&&(h[_]+=h[_-1])}if(g&&f){let _=e,$=r;for(let x=0;x<l;++x)d[x]=x;return[_,[l,p],$,u,d]}else{let _=h[c-1],$=E.getArrayFromDType(n,_*p),x=E.getArrayFromDType(o,_),w=new Array(c).fill(0);for(let S=0;S<l;++S){let I=e[S*p],F=w[I],k=(I===0?0:h[I-1])+F;w[I]++;for(let M=0;M<p;++M)$[k*p+M]=e[S*p+M];x[k]=r[S],d[S]=k}for(let S=0;S<c;++S)if(w[S]===0){let F=S===0?0:h[S-1];$[F*p+0]=S;for(let k=1;k<p;++k)$[F*p+k]=0;x[F]=s}return[$,[_,p],x,u,d]}}function l$(e,t,n,r,o){let i=E.sizeFromShape(r),s=t[0],l=o.length,c=[],u=1,d=-1;for(let _=0;_<l;++_){let $=o[_];if($===-1){if(d!==-1)throw new Error(`only one output dimension may be -1, not both ${d} and ${_}`);d=_,c.push(1)}else{if($<0)throw new Error(`size ${_} must be non-negative, not ${$}`);u*=$,c.push($)}}if(d!==-1){if(u<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");let _=Math.trunc(i/u);if(u*_!==i)throw new Error(`Input to reshape is a SparseTensor with ${i}
          dense values, but the requested shape requires a multiple of ${u}. inputShape=${r} outputShape= ${c}`);c[d]=_}let p=E.sizeFromShape(c);if(p!==i)throw new Error(`Input to reshape is a tensor with ${i} dense values, but the requested shape has ${p}. inputShape=${r} outputShape=${c}`);let f=r.length,m=[];if(f>0){m[f-1]=1;for(let _=f-2;_>=0;--_)m[_]=m[_+1]*r[_+1]}let h=[];if(l>0){h[l-1]=1;for(let _=l-2;_>=0;--_)h[_]=h[_+1]*c[_+1]}let g=E.getArrayFromDType(n,s*l);for(let _=0;_<s;++_){let $=0;for(let x=0;x<f;++x)$+=e[_*f+x]*m[x];for(let x=0;x<l;++x)g[_*l+x]=Math.trunc($/h[x]),$%=h[x]}return[g,[s,l],c]}function _u(e,t,n,r,o,i=!1,s=0){let l=r.length;if(l!==o.length)throw new Error("segmentIds and indices should have same size.");let c=[t[0],e.length/t[0]],u=c[1],p=l>0?o[l-1]+1:0;if(p<0)throw new Error("segment ids must be >= 0");let f=t.slice();f[0]=p;let m=f.reduce((w,S)=>w*S,1),h=E.getArrayFromDType(n,m);if(l===0)return p>0&&h.fill(s),[h,f];if(p<=0)throw new Error("segment ids must be >= 0");let g=0,_=1,$=0,x=o[g];for(;;){let w=0;if(_<l){if(w=o[_],x===w){++_;continue}if(x>=w)throw new Error("segment ids are not increasing")}if(x<0||x>=p)throw new Error(`Segment id ${x} out of range [0, ${p}), possibly because segmentIds input is not sorted.`);x>$&&h.fill(s,$*u,x*u);for(let S=g;S<_;++S){let I=r[S];if(I<0||I>=c[0])throw new Error(`Bad: indices[${S}] == ${r[S]} out of range [0, ${c[0]})`);for(let F=0;F<u;F++)h[x*u+F]+=e[I*u+F]}if(i)for(let S=0;S<u;S++)h[x*u+S]/=_-g;if(g=_,++_,$=x+1,x=w,_>l)break}return $<p&&h.fill(s,$*u,p*u),[h,f]}var a6=xr(e=>Math.sqrt(e)),cme=Pe(uf,e=>Math.sqrt(e)),l6={kernelName:uf,backendName:"cpu",kernelFunc:cme};var qT=ht((e,t)=>{let n=e-t;return n*n}),ume=St(df,qT),c6={kernelName:df,backendName:"cpu",kernelFunc:ume};function c$(e,t,n,r){let o=We(e,t.dtype);for(let i=0;i<o.size;i++){let s=o.indexToLoc(i),l=new Array(s.length);for(let c=0;c<l.length;c++)l[c]=s[c]*n[c]+r[c];o.set(t.get(...l),...s)}return o}var KT=class{constructor(t,n,r,o,i,s){this.separator=E.encodeString(t),this.nGramWidths=n,this.leftPad=E.encodeString(r),this.rightPad=E.encodeString(o),this.padWidth=i,this.preserveShort=s}getPadWidth(t){return Math.min(this.padWidth<0?t-1:this.padWidth,t-1)}getNumNGrams(t,n){let r=this.getPadWidth(n);return Math.max(0,t+2*r-n+1)}createNGrams(t,n,r,o,i,s){for(let l=0;l<i;++l){let c=this.getPadWidth(s),u=Math.max(0,c-l),d=Math.max(0,c-(i-(l+1))),p=s-(u+d),f=n+(u>0?0:l-c),m=0;m+=u*this.leftPad.length;for(let x=0;x<p;++x)m+=t[f+x].length;m+=d*this.rightPad.length;let h=u+d+p-1;m+=h*this.separator.length,r[o+l]=new Uint8Array(m);let g=r[o+l],_=0,$=x=>x.forEach(w=>g[_++]=w);for(let x=0;x<u;++x)$(this.leftPad),$(this.separator);for(let x=0;x<p-1;++x)$(t[f+x]),$(this.separator);if(p>0){$(t[f+p-1]);for(let x=0;x<d;++x)$(this.separator),$(this.rightPad)}else{for(let x=0;x<d-1;++x)$(this.rightPad),$(this.separator);$(this.rightPad)}}}compute(t,n){let r=t.length,o=n.length;if(o>0){let c=n[0];if(c!==0)throw new Error(`First split value must be 0, got ${c}`);for(let u=1;u<o;++u){let d=n[u]>=c;if(d=d&&n[u]<=r,!d)throw new Error(`Invalid split value ${n[u]}, must be in [${c}, ${r}]`);c=n[u]}if(c!==r)throw new Error(`Last split value must be data size. Expected ${r}, got ${c}`)}let i=o-1,s=E.getArrayFromDType("int32",o);if(r===0||o===0){let c=new Array(r);for(let u=0;u<=i;++u)s[u]=0;return[c,s]}s[0]=0;for(let c=1;c<=i;++c){let u=n[c]-n[c-1],d=0;this.nGramWidths.forEach(p=>{d+=this.getNumNGrams(u,p)}),this.preserveShort&&u>0&&d===0&&(d=1),s[c]=s[c-1]+d}let l=new Array(s[i]);for(let c=0;c<i;++c){let u=n[c],d=s[c];if(this.nGramWidths.forEach(p=>{let f=n[c+1]-n[c],m=this.getNumNGrams(f,p);this.createNGrams(t,u,l,d,m,p),d+=m}),this.preserveShort&&d===s[c]){let p=n[c+1]-n[c];if(p===0)continue;let f=p+2*this.padWidth;this.createNGrams(t,u,l,d,1,f)}}return[l,s]}};function u$(e,t,n,r,o,i,s,l){return new KT(n,r,o,i,s,l).compute(e,t)}function dme(e,t,n,r){if(!e.length)return;if(t.length===0){for(let i=0;i<e.length;++i)r.push(e.subarray(i,i+1));return}if(t.length===1){let i=t[0],s=e.indexOf(i);for(;s!==-1;){let l=e.subarray(0,s);(!n||l.length!==0)&&r.push(l),e=e.subarray(s+1),s=e.indexOf(i)}(!n||e.length!==0)&&r.push(e);return}let o=0;for(let i=0;i<e.length+1;i++)if(i===e.length||t.indexOf(e[i])!==-1){let s=e.subarray(o,i);(!n||s.length!==0)&&r.push(s),o=i+1}}function d$(e,t,n){let r=e.length,o=[],i=0,s=0,l=new Array(r);for(let f=0;f<r;++f){let m=o.length;dme(e[f],t,n,o);let h=o.length-m;l[f]=h,i+=h,s=Math.max(s,h)}let c=E.getArrayFromDType("int32",i*2),u=new Array(i),d=[r,s],p=0;for(let f=0;f<r;++f)for(let m=0;m<l[f];++m)c[p*2]=f,c[p*2+1]=m,u[p]=o[p],++p;return[c,u,d]}function p$(e,t){let n=E.getArrayFromDType("int32",e.length);for(let r=0;r<e.length;++r)n[r]=E.fingerPrint64(e[r]).modulo(t).getLowBitsUnsigned();return n}var XT=ht((e,t)=>e-t),pme=gu((e,t,n,r)=>({real:e-n,imag:t-r})),vf=St(pf,XT,pme),u6={kernelName:pf,backendName:"cpu",kernelFunc:vf};function f$(e,t){let n=new Array(e.rank);for(let o=0;o<n.length;o++)n[o]=e.shape[o]*t[o];let r=We(n,e.dtype);for(let o=0;o<r.values.length;++o){let i=r.indexToLoc(o),s=new Array(e.rank);for(let c=0;c<s.length;c++)s[c]=i[c]%e.shape[c];let l=e.locToIndex(s);r.values[o]=e.values[l]}return r}var wf=(e,t)=>{let n=t.value-e.value;return n===0?e.index-t.index:n};function d6(e,t,n=0,r=e.length-1){for(;r>n;){if(r-n>600){let l=r-n+1,c=t-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*d*(l-d)/l)*Math.sign(c-l/2),f=Math.max(n,Math.floor(t-c*d/l+p)),m=Math.min(r,Math.floor(t+(l-c)*d/l+p));d6(e,t,f,m)}let o=e[t],i=n,s=r;for(E.swap(e,n,t),wf(e[r],o)>0&&E.swap(e,n,r);i<s;){for(E.swap(e,i,s),i++,s--;wf(e[i],o)<0;)i=i+1;for(;wf(e[s],o)>0;)s=s-1}wf(e[n],o)===0?E.swap(e,n,s):(s=s+1,E.swap(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}}function m$(e,t,n,r,o){let i=t[t.length-1],[s,l]=[e.length/i,i],c=E.getTypedArrayFromDType(n,s*r),u=E.getTypedArrayFromDType("int32",s*r);for(let p=0;p<s;p++){let f=p*l,m=e.subarray(f,f+l),h=new Array(m.length);m.forEach((x,w)=>h[w]={value:x,index:w}),r<h.length&&(d6(h,r),h=h.slice(0,r)),o&&h.sort(wf);let g=p*r,_=c.subarray(g,g+r),$=u.subarray(g,g+r);for(let x=0;x<r;x++)_[x]=h[x].value,$[x]=h[x].index}let d=t.slice();return d[d.length-1]=r,[We(d,n,c),We(d,"int32",u)]}function h$(e,t,n,r){let o=E.parseAxisParam(t,n)[0],i=[1,n[0],1];for(let h=0;h<o;h++)i[0]*=n[h];i[1]=n[o];for(let h=o+1;h<n.length;h++)i[2]*=n[h];let s={},l=new Int32Array(n[o]),c=new zt(i,r,e),u=[],d=i[0]===1&&i[2]===1;for(let h=0;h<n[o];h++){let g;if(d)g=e[h].toString();else{let _=[];for(let $=0;$<i[0];$++)for(let x=0;x<i[2];x++)_.push(c.get($,h,x));g=_.join(",")}if(s[g]!==void 0)l[h]=s[g];else{let _=Object.keys(s).length;s[g]=_,l[h]=_,u.push(h)}}let p=i.slice();p[1]=Object.keys(s).length;let f=new zt(p,r);u.forEach((h,g)=>{for(let _=0;_<i[0];_++)for(let $=0;$<i[2];$++)f.set(c.get(_,h,$),_,g,$)});let m=n.slice();return m[o]=p[1],{outputValues:f.values,outputShape:m,indices:l}}Z_("cpu",()=>new MV,1);var ZT=Pe(nl,e=>e>=0?e:Math.exp(e)-1),p6={kernelName:nl,backendName:"cpu",kernelFunc:ZT};function QT(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{alpha:i}=r;ce([o],"leakyRelu");let s=E.sizeFromShape(o.shape),l=n.data.get(o.dataId).values,c=E.getTypedArrayFromDType("float32",s);for(let u=0;u<l.length;u++)c[u]=l[u]<0?i*l[u]:l[u];return n.makeTensorInfo(o.shape,"float32",c)}var f6={kernelName:nu,backendName:"cpu",kernelFunc:QT};var fme=ht((e,t)=>e<0?t*e:e);function JT(e){let{inputs:t,backend:n}=e,{x:r,alpha:o}=t;ce([r,o],"prelu");let i=n.data.get(r.dataId).values,s=n.data.get(o.dataId).values,[l,c]=fme(r.shape,o.shape,i,s,"float32");return n.makeTensorInfo(c,"float32",l)}var m6={kernelName:ru,backendName:"cpu",kernelFunc:JT};var e1=Pe(ol,e=>Math.max(0,e)),h6={kernelName:ol,backendName:"cpu",kernelFunc:e1};var t1=Pe(il,e=>Math.min(Math.max(0,e),6)),g6={kernelName:il,backendName:"cpu",kernelFunc:t1};function $u(e,t,n,r,o){if(n==="linear")return tr({inputs:{x:t},backend:e});if(n==="relu")return e1({inputs:{x:t},backend:e});if(n==="elu")return ZT({inputs:{x:t},backend:e});if(n==="relu6")return t1({inputs:{x:t},backend:e});if(n==="prelu")return JT({inputs:{x:t,alpha:r},backend:e});if(n==="leakyrelu")return QT({inputs:{x:t},backend:e,attrs:{alpha:o}});if(n==="sigmoid")return HT({inputs:{x:t},backend:e});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}function _t(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{shape:i}=r,s=E.sizeFromShape(o.shape),l=E.inferFromImplicitShape(i,s),c=E.sizeFromShape(l);E.assert(s===c,()=>`The new shape (${l}) has ${c} elements and the old shape (${o.shape}) has ${s} elements. The new shape and old shape must have the same number of elements.`),n.incRef(o.dataId);let u=n.data.get(o.dataId);if(u.complexTensorInfos!=null){let d=u.complexTensorInfos.real,p=u.complexTensorInfos.imag;d.shape=l,p.shape=l}return{dataId:o.dataId,shape:l,dtype:o.dtype}}var b6={kernelName:ou,backendName:"cpu",kernelFunc:_t};function n1(e){let{inputs:t,backend:n,attrs:r}=e,{a:o,b:i}=t,{transposeA:s,transposeB:l}=r;ce([o,i],"matMul");let c=o.shape.length,u=i.shape.length,d=s?o.shape[c-2]:o.shape[c-1],p=l?i.shape[u-1]:i.shape[u-2],f=s?o.shape[c-1]:o.shape[c-2],m=l?i.shape[u-2]:i.shape[u-1],h=o.shape.slice(0,-2),g=i.shape.slice(0,-2),_=E.sizeFromShape(h),$=E.sizeFromShape(g),x=_===$||_===1||$===1;E.assert(c>=2&&u>=2&&x,()=>`Error in matMul: the input batch dimensions must either be the same or at least one input batch dimension must be 1. Got input batch dimensions of (${h}) and (${g}).`);let S=(_>$?o.shape.slice(0,-2):i.shape.slice(0,-2)).concat([f,m]);E.assert(d===p,()=>`Error in matMul: inner shapes (${d}) and (${p}) of Tensors with shapes ${o.shape} and ${i.shape} and transposeA=${s} and transposeB=${l} must match.`);let I=s?[_,d,f]:[_,f,d],F=l?[$,m,p]:[$,p,m],k=_t({inputs:{x:o},backend:n,attrs:{shape:I}}),M=_t({inputs:{x:i},backend:n,attrs:{shape:F}}),O=s?k.shape[1]:k.shape[2],B=s?k.shape[2]:k.shape[1],W=l?M.shape[1]:M.shape[2],V=Math.max(_,$),P=n.data.get(k.dataId).values,G=n.data.get(M.dataId).values,Z=E.computeStrides(k.shape),H=E.computeStrides(M.shape),[re,te,Y]=s?[Z[0],1,Z[1]]:[Z[0],Z[1],1],[se,z,ne]=l?[1,H[1],H[0]]:[H[1],1,H[0]],U=B*W,ae=We([V,B,W],k.dtype),ge=ae.values,we=n.blockSize;for(let Se=0;Se<V;Se++)for(let Ie=0;Ie<B;Ie+=we)for(let Ae=0;Ae<W;Ae+=we)for(let Ne=0;Ne<O;Ne+=we){let ut=Math.min(Ie+we,B),At=Math.min(Ae+we,W),Gt=Math.min(Ne+we,O);for(let Ut=Ie;Ut<ut;Ut++)for(let qt=Ae;qt<At;qt++){let Ct=0;for(let Yt=Ne;Yt<Gt;Yt++){let un=Math.min(Se,_-1)*re,Mo=Math.min(Se,$-1)*ne,On=P[un+Ut*te+Yt*Y],jr=G[Yt*se+qt*z+Mo];Ct+=On*jr}ge[Se*U+(Ut*W+qt)]+=Ct}}return n.disposeIntermediateTensorInfo(k),n.disposeIntermediateTensorInfo(M),n.makeTensorInfo(S,ae.dtype,ae.values)}var y6={kernelName:ry,backendName:"cpu",kernelFunc:n1};function mme(e){let{inputs:t,backend:n,attrs:r}=e,{a:o,b:i,bias:s,preluActivationWeights:l}=t,{transposeA:c,transposeB:u,activation:d,leakyreluAlpha:p}=r,f,m,h,g=[];f=n1({inputs:{a:o,b:i},attrs:{transposeA:c,transposeB:u},backend:n}),s&&(m=os({inputs:{a:f,b:s},backend:n}),g.push(f),f=m),d&&(h=$u(n,f,d,l,p),g.push(f),f=h);for(let $ of g)n.disposeIntermediateTensorInfo($);return f}var _6={kernelName:j_,backendName:"cpu",kernelFunc:mme};var hme=Pe($p,e=>Math.acos(e)),$6={kernelName:$p,backendName:"cpu",kernelFunc:hme};var gme=Pe(xp,e=>Math.acosh(e)),x6={kernelName:xp,backendName:"cpu",kernelFunc:gme};function bme(e){let{inputs:t,backend:n}=e,r=t;ce(t,"addN");let o=r.map(l=>n.data.get(l.dataId).values),i=We(r[0].shape,r[0].dtype),s=i.values;for(let l=0;l<r.length;l++){let c=o[l];for(let u=0;u<s.length;u++)s[u]+=c[u]}return n.makeTensorInfo(i.shape,i.dtype,i.values)}var v6={kernelName:Kb,backendName:"cpu",kernelFunc:bme};function yme(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:s}=r;ce(o,"all");let l=E.parseAxisParam(i,o.shape),c=l,u=A.getAxesPermutation(c,o.shape.length),d=o;u!=null&&(d=Sn({inputs:{x:o},backend:n,attrs:{perm:u}}),c=A.getInnerMostAxes(c.length,o.shape.length)),A.assertAxesAreInnerMostDims("all",c,d.shape.length);let[p,f]=A.computeOutAndReduceShapes(d.shape,c),m=E.sizeFromShape(f),h=E.makeZerosTypedArray(E.sizeFromShape(p),d.dtype),g=n.data.get(d.dataId).values;for(let $=0;$<h.length;++$){let x=$*m,w=g[x];for(let S=0;S<m;++S){let I=g[x+S];w=w&&I}h[$]=w}u!=null&&n.disposeIntermediateTensorInfo(d);let _=n.makeTensorInfo(p,d.dtype,h);if(s){let $=A.expandShapeToKeepDim(p,l),x=_t({inputs:{x:_},backend:n,attrs:{shape:$}});return n.disposeIntermediateTensorInfo(_),x}return _}var w6={kernelName:Xb,backendName:"cpu",kernelFunc:yme};function _me(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:s}=r;ce(o,"any");let l=E.parseAxisParam(i,o.shape),c=l,u=A.getAxesPermutation(c,o.shape.length),d=o;u!=null&&(d=Sn({inputs:{x:o},backend:n,attrs:{perm:u}}),c=A.getInnerMostAxes(c.length,o.shape.length)),A.assertAxesAreInnerMostDims("any",c,d.shape.length);let[p,f]=A.computeOutAndReduceShapes(d.shape,c),m=E.sizeFromShape(f),h=E.makeZerosTypedArray(E.sizeFromShape(p),d.dtype),g=n.data.get(d.dataId).values;for(let $=0;$<h.length;++$){let x=$*m,w=g[x];for(let S=0;S<m;++S){let I=g[x+S];w=w||I}h[$]=w}u!=null&&n.disposeIntermediateTensorInfo(d);let _=n.makeTensorInfo(p,d.dtype,h);if(s){let $=A.expandShapeToKeepDim(p,l),x=_t({inputs:{x:_},backend:n,attrs:{shape:$}});return n.disposeIntermediateTensorInfo(_),x}return _}var S6={kernelName:Yb,backendName:"cpu",kernelFunc:_me};function $me(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i}=r;ce(o,"argMax");let s=E.parseAxisParam(i,o.shape),l=A.getAxesPermutation(s,o.shape.length),c=o,u=[];l!=null&&(c=Sn({inputs:{x:o},backend:n,attrs:{perm:l}}),u.push(c),s=A.getInnerMostAxes(s.length,c.shape.length)),s=[s[0]],A.assertAxesAreInnerMostDims("argMax",s,c.shape.length);let[d,p]=A.computeOutAndReduceShapes(c.shape,s),f=E.sizeFromShape(d),m=E.makeZerosTypedArray(f,"int32"),h=E.sizeFromShape(p),g=n.data.get(c.dataId).values;for(let _=0;_<m.length;++_){let $=_*h,x=g[$],w=0;for(let S=0;S<h;++S){let I=g[$+S];I>x&&(x=I,w=S)}m[_]=w}return u.forEach(_=>n.disposeIntermediateTensorInfo(_)),n.makeTensorInfo(d,"int32",m)}var C6={kernelName:Zb,backendName:"cpu",kernelFunc:$me};function xme(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i}=r;ce(o,"argMin");let s=E.parseAxisParam(i,o.shape),l=A.getAxesPermutation(s,o.shape.length),c=o,u=[];l!=null&&(c=Sn({inputs:{x:o},backend:n,attrs:{perm:l}}),u.push(c),s=A.getInnerMostAxes(s.length,c.shape.length)),s=[s[0]],A.assertAxesAreInnerMostDims("argMin",s,c.shape.length);let[d,p]=A.computeOutAndReduceShapes(c.shape,s),f=E.sizeFromShape(d),m=E.makeZerosTypedArray(f,"int32"),h=E.sizeFromShape(p),g=n.data.get(c.dataId).values;for(let _=0;_<m.length;++_){let $=_*h,x=g[$],w=0;for(let S=0;S<h;++S){let I=g[$+S];I<x&&(x=I,w=S)}m[_]=w}return u.forEach(_=>n.disposeIntermediateTensorInfo(_)),n.makeTensorInfo(d,"int32",m)}var I6={kernelName:Qb,backendName:"cpu",kernelFunc:xme};var vme=Pe(vp,e=>Math.asin(e)),E6={kernelName:vp,backendName:"cpu",kernelFunc:vme};var wme=Pe(wp,e=>Math.asinh(e)),T6={kernelName:wp,backendName:"cpu",kernelFunc:wme};var Sme=Pe(Sp,e=>Math.atan(e)),D6={kernelName:Sp,backendName:"cpu",kernelFunc:Sme};var Cme=ht((e,t)=>Math.atan2(e,t)),Ime=St(Ip,Cme),F6={kernelName:Ip,backendName:"cpu",kernelFunc:Ime};var Eme=Pe(Cp,e=>Math.atanh(e)),k6={kernelName:Cp,backendName:"cpu",kernelFunc:Eme};function xu(e,t,n,r,o,i){let s=o.strideHeight,l=o.strideWidth,c=o.dilationHeight,u=o.dilationWidth,d=o.effectiveFilterHeight,p=o.effectiveFilterWidth,f=o.padInfo.top,m=o.padInfo.left,h=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,g=We(o.outShape,n),_=g.values,$=o.outShape[1]*o.outShape[2]*o.outShape[3],x=o.outShape[2]*o.outShape[3],w=o.outShape[3];for(let S=0;S<o.batchSize;++S){let I=S*$,F=S*r[0];for(let k=0;k<o.inChannels;++k)for(let M=0;M<o.outHeight;++M){let O=M*s-f,B=Math.max(0,O),W=Math.min(o.inHeight,d+O),V=I+M*x;for(let P=0;P<o.outWidth;++P){let G=P*l-m,Z=Math.max(0,G),H=Math.min(o.inWidth,p+G),re=h,te=0,Y=0;for(let z=B;z<W;z+=c){let ne=F+z*r[1];for(let U=Z;U<H;U+=u){let ae=ne+U*r[2],ge=e[ae+k];i==="max"&&ge>re?re=ge:i==="avg"&&(te+=ge,Y++)}if(isNaN(re))break}let se=V+P*w+k;_[se]=i==="avg"?te/Y:re}}}return g}function g$(e,t,n,r,o=!1,i=!1){let s=We(r.outShape,"int32"),l=r.strideHeight,c=r.strideWidth,u=r.dilationHeight,d=r.dilationWidth,p=r.effectiveFilterHeight,f=r.effectiveFilterWidth,m=r.padInfo.top,h=r.padInfo.left,g=We(t,n,e);for(let _=0;_<r.batchSize;++_)for(let $=0;$<r.inChannels;++$)for(let x=0;x<r.outHeight;++x){let w=x*l-m,S=w;for(;S<0;)S+=u;let I=Math.min(r.inHeight,p+w);for(let F=0;F<r.outWidth;++F){let k=F*c-h,M=k;for(;M<0;)M+=d;let O=Math.min(r.inWidth,f+k),B=Number.NEGATIVE_INFINITY,W=-1;for(let V=S;V<I;V+=u){let P=V-w;for(let G=M;G<O;G+=d){let Z=G-k,H=g.get(_,V,G,$);H>B&&(B=H,o?W=i?((_*r.inHeight+V)*r.inWidth+G)*r.inChannels+$:(V*r.inWidth+G)*r.inChannels+$:W=P*f+Z)}}s.set(W,_,x,F,$)}}return s}function b$(e,t,n,r,o,i){let s=o.strideDepth,l=o.strideHeight,c=o.strideWidth,u=o.dilationDepth,d=o.dilationHeight,p=o.dilationWidth,f=o.effectiveFilterDepth,m=o.effectiveFilterHeight,h=o.effectiveFilterWidth,g=o.padInfo.front,_=o.padInfo.top,$=o.padInfo.left,x=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,w=We(o.outShape,n),S=w.values,I=o.outShape[1]*o.outShape[2]*o.outShape[3]*o.outShape[4],F=o.outShape[2]*o.outShape[3]*o.outShape[4],k=o.outShape[3]*o.outShape[4],M=o.outShape[4];for(let O=0;O<o.batchSize;++O){let B=O*I,W=O*r[0];for(let V=0;V<o.inChannels;++V)for(let P=0;P<o.outDepth;++P){let G=P*s-g,Z=G;for(;Z<0;)Z+=u;let H=Math.min(o.inDepth,f+G),re=B+P*F;for(let te=0;te<o.outHeight;++te){let Y=te*l-_,se=Y;for(;se<0;)se+=d;let z=Math.min(o.inHeight,m+Y),ne=re+te*k;for(let U=0;U<o.outWidth;++U){let ae=U*c-$,ge=ae;for(;ge<0;)ge+=p;let we=Math.min(o.inWidth,h+ae),Se=ne+U*M,Ie=x,Ae=0,Ne=0;for(let At=Z;At<H;At+=u){let Gt=W+At*r[1];for(let Ut=se;Ut<z;Ut+=d){let qt=Gt+Ut*r[2];for(let Ct=ge;Ct<we;Ct+=p){let Yt=qt+Ct*r[3],un=e[Yt+V];if(i==="max"&&un>Ie?Ie=un:i==="avg"&&(Ae+=un,Ne++),isNaN(Ie))break}if(isNaN(Ie))break}if(isNaN(Ie))break}let ut=Se+V;S[ut]=i==="avg"?Ae/Ne:Ie}}}}return w}function A6(e,t){let n=We(t.outShape,"int32"),r=t.strideDepth,o=t.strideHeight,i=t.strideWidth,s=t.dilationDepth,l=t.dilationHeight,c=t.dilationWidth,u=t.effectiveFilterDepth,d=t.effectiveFilterHeight,p=t.effectiveFilterWidth,f=t.padInfo.front,m=t.padInfo.top,h=t.padInfo.left;for(let g=0;g<t.batchSize;++g)for(let _=0;_<t.inChannels;++_)for(let $=0;$<t.outDepth;++$){let x=$*r-f,w=x;for(;w<0;)w+=s;let S=Math.min(t.inDepth,u+x);for(let I=0;I<t.outHeight;++I){let F=I*o-m,k=F;for(;k<0;)k+=l;let M=Math.min(t.inHeight,d+F);for(let O=0;O<t.outWidth;++O){let B=O*i-h,W=B;for(;W<0;)W+=c;let V=Math.min(t.inWidth,p+B),P=Number.NEGATIVE_INFINITY,G=-1;for(let Z=w;Z<S;Z+=s){let H=Z-x;for(let re=k;re<M;re+=l){let te=re-F;for(let Y=W;Y<V;Y+=c){let se=Y-B,z=e.get(g,Z,re,Y,_);z>=P&&(P=z,G=H*d*p+te*d+se)}}}n.set(G,g,$,I,O,_)}}}return n}function Tme(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t;ce(o,"avgPool");let{filterSize:i,strides:s,pad:l,dimRoundingMode:c}=r,u=1;E.assert(A.eitherStridesOrDilationsAreOne(s,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${s} and dilations '${u}'`);let d=A.computePool2DInfo(o.shape,i,s,u,l,c),p;if(d.filterWidth===1&&d.filterHeight===1&&E.arraysEqual(d.inShape,d.outShape))p=tr({inputs:{x:o},backend:n});else{let f=n.data.get(o.dataId).values,m=E.computeStrides(o.shape),h=xu(f,o.shape,o.dtype,m,d,"avg");p=n.makeTensorInfo(d.outShape,o.dtype,h.values)}return p}var M6={kernelName:Jb,backendName:"cpu",kernelFunc:Tme};function Dme(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{filterSize:i,strides:s,pad:l,dimRoundingMode:c,dataFormat:u}=r;ce(o,"avgPool3d");let d=A.computePool3DInfo(o.shape,i,s,1,l,c,u),p=n.data.get(o.dataId).values,f=b$(p,o.shape,o.dtype,E.computeStrides(o.shape),d,"avg");return n.makeTensorInfo(f.shape,"float32",f.values)}var R6={kernelName:ty,backendName:"cpu",kernelFunc:Dme};function Fme(e){let{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,{filterSize:s,strides:l,pad:c,dimRoundingMode:u}=r;ce([o,i],"avgPool3DGrad");let d=A.computePool3DInfo(i.shape,s,l,1,c,u),p=d.strideDepth,f=d.strideHeight,m=d.strideWidth,h=d.filterDepth,g=d.filterHeight,_=d.filterWidth,$=d.dilationDepth,x=d.dilationHeight,w=d.dilationWidth,S=d.effectiveFilterDepth,I=d.effectiveFilterHeight,F=d.effectiveFilterWidth,k=S-1-d.padInfo.front,M=F-1-d.padInfo.left,O=I-1-d.padInfo.top,B=We(i.shape,"float32"),W=1/(h*g*_),V=n.bufferSync(o);for(let P=0;P<d.batchSize;++P)for(let G=0;G<d.inChannels;++G)for(let Z=0;Z<d.inDepth;++Z)for(let H=0;H<d.inHeight;++H)for(let re=0;re<d.inWidth;++re){let te=Z-k,Y=H-O,se=re-M,z=0;for(let ne=0;ne<S;ne+=$){let U=(te+ne)/p;if(!(U<0||U>=d.outDepth||Math.floor(U)!==U))for(let ae=0;ae<I;ae+=x){let ge=(Y+ae)/f;if(!(ge<0||ge>=d.outHeight||Math.floor(ge)!==ge))for(let we=0;we<F;we+=w){let Se=(se+we)/m;if(Se<0||Se>=d.outWidth||Math.floor(Se)!==Se)continue;let Ie=V.get(P,U,ge,Se,G);z+=Ie}}}B.set(z*W,P,Z,H,re,G)}return n.makeTensorInfo(B.shape,B.dtype,B.values)}var j6={kernelName:ny,backendName:"cpu",kernelFunc:Fme};function kme(e){let{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,s=i;ce([o,i],"avgPoolGrad");let{filterSize:l,strides:c,pad:u}=r,d=A.computePool2DInfo(s.shape,l,c,1,u),p=d.strideHeight,f=d.strideWidth,m=d.filterHeight,h=d.filterWidth,g=d.dilationHeight,_=d.dilationWidth,$=d.effectiveFilterHeight,x=d.effectiveFilterWidth,w=x-1-d.padInfo.left,S=$-1-d.padInfo.top,I=We(s.shape,"float32"),F=1/(m*h),k=n.data.get(o.dataId).values,M=We(o.shape,"float32",k);for(let O=0;O<d.batchSize;++O)for(let B=0;B<d.inChannels;++B)for(let W=0;W<d.inHeight;++W)for(let V=0;V<d.inWidth;++V){let P=W-S,G=V-w,Z=0;for(let H=0;H<$;H+=g){let re=(P+H)/p;if(!(re<0||re>=d.outHeight||Math.floor(re)!==re))for(let te=0;te<x;te+=_){let Y=(G+te)/f;if(Y<0||Y>=d.outWidth||Math.floor(Y)!==Y)continue;let se=M.get(O,re,Y,B);Z+=se}}I.set(Z*F,O,W,V,B)}return n.makeTensorInfo(I.shape,I.dtype,I.values)}var O6={kernelName:ey,backendName:"cpu",kernelFunc:kme};function Ame(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,scale:i,offset:s,mean:l,variance:c}=t;E.assert(l.shape.length===c.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),E.assert(s==null||l.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),E.assert(i==null||l.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),ce([o,l,c,i,s],"batchNorm");let{varianceEpsilon:u}=r;u==null&&(u=.001);let d=n.data.get(o.dataId).values,p=n.data.get(l.dataId).values,f=n.data.get(c.dataId).values,m=i?n.data.get(i.dataId).values:new Float32Array([1]),h=s?n.data.get(s.dataId).values:new Float32Array([0]),g=new Float32Array(d.length),_=h.length,$=m.length,x=f.length,w=p.length,S=0,I=0,F=0,k=0;for(let M=0;M<d.length;++M)g[M]=h[S++]+(d[M]-p[I++])*m[F++]/Math.sqrt(f[k++]+u),S>=_&&(S=0),I>=w&&(I=0),F>=$&&(F=0),k>=x&&(k=0);return n.makeTensorInfo(o.shape,o.dtype,g)}var N6={kernelName:Fy,backendName:"cpu",kernelFunc:Ame};function Mme(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:i,crops:s}=r;ce([o],"batchToSpaceND");let l=i.reduce(($,x)=>$*x),c=A.getReshaped(o.shape,i,l),u=A.getPermuted(c.length,i.length),d=A.getReshapedPermuted(o.shape,i,l),p=A.getSliceBeginCoords(s,i.length),f=A.getSliceSize(d,s,i.length),m=_t({inputs:{x:o},backend:n,attrs:{shape:c}}),h=Sn({inputs:{x:m},backend:n,attrs:{perm:u}}),g=_t({inputs:{x:h},backend:n,attrs:{shape:d}}),_=Fo({inputs:{x:g},backend:n,attrs:{begin:p,size:f}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(g),_}var P6={kernelName:oy,backendName:"cpu",kernelFunc:Mme};function Rme(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,weights:i}=t,{size:s}=r,l=n.data.get(o.dataId).values,c=n.data.get(i.dataId).values,u=bu(l,c,i.dtype,i.shape,s);return n.makeTensorInfo([s],i.dtype,u)}var B6={kernelName:iy,backendName:"cpu",kernelFunc:Rme};function jme(e){let{inputs:t,backend:n}=e,{s0:r,s1:o}=t,i=n.data.get(r.dataId).values,s=n.data.get(o.dataId).values,l=A.assertAndGetBroadcastShape(Array.from(i),Array.from(s));return n.makeTensorInfo([l.length],"int32",Int32Array.from(l))}var L6={kernelName:sy,backendName:"cpu",kernelFunc:jme};var Ome=Pe(Tp,(e,t)=>{let n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e}),U6={kernelName:Tp,backendName:"cpu",kernelFunc:Ome};var Nme=e=>{let{x:t}=e.inputs,n=e.backend,r=new Float32Array(E.sizeFromShape(t.shape)),o=n.data.get(t.dataId),i=o.complexTensorInfos.real,s=o.complexTensorInfos.imag,l=n.data.get(i.dataId).values,c=n.data.get(s.dataId).values;for(let u=0;u<l.length;u++){let d=l[u],p=c[u];r[u]=Math.hypot(d,p)}return n.makeOutput(r,t.shape,"float32")},W6={kernelName:ay,backendName:"cpu",kernelFunc:Nme};function Ei(e){let{inputs:t,backend:n}=e,{input:r}=t,o=n.data.get(r.dataId).complexTensorInfos.imag,i=n.data.get(o.dataId).values;return n.makeTensorInfo(o.shape,o.dtype,i)}var z6={kernelName:Ry,backendName:"cpu",kernelFunc:Ei};function ta(e){let{inputs:t,backend:n,attrs:r}=e,{axis:o}=r,i=E.parseAxisParam(o,t[0].shape)[0],s=A.computeOutShape(t.map(g=>g.shape),i);if(E.sizeFromShape(s)===0)return n.makeTensorInfo(s,t[0].dtype,[]);let l=t.filter(g=>E.sizeFromShape(g.shape)>0);if(l.length===1)return tr({inputs:{x:l[0]},backend:n});let c=l.map(g=>g.shape);if(A.assertParamsConsistent(c,i),l[0].dtype==="complex64"){let g=l.map(S=>Eo({inputs:{input:S},backend:n})),_=l.map(S=>Ei({inputs:{input:S},backend:n})),$=ta({inputs:g,backend:n,attrs:{axis:i}}),x=ta({inputs:_,backend:n,attrs:{axis:i}}),w=jn({inputs:{real:$,imag:x},backend:n});return g.forEach(S=>n.disposeIntermediateTensorInfo(S)),_.forEach(S=>n.disposeIntermediateTensorInfo(S)),n.disposeIntermediateTensorInfo($),n.disposeIntermediateTensorInfo(x),w}let u=l.map(g=>{let $=[-1,E.sizeFromShape(g.shape.slice(i))];return _t({inputs:{x:g},backend:n,attrs:{shape:$}})}),d=u.map(g=>({vals:n.data.get(g.dataId).values,shape:g.shape}));s=A.computeOutShape(u.map(g=>g.shape),1);let p=u[0].shape[0]===1,f=t$(d,s,t[0].dtype,p),m=A.computeOutShape(l.map(g=>g.shape),i),h=n.makeTensorInfo(m,t[0].dtype,f);return u.forEach(g=>n.disposeIntermediateTensorInfo(g)),h}var V6={kernelName:ly,backendName:"cpu",kernelFunc:ta};function r1(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:s,pad:l,dataFormat:c,dilations:u,dimRoundingMode:d}=r;ce([o,i],"conv2d");let p=A.convertConv2DDataFormat(c),f=A.computeConv2DInfo(o.shape,i.shape,s,u,l,d,!1,p),m=f.filterHeight,h=f.filterWidth,g=f.dilationHeight,_=f.dilationWidth,$=f.padInfo.left,x=f.padInfo.top,w=f.dataFormat==="channelsLast",S=new zt(f.outShape,o.dtype),I=E.computeStrides(o.shape),F=E.computeStrides(i.shape),k=I[0],M=w?I[1]:I[2],O=w?I[2]:1,B=w?1:I[1],W=S.strides[0],V=w?S.strides[1]:S.strides[2],P=w?S.strides[2]:1,G=w?1:S.strides[1],Z=n.data.get(o.dataId).values,H=n.data.get(i.dataId).values,re=S.values;for(let te=0;te<f.batchSize;++te){let Y=te*k,se=te*W;for(let z=0;z<f.outHeight;++z){let ne=se+z*V,U=z*f.strideHeight-x;for(let ae=0;ae<m;++ae){let ge=U+ae*g;if(ge<0||ge>=f.inHeight)continue;let we=ae*F[0],Se=Y+ge*M;for(let Ie=0;Ie<f.outWidth;++Ie){let Ae=ne+Ie*P,Ne=Ie*f.strideWidth-$;for(let ut=0;ut<h;++ut){let At=Ne+ut*_;if(At<0||At>=f.inWidth)continue;let Gt=we+ut*F[1],Ut=Se+At*O,qt=Gt;for(let Ct=0;Ct<f.inChannels;++Ct){let Yt=Z[Ut+Ct*B];for(let un=0;un<f.outChannels;++un)re[Ae+un*G]+=Yt*H[qt+un];qt+=f.outChannels}}}}}}return n.makeTensorInfo(S.shape,S.dtype,re)}var H6={kernelName:cy,backendName:"cpu",kernelFunc:r1};function Pme(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:s,pad:l,dataFormat:c,dimRoundingMode:u,filterShape:d}=r;ce([o,i],"conv2dBackpropFilter");let p=A.convertConv2DDataFormat(c),f=A.computeConv2DInfo(o.shape,d,s,1,l,u,!1,p),{strideHeight:m,strideWidth:h,filterHeight:g,filterWidth:_}=f,$=f.dataFormat==="channelsLast",x=new zt(f.filterShape,"float32"),w=f.padInfo.left,S=f.padInfo.top,I=n.data.get(o.dataId).values,F=n.data.get(i.dataId).values,k=new zt(o.shape,o.dtype,I),M=new zt(i.shape,i.dtype,F);for(let O=0;O<g;++O){let B=Math.max(0,Math.ceil((S-O)/m)),W=Math.min(f.outHeight,(f.inHeight+S-O)/m);for(let V=0;V<_;++V){let P=Math.max(0,Math.ceil((w-V)/h)),G=Math.min(f.outWidth,(f.inWidth+w-V)/h);for(let Z=0;Z<f.inChannels;++Z)for(let H=0;H<f.outChannels;++H){let re=0;for(let te=0;te<f.batchSize;++te)for(let Y=B;Y<W;++Y){let se=O+Y*m-S;for(let z=P;z<G;++z){let ne=V+z*h-w;$?re+=k.get(te,se,ne,Z)*M.get(te,Y,z,H):re+=k.get(te,Z,se,ne)*M.get(te,H,Y,z)}}x.set(re,O,V,Z,H)}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}var G6={kernelName:uy,backendName:"cpu",kernelFunc:Pme};function Bme(e){let{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{inputShape:s,strides:l,pad:c,dataFormat:u,dimRoundingMode:d}=r;ce([o,i],"conv2dBackpropInput");let p=E.computeStrides(i.shape),f=E.computeStrides(o.shape),m=A.convertConv2DDataFormat(u),h=A.computeConv2DInfo(s,i.shape,l,1,c,d,!1,m),g=new zt(h.inShape,"float32"),_=g.values,$=n.data.get(o.dataId).values,x=n.data.get(i.dataId).values,[w,S,I]=p,{batchSize:F,filterHeight:k,filterWidth:M,inChannels:O,inHeight:B,inWidth:W,outChannels:V,outHeight:P,outWidth:G,strideHeight:Z,strideWidth:H}=h;m=h.dataFormat;let re=k-1-h.padInfo.top,te=M-1-h.padInfo.left,Y=m==="channelsLast",se=g.strides[0],z=Y?g.strides[1]:g.strides[2],ne=Y?g.strides[2]:1,U=Y?1:g.strides[1],ae=f[0],ge=Y?f[1]:f[2],we=Y?f[2]:1,Se=Y?1:f[1];for(let Ie=0;Ie<F;++Ie)for(let Ae=0;Ae<O;++Ae)for(let Ne=0;Ne<B;++Ne){let ut=Ne-re,At=Math.max(0,Math.ceil(ut/Z)),Gt=Math.min(P,(k+ut)/Z);for(let Ut=0;Ut<W;++Ut){let qt=Ut-te,Ct=Math.max(0,Math.ceil(qt/H)),Yt=Math.min(G,(M+qt)/H),un=0;for(let On=At;On<Gt;++On){let jr=On*Z-ut;for(let dr=Ct;dr<Yt;++dr){let Ro=dr*H-qt,Or=ae*Ie+ge*On+we*dr,Xn=w*(k-1-jr)+S*(M-1-Ro)+I*Ae;for(let Mt=0;Mt<V;++Mt){let io=$[Or+Se*Mt],jo=x[Xn+Mt];un+=io*jo}}}let Mo=se*Ie+z*Ne+ne*Ut+U*Ae;_[Mo]=un}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}var q6={kernelName:dy,backendName:"cpu",kernelFunc:Bme};function Lme(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:s,pad:l,dilations:c}=r;ce([o,i],"conv3d");let u=A.computeConv3DInfo(o.shape,i.shape,s,c,l),{filterDepth:d,filterHeight:p,filterWidth:f,dilationDepth:m,dilationHeight:h,dilationWidth:g,padInfo:_}=u,$=_.front,x=_.left,w=_.top,S=new zt(u.outShape,o.dtype),I=n.data.get(o.dataId).values,F=n.data.get(i.dataId).values,k=S.values,M=E.computeStrides(o.shape),O=E.computeStrides(i.shape);for(let B=0;B<u.batchSize;++B){let W=B*M[0],V=B*S.strides[0];for(let P=0;P<u.outDepth;++P){let G=V+P*S.strides[1],Z=P*u.strideDepth-$;for(let H=0;H<d;++H){let re=Z+H*m;if(re<0||re>=u.inDepth)continue;let te=H*O[0],Y=W+re*M[1];for(let se=0;se<u.outHeight;++se){let z=G+se*S.strides[2],ne=se*u.strideHeight-w;for(let U=0;U<p;++U){let ae=ne+U*h;if(ae<0||ae>=u.inHeight)continue;let ge=te+U*O[1],we=Y+ae*M[2];for(let Se=0;Se<u.outWidth;++Se){let Ie=z+Se*u.outChannels,Ae=Se*u.strideWidth-x;for(let Ne=0;Ne<f;++Ne){let ut=Ae+Ne*g;if(ut<0||ut>=u.inWidth)continue;let At=ge+Ne*O[2],Gt=we+ut*u.inChannels,Ut=At;for(let qt=0;qt<u.inChannels;++qt){let Ct=I[Gt+qt];for(let Yt=0;Yt<u.outChannels;++Yt)k[Ie+Yt]+=Ct*F[Ut+Yt];Ut+=u.outChannels}}}}}}}}return n.makeTensorInfo(S.shape,S.dtype,S.values)}var K6={kernelName:py,backendName:"cpu",kernelFunc:Lme};function Ume(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:s,pad:l,filterShape:c}=r;ce([o,i],"conv3dBackpropFilterV2");let u=E.computeStrides(o.shape),d=E.computeStrides(i.shape),p=A.computeConv3DInfo(o.shape,c,s,1,l),f=p.strideDepth,m=p.strideHeight,h=p.strideWidth,g=p.filterDepth,_=p.filterHeight,$=p.filterWidth,x=new zt(p.filterShape,"float32"),w=x.values,[S,I,F,k]=x.strides,M=n.data.get(i.dataId).values,[O,B,W,V]=d,P=n.data.get(o.dataId).values,[G,Z,H,re]=u,te=p.padInfo.front,Y=p.padInfo.left,se=p.padInfo.top;for(let z=0;z<g;++z){let ne=Math.max(0,Math.ceil((te-z)/f)),U=Math.min(p.outDepth,(p.inDepth+te-z)/f),ae=z*S;for(let ge=0;ge<_;++ge){let we=Math.max(0,Math.ceil((se-ge)/m)),Se=Math.min(p.outHeight,(p.inHeight+se-ge)/m),Ie=ge*I+ae;for(let Ae=0;Ae<$;++Ae){let Ne=Math.max(0,Math.ceil((Y-Ae)/h)),ut=Math.min(p.outWidth,(p.inWidth+Y-Ae)/h),At=Ae*F+Ie;for(let Gt=0;Gt<p.inChannels;++Gt){let Ut=Gt*k+At;for(let qt=0;qt<p.outChannels;++qt){let Ct=0;for(let Yt=0;Yt<p.batchSize;++Yt){let un=Yt*G,Mo=Yt*O;for(let On=ne;On<U;++On){let dr=(z+On*f-te)*Z+un,Ro=On*B+Mo;for(let Or=we;Or<Se;++Or){let Mt=(ge+Or*m-se)*H+dr,io=Or*W+Ro;for(let jo=Ne;jo<ut;++jo){let so=(Ae+jo*h-Y)*re+Mt,ki=jo*V+io;Ct+=P[so+Gt]*M[ki+qt]}}}}w[Ut+qt]=Ct}}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}var X6={kernelName:fy,backendName:"cpu",kernelFunc:Ume};function Wme(e){let{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{pad:s,strides:l,inputShape:c}=r;ce([o],"conv3dBackpropInputV2");let u=E.computeStrides(o.shape),d=E.computeStrides(i.shape),p=A.computeConv3DInfo(c,i.shape,l,1,s),f=new zt(p.inShape,"float32"),m=f.values,[h,g,_,$]=f.strides,x=n.data.get(o.dataId).values,[w,S,I,F]=u,k=n.data.get(i.dataId).values,[M,O,B,W]=d,{batchSize:V,filterDepth:P,filterHeight:G,filterWidth:Z,inChannels:H,inDepth:re,inHeight:te,inWidth:Y,outChannels:se,outDepth:z,outHeight:ne,outWidth:U,strideDepth:ae,strideHeight:ge,strideWidth:we}=p,Se=P-1-p.padInfo.front,Ie=G-1-p.padInfo.top,Ae=Z-1-p.padInfo.left;for(let Ne=0;Ne<V;++Ne)for(let ut=0;ut<H;++ut)for(let At=0;At<re;++At){let Gt=At-Se,Ut=Math.max(0,Math.ceil(Gt/ae)),qt=Math.min(z,(P+Gt)/ae);for(let Ct=0;Ct<te;++Ct){let Yt=Ct-Ie,un=Math.max(0,Math.ceil(Yt/ge)),Mo=Math.min(ne,(G+Yt)/ge);for(let On=0;On<Y;++On){let jr=On-Ae,dr=Math.max(0,Math.ceil(jr/we)),Ro=Math.min(U,(Z+jr)/we),Or=0;for(let Xn=Ut;Xn<qt;++Xn){let Mt=Xn*ae-Gt;for(let io=un;io<Mo;++io){let jo=io*ge-Yt;for(let Fi=dr;Fi<Ro;++Fi){let so=Fi*we-jr,ki=w*Ne+S*Xn+I*io+F*Fi,Wf=M*(P-1-Mt)+O*(G-1-jo)+B*(Z-1-so)+W*ut;for(let ao=0;ao<se;++ao){let zf=x[ki+ao],Vf=k[Wf+ao];Or+=zf*Vf}}}}m[h*Ne+g*At+_*Ct+$*On+ut]=Or}}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}var Y6={kernelName:my,backendName:"cpu",kernelFunc:Wme};var zme=Pe(Dp,e=>Math.cos(e)),Z6={kernelName:Dp,backendName:"cpu",kernelFunc:zme};var Vme=Pe(Fp,e=>Math.cosh(e)),Q6={kernelName:Fp,backendName:"cpu",kernelFunc:Vme};function Hme(e){let{inputs:t,backend:n,attrs:r}=e,{image:o,boxes:i,boxInd:s}=t,{cropSize:l,method:c,extrapolationValue:u}=r,[d,p,f,m]=o.shape,h=i.shape[0],[g,_]=l,$=We([h,g,_,m],"float32"),x=n.data.get(i.dataId).values,w=n.data.get(s.dataId).values,S=n.data.get(o.dataId).values,I=E.computeStrides(o.shape),F=E.computeStrides($.shape);for(let k=0;k<h;k++){let M=k*4,O=x[M],B=x[M+1],W=x[M+2],V=x[M+3],P=w[k];if(P>=d)continue;let G=g>1?(W-O)*(p-1)/(g-1):0,Z=_>1?(V-B)*(f-1)/(_-1):0;for(let H=0;H<g;H++){let re=g>1?O*(p-1)+H*G:.5*(O+W)*(p-1);if(re<0||re>p-1){for(let te=0;te<_;te++)for(let Y=0;Y<m;Y++){let se=Y+te*F[2]+H*F[1]+k*F[0];$.values[se]=u}continue}if(c==="bilinear"){let te=Math.floor(re),Y=Math.ceil(re),se=re-te;for(let z=0;z<_;z++){let ne=_>1?B*(f-1)+z*Z:.5*(B+V)*(f-1);if(ne<0||ne>f-1){for(let we=0;we<m;we++){let Se=we+z*F[2]+H*F[1]+k*F[0];$.values[Se]=u}continue}let U=Math.floor(ne),ae=Math.ceil(ne),ge=ne-U;for(let we=0;we<m;we++){let Se=we+U*I[2]+te*I[1]+P*I[0],Ie=S[Se];Se=we+ae*I[2]+te*I[1]+P*I[0];let Ae=S[Se];Se=we+U*I[2]+Y*I[1]+P*I[0];let Ne=S[Se];Se=we+ae*I[2]+Y*I[1]+P*I[0];let ut=S[Se],At=Ie+(Ae-Ie)*ge,Gt=Ne+(ut-Ne)*ge;Se=we+z*F[2]+H*F[1]+k*F[0],$.values[Se]=At+(Gt-At)*se}}}else for(let te=0;te<_;++te){let Y=_>1?B*(f-1)+te*Z:.5*(B+V)*(f-1);if(Y<0||Y>f-1){for(let ne=0;ne<m;ne++){let U=ne+te*F[2]+H*F[1]+k*F[0];$.values[U]=u}continue}let se=Math.round(Y),z=Math.round(re);for(let ne=0;ne<m;ne++){let U=ne+se*I[2]+z*I[1]+P*I[0],ae=ne+te*F[2]+H*F[1]+k*F[0];$.values[ae]=S[U]}}}}return n.makeTensorInfo($.shape,$.dtype,$.values)}var J6={kernelName:gy,backendName:"cpu",kernelFunc:Hme};function Gme(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,exclusive:s,reverse:l}=r;ce(o,"cumsum");let c=A.getAxesPermutation([i],o.shape.length),u=o;c!=null&&(u=Sn({inputs:{x:o},backend:n,attrs:{perm:c}}));let d=A.getInnerMostAxes(1,o.shape.length)[0];if(d!==u.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${d}`);let p=Rn(u.dtype,"int32"),f=E.makeZerosTypedArray(E.sizeFromShape(u.shape),p),m=n.data.get(u.dataId).values,h=u.shape[u.shape.length-1],g=l?($,x)=>$+h-x-1:($,x)=>$+x;for(let $=0;$<m.length;$+=h)for(let x=0;x<h;x++){let w=g($,x);if(x===0)f[w]=s?0:m[w];else{let S=g($,x-1);f[w]=s?m[S]+f[S]:m[w]+f[S]}}let _=n.makeTensorInfo(u.shape,p,f);if(c!=null){let $=A.getUndoAxesPermutation(c),x=Sn({inputs:{x:_},backend:n,attrs:{perm:$}});return n.disposeIntermediateTensorInfo(_),n.disposeIntermediateTensorInfo(u),x}return _}var eH={kernelName:hy,backendName:"cpu",kernelFunc:Gme};function qme(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,weights:i}=t,{size:s,binaryOutput:l}=r;if(o.shape.length===1){let c=n.data.get(o.dataId).values,u=n.data.get(i.dataId).values,d=bu(c,u,i.dtype,i.shape,s);return n.makeTensorInfo([s],i.dtype,d)}else if(o.shape.length===2){let c=n.bufferSync(o),u=n.bufferSync(i),d=e$(c,u,s,l);return n.makeTensorInfo(d.shape,i.dtype,d.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${o.shape.length}.`)}var tH={kernelName:by,backendName:"cpu",kernelFunc:qme};function Kme(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockSize:i,dataFormat:s}=r;E.assert(s==="NHWC",()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${s}`);let l=o.shape[0],c=o.shape[1],u=o.shape[2],d=o.shape[3],p=c*i,f=u*i,m=d/(i*i),h=n.data.get(o.dataId).values,g=new Float32Array(l*p*f*m),_=0;for(let $=0;$<l;++$)for(let x=0;x<p;++x){let w=Math.floor(x/i),S=x%i;for(let I=0;I<f;++I){let F=Math.floor(I/i),k=I%i,M=(S*i+k)*m;for(let O=0;O<m;++O){let W=O+M+d*(F+u*(w+c*$));g[_++]=h[W]}}}return n.makeTensorInfo([l,p,f,m],o.dtype,g)}var nH={kernelName:yy,backendName:"cpu",kernelFunc:Kme};function o1(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:s,pad:l,dilations:c,dimRoundingMode:u}=r;ce([o,i],"depthwiseConv2DNative");let d=E.computeStrides(o.shape),p=E.computeStrides(i.shape),f=c;f==null&&(f=[1,1]),E.assert(A.eitherStridesOrDilationsAreOne(s,f),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${s} and dilations '${f}'`);let m=A.computeConv2DInfo(o.shape,i.shape,s,f,l,u,!0),{filterHeight:h,filterWidth:g,dilationHeight:_,dilationWidth:$,padInfo:x}=m,w=x.left,S=x.top,I=m.outChannels/m.inChannels,F=new zt(m.outShape,o.dtype),k=n.data.get(o.dataId).values,M=n.data.get(i.dataId).values,O=F.values;for(let B=0;B<m.batchSize;++B){let W=B*d[0],V=B*F.strides[0];for(let P=0;P<m.outHeight;++P){let G=V+P*F.strides[1],Z=P*m.strideHeight-S;for(let H=0;H<h;++H){let re=Z+H*_;if(re<0||re>=m.inHeight)continue;let te=H*p[0],Y=W+re*d[1];for(let se=0;se<m.outWidth;++se){let z=G+se*F.strides[2],ne=se*m.strideWidth-w;for(let U=0;U<g;++U){let ae=ne+U*$;if(ae<0||ae>=m.inWidth)continue;let ge=te+U*p[1],we=Y+ae*m.inChannels,Se=z,Ie=ge;for(let Ae=0;Ae<m.inChannels;++Ae){let Ne=k[we+Ae];for(let ut=0;ut<I;++ut)O[Se+ut]+=Ne*M[Ie+ut];Se+=I,Ie+=I}}}}}}return n.makeTensorInfo(F.shape,F.dtype,F.values)}var rH={kernelName:_y,backendName:"cpu",kernelFunc:o1};function Xme(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:s,dilations:l,pad:c,dimRoundingMode:u,filterShape:d}=r;ce([o,i],"depthwiseConv2dNativeBackpropFilter");let p=A.computeConv2DInfo(o.shape,d,s,l,c,u,!0),{strideHeight:f,strideWidth:m,filterHeight:h,filterWidth:g}=p,_=new zt(p.filterShape,"float32"),$=p.padInfo.left,x=p.padInfo.top,w=p.outChannels/p.inChannels,S=n.data.get(o.dataId).values,I=new zt(o.shape,o.dtype,S),F=n.data.get(i.dataId).values,k=new zt(i.shape,i.dtype,F);for(let M=0;M<h;++M){let O=Math.max(0,Math.ceil((x-M)/f)),B=Math.min(p.outHeight,(p.inHeight+x-M)/f);for(let W=0;W<g;++W){let V=Math.max(0,Math.ceil(($-W)/m)),P=Math.min(p.outWidth,(p.inWidth+$-W)/m);for(let G=0;G<p.outChannels;++G){let Z=Math.trunc(G/w),H=G%w,re=0;for(let te=0;te<p.batchSize;++te)for(let Y=O;Y<B;++Y){let se=M+Y*f-x;for(let z=V;z<P;++z){let ne=W+z*m-$;re+=I.get(te,se,ne,Z)*k.get(te,Y,z,G)}}_.set(re,M,W,Z,H)}}}return n.makeTensorInfo(_.shape,_.dtype,_.values)}var oH={kernelName:$y,backendName:"cpu",kernelFunc:Xme};function Yme(e){let{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{strides:s,dilations:l,pad:c,dimRoundingMode:u,inputShape:d}=r;ce([o,i],"depthwiseConv2DNativeBackpropInput");let p=E.computeStrides(o.shape),f=E.computeStrides(i.shape),m=A.computeConv2DInfo(d,i.shape,s,l,c,u,!0),h=new zt(m.inShape,"float32"),g=h.values,[_,$,x]=h.strides,w=n.data.get(o.dataId).values,[S,I,F]=p,k=n.data.get(i.dataId).values,[M,O,B]=f,{batchSize:W,filterHeight:V,filterWidth:P,inChannels:G,inHeight:Z,inWidth:H,outChannels:re,outHeight:te,outWidth:Y,strideHeight:se,strideWidth:z}=m,ne=V-1-m.padInfo.top,U=P-1-m.padInfo.left,ae=re/G;for(let ge=0;ge<W;++ge)for(let we=0;we<G;++we)for(let Se=0;Se<Z;++Se){let Ie=Se-ne,Ae=Math.max(0,Math.ceil(Ie/se)),Ne=Math.min(te,(V+Ie)/se);for(let ut=0;ut<H;++ut){let At=ut-U,Gt=Math.max(0,Math.ceil(At/z)),Ut=Math.min(Y,(P+At)/z),qt=0;for(let Ct=Ae;Ct<Ne;++Ct){let Yt=Ct*se-Ie;for(let un=Gt;un<Ut;++un){let Mo=un*z-At,On=S*ge+I*Ct+F*un,jr=M*(V-1-Yt)+O*(P-1-Mo)+B*we;for(let dr=0;dr<ae;++dr){let Ro=we*ae+dr,Or=w[On+Ro],Xn=k[jr+dr];qt+=Or*Xn}}}g[_*ge+$*Se+x*ut+we]=qt}}return n.makeTensorInfo(h.shape,h.dtype,h.values)}var iH={kernelName:xy,backendName:"cpu",kernelFunc:Yme};function Zme(e){let{inputs:t,backend:n}=e,{x:r}=t,o=E.sizeFromShape(r.shape),i=n.data.get(r.dataId).values,s=We([o,o],r.dtype),l=s.values;for(let u=0;u<i.length;u++)l[u*o+u]=i[u];let c=[...r.shape,...r.shape];return n.makeTensorInfo(c,s.dtype,s.values)}var sH={kernelName:vy,backendName:"cpu",kernelFunc:Zme};var aH={kernelName:wy,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{let{x:r,filter:o}=e,{strides:i,pad:s,dilations:l}=n,c=t,u=c.data.get(r.dataId).values,d=r.shape.length,p=c.data.get(o.dataId).values,f=o.shape.length,{batchSize:m,inHeight:h,inWidth:g,inChannels:_,outHeight:$,outWidth:x,padInfo:w,strideHeight:S,strideWidth:I,filterHeight:F,filterWidth:k,dilationHeight:M,dilationWidth:O,outShape:B}=A.computeDilation2DInfo(r.shape,o.shape,i,s,"NHWC",l),W=E.sizeFromShape(B),V=B.length,P=E.getArrayFromDType(r.dtype,W);for(let Z=0;Z<m;++Z)for(let H=0;H<$;++H){let re=H*S-w.top;for(let te=0;te<x;++te){let Y=te*I-w.left;for(let se=0;se<_;++se){let z=Number.MIN_SAFE_INTEGER;for(let U=0;U<F;++U){let ae=re+U*M;if(ae>=0&&ae<h)for(let ge=0;ge<k;++ge){let we=Y+ge*O;if(we>=0&&we<g){let Se=E.locToIndex([Z,ae,we,se],d,E.computeStrides(r.shape)),Ie=E.locToIndex([U,ge,se],f,E.computeStrides(o.shape)),Ae=u[Se]+p[Ie];Ae>z&&(z=Ae)}}}let ne=E.locToIndex([Z,H,te,se],V,E.computeStrides(B));P[ne]=z}}}return{dataId:c.write(E.toTypedArray(P,r.dtype),B,r.dtype),shape:B,dtype:r.dtype}}};var lH={kernelName:LE,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{let{x:r,filter:o,dy:i}=e,{strides:s,pad:l,dilations:c}=n,u=t,d=E.toNestedArray(r.shape,u.data.get(r.dataId).values),p=E.toNestedArray(o.shape,u.data.get(o.dataId).values),{batchSize:f,inHeight:m,inWidth:h,inChannels:g,outHeight:_,outWidth:$,padInfo:x,strideHeight:w,strideWidth:S,filterHeight:I,filterWidth:F,dilationHeight:k,dilationWidth:M,outShape:O}=A.computeDilation2DInfo(r.shape,o.shape,s,l,"NHWC",c);E.assert(i.rank===O.length,()=>`Error in ${LE}, dy must have the same rank as output ${O.length}, but got ${i.rank}`);let B=E.toNestedArray(O,u.data.get(i.dataId).values),W=E.makeZerosNestedTypedArray(o.shape,o.dtype);for(let P=0;P<f;++P)for(let G=0;G<_;++G){let Z=G*w-x.top;for(let H=0;H<$;++H){let re=H*S-x.left;for(let te=0;te<g;++te){let Y=Number.MIN_SAFE_INTEGER,se=0,z=0;for(let ne=0;ne<I;++ne){let U=Z+ne*k;if(U>=0&&U<m)for(let ae=0;ae<F;++ae){let ge=re+ae*M;if(ge>=0&&ge<h){let we=d[P][U][ge][te]+p[ne][ae][te];we>Y&&(Y=we,se=ne,z=ae)}}}W[se][z][te]+=B[P][G][H][te]}}}return{dataId:u.write(E.toTypedArray(W,r.dtype),o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}};var cH={kernelName:BE,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{let{x:r,filter:o,dy:i}=e,{strides:s,pad:l,dilations:c}=n,u=t,d=E.toNestedArray(r.shape,u.data.get(r.dataId).values),p=E.toNestedArray(o.shape,u.data.get(o.dataId).values),{batchSize:f,inHeight:m,inWidth:h,inChannels:g,outHeight:_,outWidth:$,padInfo:x,strideHeight:w,strideWidth:S,filterHeight:I,filterWidth:F,dilationHeight:k,dilationWidth:M,outShape:O}=A.computeDilation2DInfo(r.shape,o.shape,s,l,"NHWC",c);E.assert(i.rank===O.length,()=>`Error in ${BE}, dy must have the same rank as output ${O.length}, but got ${i.rank}`);let B=E.toNestedArray(O,u.data.get(i.dataId).values),W=E.makeZerosNestedTypedArray(r.shape,r.dtype);for(let P=0;P<f;++P)for(let G=0;G<_;++G){let Z=G*w-x.top;for(let H=0;H<$;++H){let re=H*S-x.left;for(let te=0;te<g;++te){let Y=Number.MIN_SAFE_INTEGER,se=Z<0?0:Z,z=re<0?0:re;for(let ne=0;ne<I;++ne){let U=Z+ne*k;if(U>=0&&U<m)for(let ae=0;ae<F;++ae){let ge=re+ae*M;if(ge>=0&&ge<h){let we=d[P][U][ge][te]+p[ne][ae][te];we>Y&&(Y=we,se=U,z=ge)}}}W[P][se][z][te]+=B[P][G][H][te]}}}return{dataId:u.write(E.toTypedArray(W,r.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};function is(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:s}=r;ce(o,"sum");let l;o.dtype==="bool"?l=To({inputs:{x:o},backend:n,attrs:{dtype:"int32"}}):l=tr({inputs:{x:o},backend:n});let c=l.shape.length,u=E.parseAxisParam(i,l.shape),d=A.getAxesPermutation(u,c),p=u,f=l;d!=null&&(f=Sn({inputs:{x:l},backend:n,attrs:{perm:d}}),p=A.getInnerMostAxes(p.length,c)),A.assertAxesAreInnerMostDims("sum",p,f.shape.length);let[m,h]=A.computeOutAndReduceShapes(f.shape,p),g=A.upcastType(f.dtype,"int32"),_=hu(n,m,g),$=E.sizeFromShape(h),x=n.data.get(_.dataId).values,w=n.data.get(f.dataId).values;for(let S=0;S<x.length;++S){let I=S*$,F=0;for(let k=0;k<$;++k)F+=w[I+k];x[S]=F}if(s){let S=A.expandShapeToKeepDim(_.shape,u),I=_;_=_t({inputs:{x:_},backend:n,attrs:{shape:S}}),n.disposeIntermediateTensorInfo(I)}return n.disposeIntermediateTensorInfo(l),d!=null&&n.disposeIntermediateTensorInfo(f),_}var uH={kernelName:iu,backendName:"cpu",kernelFunc:is};function Qme(e){let{inputs:t,backend:n,attrs:r}=e,{equation:o}=r,i=t,{allDims:s,summedDims:l,idDims:c}=A.decodeEinsumEquation(o,i.length);A.checkEinsumDimSizes(s.length,c,i);let{path:u,steps:d}=A.getEinsumComputePath(l,c),p=d.length,f=null,m=s.length,h=[];for(let g=0;g<p;++g){for(let _ of d[g]){let{permutationIndices:$,expandDims:x}=A.getEinsumPermutation(m,c[_]),w;A.isIdentityPermutation($)?w=i[_]:(w=Sn({inputs:{x:i[_]},backend:n,attrs:{perm:$}}),h.push(w));let S=w.shape.slice();for(let I=0;I<x.length;++I)S.splice(x[I],0,1);E.arraysEqual(w.shape,S)||(w=_t({inputs:{x:w},backend:n,attrs:{shape:S}}),h.push(w)),f===null?f=w:(f=xl({inputs:{a:w,b:f},backend:n}),h.push(f))}g<p-1&&(u[g]>=0&&(f=is({inputs:{x:f},backend:n,attrs:{axis:u[g]-(s.length-m),keepDims:!1}}),h.push(f)),m--)}for(let g of h)g!==f&&n.disposeIntermediateTensorInfo(g);return f}var dH={kernelName:Sy,backendName:"cpu",kernelFunc:Qme};function Jme(e){let{inputs:t,backend:n}=e,{dy:r,y:o}=t;ce([r,o],"eluGrad");let i=new Float32Array(E.sizeFromShape(o.shape)),s=n.data.get(o.dataId).values,l=n.data.get(r.dataId).values;for(let c=0;c<s.length;++c){let u=s[c];u>=1?i[c]=l[c]:i[c]=l[c]*(u+1)}return n.makeTensorInfo(o.shape,"float32",i)}var pH={kernelName:Cy,backendName:"cpu",kernelFunc:Jme};var ehe=A.ERF_P,the=A.ERF_A1,nhe=A.ERF_A2,rhe=A.ERF_A3,ohe=A.ERF_A4,ihe=A.ERF_A5,she=Pe(Ap,e=>{let t=Math.sign(e),n=Math.abs(e),r=1/(1+ehe*n);return t*(1-((((ihe*r+ohe)*r+rhe)*r+nhe)*r+the)*r*Math.exp(-n*n))}),fH={kernelName:Ap,backendName:"cpu",kernelFunc:she};function vu(e){let{inputs:t,backend:n,attrs:r}=e,{input:o}=t,{dim:i}=r,s=o.shape.length,l=o.shape.slice(),c=i;return i<0&&(E.assert(-(s+1)<=i,()=>`Axis must be in the interval [${-(s+1)}, ${s}]`),c=s+i+1),l.splice(c,0,1),_t({inputs:{x:o},backend:n,attrs:{shape:l}})}var mH={kernelName:Iy,backendName:"cpu",kernelFunc:vu};var ahe=ht((e,t)=>e/t),Sf=St(kp,ahe),Cf={kernelName:kp,backendName:"cpu",kernelFunc:Sf};function y$(e,t,n){let r=e.shape,o=r[0],i=r[1],s=n.data.get(e.dataId),l=s.complexTensorInfos.real,c=s.complexTensorInfos.imag,u=[o,i],d=E.sizeFromShape(u),p=E.getTypedArrayFromDType("float32",d),f=E.getTypedArrayFromDType("float32",d);for(let _=0;_<o;_++){let $=Fo({inputs:{x:l},backend:n,attrs:{begin:[_,0],size:[1,i]}}),x=Fo({inputs:{x:c},backend:n,attrs:{begin:[_,0],size:[1,i]}}),w=jn({inputs:{real:$,imag:x},backend:n}),{real:S,imag:I}=lhe(w,t,n),F=A.mergeRealAndImagArrays(S,I);for(let k=0;k<i;k++){let M=A.getComplexWithIndex(F,k);p[_*i+k]=M.real,f[_*i+k]=M.imag}n.disposeIntermediateTensorInfo($),n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(w)}let m=n.makeTensorInfo(u,"float32",p),h=n.makeTensorInfo(u,"float32",f),g=jn({inputs:{real:m,imag:h},backend:n});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(h),g}function lhe(e,t,n){let r=E.sizeFromShape(e.shape),o=n.data.get(e.dataId),i=n.data.get(o.complexTensorInfos.real.dataId).values,s=n.data.get(o.complexTensorInfos.imag.dataId).values;if(che(r)){let l=i1(i,s,r,t,n),c=[e.shape[0],e.shape[1]];if(t){let u=n.makeTensorInfo(c,"float32",l.real),d=n.makeTensorInfo(c,"float32",l.imag),p=n.makeTensorInfo([],"float32",E.createScalarValue(r,"float32")),f=tr({inputs:{x:p},backend:n}),m=Cf.kernelFunc({inputs:{a:u,b:p},backend:n}),h=Cf.kernelFunc({inputs:{a:d,b:f},backend:n}),g=n.data.get(m.dataId).values,_=n.data.get(h.dataId).values;return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(h),{real:g,imag:_}}return l}else{let l=A.mergeRealAndImagArrays(i,s),c=uhe(l,r,t);return A.splitRealAndImagArrays(c)}}function che(e){return(e&e-1)===0}function i1(e,t,n,r,o){if(n===1)return{real:e,imag:t};let i=A.mergeRealAndImagArrays(e,t),s=n/2,l=A.complexWithEvenIndex(i),c=l.real,u=l.imag,d=[c.length],p=o.makeTensorInfo(d,"float32",c),f=o.makeTensorInfo(d,"float32",u),m=jn({inputs:{real:p,imag:f},backend:o}),h=A.complexWithOddIndex(i),g=h.real,_=h.imag,$=[g.length],x=o.makeTensorInfo($,"float32",g),w=o.makeTensorInfo($,"float32",_),S=jn({inputs:{real:x,imag:w},backend:o}),I=i1(c,u,s,r,o),F=I.real,k=I.imag,M=[F.length],O=o.makeTensorInfo(M,"float32",F),B=o.makeTensorInfo(M,"float32",k),W=jn({inputs:{real:O,imag:B},backend:o}),V=i1(g,_,s,r,o),P=V.real,G=V.imag,Z=[P.length],H=o.makeTensorInfo(Z,"float32",P),re=o.makeTensorInfo(Z,"float32",G),te=jn({inputs:{real:H,imag:re},backend:o}),Y=A.exponents(n,r),se=[Y.real.length],z=o.makeTensorInfo(se,"float32",Y.real),ne=o.makeTensorInfo(se,"float32",Y.imag),U=jn({inputs:{real:z,imag:ne},backend:o}),ae=xl({inputs:{a:U,b:te},backend:o}),ge=os({inputs:{a:W,b:ae},backend:o}),we=vf({inputs:{a:W,b:ae},backend:o}),Se=Eo({inputs:{input:ge},backend:o}),Ie=Eo({inputs:{input:we},backend:o}),Ae=Ei({inputs:{input:ge},backend:o}),Ne=Ei({inputs:{input:we},backend:o}),ut=ta({inputs:[Se,Ie],backend:o,attrs:{axis:0}}),At=ta({inputs:[Ae,Ne],backend:o,attrs:{axis:0}}),Gt=o.data.get(ut.dataId).values,Ut=o.data.get(At.dataId).values;return o.disposeIntermediateTensorInfo(p),o.disposeIntermediateTensorInfo(f),o.disposeIntermediateTensorInfo(m),o.disposeIntermediateTensorInfo(x),o.disposeIntermediateTensorInfo(w),o.disposeIntermediateTensorInfo(S),o.disposeIntermediateTensorInfo(O),o.disposeIntermediateTensorInfo(B),o.disposeIntermediateTensorInfo(W),o.disposeIntermediateTensorInfo(H),o.disposeIntermediateTensorInfo(re),o.disposeIntermediateTensorInfo(te),o.disposeIntermediateTensorInfo(z),o.disposeIntermediateTensorInfo(ne),o.disposeIntermediateTensorInfo(U),o.disposeIntermediateTensorInfo(ae),o.disposeIntermediateTensorInfo(ge),o.disposeIntermediateTensorInfo(we),o.disposeIntermediateTensorInfo(Se),o.disposeIntermediateTensorInfo(Ae),o.disposeIntermediateTensorInfo(Ie),o.disposeIntermediateTensorInfo(Ne),o.disposeIntermediateTensorInfo(ut),o.disposeIntermediateTensorInfo(At),{real:Gt,imag:Ut}}function uhe(e,t,n){let r=new Float32Array(t*2);for(let o=0;o<t;o++){let i=0,s=0;for(let l=0;l<t;l++){let c=A.exponent(o*l,t,n),u=A.getComplexWithIndex(e,l);i+=u.real*c.real-u.imag*c.imag,s+=u.real*c.imag+u.imag*c.real}n&&(i/=t,s/=t),A.assignToTypedArray(r,i,s,o)}return r}function dhe(e){let{inputs:t,backend:n}=e,{input:r}=t,o=E.sizeFromShape(r.shape),i=r.shape[r.shape.length-1],s=o/i,l=_t({inputs:{x:r},backend:n,attrs:{shape:[s,i]}}),c=y$(l,!1,n),u=_t({inputs:{x:c},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(c),u}var hH={kernelName:Ey,backendName:"cpu",kernelFunc:dhe};function If(e){let{backend:t,attrs:n}=e,{shape:r,value:o,dtype:i}=n,s=i||E.inferDtype(o),l=E.getArrayFromDType(s,E.sizeFromShape(r));return phe(l,o,s),t.makeTensorInfo(r,s,l)}var gH={kernelName:Ty,backendName:"cpu",kernelFunc:If};function phe(e,t,n){e.fill(t)}var bH={kernelName:Dy,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{let{image:r}=e,o=n,i=E.getTypedArrayFromDType(r.dtype,E.sizeFromShape(r.shape)),[s,l,c,u]=r.shape,d=o.data.get(r.dataId).values;for(let f=0;f<s;f++){let m=f*c*l*u;for(let h=0;h<l;h++){let g=h*(c*u);for(let _=0;_<c;_++){let $=_*u;for(let x=0;x<u;x++){let w=Math.round(c-_-1),S=m+g+$+x,I=d[S];if(w>=0&&w<c){let F=w*u,k=m+g+F+x;I=d[k]}i[S]=I}}}}return{dataId:o.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};var fhe=ht((e,t)=>Math.floor(e/t)),mhe=St(Np,fhe,null,"int32"),yH={kernelName:Np,backendName:"cpu",kernelFunc:mhe};function hhe(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i,bias:s,preluActivationWeights:l}=t,{strides:c,pad:u,dataFormat:d,dilations:p,dimRoundingMode:f,activation:m,leakyreluAlpha:h}=r,g=r1({inputs:{x:o,filter:i},backend:n,attrs:{strides:c,pad:u,dataFormat:d,dilations:p,dimRoundingMode:f}});if(s){let _=g;g=os({inputs:{a:g,b:s},backend:n}),n.disposeIntermediateTensorInfo(_)}if(m){let _=g;g=$u(n,g,m,l,h),n.disposeIntermediateTensorInfo(_)}return g}var _H={kernelName:O_,backendName:"cpu",kernelFunc:hhe};function ghe(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i,bias:s,preluActivationWeights:l}=t,{strides:c,pad:u,dataFormat:d,dilations:p,dimRoundingMode:f,activation:m,leakyreluAlpha:h}=r,g=o1({inputs:{x:o,filter:i},backend:n,attrs:{strides:c,pad:u,dataFormat:d,dilations:p,dimRoundingMode:f}});if(s){let _=g;g=os({inputs:{a:g,b:s},backend:n}),n.disposeIntermediateTensorInfo(_)}if(m){let _=g;g=$u(n,g,m,l,h),n.disposeIntermediateTensorInfo(_)}return g}var $H={kernelName:N_,backendName:"cpu",kernelFunc:ghe};function bhe(e){let{inputs:t,backend:n}=e,{params:r,indices:o}=t,i=E.sizeFromShape(r.shape),s=o.shape,l=s[s.length-1],[c,u,d,p]=A.prepareAndValidate(r,o);if(u===0)return n.makeTensorInfo(c,r.dtype,[]);let f=n.data.get(o.dataId).values,m=n.bufferSync(r),h=n$(f,m,r.dtype,u,l,d,p,r.shape,i);return n.makeTensorInfo(c,r.dtype,h.values)}var xH={kernelName:Ay,backendName:"cpu",kernelFunc:bhe};function yhe(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,indices:i}=t,{axis:s,batchDims:l}=r;ce([o,i],"gatherV2");let c=E.parseAxisParam(s,o.shape)[0],u=n.data.get(i.dataId).values,d=o.shape[c];for(let S=0;S<u.length;++S){let I=u[S];E.assert(I<=d-1&&I>=0,()=>`GatherV2: the index value ${I} is not in [0, ${d-1}]`)}let p=l;l==null&&(p=0);let f=E.sizeFromShape(i.shape),m=A.segment_util.collectGatherOpShapeInfo(o,i,c,p),h=_t({inputs:{x:o},backend:n,attrs:{shape:[m.batchSize,m.outerSize,m.dimSize,m.sliceSize]}}),g=_t({inputs:{x:i},backend:n,attrs:{shape:[m.batchSize,f/m.batchSize]}}),_=[m.batchSize,m.outerSize,f/m.batchSize,m.sliceSize],$=n.bufferSync(g),x=n.bufferSync(h),w=r$(x,$,_);return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(g),n.makeTensorInfo(m.outputShape,w.dtype,w.values)}var vH={kernelName:ky,backendName:"cpu",kernelFunc:yhe};function _he(e){let{inputs:t,backend:n}=e,{input:r}=t,o=E.sizeFromShape(r.shape),i=r.shape[r.shape.length-1],s=o/i,l=_t({inputs:{x:r},backend:n,attrs:{shape:[s,i]}}),c=y$(l,!0,n),u=_t({inputs:{x:c},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(c),u}var wH={kernelName:My,backendName:"cpu",kernelFunc:_he};var $he=Pe(Lp,e=>Number.isFinite(e)?1:0,"bool"),SH={kernelName:Lp,backendName:"cpu",kernelFunc:$he};var xhe=Pe(Up,e=>Math.abs(e)===1/0?1:0,"bool"),CH={kernelName:Up,backendName:"cpu",kernelFunc:xhe};var vhe=Pe(Wp,e=>Number.isNaN(e)?1:0,"bool"),IH={kernelName:Wp,backendName:"cpu",kernelFunc:vhe};function whe(e){let{backend:t,attrs:n}=e,{start:r,stop:o,num:i}=n,s=o$(r,o,i);return t.makeTensorInfo([s.length],"float32",s)}var EH={kernelName:jy,backendName:"cpu",kernelFunc:whe};var She=Pe(Gp,e=>Math.log1p(e)),TH={kernelName:Gp,backendName:"cpu",kernelFunc:She};var Che=ht((e,t)=>e&&t),Ihe=St(qp,Che,null,"bool"),DH={kernelName:qp,backendName:"cpu",kernelFunc:Ihe};var Ehe=Pe(Kp,e=>e?0:1,"bool"),FH={kernelName:Kp,backendName:"cpu",kernelFunc:Ehe};var The=ht((e,t)=>e||t),Dhe=St(Xp,The,null,"bool"),kH={kernelName:Xp,backendName:"cpu",kernelFunc:Dhe};function Fhe(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{depthRadius:i,bias:s,alpha:l,beta:c}=r;ce(o,"LRN");let u=o.shape[3],d=u-1,p=n.data.get(o.dataId).values,f=E.sizeFromShape(o.shape),m=new Float32Array(f);function h(g){let _=g%u,$=g-_+Math.max(0,_-i),x=g-_+Math.min(_+i,d),w=0;for(;$<=x;$++){let S=p[$];w+=S*S}return w}for(let g=0;g<f;g++){let _=h(g),$=p[g]*Math.pow(s+l*_,-c);m[g]=$}return n.makeTensorInfo(o.shape,o.dtype,m)}var AH={kernelName:Oy,backendName:"cpu",kernelFunc:Fhe};function khe(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,y:i,dy:s}=t,{depthRadius:l,bias:c,alpha:u,beta:d}=r;ce(s,"LRNGrad");let p=E.sizeFromShape(s.shape),f=s.shape[3],m=n.data.get(s.dataId).values,h=n.data.get(o.dataId).values,g=n.data.get(i.dataId).values,_=new Float32Array(p),$=p;for(let x=0;x<$;x++){let w=x%f,S=x-w+Math.max(0,w-l),I=x-w+Math.min(f,w+l+1),F=0;for(let k=S;k<I;k++)F+=Math.pow(h[k],2);F=u*F+c;for(let k=S;k<I;k++){let M=-2*u*d*h[k]*g[x]/F;x===k&&(M+=Math.pow(F,-d)),M*=m[x],_[k]+=M}}return n.makeTensorInfo(s.shape,o.dtype,_)}var MH={kernelName:Ny,backendName:"cpu",kernelFunc:khe};function s1(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{reductionIndices:i,keepDims:s}=r,l=n,c=o.shape,u=c.length,d=E.parseAxisParam(i,c),p=d,f=A.getAxesPermutation(p,u),m=l.data.get(o.dataId).values;if(f!=null){let S=new Array(u);for(let I=0;I<S.length;I++)S[I]=c[f[I]];m=yu(m,c,o.dtype,f,S),p=A.getInnerMostAxes(p.length,u),c=S}ce(o,"max"),A.assertAxesAreInnerMostDims("max",p,u);let[h,g]=A.computeOutAndReduceShapes(c,p),_=E.sizeFromShape(g),$=i$(m,_,h,o.dtype),x=l.write($,h,o.dtype),w=h;return s&&(w=A.expandShapeToKeepDim(h,d)),{dataId:x,shape:w,dtype:o.dtype}}var RH={kernelName:Py,backendName:"cpu",kernelFunc:s1};function Ahe(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t;ce(o,"maxPool");let{filterSize:i,strides:s,pad:l,dimRoundingMode:c}=r,u=1;E.assert(A.eitherStridesOrDilationsAreOne(s,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '${u}'`);let d=A.computePool2DInfo(o.shape,i,s,u,l,c),p;if(d.filterWidth===1&&d.filterHeight===1&&E.arraysEqual(d.inShape,d.outShape))p=tr({inputs:{x:o},backend:n});else{let f=n.data.get(o.dataId).values,m=E.computeStrides(o.shape),h=xu(f,o.shape,o.dtype,m,d,"max");p=n.makeTensorInfo(d.outShape,o.dtype,h.values)}return p}var jH={kernelName:By,backendName:"cpu",kernelFunc:Ahe};function Mhe(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{filterSize:i,strides:s,pad:l,dimRoundingMode:c,dataFormat:u}=r;ce(o,"maxPool3d");let d=A.computePool3DInfo(o.shape,i,s,1,l,c,u),p=n.data.get(o.dataId).values,f=b$(p,o.shape,o.dtype,E.computeStrides(o.shape),d,"max");return n.makeTensorInfo(f.shape,"float32",f.values)}var OH={kernelName:Uy,backendName:"cpu",kernelFunc:Mhe};function Rhe(e){let{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,{filterSize:s,strides:l,pad:c,dimRoundingMode:u}=r;ce([o,i],"maxPool3DGrad");let d=A.computePool3DInfo(i.shape,s,l,1,c,u),p=n.bufferSync(i),f=A6(p,d),m=d.strideDepth,h=d.strideHeight,g=d.strideWidth,_=d.dilationDepth,$=d.dilationHeight,x=d.dilationWidth,w=d.effectiveFilterDepth,S=d.effectiveFilterHeight,I=d.effectiveFilterWidth,F=w-1-d.padInfo.front,k=I-1-d.padInfo.left,M=S-1-d.padInfo.top,O=We(i.shape,"float32"),B=n.bufferSync(o);for(let W=0;W<d.batchSize;++W)for(let V=0;V<d.inChannels;++V)for(let P=0;P<d.inDepth;++P)for(let G=0;G<d.inHeight;++G)for(let Z=0;Z<d.inWidth;++Z){let H=P-F,re=G-M,te=Z-k,Y=0;for(let se=0;se<w;se+=_){let z=(H+se)/m;if(!(z<0||z>=d.outDepth||Math.floor(z)!==z))for(let ne=0;ne<S;ne+=$){let U=(re+ne)/h;if(!(U<0||U>=d.outHeight||Math.floor(U)!==U))for(let ae=0;ae<I;ae+=x){let ge=(te+ae)/g;if(ge<0||ge>=d.outWidth||Math.floor(ge)!==ge)continue;let we=w*S*I-1-f.get(W,z,U,ge,V),Se=se*S*I+ne*I+ae,Ie=we===Se?1:0;if(Ie===0)continue;let Ae=B.get(W,z,U,ge,V);Y+=Ae*Ie}}}O.set(Y,W,P,G,Z,V)}return n.makeTensorInfo(O.shape,O.dtype,O.values)}var NH={kernelName:Wy,backendName:"cpu",kernelFunc:Rhe};function jhe(e){let{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i,output:s}=t,l=i;ce([i,s],"maxPoolGrad");let{filterSize:c,strides:u,pad:d,dimRoundingMode:p}=r,f=A.computePool2DInfo(l.shape,c,u,1,d,p),m=n.data.get(l.dataId).values,h=We(f.outShape,l.dtype,g$(m,l.shape,l.dtype,f).values),g=f.strideHeight,_=f.strideWidth,$=f.dilationHeight,x=f.dilationWidth,w=f.effectiveFilterHeight,S=f.effectiveFilterWidth,I=S-1-f.padInfo.left,F=w-1-f.padInfo.top,k=We(l.shape,"float32"),M=n.data.get(o.dataId).values,O=We(o.shape,"float32",M);for(let B=0;B<f.batchSize;++B)for(let W=0;W<f.inChannels;++W)for(let V=0;V<f.inHeight;++V)for(let P=0;P<f.inWidth;++P){let G=V-F,Z=P-I,H=0;for(let re=0;re<w;re+=$){let te=(G+re)/g;if(!(te<0||te>=f.outHeight||Math.floor(te)!==te))for(let Y=0;Y<S;Y+=x){let se=(Z+Y)/_;if(se<0||se>=f.outWidth||Math.floor(se)!==se)continue;let z=w*S-1-h.get(B,te,se,W),ne=re*S+Y,U=z===ne?1:0;if(U===0)continue;let ae=O.get(B,te,se,W);H+=ae*U}}k.set(H,B,V,P,W)}return n.makeTensorInfo(k.shape,k.dtype,k.values)}var PH={kernelName:Ly,backendName:"cpu",kernelFunc:jhe};function BH(e,t,n,r,o){let i=E.computeStrides(t),s=xu(e,t,n,i,o,"max"),l=g$(e,t,n,o,!0,r);return[s.values,l.values]}var LH={kernelName:zy,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{let{x:r}=e,{filterSize:o,strides:i,pad:s,includeBatchInIndex:l}=t,c=n;ce(r,"MaxPoolWithArgmax");let u=c.data.get(r.dataId).values,d=A.computePool2DInfo(r.shape,o,i,[1,1],s),[p,f]=BH(u,r.shape,r.dtype,l,d),m=c.write(p,d.outShape,r.dtype),h=c.write(f,d.outShape,r.dtype);return[{dataId:m,shape:d.outShape,dtype:r.dtype},{dataId:h,shape:d.outShape,dtype:"int32"}]}};function Ohe(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:s}=r,l=E.parseAxisParam(i,o.shape),u=A.computeOutAndReduceShapes(o.shape,l)[1],d=E.sizeFromShape(u),p=[],f=n.makeTensorInfo([],"float32",new Float32Array([d]));p.push(f);let m=To({inputs:{x:o},backend:n,attrs:{dtype:"float32"}});p.push(m);let h=Sf({inputs:{a:m,b:f},backend:n});p.push(h);let g=is({inputs:{x:h},backend:n,attrs:{axis:i,keepDims:s}});return p.forEach(_=>n.disposeIntermediateTensorInfo(_)),g}var UH={kernelName:Vy,backendName:"cpu",kernelFunc:Ohe};function Nhe(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:s}=r;ce(o,"min");let l=E.parseAxisParam(i,o.shape),c=l,u=A.getAxesPermutation(c,o.shape.length),d=o;u!=null&&(d=Sn({inputs:{x:o},backend:n,attrs:{perm:u}}),c=A.getInnerMostAxes(c.length,o.shape.length)),A.assertAxesAreInnerMostDims("min",c,d.shape.length);let[p,f]=A.computeOutAndReduceShapes(d.shape,c),m=E.sizeFromShape(f),h=E.makeZerosTypedArray(E.sizeFromShape(p),d.dtype),g=n.data.get(d.dataId).values;for(let $=0;$<h.length;++$){let x=$*m,w=g[x];for(let S=0;S<m;++S){let I=g[x+S];(Number.isNaN(I)||I<w)&&(w=I)}h[$]=w}u!=null&&n.disposeIntermediateTensorInfo(d);let _=n.makeTensorInfo(p,d.dtype,h);if(s){let $=A.expandShapeToKeepDim(p,l),x=_t({inputs:{x:_},backend:n,attrs:{shape:$}});return n.disposeIntermediateTensorInfo(_),x}return _}var WH={kernelName:Hy,backendName:"cpu",kernelFunc:Nhe};function Phe(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{paddings:i,mode:s}=r;ce(o,"mirrorPad");let l=i.map((w,S)=>w[0]+o.shape[S]+w[1]),c=i.map(w=>w[0]),u=i.map((w,S)=>w[0]+o.shape[S]),d=s==="reflect"?0:1,p=n.data.get(o.dataId).values,f=o.shape.length,m=E.computeStrides(o.shape),h=E.sizeFromShape(l),g=l.length,_=E.computeStrides(l),$=E.getTypedArrayFromDType(o.dtype,h);for(let w=0;w<h;w++){let S=E.indexToLoc(w,g,_);for(let F=0;F<g;F++)S[F]<c[F]?S[F]=c[F]*2-S[F]-d:S[F]>=u[F]&&(S[F]=(u[F]-1)*2-S[F]+d);S=S.map((F,k)=>F-c[k]);let I=E.locToIndex(S,f,m);$[w]=p[I]}return{dataId:n.write($,l,o.dtype),shape:l,dtype:o.dtype}}var zH={kernelName:Gy,backendName:"cpu",kernelFunc:Phe};var Bhe=ht((e,t)=>{let n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t}),Lhe=St(Qp,Bhe),VH={kernelName:Qp,backendName:"cpu",kernelFunc:Lhe};var lG=li(sG());function f1(e){let{inputs:t,backend:n,attrs:r}=e,{logits:o}=t,{dim:i}=r,s=o.shape.length,l=i;if(l===-1&&(l=s-1),l!==s-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${s} and dim was ${l}`);let c=E.parseAxisParam([l],o.shape),u=s1({inputs:{x:o},backend:n,attrs:{reductionIndices:c,keepDims:!1}}),d=A.expandShapeToKeepDim(u.shape,c),p=_t({inputs:{x:u},backend:n,attrs:{shape:d}}),f=vf({inputs:{a:o,b:p},backend:n}),m=kT({inputs:{x:f},backend:n}),h=is({inputs:{x:m},backend:n,attrs:{axis:c,keepDims:!1}}),g=_t({inputs:{x:h},backend:n,attrs:{shape:d}}),_=Sf({inputs:{a:m,b:g},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(g),_}var aG={kernelName:h_,backendName:"cpu",kernelFunc:f1};function qhe(e){let{inputs:t,backend:n,attrs:r}=e,{logits:o}=t,{numSamples:i,seed:s,normalized:l}=r;ce(o,"multinomial");let c=l?o:f1({inputs:{logits:o},backend:n,attrs:{dim:-1}}),u=c.shape[0],d=c.shape[1],p=n.data.get(c.dataId).values,f=[u,i],m=E.makeZerosTypedArray(E.sizeFromShape(f),"int32");for(let h=0;h<u;++h){let g=h*d,_=new Float32Array(d-1);_[0]=p[g];for(let w=1;w<_.length;++w)_[w]=_[w-1]+p[g+w];let $=lG.alea(s.toString()),x=h*i;for(let w=0;w<i;++w){let S=$();m[x+w]=_.length;for(let I=0;I<_.length;I++)if(S<_[I]){m[x+w]=I;break}}}return l||n.disposeIntermediateTensorInfo(c),n.makeTensorInfo(f,"int32",m)}var cG={kernelName:qy,backendName:"cpu",kernelFunc:qhe};var Khe=er.nonMaxSuppressionV3Impl;function Xhe(e){let{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:i}=t,{maxOutputSize:s,iouThreshold:l,scoreThreshold:c}=r;ce(o,"NonMaxSuppression");let u=n.data.get(o.dataId).values,d=n.data.get(i.dataId).values,{selectedIndices:p}=Khe(u,d,s,l,c);return n.makeTensorInfo([p.length],"int32",new Int32Array(p))}var uG={kernelName:Xy,backendName:"cpu",kernelFunc:Xhe};var Yhe=er.nonMaxSuppressionV4Impl;function Zhe(e){let{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:i}=t,{maxOutputSize:s,iouThreshold:l,scoreThreshold:c,padToMaxOutputSize:u}=r;ce(o,"NonMaxSuppressionPadded");let d=n.data.get(o.dataId).values,p=n.data.get(i.dataId).values,{selectedIndices:f,validOutputs:m}=Yhe(d,p,s,l,c,u);return[n.makeTensorInfo([f.length],"int32",new Int32Array(f)),n.makeTensorInfo([],"int32",new Int32Array([m]))]}var dG={kernelName:Yy,backendName:"cpu",kernelFunc:Zhe};var Qhe=er.nonMaxSuppressionV5Impl;function Jhe(e){let{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:i}=t,{maxOutputSize:s,iouThreshold:l,scoreThreshold:c,softNmsSigma:u}=r;ce(o,"NonMaxSuppressionWithScore");let d=n.data.get(o.dataId).values,p=n.data.get(i.dataId).values,f=s,m=l,h=c,g=u,{selectedIndices:_,selectedScores:$}=Qhe(d,p,f,m,h,g);return[n.makeTensorInfo([_.length],"int32",new Int32Array(_)),n.makeTensorInfo([$.length],"float32",new Float32Array($))]}var pG={kernelName:Zy,backendName:"cpu",kernelFunc:Jhe};function ege(e){let{inputs:t,backend:n,attrs:r}=e,{indices:o}=t,{depth:i,onValue:s,offValue:l}=r;ce(o,"oneHot");let c=E.sizeFromShape(o.shape),u=new Float32Array(c*i);u.fill(l);let d=n.data.get(o.dataId).values;for(let p=0;p<c;++p)d[p]>=0&&d[p]<i&&(u[p*i+d[p]]=s);return n.makeTensorInfo([...o.shape,i],"int32",u)}var fG={kernelName:Jy,backendName:"cpu",kernelFunc:ege};function Ef(e){let{inputs:t,backend:n}=e,{x:r}=t;if(r.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(r.dtype==="complex64"){let o=Eo({inputs:{input:r},backend:n}),i=Ef({inputs:{x:o},backend:n}),s=Ei({inputs:{input:r},backend:n}),l=Ef({inputs:{x:s},backend:n}),c=jn({inputs:{real:i,imag:l},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),c}else return If({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}var mG={kernelName:M_,backendName:"cpu",kernelFunc:Ef};function hG(e){let{inputs:t,backend:n}=e,{x:r}=t;if(r.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(r.dtype==="complex64"){let o=Eo({inputs:{input:r},backend:n}),i=hG({inputs:{x:o},backend:n}),s=Ei({inputs:{input:r},backend:n}),l=Ef({inputs:{x:s},backend:n}),c=jn({inputs:{real:i,imag:l},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),c}else return If({backend:n,attrs:{shape:r.shape,value:1,dtype:r.dtype}})}var gG={kernelName:Qy,backendName:"cpu",kernelFunc:hG};function m1(e){let{inputs:t,backend:n,attrs:r}=e,{axis:o}=r;if(t.length===1)return vu({inputs:{input:t[0]},backend:n,attrs:{dim:o}});let i=t[0].shape,s=t[0].dtype;t.forEach(d=>{E.assertShapesMatch(i,d.shape,"All tensors passed to stack must have matching shapes"),E.assert(s===d.dtype,()=>"All tensors passed to stack must have matching dtypes")});let l=[],c=t.map(d=>{let p=vu({inputs:{input:d},backend:n,attrs:{dim:o}});return l.push(p),p}),u=ta({inputs:c,backend:n,attrs:{axis:o}});return l.forEach(d=>n.disposeIntermediateTensorInfo(d)),u}var bG={kernelName:e_,backendName:"cpu",kernelFunc:m1};function tge(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{paddings:i,constantValue:s}=r;ce(o,"pad");let l=i.map((x,w)=>x[0]+o.shape[w]+x[1]),c=i.map(x=>x[0]),u=n.data.get(o.dataId).values,d=E.sizeFromShape(o.shape),p=o.shape.length,f=E.computeStrides(o.shape),m=E.sizeFromShape(l),h=l.length,g=E.computeStrides(l),_=E.getTypedArrayFromDType(o.dtype,m);s!==0&&_.fill(s);for(let x=0;x<d;x++){let S=E.indexToLoc(x,p,f).map((F,k)=>F+c[k]),I=E.locToIndex(S,h,g);_[I]=u[x]}return{dataId:n.write(_,l,o.dtype),shape:l,dtype:o.dtype}}var $$={kernelName:t_,backendName:"cpu",kernelFunc:tge};var nge=ht((e,t)=>Math.pow(e,t)),rge=St(ef,nge),yG={kernelName:ef,backendName:"cpu",kernelFunc:rge};function oge(e){let{backend:t,attrs:n}=e,{start:r,stop:o,dtype:i,step:s}=n,l=s$(r,o,s,i);return t.makeTensorInfo([l.length],i,l)}var _G={kernelName:r_,backendName:"cpu",kernelFunc:oge};var ige=Pe(tf,e=>1/e),$G={kernelName:tf,backendName:"cpu",kernelFunc:ige};function sge(e){let{inputs:t,backend:n,attrs:r}=e,{images:o}=t,{alignCorners:i,halfPixelCenters:s,size:l}=r;ce(o,"resizeBilinear");let c=E.computeStrides(o.shape),[u,d]=l,[p,f,m,h]=o.shape,g=n.data.get(o.dataId).values,_=new Float32Array(E.sizeFromShape([p,u,d,h])),$=[i&&u>1?f-1:f,i&&d>1?m-1:m],x=[i&&u>1?u-1:u,i&&d>1?d-1:d],w=0,S=$[0]/x[0],I=$[1]/x[1];for(let F=0;F<p;F++)for(let k=0;k<u;k++){let M;s?M=S*(k+.5)-.5:M=S*k;let O=Math.max(0,Math.floor(M)),B=M-O,W=Math.min(f-1,Math.ceil(M)),V=F*c[0]+O*c[1],P=F*c[0]+W*c[1];for(let G=0;G<d;G++){let Z;s?Z=I*(G+.5)-.5:Z=I*G;let H=Math.max(0,Math.floor(Z)),re=Z-H,te=Math.min(m-1,Math.ceil(Z)),Y=V+H*c[2],se=P+H*c[2],z=V+te*c[2],ne=P+te*c[2];for(let U=0;U<h;U++){let ae=g[Y+U],ge=g[se+U],we=g[z+U],Se=g[ne+U],Ie=ae+(we-ae)*re,Ae=ge+(Se-ge)*re,Ne=Ie+(Ae-Ie)*B;_[w++]=Ne}}}return n.makeTensorInfo([p,u,d,h],"float32",_)}var xG={kernelName:a_,backendName:"cpu",kernelFunc:sge};function age(e){let{inputs:t,backend:n,attrs:r}=e,{images:o,dy:i}=t,{alignCorners:s}=r;ce([i,o],"resizeBilinearGrad");let l=E.computeStrides(o.shape),[c,u,d,p]=o.shape,[,f,m]=i.shape,h=new Float32Array(c*u*d*p),g=[s&&f>1?u-1:u,s&&m>1?d-1:d],_=[s&&f>1?f-1:f,s&&m>1?m-1:m],$=g[0]/_[0],x=g[1]/_[1],w=n.data.get(i.dataId).values,S=0;for(let I=0;I<c;I++){let F=I*l[0];for(let k=0;k<f;k++){let M=k*$,O=Math.floor(M),B=Math.min(Math.ceil(M),u-1),W=F+O*l[1],V=F+B*l[1],P=M-O,G=1-P;for(let Z=0;Z<m;Z++){let H=Z*x,re=Math.floor(H),te=Math.min(Math.ceil(H),d-1),Y=H-re,se=1-Y,z=W+re*l[2],ne=W+te*l[2],U=V+re*l[2],ae=V+te*l[2],ge=G*se,we=G*Y,Se=P*se,Ie=P*Y;for(let Ae=0;Ae<p;Ae++){let Ne=w[S++];h[z+Ae]+=Ne*ge,h[ne+Ae]+=Ne*we,h[U+Ae]+=Ne*Se,h[ae+Ae]+=Ne*Ie}}}}return n.makeTensorInfo([c,d,u,p],"float32",h)}var vG={kernelName:l_,backendName:"cpu",kernelFunc:age};function lge(e){let{inputs:t,backend:n,attrs:r}=e,{images:o}=t,{alignCorners:i,halfPixelCenters:s,size:l}=r;ce(o,"resizeNearestNeighbor");let c=E.computeStrides(o.shape),[u,d]=l,[p,f,m,h]=o.shape,g=n.data.get(o.dataId).values,_=new Float32Array(p*u*d*h),$=[i&&u>1?f-1:f,i&&d>1?m-1:m],x=[i&&u>1?u-1:u,i&&d>1?d-1:d],w=$[0]/x[0],S=$[1]/x[1],I=0;for(let F=0;F<p;F++){let k=F*c[0];for(let M=0;M<u;M++){let O=s?w*(M+.5):w*M,B=Math.min(f-1,i?Math.round(O):Math.floor(O));s&&(B=Math.max(0,B));let W=k+B*c[1];for(let V=0;V<d;V++){let P=s?S*(V+.5):S*V,G=Math.min(m-1,i?Math.round(P):Math.floor(P));s&&(G=Math.max(0,G));let Z=W+G*c[2];for(let H=0;H<h;H++){let re=g[Z+H];_[I++]=re}}}}return n.makeTensorInfo([p,u,d,h],o.dtype,_)}var wG={kernelName:i_,backendName:"cpu",kernelFunc:lge};function cge(e){let{inputs:t,backend:n,attrs:r}=e,{images:o,dy:i}=t,{alignCorners:s}=r;ce([i,o],"resizeNearestNeighborGrad");let l=E.computeStrides(o.shape),c=E.computeStrides(i.shape),[u,d,p,f]=o.shape,[,m,h]=i.shape,g=new Float32Array(u*d*p*f),_=n.data.get(i.dataId).values,$=[s&&m>1?d-1:d,s&&h>1?p-1:p],x=[s&&m>1?m-1:m,s&&h>1?h-1:h],w=$[0]/x[0],S=$[1]/x[1],I=1/w,F=1/S,k=Math.ceil(I)*2+2,M=Math.ceil(F)*2+2;for(let O=0;O<u;O++){let B=O*l[0];for(let W=0;W<d;W++){let V=B+W*l[1],P=Math.floor(W*I),G=Math.floor(P-k/2);for(let Z=0;Z<p;Z++){let H=V+Z*l[2],re=Math.floor(Z*F),te=Math.floor(re-M/2);for(let Y=0;Y<f;Y++){let se=0;for(let z=0;z<k;z++){let ne=z+G;if(ne<0||ne>=m)continue;let U=B+ne*c[1],ae=ne*w,ge=Math.min(d-1,s?Math.round(ae):Math.floor(ae));if(W===ge)for(let we=0;we<M;we++){let Se=we+te;if(Se<0||Se>=h)continue;let Ie=U+Se*c[2],Ae=Se*S,Ne=Math.min(p-1,s?Math.round(Ae):Math.floor(Ae));Z===Ne&&(se+=_[Ie+Y])}}g[H+Y]=se}}}}return n.makeTensorInfo(o.shape,o.dtype,g)}var SG={kernelName:s_,backendName:"cpu",kernelFunc:cge};function uge(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{dims:i}=r;ce(o,"reverse");let s=o.shape.length,l=E.parseAxisParam(i,o.shape);if(s===0)return tr({inputs:{x:o},backend:n});let c=new zt(o.shape,o.dtype),u=n.bufferSync(o);for(let d=0;d<c.size;d++){let p=c.indexToLoc(d),f=p.slice();l.forEach(m=>f[m]=o.shape[m]-1-f[m]),c.set(u.get(...f),...p)}return n.makeTensorInfo(c.shape,c.dtype,c.values)}var CG={kernelName:c_,backendName:"cpu",kernelFunc:uge};var IG={kernelName:R_,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{let{image:r}=e,{radians:o,fillValue:i,center:s}=t,l=n,c=E.getTypedArrayFromDType(r.dtype,E.sizeFromShape(r.shape)),[u,d,p,f]=r.shape,[m,h]=A.getImageCenter(s,d,p),g=255,_=Math.sin(o),$=Math.cos(o),x=l.data.get(r.dataId).values;for(let S=0;S<u;S++){let I=S*p*d*f;for(let F=0;F<d;F++){let k=F*(p*f);for(let M=0;M<p;M++){let O=M*f;for(let B=0;B<f;B++){let W=[u,F,M,B],V=W[2],P=W[1],G=(V-m)*$-(P-h)*_,Z=(V-m)*_+(P-h)*$;G=Math.round(G+m),Z=Math.round(Z+h);let H=i;if(typeof i!="number"&&(B===3?H=g:H=i[B]),G>=0&&G<p&&Z>=0&&Z<d){let te=Z*(p*f),Y=G*f,se=I+te+Y+B;H=x[se]}let re=I+k+O+B;c[re]=H}}}}return{dataId:l.write(c,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};var dge=Pe(nf,e=>{let t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1}),EG={kernelName:nf,backendName:"cpu",kernelFunc:dge};function x$(e,t,n,r,o,i,s,l,c,u){let d=[r/o,o],p=e.values,f=t.values;if(r===0)return We(n,t.dtype);let m=We(d,t.dtype);m.values.fill(c);for(let h=0;h<i;h++){let g=[],_=0;for(let $=0;$<s;$++){let x=p[h*s+$];g.push(x),_+=x*l[$]}if(_<0||_>=r/o)throw new Error(`Invalid indices: ${g} does not index into ${n}`);for(let $=0;$<o;$++)u?m.values[_*o+$]+=f[h*o+$]:m.values[_*o+$]=t.rank===0?f[0]:f[h*o+$]}return m}function pge(e){let{inputs:t,backend:n,attrs:r}=e,{indices:o,updates:i}=t,{shape:s}=r,{sliceRank:l,numUpdates:c,sliceSize:u,strides:d,outputSize:p}=A.calculateShapes(i,o,s),f=!0,m=n.bufferSync(o),h=n.bufferSync(i),g=x$(m,h,s,p,u,c,l,d,0,f);return n.makeTensorInfo(s,g.dtype,g.values)}var TG={kernelName:u_,backendName:"cpu",kernelFunc:pge};function fge(e){let{inputs:t,backend:n}=e,{condition:r,t:o,e:i}=t;ce([r,o,i],"select");let s=r.shape.length,l=n.data.get(r.dataId).values,c=n.data.get(o.dataId).values,u=n.data.get(i.dataId).values,d=Rn(o.dtype,i.dtype),p=E.makeZerosTypedArray(E.sizeFromShape(o.shape),d),f=0,m=s===0||s>1||o.shape.length===1?1:E.sizeFromShape(o.shape.slice(1));for(let h=0;h<l.length;h++)for(let g=0;g<m;g++)l[h]===1?p[f++]=c[h]:p[f++]=u[h];return n.makeTensorInfo(o.shape,d,p)}var DG={kernelName:d_,backendName:"cpu",kernelFunc:fge};var mge=A.SELU_SCALEALPHA,hge=A.SELU_SCALE,gge=Pe(of,e=>e>=0?hge*e:mge*(Math.exp(e)-1)),FG={kernelName:of,backendName:"cpu",kernelFunc:gge};var bge=Pe(lf,e=>e<0?-1:e>0?1:0),kG={kernelName:lf,backendName:"cpu",kernelFunc:bge};var yge=Pe(sf,e=>Math.sin(e)),AG={kernelName:sf,backendName:"cpu",kernelFunc:yge};var _ge=Pe(af,e=>Math.sinh(e)),MG={kernelName:af,backendName:"cpu",kernelFunc:_ge};var $ge=11920928955078125e-23,RG=Math.log($ge)+2,xge=Pe(cf,e=>{let t=e>-RG,n=e<RG,r=Math.exp(e),o;return n?o=r:t?o=e:o=Math.log(1+r),o}),jG={kernelName:cf,backendName:"cpu",kernelFunc:xge};function vge(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:i,paddings:s}=r;ce([o],"spaceToBatchND");let l=E.sizeFromShape(i),c=[[0,0]];c.push(...s);for(let F=1+i.length;F<o.shape.length;++F)c.push([0,0]);let u=$$.kernelFunc({inputs:{x:o},backend:n,attrs:{paddings:c,constantValue:0}}),d=A.getReshaped(u.shape,i,l,!1),p=A.getPermuted(d.length,i.length,!1),f=A.getReshapedPermuted(u.shape,i,l,!1),g=_t({inputs:{x:u},backend:n,attrs:{shape:d}}),x=Sn({inputs:{x:g},backend:n,attrs:{perm:p}}),I=_t({inputs:{x},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(x),I}var OG={kernelName:f_,backendName:"cpu",kernelFunc:vge};function wge(e){let{inputs:t,backend:n}=e,{indices:r,values:o,denseShape:i,defaultValue:s}=t;if(i.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
        ${i.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
        ${r.shape}`);if(o.shape.length!==1)throw new Error(`Values must be a vector, saw:
        ${o.shape}`);if(s.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${s.shape}`);let l=n.data.get(r.dataId).values,c=n.data.get(o.dataId).values,u=n.data.get(i.dataId).values,d=n.data.get(s.dataId).values[0],[p,f,m,h,g]=a$(l,r.shape,r.dtype,c,o.dtype,u,d);return[n.makeTensorInfo(f,r.dtype,p),n.makeTensorInfo([f[0]],o.dtype,m),n.makeTensorInfo([h.length],"bool",new Uint8Array(h.map(_=>Number(_)))),n.makeTensorInfo([g.length],r.dtype,new Int32Array(g))]}var NG={kernelName:g_,backendName:"cpu",kernelFunc:wge};function Sge(e){let{inputs:t,backend:n}=e,{inputIndices:r,inputShape:o,newShape:i}=t;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${r.shape}`);if(o.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${o.shape}`);if(i.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);let s=Array.from(n.data.get(o.dataId).values),l=n.data.get(r.dataId).values,c=Array.from(n.data.get(i.dataId).values),[u,d,p]=l$(l,r.shape,r.dtype,s,c);return[n.makeTensorInfo(d,r.dtype,u),n.makeTensorInfo([p.length],i.dtype,new Int32Array(p))]}var PG={kernelName:b_,backendName:"cpu",kernelFunc:Sge};function Cge(e){let{inputs:t,backend:n}=e,{data:r,indices:o,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(o.shape.length!==1)throw new Error(`Indices should be a vector but received shape
          ${o.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
          ${i.shape}`);let s=n.data.get(r.dataId).values,l=n.data.get(o.dataId).values,c=n.data.get(i.dataId).values,[u,d]=_u(s,r.shape,r.dtype,l,c,!0);return n.makeTensorInfo(d,r.dtype,u)}var BG={kernelName:y_,backendName:"cpu",kernelFunc:Cge};function Ige(e){let{inputs:t,backend:n}=e,{data:r,indices:o,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(o.shape.length!==1)throw new Error(`Indices should be a vector but received shape
         ${o.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
         ${i.shape}`);let s=n.data.get(r.dataId).values,l=n.data.get(o.dataId).values,c=n.data.get(i.dataId).values,[u,d]=_u(s,r.shape,r.dtype,l,c);return n.makeTensorInfo(d,r.dtype,u)}var LG={kernelName:__,backendName:"cpu",kernelFunc:Ige};function Ege(e){let{inputs:t,backend:n,attrs:r}=e,{sparseIndices:o,sparseValues:i,defaultValue:s}=t,{outputShape:l}=r,{sliceRank:c,numUpdates:u,sliceSize:d,strides:p,outputSize:f}=A.calculateShapes(i,o,l),m=!1,h=n.bufferSync(o),g=n.bufferSync(i),_=n.data.get(s.dataId).values[0],$=x$(h,g,l,f,d,u,c,p,_,m);return n.makeTensorInfo(l,$.dtype,$.values)}var UG={kernelName:$_,backendName:"cpu",kernelFunc:Ege};function Tge(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{numOrSizeSplits:i,axis:s}=r,l=E.parseAxisParam(s,o.shape)[0],c=A.prepareSplitSize(o,i,l),u=new Array(o.shape.length).fill(0),d=o.shape.slice();return c.map(p=>{let f=[...d];f[l]=p;let m=Fo({inputs:{x:o},backend:n,attrs:{begin:u,size:f}});return u[l]+=p,m})}var WG={kernelName:m_,backendName:"cpu",kernelFunc:Tge};var zG={kernelName:x_,backendName:"cpu",kernelFunc:({inputs:e,backend:t})=>{let{x:n}=e,r=t;ce(n,"square");let o=r.data.get(n.dataId).values,i=new Float32Array(o.length);for(let l=0;l<o.length;++l){let c=o[l];i[l]=c*c}return{dataId:r.write(i,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};var Dge=Pe(al,(e,t)=>{let n=t;return isNaN(e)?NaN:e>0?1:n.alpha}),VG={kernelName:al,backendName:"cpu",kernelFunc:Dge};function Fge(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{begin:i,end:s,strides:l,beginMask:c,endMask:u,ellipsisMask:d,newAxisMask:p,shrinkAxisMask:f}=r;ce(o,"stridedSlice");let{finalShapeSparse:m,finalShape:h,isIdentity:g,sliceDim0:_,isSimpleSlice:$,begin:x,end:w,strides:S}=Un.sliceInfo(o.shape,i,s,l,c,u,d,p,f),I;if(g)I=_t({inputs:{x:o},backend:n,attrs:{shape:h}});else if(_||$){E.assert(o.shape.length>=1,()=>`Input must have rank at least 1, got: ${o.shape.length}`);let F=Un.computeOutShape(x,w,S),k=Fo({inputs:{x:o},backend:n,attrs:{begin:x,size:F}});I=_t({inputs:{x:k},backend:n,attrs:{shape:h}}),n.disposeIntermediateTensorInfo(k)}else{let F=n.bufferSync(o),k=c$(m,F,S,x);I=n.makeTensorInfo(h,k.dtype,k.values)}return I}var HG={kernelName:v_,backendName:"cpu",kernelFunc:Fge};function kge(e){let{inputs:t,backend:n,attrs:r}=e,{separator:o,nGramWidths:i,leftPad:s,rightPad:l,padWidth:c,preserveShortSequences:u}=r,{data:d,dataSplits:p}=t,f=n.data.get(d.dataId).values,m=n.data.get(p.dataId).values,[h,g]=u$(f,m,o,i,s,l,c,u);return[n.makeTensorInfo([h.length],"string",h),n.makeTensorInfo(p.shape,"int32",g)]}var GG={kernelName:w_,backendName:"cpu",kernelFunc:kge};function Age(e){let{inputs:t,backend:n,attrs:r}=e,{skipEmpty:o}=r,{input:i,delimiter:s}=t;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(i.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(s.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${s.shape}`);let l=n.data.get(i.dataId).values,c=n.data.get(s.dataId).values[0],[u,d,p]=d$(l,c,o),f=d.length;return[n.makeTensorInfo([f,2],"int32",u),n.makeTensorInfo([f],"string",d),n.makeTensorInfo([2],"int32",new Int32Array(p))]}var qG={kernelName:S_,backendName:"cpu",kernelFunc:Age};function Mge(e){let{inputs:t,backend:n,attrs:r}=e,{numBuckets:o}=r,{input:i}=t;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(o<=0)throw new Error("Number of buckets must be at least 1");let s=n.data.get(i.dataId).values,l=p$(s,o);return n.makeTensorInfo(i.shape,"int32",l)}var KG={kernelName:C_,backendName:"cpu",kernelFunc:Mge};var Rge=Pe(ff,e=>Math.tan(e)),XG={kernelName:ff,backendName:"cpu",kernelFunc:Rge};var jge=Pe(mf,e=>Math.tanh(e)),YG={kernelName:mf,backendName:"cpu",kernelFunc:jge};function Oge(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{reps:i}=r;ce(o,"tile");let s=f$(n.bufferSync(o),i);return n.makeTensorInfo(s.shape,s.dtype,s.values)}var ZG={kernelName:I_,backendName:"cpu",kernelFunc:Oge};function Nge(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{k:i,sorted:s}=r;ce(o,"topk");let l=n.data.get(o.dataId).values,[c,u]=m$(l,o.shape,o.dtype,i,s);return[n.makeTensorInfo(c.shape,c.dtype,c.values),n.makeTensorInfo(u.shape,u.dtype,u.values)]}var QG={kernelName:E_,backendName:"cpu",kernelFunc:Nge};function Pge(e){let{inputs:t,attrs:n,backend:r}=e,{image:o,transforms:i}=t,{interpolation:s,fillMode:l,fillValue:c,outputShape:u}=n,[d,p,f,m]=o.shape,[h,g]=u??[p,f],_=[d,h,g,m],$=E.computeStrides(o.shape),x=$[0],w=$[1],S=$[2],I=E.getTypedArrayFromDType(o.dtype,E.sizeFromShape(_));I.fill(c);let F=r.data.get(o.dataId).values,k=r.data.get(i.dataId).values;for(let O=0;O<d;++O){let B=i.shape[0]===1?k:k.subarray(O*8,O*8+8);for(let W=0;W<h;++W)for(let V=0;V<g;++V)for(let P=0;P<m;++P){let G,Z=B[6]*V+B[7]*W+1;if(Z===0)continue;let H=(B[0]*V+B[1]*W+B[2])/Z,re=(B[3]*V+B[4]*W+B[5])/Z,te=JG(H,f,l),Y=JG(re,p,l);switch(s){case"nearest":G=zge(F,p,f,x,w,S,O,Y,te,P,c);break;case"bilinear":G=Vge(F,p,f,x,w,S,O,Y,te,P,c);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${s}`)}let se=O*x+W*w+V*S+P;I[se]=G}return r.makeTensorInfo(_,o.dtype,I)}return{dataId:r.write(I,_,o.dtype),shape:o.shape,dtype:o.dtype}}var e8={kernelName:T_,backendName:"cpu",kernelFunc:Pge};function JG(e,t,n){switch(n){case"reflect":return Bge(e,t);case"wrap":return Lge(e,t);case"nearest":return Wge(e,t);case"constant":default:return Uge(e,t)}}function Bge(e,t){let n=e;if(n<0)if(t<=1)n=0;else{let r=2*t;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-t?n+r:-n-1}else if(n>t-1)if(t<=1)n=0;else{let r=2*t;n-=r*Math.trunc(n/r),n>=t&&(n=r-n-1)}return E.clamp(0,n,t-1)}function Lge(e,t){let n=e;if(n<0)if(t<=1)n=0;else{let r=t-1;n+=t*(Math.trunc(-n/r)+1)}else if(n>t-1)if(t<=1)n=0;else{let r=t-1;n-=t*Math.trunc(n/r)}return E.clamp(0,n,t-1)}function Uge(e,t){return e}function Wge(e,t){return E.clamp(0,e,t-1)}function Tf(e,t,n,r,o,i,s,l,c,u,d){let p=s*r+l*o+c*i+u;return 0<=l&&l<t&&0<=c&&c<n?e[p]:d}function zge(e,t,n,r,o,i,s,l,c,u,d){let p=Math.round(l),f=Math.round(c);return Tf(e,t,n,r,o,i,s,p,f,u,d)}function Vge(e,t,n,r,o,i,s,l,c,u,d){let p=Math.floor(l),f=Math.floor(c),m=p+1,h=f+1,g=(h-c)*Tf(e,t,n,r,o,i,s,p,f,u,d)+(c-f)*Tf(e,t,n,r,o,i,s,p,h,u,d),_=(h-c)*Tf(e,t,n,r,o,i,s,m,f,u,d)+(c-f)*Tf(e,t,n,r,o,i,s,m,h,u,d);return(m-l)*g+(l-p)*_}function Hge(e){let{inputs:t,attrs:n,backend:r}=e,{axis:o}=n,{x:i}=t;ce(i,"unique");let s=r.data.get(i.dataId).values,{outputValues:l,outputShape:c,indices:u}=h$(s,o,i.shape,i.dtype);return[r.makeTensorInfo(c,i.dtype,l),r.makeTensorInfo([u.length],"int32",u)]}var t8={kernelName:F_,backendName:"cpu",kernelFunc:Hge};function Gge(e){let{inputs:t,backend:n,attrs:r}=e,{value:o}=t,{axis:i}=r;i<0&&(i+=o.shape.length);let s=o.shape.length,l=o.shape[i],c=new Array(s-1),u=0;for(let m=0;m<s;m++)m!==i&&(c[u++]=o.shape[m]);let d=new Array(s).fill(0),p=o.shape.slice();p[i]=1;let f=new Array(l);for(let m=0;m<f.length;m++){d[i]=m;let h=Fo({inputs:{x:o},backend:n,attrs:{begin:d,size:p}});f[m]=_t({inputs:{x:h},backend:n,attrs:{shape:c}}),n.disposeIntermediateTensorInfo(h)}return f}var n8={kernelName:k_,backendName:"cpu",kernelFunc:Gge};function qge(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,segmentIds:i}=t,{numSegments:s}=r;ce(o,"unsortedSegmentSum");let l=o.shape.length,c=i.shape.length,u=[],d=[],p=l-c,f=i;for(let h=0;h<p;++h){let g=vu({inputs:{input:f},backend:n,attrs:{dim:h+1}});f=g,d.push(g)}for(let h=0;h<s;++h){let g=E.createScalarValue(h,"int32"),_=n.makeTensorInfo([],"int32",g),$=DT({inputs:{a:_,b:f},backend:n}),x=To({inputs:{x:$},backend:n,attrs:{dtype:"float32"}}),w=xl({inputs:{a:x,b:o},backend:n}),S=is({inputs:{x:w},backend:n,attrs:{axis:0,keepDims:!1}});u.push(S),d.push(_),d.push($),d.push(x),d.push(w),d.push(S)}let m=m1({inputs:u,backend:n,attrs:{axis:0}});return d.forEach(h=>n.disposeIntermediateTensorInfo(h)),m}var r8={kernelName:A_,backendName:"cpu",kernelFunc:qge};var Kge=[_6,RV,$6,x6,BV,v6,w6,S6,C6,I6,E6,T6,D6,F6,k6,M6,R6,j6,O6,y6,N6,P6,B6,L6,PV,LV,U6,jV,W6,V6,G6,q6,H6,X6,Y6,K6,Z6,Q6,J6,eH,tH,nH,rH,oH,iH,sH,aH,cH,lH,Cf,dH,p6,pH,UV,fH,WV,mH,zV,hH,gH,bH,VV,yH,_H,$H,xH,vH,HV,GV,OV,wH,z6,SH,CH,IH,f6,qV,KV,EH,XV,TH,DH,FH,kH,AH,MH,YV,jH,OH,NH,PH,LH,RH,UH,WH,ZV,zH,VH,cG,QV,JV,uG,dG,pG,e6,fG,gG,bG,$$,yG,m6,n6,_G,NV,$G,h6,g6,b6,xG,vG,wG,SG,CG,IG,EG,r6,TG,DG,FG,i6,kG,AG,MG,s6,aG,jG,OG,NG,PG,BG,LG,UG,WG,l6,zG,c6,VG,HG,GG,qG,KG,u6,uH,XG,YG,ZG,QG,t6,e8,t8,n8,r8,mG];for(let e of Kge)B_(e);var i8=li(ss());var o8="?lite-format=tflite",h1=class{constructor(t){this.modelRunner=t}get inputs(){let t=this.modelRunner.getInputs();return this.convertTFLiteTensorInfos(t)}get outputs(){let t=this.modelRunner.getOutputs();return this.convertTFLiteTensorInfos(t)}predict(t,n){let r=this.modelRunner.getInputs(),o=this.modelRunner.getOutputs();if(t instanceof Mn||Array.isArray(t)){let c;if(t instanceof Mn?c=[t]:c=t,r.length!==c.length)throw new Error(`The size of TFLite model inputs (${r.length}) does not match the size of the input tensors (${c.length})`);for(let u=0;u<r.length;u++)this.setModelInputFromTensor(r[u],c[u])}else{let c=Object.keys(t),u={};r.forEach(p=>{u[p.name]=p});let d=Object.keys(u);this.checkMapInputs(c,d);for(let p of c)this.setModelInputFromTensor(u[p],t[p])}if(!this.modelRunner.infer())throw new Error("Failed running inference");let s={};for(let c=0;c<o.length;c++){let u=o[c],d=u.data();switch(u.dataType){case"int8":case"int16":case"uint32":d=Int32Array.from(d);break;case"float64":console.warn("WARNING: converting output tensor from 'float64' to 'float32'"),d=Float32Array.from(d);break;default:break}let p=eT(d,this.getShapeFromTFLiteTensorInfo(u));s[u.name]=p}let l=Object.keys(s);return l.length===1?s[l[0]]:s}execute(t,n){throw new Error("execute() of TFLiteModel is not supported yet.")}getProfilingResults(){return this.modelRunner.getProfilingResults()}getProfilingSummary(){return this.modelRunner.getProfilingSummary()}setModelInputFromTensor(t,n){if(n.dtype==="string"||n.dtype==="complex64")throw new Error(`Data type '${n.dtype}' not supported.`);let r=t.shape.split(",").map(i=>Number(i));if(!n.shape.every((i,s)=>r[s]===-1||r[s]===i))throw new Error(`Input tensor shape mismatch: expect '${t.shape}', got '${n.shape.join(",")}'.`);switch(t.dataType){case"bool":case"int8":case"uint8":case"int16":case"uint32":case"int32":if(n.dtype==="float32")throw this.getDataTypeMismatchError(t.dataType,n.dtype);t.dataType!==n.dtype&&console.warn(`WARNING: converting '${n.dtype}' to '${t.dataType}'`);break;case"float32":case"float64":t.dataType!==n.dtype&&console.warn(`WARNING: converting '${n.dtype}' to '${t.dataType}'`);break;default:break}let o=t.data();switch(t.dataType){case"int8":o.set(Int8Array.from(n.dataSync()));break;case"uint8":case"bool":o.set(Uint8Array.from(n.dataSync()));break;case"int16":o.set(Int16Array.from(n.dataSync()));break;case"int32":o.set(Int32Array.from(n.dataSync()));break;case"uint32":o.set(Uint32Array.from(n.dataSync()));break;case"float32":o.set(Float32Array.from(n.dataSync()));break;case"float64":o.set(Float64Array.from(n.dataSync()));break;default:break}}convertTFLiteTensorInfos(t){return t.map(n=>{let r=Xge(n.dataType);return{name:n.name,shape:this.getShapeFromTFLiteTensorInfo(n),dtype:r}})}checkMapInputs(t,n){let r=t.filter(s=>!n.includes(s)),o=n.filter(s=>!t.includes(s));if(r.length===0&&o.length===0)return;let i=["The model input names don't match the model input names."];throw r.length>0&&i.push(`Names in input but missing in model: [${r}].`),o.length>0&&i.push(`Names in model but missing in inputs: [${o}].`),new Error(i.join(" "))}getShapeFromTFLiteTensorInfo(t){return t.shape.split(",").map(n=>Number(n))}getDataTypeMismatchError(t,n){return new Error(`Data type mismatch: input tensor expects '${t}', got '${n}'`)}};function v$(e,t){return ie(this,null,function*(){typeof e=="string"&&e.includes("tfhub.dev")&&e.includes("lite-model")&&!e.endsWith(o8)&&(e=`${e}${o8}`);let n=yield i8.tfweb.TFLiteWebModelRunner.create(e,t);return new h1(n)})}function Xge(e){let t;switch(e){case"float32":case"float64":t="float32";break;case"int8":case"uint8":case"int16":case"int32":case"uint32":t="int32";break;case"bool":t="bool";break;default:break}return t}var Jge=li(ss());var g1=li(ss());var Yge=g1.tfweb.tflite_web_api.setWasmPath,Zge=g1.tfweb.tflite_web_api.getWasmFeatures;var ebe=li(ss());var tbe=li(ss());var nbe=li(ss());var rbe=li(ss());var obe=li(ss());var l8=(()=>{class e{router;global_service;mytext_app;path_img="";input_ml;inputTensor=null;model=null;constructor(n,r){this.router=n,this.global_service=r,this.mytext_app=r.text_app()}ngOnInit(){}ngOnDestroy(){}clickImg0(){this.path_img="/camerafeet1/assets/images/0.png",this.prepareToML()}clickImg1(){this.path_img="/camerafeet1/assets/images/1.png",this.prepareToML()}clickImg2(){this.path_img="/camerafeet1/assets/images/2.png",this.prepareToML()}clickImg3(){this.path_img="/camerafeet1/assets/images/3.png",this.prepareToML()}clickImg4(){this.path_img="/camerafeet1/assets/images/4.png",this.prepareToML()}clickImg5(){this.path_img="/camerafeet1/assets/images/5.png",this.prepareToML()}clickImg6(){this.path_img="/camerafeet1/assets/images/6.png",this.prepareToML()}clickImg7(){this.path_img="/camerafeet1/assets/images/7.png",this.prepareToML()}clickImg8(){this.path_img="/camerafeet1/assets/images/8.png",this.prepareToML()}clickImg9(){this.path_img="/camerafeet1/assets/images/9.png",this.prepareToML()}convertBlobToBase64(n){return ie(this,null,function*(){return new Promise((r,o)=>{let i=new FileReader;i.onerror=o,i.onload=()=>{r(i.result)},i.readAsDataURL(n)})})}downloadImageAsBase64(){return ie(this,null,function*(){let r=yield(yield fetch(this.path_img)).blob();return this.convertBlobToBase64(r)})}prepareToML(){this.downloadImageAsBase64().then(n=>{let r=n;this.convertImgToNumberArray(r).then(o=>{console.log(o);let i=o.length,s=new Float32Array(i);for(let l=0;l<i;l++)s[l]=o[l]/1;this.inputTensor=dT(s,[1,28,28]),this.input_ml={flatten_input:this.inputTensor},alert("TENSOR de entrada preparado para el MODELO-TFLITE")})})}convertImgToNumberArray(n){let r=new Image;r.src=n;let o=document.createElement("canvas"),i=o.getContext("2d");if(!i)throw new Error("Could not get context");return new Promise(s=>{r.onload=function(){o.width=28,o.height=28,i.drawImage(r,0,0,28,28);let l=i.getImageData(0,0,28,28),c=[];for(let u=0;u<l.data.length;u+=4){let d=(l.data[u]+l.data[u+1]+l.data[u+2])/3;c.push(d)}s(c)}})}actionRun(){this.asyncRun()}asyncRun(){return ie(this,null,function*(){console.log("asyncRun");try{let i=yield this.global_service.get_ml_model().arrayBuffer();console.log(i),this.model=yield v$("/camerafeet1/assets/models/mnist_model.tflite"),console.log("Modelo-arrayBuffer-TFLITE-mnist cargado exitosamente");let s=this.model.predict(this.input_ml),l=s.dataSync();console.log(".............."),console.log(l),console.log("..............");let c=new Number(l.indexOf(Math.max(...l)));var n=new String("El d\xEDgito deducido es = "),r=n.concat(c.toString());alert(r),this.inputTensor!==null&&(this.inputTensor.dispose(),console.log("inputTensor dispose OK")),s.dispose(),console.log("outputTensor dispose OK")}catch(o){throw console.error("Error al cargar el modelo-TFLITE:",o),o}})}static \u0275fac=function(r){return new(r||e)(q(yt),q(Ot))};static \u0275cmp=Oe({type:e,selectors:[["app-screen97ml"]],decls:87,vars:1,consts:[[1,"custom-toolbar"],[1,"example-fill-remaining-space"],[1,"span-custom"],[1,"custom-div-centered"],["src","assets/images/0.png",1,"custom-img-digit",3,"click"],["src","assets/images/linev.png",1,"custom-img-digit"],["src","assets/images/1.png",1,"custom-img-digit",3,"click"],["src","assets/images/2.png",1,"custom-img-digit",3,"click"],["src","assets/images/3.png",1,"custom-img-digit",3,"click"],["src","assets/images/4.png",1,"custom-img-digit",3,"click"],["src","assets/images/lineh.png",1,"custom-img-digit"],["src","assets/images/5.png",1,"custom-img-digit",3,"click"],["src","assets/images/6.png",1,"custom-img-digit",3,"click"],["src","assets/images/7.png",1,"custom-img-digit",3,"click"],["src","assets/images/8.png",1,"custom-img-digit",3,"click"],["src","assets/images/9.png",1,"custom-img-digit",3,"click"],["src","assets/images/lineh.png"],["mat-button","",2,"background-color","blue","color","white","width","180px",3,"click"]],template:function(r,o){r&1&&(N(0,"mat-toolbar",0)(1,"span"),ee(2),j(),X(3,"span",1),j(),X(4,"br")(5,"br")(6,"br")(7,"br")(8,"br"),N(9,"span",2),ee(10,"Primero pulsa sobre un DIGITO"),j(),N(11,"span",2),ee(12,"\xA0"),j(),N(13,"span",2),ee(14,"\xA0"),j(),N(15,"div",3)(16,"TABLE")(17,"tr")(18,"td")(19,"img",4),xe("click",function(){return o.clickImg0()}),j()(),N(20,"td"),X(21,"img",5),j(),N(22,"td")(23,"img",6),xe("click",function(){return o.clickImg1()}),j()(),N(24,"td"),X(25,"img",5),j(),N(26,"td")(27,"img",7),xe("click",function(){return o.clickImg2()}),j()(),N(28,"td"),X(29,"img",5),j(),N(30,"td")(31,"img",8),xe("click",function(){return o.clickImg3()}),j()(),N(32,"td"),X(33,"img",5),j(),N(34,"td")(35,"img",9),xe("click",function(){return o.clickImg4()}),j()()(),N(36,"tr")(37,"td"),X(38,"img",10),j(),N(39,"td"),X(40,"img",10),j(),N(41,"td"),X(42,"img",10),j(),N(43,"td"),X(44,"img",10),j(),N(45,"td"),X(46,"img",10),j(),N(47,"td"),X(48,"img",10),j(),N(49,"td"),X(50,"img",10),j(),N(51,"td"),X(52,"img",10),j(),N(53,"td"),X(54,"img",10),j()(),N(55,"tr")(56,"td")(57,"img",11),xe("click",function(){return o.clickImg5()}),j()(),N(58,"td"),X(59,"img",5),j(),N(60,"td")(61,"img",12),xe("click",function(){return o.clickImg6()}),j()(),N(62,"td"),X(63,"img",5),j(),N(64,"td")(65,"img",13),xe("click",function(){return o.clickImg7()}),j()(),N(66,"td"),X(67,"img",5),j(),N(68,"td")(69,"img",14),xe("click",function(){return o.clickImg8()}),j()(),N(70,"td"),X(71,"img",5),j(),N(72,"td")(73,"img",15),xe("click",function(){return o.clickImg9()}),j()()()()(),N(74,"div",3),X(75,"img",16),j(),N(76,"span",2),ee(77,"Al ejecutar el MODELO se deducir\xE1 el d\xEDgito"),j(),N(78,"span",2),ee(79,"a partir del stream de la imagen pulsada"),j(),N(80,"span",2),ee(81,"\xA0"),j(),N(82,"span",2),ee(83,"\xA0"),j(),N(84,"div",3)(85,"button",17),xe("click",function(){return o.actionRun()}),ee(86,"Ejecutar-Modelo"),j()()),r&2&&(K(2),be(o.mytext_app))},dependencies:[jt,Kt],styles:[".example-fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.custom-toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:400}.custom-div-centered[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#fff}.custom-img-digit[_ngcontent-%COMP%]{width:28px;height:28px}.span-custom[_ngcontent-%COMP%]{width:100%;font-weight:700;font-size:14px;text-align:center;display:block}"]})}return e})();var wl={},b1={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function c8(e,t){wl[e]=t}function no(e){if(!(e in wl)){let n=sbe(e);if(n!==null)wl[e]=n;else return console.log("Could not get context for WebGL version",e),null}let t=wl[e];return t.isContextLost()?(delete wl[e],no(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),wl[e])}function ibe(e){if(typeof OffscreenCanvas<"u"&&e===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function sbe(e){if(e!==1&&e!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");let t=ibe(e);return t.addEventListener("webglcontextlost",n=>{n.preventDefault(),delete wl[e]},!1),e===1?t.getContext("webgl",b1)||t.getContext("experimental-webgl",b1):t.getContext("webgl2",b1)}var Sl=function(e){return e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH",e}(Sl||{}),ur=function(e){return e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD",e}(ur||{}),nr=function(e){return e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16",e}(nr||{});function Cl(e,t){return[t,e]}function u8(e,t){return e*t}function Ff(e){let t=E.sizeFromShape(e),n=Math.ceil(t/4);return E.sizeToSquarishShape(n)}function Ti(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function d8(e,t){let[n,r]=Ti(e,t);return n*r*4}function kf(e,t){let n=e,r,o,i,s,l,c,u,d,p,f;return Q().getNumber("WEBGL_VERSION")===2?(r=n.R32F,o=n.R16F,i=n.RGBA16F,s=n.RGBA32F,l=n.RED,u=4,d=1,p=n.HALF_FLOAT,f=n.FLOAT):(r=e.RGBA,o=e.RGBA,i=e.RGBA,s=n.RGBA,l=e.RGBA,u=4,d=4,p=t!=null?t.HALF_FLOAT_OES:null,f=e.FLOAT),c=e.RGBA,{internalFormatFloat:r,internalFormatHalfFloat:o,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:s,textureFormatFloat:l,downloadTextureFormat:c,downloadUnpackNumChannels:u,defaultNumChannels:d,textureTypeHalfFloat:p,textureTypeFloat:f}}function ke(e,t){let n=t();return Q().getBool("DEBUG")&&abe(e),n}function abe(e){let t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+ube(e,t))}var lbe=596e-10,cbe=65504;function p8(e){return!!(Q().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||e===0||lbe<Math.abs(e)&&Math.abs(e)<cbe)}function ube(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}function Af(e,t){return as(e,()=>e.getExtension(t),'Extension "'+t+'" not supported on this browser.')}function f8(e,t){let n=as(e,()=>e.createShader(e.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(ke(e,()=>e.shaderSource(n,t)),ke(e,()=>e.compileShader(n)),e.getShaderParameter(n,e.COMPILE_STATUS)===!1)throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function m8(e,t){let n=as(e,()=>e.createShader(e.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(ke(e,()=>e.shaderSource(n,t)),ke(e,()=>e.compileShader(n)),e.getShaderParameter(n,e.COMPILE_STATUS)===!1)throw pbe(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}var dbe=/ERROR: [0-9]+:([0-9]+):/g;function pbe(e,t){let n=dbe.exec(t);if(n==null){console.log(`Couldn't parse line number in error: ${t}`),console.log(e);return}let r=+n[1],o=e.split(`
`),i=o.length.toString().length+2,s=o.map((p,f)=>E.rightPad((f+1).toString(),i)+p),l=0;for(let p=0;p<s.length;p++)l=Math.max(s[p].length,l);let c=s.slice(0,r-1),u=s.slice(r-1,r),d=s.slice(r);console.log(c.join(`
`)),console.log(t.split(`
`)[0]),console.log(`%c ${E.rightPad(u[0],l)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(d.join(`
`))}function h8(e){return as(e,()=>e.createProgram(),"Unable to create WebGLProgram.")}function g8(e,t){if(ke(e,()=>e.linkProgram(t)),e.getProgramParameter(t,e.LINK_STATUS)===!1)throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}function S$(e,t){if(ke(e,()=>e.validateProgram(t)),e.getProgramParameter(t,e.VALIDATE_STATUS)===!1)throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function b8(e,t){let n=as(e,()=>e.createBuffer(),"Unable to create WebGLBuffer");return ke(e,()=>e.bindBuffer(e.ARRAY_BUFFER,n)),ke(e,()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)),n}function y8(e,t){let n=as(e,()=>e.createBuffer(),"Unable to create WebGLBuffer");return ke(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)),ke(e,()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)),n}function _8(e){return as(e,()=>e.createTexture(),"Unable to create WebGLTexture.")}function $8(e,t){let n=Q().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){let r=`[${e}x${t}]`;throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n){let r=`[${e}x${t}]`,o=`[${n}x${n}]`;throw new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+o+".")}}function x8(e){return as(e,()=>e.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function v1(e,t,n,r,o,i,s){let l=e.getAttribLocation(t,n);return l===-1?!1:(ke(e,()=>e.bindBuffer(e.ARRAY_BUFFER,r)),ke(e,()=>e.vertexAttribPointer(l,o,e.FLOAT,!1,i,s)),ke(e,()=>e.enableVertexAttribArray(l)),!0)}function fbe(e,t,n){hbe(e,n),ke(e,()=>e.activeTexture(e.TEXTURE0+n)),ke(e,()=>e.bindTexture(e.TEXTURE_2D,t))}function v8(e,t,n){return as(e,()=>e.getUniformLocation(t,n),'uniform "'+n+'" not present in program.')}function w8(e,t,n){return e.getUniformLocation(t,n)}function S8(e,t,n,r){ke(e,()=>fbe(e,t,r)),ke(e,()=>e.uniform1i(n,r))}function C$(e,t,n){ke(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,n)),ke(e,()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0))}function w1(e,t){ke(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,t)),ke(e,()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0))}function Mf(e){let t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+mbe(e,t))}function mbe(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}function as(e,t,n){let r=ke(e,()=>t());if(r==null)throw new Error(n);return r}function hbe(e,t){let n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){let o=`[gl.TEXTURE0, gl.TEXTURE${n}]`;throw new Error(`textureUnit must be in ${o}.`)}}function na(e,t=2){return E.sizeFromShape(e.slice(0,e.length-t))}function ra(e){if(e.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function I$(e){let t=[1,1,1];return e.length===0||e.length===1&&e[0]===1||(t=[na(e),...ra(e)]),t}function C8(e,t=!1){let n=Q().getNumber("WEBGL_MAX_TEXTURE_SIZE");t&&(n=n*2,e=e.map((o,i)=>i>=e.length-2?E.nearestLargerEven(e[i]):e[i]),e.length===1&&(e=[2,e[0]])),e.length!==2&&(e=E.squeezeShape(e).newShape);let r=E.sizeFromShape(e);if(e.length<=1&&r<=n)return[1,r];if(e.length===2&&e[0]<=n&&e[1]<=n)return e;if(e.length===3&&e[0]*e[1]<=n&&e[2]<=n)return[e[0]*e[1],e[2]];if(e.length===3&&e[0]<=n&&e[1]*e[2]<=n)return[e[0],e[1]*e[2]];if(e.length===4&&e[0]*e[1]*e[2]<=n&&e[3]<=n)return[e[0]*e[1]*e[2],e[3]];if(e.length===4&&e[0]<=n&&e[1]*e[2]*e[3]<=n)return[e[0],e[1]*e[2]*e[3]];if(t){let o=na(e),i=2,s=2;return e.length&&([i,s]=ra(e)),r=o*(i/2)*(s/2),E.sizeToSquarishShape(r).map(l=>l*2)}return E.sizeToSquarishShape(r)}function w$(e){return e%2===0}function Il(e,t){if(e=e.slice(-2),t=t.slice(-2),E.arraysEqual(e,t)||!e.length||!t.length||e[0]===0||e[1]===0||t[0]===0||t[1]===0)return!0;if(e.length!==t.length){let n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r||w$(n)&&w$(r)&&(e[0]===1||t[0]===1))return!0}return e[1]===t[1]&&w$(e[0])&&w$(t[0])}var _1,$1;function I8(e){if(_1==null){let t=no(e);_1=t.getParameter(t.MAX_TEXTURE_SIZE)}return _1}function E8(e){if($1==null){let t=no(e);$1=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,$1)}function T8(e){if(e===0)return 0;let t,n=no(e);return ro(n,"EXT_disjoint_timer_query_webgl2")&&e===2?t=2:ro(n,"EXT_disjoint_timer_query")?t=1:t=0,t}function ro(e,t){return e.getExtension(t)!=null}function S1(e){try{if(no(e)!=null)return!0}catch(t){return console.log("Error when getting WebGL context: ",t),!1}return!1}function D8(e){if(e===0)return!1;let t=no(e);if(e===1){if(!ro(t,"OES_texture_float"))return!1}else if(!ro(t,"EXT_color_buffer_float"))return!1;return x1(t)}function F8(e){if(e===0)return!1;let t=no(e);if(e===1){if(!ro(t,"OES_texture_float")||!ro(t,"WEBGL_color_buffer_float"))return!1}else{if(ro(t,"EXT_color_buffer_float"))return x1(t);let r="EXT_color_buffer_half_float";if(ro(t,r)){let o=t.getExtension(r);return gbe(t,o)}return!1}return x1(t)}function x1(e){let t=kf(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);let i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);let s=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(i),s}function gbe(e,t){let n=kf(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);let s=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,s),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);let l=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(s),l}function k8(e){return e!==2?!1:no(e).fenceSync!=null}function Di(e,t){Array.isArray(e)||(e=[e]),e.forEach(n=>{n!=null&&E.assert(n.dtype!=="complex64",()=>`${t} does not support complex64 tensors in the WebGL backend.`)})}var Ve=Q();Ve.registerFlag("HAS_WEBGL",()=>Ve.getNumber("WEBGL_VERSION")>0);Ve.registerFlag("WEBGL_VERSION",()=>S1(2)?2:S1(1)?1:0);Ve.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);Ve.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>Ve.get("WEBGL_VERSION")===2);Ve.registerFlag("WEBGL_CPU_FORWARD",()=>!0);Ve.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);Ve.registerFlag("WEBGL_PACK",()=>Ve.getBool("HAS_WEBGL"));Ve.registerFlag("WEBGL_PACK_NORMALIZATION",()=>Ve.getBool("WEBGL_PACK"));Ve.registerFlag("WEBGL_PACK_CLIP",()=>Ve.getBool("WEBGL_PACK"));Ve.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>Ve.getBool("WEBGL_PACK"));Ve.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>Ve.getBool("WEBGL_PACK"));Ve.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>Ve.getBool("WEBGL_PACK"));Ve.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>Ve.getBool("WEBGL_PACK"));Ve.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>Ve.getBool("WEBGL_PACK"));Ve.registerFlag("WEBGL_PACK_REDUCE",()=>Ve.getBool("WEBGL_PACK"));Ve.registerFlag("WEBGL_LAZILY_UNPACK",()=>Ve.getBool("WEBGL_PACK"));Ve.registerFlag("WEBGL_CONV_IM2COL",()=>Ve.getBool("WEBGL_PACK"));Ve.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>I8(Ve.getNumber("WEBGL_VERSION")));Ve.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>E8(Ve.getNumber("WEBGL_VERSION")));Ve.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{let e=Ve.getNumber("WEBGL_VERSION");return e===0?0:T8(e)});Ve.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>Ve.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!Qs.isMobile());Ve.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>D8(Ve.getNumber("WEBGL_VERSION")));Ve.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>Ve.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:Ve.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));Ve.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>F8(Ve.getNumber("WEBGL_VERSION")));Ve.registerFlag("WEBGL_FENCE_API_ENABLED",()=>k8(Ve.getNumber("WEBGL_VERSION")));Ve.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>Ve.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);Ve.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,e=>{if(e<0&&e!==-1)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)});Ve.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>Qs.isMobile()?1:-1,e=>{if(e<0&&e!==-1)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)});Ve.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);Ve.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);Ve.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);Ve.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);function cn(){let e,t,n,r,o,i,s,l,c,u;return Q().getNumber("WEBGL_VERSION")===2?(e="#version 300 es",t="in",n="out",r="in",o="texture",i="outputColor",s="out vec4 outputColor;",l=`
      bool isnan_custom(float val) {
        return (val > 0.0 || val < 0.0) ? false : val != 0.0;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `,c="",u=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(e="",t="attribute",n="varying",r="varying",o="texture2D",i="gl_FragColor",s="",l=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,c=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,u=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:o,output:i,defineOutput:s,defineSpecialNaN:l,defineSpecialInf:c,defineRound:u}}function ni(e,t,n="index"){let r=E.computeStrides(t);return r.map((o,i)=>{let s=`int ${e[i]} = ${n} / ${o}`,l=i===r.length-1?`int ${e[i+1]} = ${n} - ${e[i]} * ${o}`:`index -= ${e[i]} * ${o}`;return`${s}; ${l};`}).join("")}function El(e,t,n="index"){let r=E.computeStrides(t);return r.map((o,i)=>{let s=`int ${e[i]} = ${n} / outShapeStrides[${i}]`,l=i===r.length-1?`int ${e[i+1]} = ${n} - ${e[i]} * outShapeStrides[${i}]`:`index -= ${e[i]} * outShapeStrides[${i}]`;return`${s}; ${l};`}).join("")}function bbe(e,t){let n=e.length,r=e.map(i=>`${t}[${i}]`),o=new Array(n-1);o[n-2]=r[n-1];for(let i=n-3;i>=0;--i)o[i]=`(${o[i+1]} * ${r[i+1]})`;return o}function A8(e,t,n="index"){let r=e.map((i,s)=>s),o=bbe(r,t);return o.map((i,s)=>{let l=`int ${e[s]} = ${n} / ${o[s]}`,c=s===o.length-1?`int ${e[s+1]} = ${n} - ${e[s]} * ${o[s]}`:`index -= ${e[s]} * ${o[s]}`;return`${l}; ${c};`}).join("")}function wu(e){let t=E.computeStrides(e).map(n=>n.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;
  }
`}function Su(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}var T$=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;var{getBroadcastDims:M8}=A;function R8(e,t,n){let r=[];if(e.forEach(m=>{let h=E.sizeFromShape(m.shapeInfo.logicalShape);if(m.shapeInfo.isUniform?r.push(`uniform float ${m.name}${h>1?`[${h}]`:""};`):(r.push(`uniform sampler2D ${m.name};`),r.push(`uniform int offset${m.name};`)),n.enableShapeUniforms){let{uniformShape:g}=D$(n.packedInputs,m.shapeInfo.logicalShape,m.shapeInfo.texShape);switch(g.length){case 1:r.push(`uniform int ${m.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${m.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${m.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${m.name}Shape;`);break;default:break}r.push(`uniform ivec2 ${m.name}TexShape;`)}}),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;");break;default:break}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach(m=>{r.push(`uniform ${m.type} ${m.name}${m.arrayIndex?`[${m.arrayIndex}]`:""};`)});let o=r.join(`
`),i=e.map(m=>ybe(m,t,n.packedInputs,n.enableShapeUniforms)).join(`
`),s=t.texShape,l=cn(),c=xbe(l),u,d,p=Sbe(l);return t.isPacked?(u=_be(t.logicalShape,s,n.enableShapeUniforms),d=wbe(l)):(u=$be(t.logicalShape,s,n.enableShapeUniforms),d=vbe(l)),n.packedInputs&&(p+=Tbe),[p,c,d,o,u,i,n.userCode].join(`
`)}function Iu(e,t=!1){let n=e.shapeInfo.logicalShape;switch(n.length){case 0:return Lbe(e,t);case 1:return Wbe(e,t);case 2:return Vbe(e,t);case 3:return Gbe(e,t);case 4:return Kbe(e,t);case 5:return Xbe(e);case 6:return Ybe(e);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function j8(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return Bbe(e);case 1:return Ube(e,t);case 2:return zbe(e,t);case 3:return Hbe(e,t);default:return qbe(e,t)}}function ybe(e,t,n=!1,r){let o="";n?o+=j8(e,r):o+=Iu(e,r);let i=e.shapeInfo.logicalShape,s=t.logicalShape;return i.length<=s.length&&(n?o+=Zbe(e,t):o+=Qbe(e,t)),o}function _be(e,t,n){switch(e.length){case 0:return O8();case 1:return Dbe(e,t,n);case 2:return Nbe(e,t,n);case 3:return kbe(e,t,n);default:return Mbe(e,t,n)}}function $be(e,t,n){switch(e.length){case 0:return O8();case 1:return Fbe(e,t,n);case 2:return Pbe(e,t,n);case 3:return Abe(e,t,n);case 4:return Rbe(e,t,n);case 5:return jbe(e,t);case 6:return Obe(e,t);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}}function xbe(e){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${e.texture2D}(textureSampler, uv).r;
    }
  `}function vbe(e){return`
    void setOutput(float val) {
      ${e.output} = vec4(val, 0, 0, 0);
    }
  `}function wbe(e){return`
    void setOutput(vec4 val) {
      ${e.output} = val;
    }
  `}function Sbe(e){return`${e.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${e.varyingFs} vec2 resultUV;
    ${e.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${e.defineSpecialNaN}
    ${e.defineSpecialInf}
    ${e.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${Cbe}
    ${Ibe}
    ${Ebe}
  `}var Cbe=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Ibe=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Ebe=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Tbe=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function O8(){return`
    int getOutputCoords() {
      return 0;
    }
  `}function Dbe(e,t,n){let r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return r[0]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ${r[1]}.0);
      }
    `:r[1]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ${r[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);
    }
  `}function Fbe(e,t,n){return t[0]===1?n?`
      int getOutputCoords() {
        return int(resultUV.x * float(outTexShape[1]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.x * ${t[1]}.0);
      }
    `:t[1]===1?n?`
      int getOutputCoords() {
        return int(resultUV.y * float(outTexShape[0]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.y * ${t[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      return resTexRC.x * outTexShape[1] + resTexRC.y;
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${t[0]}, ${t[1]}));
      return resTexRC.x * ${t[1]} + resTexRC.y;
    }
  `}function kbe(e,t,n){if(n)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;let r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],o=Math.ceil(e[2]/2),i=o*Math.ceil(e[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${o});
      int c = imod(index, ${o}) * 2;

      return ivec3(b, r, c);
    }
  `}function Abe(e,t,n){if(n)return`
  ivec3 getOutputCoords() {
    ivec2 resTexRC = ivec2(resultUV.yx *
                           vec2(outTexShape[0], outTexShape[1]));
    int index = resTexRC.x * outTexShape[1] + resTexRC.y;
    ${El(["r","c","d"],e)}
    return ivec3(r, c, d);
  }
`;let r=ni(["r","c","d"],e);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;
      ${r}
      return ivec3(r, c, d);
    }
  `}function Mbe(e,t,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;let r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],o=Math.ceil(e[e.length-1]/2),i=o*Math.ceil(e[e.length-2]/2),s=i,l="",c="b, r, c";for(let u=2;u<e.length-1;u++)s*=e[e.length-u-1],l=`
      int b${u} = index / ${s};
      index -= b${u} * ${s};
    `+l,c=`b${u}, `+c;return`
    ivec${e.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      ${l}

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${o});
      int c = imod(index, ${o}) * 2;

      return ivec${e.length}(${c});
    }
  `}function Rbe(e,t,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      ${El(["r","c","d","d2"],e)}
      return ivec4(r, c, d, d2);
    }
  `;let r=ni(["r","c","d","d2"],e);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;
      ${r}
      return ivec4(r, c, d, d2);
    }
  `}function jbe(e,t){let n=ni(["r","c","d","d2","d3"],e);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},
                             ${t[1]}));

      int index = resTexRC.x * ${t[1]} + resTexRC.y;

      ${n}

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}function Obe(e,t){let n=ni(["r","c","d","d2","d3","d4"],e);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;

      ${n}

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}function Nbe(e,t,n){let r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(E.arraysEqual(e,t))return n?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));
      }
    `;let o=Math.ceil(e[1]/2);return n?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));

      int index = resTexRC.x * ${r[1]} + resTexRC.y;
      int r = 2 * (index / ${o});
      int c = imod(index, ${o}) * 2;

      return ivec2(r, c);
    }
  `}function Pbe(e,t,n){return E.arraysEqual(e,t)?n?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));
      }
    `:e[1]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${t[0]}, ${t[1]}));
        int index = resTexRC.x * ${t[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:e[0]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${t[0]}, ${t[1]}));
        int index = resTexRC.x * ${t[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:n?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;
      int r = index / ${e[1]};
      int c = index - r * ${e[1]};
      return ivec2(r, c);
    }
  `}function Tl(e){return`offset${e}`}function Bbe(e){let t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=cn();return`
    vec4 ${n}() {
      return ${r.texture2D}(${t}, halfCR);
    }
  `}function Lbe(e,t){let n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;let[o,i]=e.shapeInfo.texShape;if(o===1&&i===1)return`
      float ${r}() {
        return sampleTexture(${n}, halfCR);
      }
    `;let s=Tl(n);if(t)return`
    float ${r}() {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${s});
      return sampleTexture(${n}, uv);
    }
  `;let[l,c]=e.shapeInfo.texShape;return`
    float ${r}() {
      vec2 uv = uvFromFlat(${l}, ${c}, ${s});
      return sampleTexture(${n}, uv);
    }
  `}function Ube(e,t){let n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape,i=cn();if(t)return`
    vec4 ${r}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${i.texture2D}(${n}, uv);
    }
  `;let s=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];return`
    vec4 ${r}(int index) {
      vec2 uv = packedUVfrom1D(
        ${s[0]}, ${s[1]}, index);
      return ${i.texture2D}(${n}, uv);
    }
  `}function Wbe(e,t){let n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`
      float ${r}(int index) {
        ${Eu(e)}
      }
    `;let o=e.shapeInfo.texShape,i=o[0],s=o[1];if(s===1&&i===1)return`
      float ${r}(int index) {
        return sampleTexture(${n}, halfCR);
      }
    `;let l=Tl(n);return s===1?t?`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${l}) + 0.5) / float(${n}TexShape[0]));
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${l}) + 0.5) / ${i}.0);
        return sampleTexture(${n}, uv);
      }
    `:i===1?t?`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${l}) + 0.5) / float(${n}TexShape[1]), 0.5);
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${l}) + 0.5) / ${s}.0, 0.5);
        return sampleTexture(${n}, uv);
      }
    `:t?`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${l});
      return sampleTexture(${n}, uv);
    }
  `:`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${i}, ${s}, index + ${l});
      return sampleTexture(${n}, uv);
    }
  `}function zbe(e,t){let n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,s=i[0],l=i[1],c=cn();if(i!=null&&E.arraysEqual(n,i))return t?`
      vec4 ${o}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);

        return ${c.texture2D}(${r}, uv);
      }
    `:`
      vec4 ${o}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${l}.0, ${s}.0);

        return ${c.texture2D}(${r}, uv);
      }
    `;if(t)return`
    vec4 ${o}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${c.texture2D}(${r}, uv);
    }
  `;let u=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],d=Math.ceil(n[1]/2);return`
    vec4 ${o}(int row, int col) {
      vec2 uv = packedUVfrom2D(${d}, ${u[0]}, ${u[1]}, row, col);
      return ${c.texture2D}(${r}, uv);
    }
  `}function Vbe(e,t){let n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape;if(i!=null&&E.arraysEqual(n,i)){if(t)return`
      float ${o}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `;let f=i[0],m=i[1];return`
    float ${o}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${m}.0, ${f}.0);
      return sampleTexture(${r}, uv);
    }
  `}let{newShape:s,keptDims:l}=E.squeezeShape(n),c=s;if(c.length<n.length){let f=Tu(e,c),m=["row","col"];return`
      ${Iu(f,t)}
      float ${o}(int row, int col) {
        return ${o}(${Du(m,l)});
      }
    `}if(e.shapeInfo.isUniform)return`
      float ${o}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));
        ${Eu(e)}
      }
    `;let u=i[0],d=i[1],p=Tl(r);return d===1?t?`
      float ${o}(int row, int col) {
        float index = dot(vec3(row, col, ${p}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${o}(int row, int col) {
      float index = dot(vec3(row, col, ${p}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);
      return sampleTexture(${r}, uv);
    }
  `:u===1?t?`
      float ${o}(int row, int col) {
        float index = dot(vec3(row, col, ${p}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${o}(int row, int col) {
      float index = dot(vec3(row, col, ${p}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${d}.0, 0.5);
      return sampleTexture(${r}, uv);
    }
  `:t?`
      float ${o}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${r}Shape[1] + col + ${p};
        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
        return sampleTexture(${r}, uv);
      }
    `:`
  float ${o}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${n[1]} + col + ${p};
    vec2 uv = uvFromFlat(${u}, ${d}, index);
    return sampleTexture(${r}, uv);
  }
`}function Hbe(e,t){let n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,s=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(n[0]===1){let f=n.slice(1),m=[1,2],h=Tu(e,f),g=["b","row","col"];return`
        ${j8(h,t)}
        vec4 ${o}(int b, int row, int col) {
          return ${o}(${Du(g,m)});
        }
      `}let l=cn();if(t)return`
    vec4 ${o}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `;let c=s[0],u=s[1],d=Math.ceil(n[2]/2),p=d*Math.ceil(n[1]/2);return`
    vec4 ${o}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${c}, ${u}, ${p}, ${d}, b, row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `}function Gbe(e,t){let n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[1]*n[2],s=n[2],{newShape:l,keptDims:c}=E.squeezeShape(n),u=l;if(u.length<n.length){let g=Tu(e,u),_=["row","col","depth"];return`
        ${Iu(g,t)}
        float ${o}(int row, int col, int depth) {
          return ${o}(${Du(_,c)});
        }
      `}if(e.shapeInfo.isUniform)return`
      float ${o}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${i}, ${s}, 1)));
        ${Eu(e)}
      }
    `;let d=e.shapeInfo.texShape,p=d[0],f=d[1],m=e.shapeInfo.flatOffset;if(f===i&&m==null)return t?`
      float ${o}(int row, int col, int depth) {
        int stride1 = ${r}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
        float ${o}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${s}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${f}.0, ${p}.0);
          return sampleTexture(${r}, uv);
        }
      `;if(f===s&&m==null)return t?`
      float ${o}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${o}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${f}.0, ${p}.0);
      return sampleTexture(${r}, uv);
    }
  `;let h=Tl(r);return t?`
    float ${o}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${r}Shape[1] * ${r}Shape[2];
      int stride1 = ${r}Shape[2];
      int index = row * ${i} + col * ${s} + depth + ${h};
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
      return sampleTexture(${r}, uv);
    }
    `:`
      float ${o}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${i} + col * ${s} + depth + ${h};
        vec2 uv = uvFromFlat(${p}, ${f}, index);
        return sampleTexture(${r}, uv);
      }
  `}function qbe(e,t){let n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=cn();if(t)return`
    vec4 ${r}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${n}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${o.texture2D}(${n}, uv);
    }
  `;let i=e.shapeInfo.logicalShape,s=i.length,l=e.shapeInfo.texShape,c=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)],u=c[0],d=c[1],p=Math.ceil(i[s-1]/2),f=p*Math.ceil(i[s-2]/2),m="int b, int row, int col",h=`b * ${f} + (row / 2) * ${p} + (col / 2)`;for(let g=2;g<s-1;g++)m=`int b${g}, `+m,f*=i[s-g-1],h=`b${g} * ${f} + `+h;return`
    vec4 ${r}(${m}) {
      int index = ${h};
      int texR = index / ${d};
      int texC = index - texR * ${d};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${d}, ${u});
      return ${o.texture2D}(${n}, uv);
    }
  `}function Kbe(e,t){let n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[3],s=n[2]*i,l=n[1]*s,{newShape:c,keptDims:u}=E.squeezeShape(n);if(c.length<n.length){let x=Tu(e,c),w=["row","col","depth","depth2"];return`
      ${Iu(x,t)}
      float ${o}(int row, int col, int depth, int depth2) {
        return ${o}(${Du(w,u)});
      }
    `}if(e.shapeInfo.isUniform)return`
      float ${o}(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(${l}, ${s}, ${i}, 1)));
        ${Eu(e)}
      }
    `;let d=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,f=p[0],m=p[1],h=`int stride2 = ${r}Shape[3];`,g=`int stride1 = ${r}Shape[2] * stride2;`,_=`int stride0 = ${r}Shape[1] * stride1;`;if(m===l&&d==null)return t?`
      float ${o}(int row, int col, int depth, int depth2) {
        ${h}
        ${g}
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(stride1, stride2, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${o}(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(${s}, ${i}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${m}.0, ${f}.0);
        return sampleTexture(${r}, uv);
      }
    `;if(m===i&&d==null)return t?`
      float ${o}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${o}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${n[1]*n[2]}, ${n[2]}, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${m}.0, ${f}.0);
        return sampleTexture(${r}, uv);
      }
    `;let $=Tl(r);return t?`
    float ${o}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      ${h}
      ${g}
      ${_}
      int index = row * stride0 + col * stride1 +
          depth * stride2 + depth2;
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${$});
      return sampleTexture(${r}, uv);
    }
  `:`
    float ${o}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${l} + col * ${s} +
          depth * ${i} + depth2;
      vec2 uv = uvFromFlat(${f}, ${m}, index + ${$});
      return sampleTexture(${r}, uv);
    }
  `}function Xbe(e){let t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t[4],i=t[3]*o,s=t[2]*i,l=t[1]*s,{newShape:c,keptDims:u}=E.squeezeShape(t);if(c.length<t.length){let g=Tu(e,c),_=["row","col","depth","depth2","depth3"];return`
      ${Iu(g)}
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        return ${r}(${Du(_,u)});
      }
    `}if(e.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(${l}, ${s}, ${i}, ${o})) +
          depth3;
        ${Eu(e)}
      }
    `;let d=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,f=p[0],m=p[1];if(m===l&&d==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(${s}, ${i}, ${o}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${m}.0, ${f}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(m===o&&d==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(${t[1]*t[2]*t[3]},
               ${t[2]*t[3]}, ${t[3]}, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${m}.0, ${f}.0);
        return sampleTexture(${n}, uv);
      }
    `;let h=Tl(n);return`
    float ${r}(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${l} + col * ${s} + depth * ${i} +
          depth2 * ${o} + depth3 + ${h};
      vec2 uv = uvFromFlat(${f}, ${m}, index);
      return sampleTexture(${n}, uv);
    }
  `}function Ybe(e){let t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:o,keptDims:i}=E.squeezeShape(t);if(o.length<t.length){let _=Tu(e,o),$=["row","col","depth","depth2","depth3","depth4"];return`
      ${Iu(_)}
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return ${r}(${Du($,i)});
      }
    `}let s=t[5],l=t[4]*s,c=t[3]*l,u=t[2]*c,d=t[1]*u;if(e.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(${d}, ${u}, ${c}, ${l})) +
          dot(
            vec2(depth3, depth4),
            vec2(${s}, 1)));
        ${Eu(e)}
      }
    `;let p=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,m=f[0],h=f[1];if(h===d&&p==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(${u}, ${c}, ${l}, ${s})) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${h}.0, ${m}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(h===s&&p==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(${t[1]*t[2]*t[3]*t[4]},
               ${t[2]*t[3]*t[4]},
               ${t[3]*t[4]},
               ${t[4]})) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${h}.0, ${m}.0);
        return sampleTexture(${n}, uv);
      }
    `;let g=Tl(n);return`
    float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${d} + col * ${u} + depth * ${c} +
          depth2 * ${l} + depth3 * ${s} + depth4 + ${g};
      vec2 uv = uvFromFlat(${m}, ${h}, index);
      return sampleTexture(${n}, uv);
    }
  `}function Eu(e){let t=e.name,n=E.sizeFromShape(e.shapeInfo.logicalShape);return n<2?`return ${t};`:`
    for (int i = 0; i < ${n}; i++) {
      if (i == index) {
        return ${t}[i];
      }
    }
  `}function Zbe(e,t){let n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),o="get"+r+"AtOutCoords",i=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,l=M8(e.shapeInfo.logicalShape,t.logicalShape),c=Ke(s),u=s-i,d,p=["x","y","z","w","u","v"];i===0?d="":s<2&&l.length>=1?d="coords = 0;":d=l.map(x=>`coords.${p[x+u]} = 0;`).join(`
`);let f="";s<2&&i>0?f="coords":f=e.shapeInfo.logicalShape.map((x,w)=>`coords.${p[w+u]}`).join(", ");let m="return outputValue;",g=E.sizeFromShape(e.shapeInfo.logicalShape)===1,$=E.sizeFromShape(t.logicalShape)===1;if(i===1&&!g&&!$)m=`
      return vec4(outputValue.xy, outputValue.xy);
    `;else if(g&&!$)s===1?m=`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:m=`
        return vec4(outputValue.x);
      `;else if(l.length){let x=i-2,w=i-1;l.indexOf(x)>-1&&l.indexOf(w)>-1?m="return vec4(outputValue.x);":l.indexOf(x)>-1?m="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":l.indexOf(w)>-1&&(m="return vec4(outputValue.xx, outputValue.zz);")}return`
    vec4 ${o}() {
      ${c} coords = getOutputCoords();
      ${d}
      vec4 outputValue = get${r}(${f});
      ${m}
    }
  `}function Qbe(e,t){let n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),o="get"+r+"AtOutCoords",i=t.texShape,s=e.shapeInfo.texShape,l=e.shapeInfo.logicalShape.length,c=t.logicalShape.length;if(!e.shapeInfo.isUniform&&l===c&&e.shapeInfo.flatOffset==null&&E.arraysEqual(s,i))return`
      float ${o}() {
        return sampleTexture(${n}, resultUV);
      }
    `;let u=Ke(c),d=M8(e.shapeInfo.logicalShape,t.logicalShape),p=c-l,f,m=["x","y","z","w","u","v"];l===0?f="":c<2&&d.length>=1?f="coords = 0;":f=d.map(g=>`coords.${m[g+p]} = 0;`).join(`
`);let h="";return c<2&&l>0?h="coords":h=e.shapeInfo.logicalShape.map((g,_)=>`coords.${m[_+p]}`).join(", "),`
    float ${o}() {
      ${u} coords = getOutputCoords();
      ${f}
      return get${r}(${h});
    }
  `}function Ke(e){if(e<=1)return"int";if(e===2)return"ivec2";if(e===3)return"ivec3";if(e===4)return"ivec4";if(e===5)return"ivec5";if(e===6)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function D$(e,t,n){let{newShape:r,keptDims:o}=E.squeezeShape(t),i=t.length,s=e&&i===3&&t[0]===1,l=s?t.slice(1):r,c=!e&&i>1&&!E.arraysEqual(t,n)&&r.length<i||s;return{useSqueezeShape:c,uniformShape:c?l:t,keptDims:o}}function Tu(e,t){let n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function Du(e,t){return t.map(n=>e[n]).join(", ")}function P8(e,t,n,r){let o=n.map((w,S)=>{let I={logicalShape:w.shape,texShape:w.isUniform?null:w.texData.texShape,isUniform:w.isUniform,isPacked:w.isUniform?!1:w.texData.isPacked,flatOffset:null};return w.texData!=null&&w.texData.slice!=null&&w.texData.slice.flatOffset>0&&(I.flatOffset=w.texData.slice.flatOffset),{name:t.variableNames[S],shapeInfo:I}}),i=o.map(w=>w.shapeInfo),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},l=R8(o,s,t),c=e.createProgram(l),u=null,d=e.getUniformLocation(c,"NAN",!1);Q().getNumber("WEBGL_VERSION")===1&&(u=e.getUniformLocation(c,"INFINITY",!1));let p=!1,f={},m={},h={};for(let w=0;w<t.variableNames.length;w++){let S=t.variableNames[w];f[S]=e.getUniformLocation(c,S,p),f[`offset${S}`]=e.getUniformLocation(c,`offset${S}`,p),t.enableShapeUniforms&&(m[`${S}Shape`]=e.getUniformLocation(c,`${S}Shape`,p),h[`${S}TexShape`]=e.getUniformLocation(c,`${S}TexShape`,p))}let g,_,$;t.enableShapeUniforms&&(g=e.getUniformLocation(c,"outShape",p),$=e.getUniformLocation(c,"outShapeStrides",p),_=e.getUniformLocation(c,"outTexShape",p));let x=[];return t.customUniforms&&t.customUniforms.forEach((w,S)=>{x[S]=e.getUniformLocation(c,w.name,p)}),{program:t,source:l,webGLProgram:c,uniformLocations:f,customUniformLocations:x,inShapeInfos:i,outShapeInfo:s,infLoc:u,nanLoc:d,inShapesLocations:m,inTexShapesLocations:h,outShapeLocation:g,outShapeStridesLocation:$,outTexShapeLocation:_}}function N8(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach((n,r)=>{let o=n.logicalShape,i=t[r],s=i.shape;if(!E.arraysEqual(o,s))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${o} and ${s} must match`);if(n.isUniform&&i.isUniform)return;let l=n.texShape,c=i.isUniform?null:i.texData.texShape;if(!E.arraysEqual(l,c))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${l} and ${c} must match`)})}function B8(e,t,n,r,o){t.program.enableShapeUniforms||(N8(t.inShapeInfos,n),N8([t.outShapeInfo],[r]));let i=r.texData.texture,s=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(i,s[0],s[1]):e.setOutputMatrixTexture(i,s[0],s[1]),e.setProgram(t.webGLProgram),Q().getNumber("WEBGL_VERSION")===1&&t.infLoc!==null&&e.gl.uniform1f(t.infLoc,1/0),t.nanLoc!==null&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach((c,u)=>{let d=t.program.variableNames[u],p=t.uniformLocations[d],f=t.uniformLocations[`offset${d}`],m=t.inShapesLocations[`${d}Shape`],h=t.inTexShapesLocations[`${d}TexShape`];if(m){let{uniformShape:g}=D$(t.program.packedInputs,c.shape,c.texData.texShape);switch(g.length){case 1:e.gl.uniform1iv(m,new Int32Array(g));break;case 2:e.gl.uniform2iv(m,new Int32Array(g));break;case 3:e.gl.uniform3iv(m,new Int32Array(g));break;case 4:e.gl.uniform4iv(m,new Int32Array(g));break;default:break}}if(h&&e.gl.uniform2i(h,c.texData.texShape[0],c.texData.texShape[1]),p!=null){if(c.isUniform){if(E.sizeFromShape(c.shape)<2)e.gl.uniform1f(p,c.uniformValues[0]);else{let g=c.uniformValues;g instanceof Float32Array||(g=new Float32Array(g)),e.gl.uniform1fv(p,g)}return}c.texData.slice!=null&&f!=null&&e.gl.uniform1i(f,c.texData.slice.flatOffset),e.setInputMatrixTexture(c.texData.texture,p,u)}});let l=t.outShapeLocation;if(l)switch(r.shape.length){case 1:e.gl.uniform1iv(l,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(l,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(l,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(l,new Int32Array(r.shape));break;default:break}if(t.outShapeStridesLocation){let c=E.computeStrides(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(c));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(c));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(c));break;default:break}}t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&o&&t.program.customUniforms.forEach((c,u)=>{let d=t.customUniformLocations[u],p=o[u];if(c.type==="float")e.gl.uniform1fv(d,p);else if(c.type==="vec2")e.gl.uniform2fv(d,p);else if(c.type==="vec3")e.gl.uniform3fv(d,p);else if(c.type==="vec4")e.gl.uniform4fv(d,p);else if(c.type==="int")e.gl.uniform1iv(d,p);else if(c.type==="ivec2")e.gl.uniform2iv(d,p);else if(c.type==="ivec3")e.gl.uniform3iv(d,p);else if(c.type==="ivec4")e.gl.uniform4iv(d,p);else throw Error(`uniform type ${c.type} is not supported yet.`)}),e.executeProgram()}function L8(e,t,n){let r="";t.concat(n).forEach(s=>{let l=s.texData!=null&&s.texData.slice!=null&&s.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!s.isUniform){let c=s.texData.texShape,{useSqueezeShape:u,uniformShape:d,keptDims:p}=D$(e.packedInputs,s.shape,c),f="",m="",h="";if(d.length===1&&e.packedInputs){let I=[Math.ceil(c[0]/2),Math.ceil(c[1]/2)];f=`${I[0]>1}_${I[1]>1}`}else if(d.length===2&&!e.packedInputs)m=`${d[0]>1}_${d[1]>1}`;else if(d.length>2&&!e.packedInputs){let I=E.computeStrides(d);h=`${I[0]===c[1]}_${I[I.length-1]===c[1]}`}let g=s.shape.length,_=d.length===2&&E.arraysEqual(s.shape,c),$=E.sizeFromShape(s.shape)===1,x=A.getBroadcastDims(s.shape,n.shape),w=!e.packedInputs&&g===n.shape.length&&E.arraysEqual(c,n.texData.texShape),S=e.packedInputs||d.length>2?"":`${c[0]>1}_${c[1]>1}`;r+=`${g}_${w}_${u?p:""}_${d.length}_${$}_${x}_${_}_${f}_${m}_${h}_${S}_${l}`}else{let c=s.isUniform?"uniform":s.texData.texShape;r+=`${s.shape}_${c}_${l}`}});let o=e.userCode,i=e.constructor.name;return i+="_"+r+"_"+o+`${Q().getNumber("WEBGL_VERSION")}`,i}function yn(e){return Q().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}var F$=class{constructor(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Sl.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];let n=cn();this.outputShape=t,this.enableShapeUniforms=yn(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?El(["r","c","d"],t):ni(["r","c","d"],t)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${n.output} = result;
      }
    `}};var k$=class{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Sl.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];let n=cn();this.outputShape=t,this.enableShapeUniforms=yn(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?El(["r","c","d"],t):ni(["r","c","d"],t)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${n.output} = result;
      }
    `}};var A$=class{constructor(t){this.variableNames=["A"],this.outTexUsage=ur.DOWNLOAD;let n=cn();this.outputShape=t,this.userCode=`
      ${T$}

      void main() {
        float x = getAAtOutCoords();
        ${n.output} = encode_float(x);
      }
    `}};var M$=class{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=ur.DOWNLOAD;let n=cn();this.outputShape=t,this.userCode=`
      ${T$}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${n.output} = encode_float(x);
      }
    `}};var R$=class{constructor(t,n=!1){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];let r=cn();this.outputShape=t,this.enableShapeUniforms=yn(this.outputShape.length);let o="result";n&&(o="floor(result * 255. + 0.5)"),this.userCode=`
      ${this.enableShapeUniforms?Su():wu(t)}

      void main() {
        ivec3 coords = getOutputCoords();

        int flatIndex = getFlatIndex(coords);
        int offset = imod(flatIndex, 4);

        flatIndex = idiv(flatIndex, 4, 1.);

        int r = flatIndex / texShape[1];
        int c = imod(flatIndex, texShape[1]);
        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
        vec4 values = ${r.texture2D}(A, uv);

        float result;

        if(offset == 0) {
          result = values[0];
        } else if(offset == 1) {
          result = values[1];
        } else if(offset == 2) {
          result = values[2];
        } else {
          result = values[3];
        }

        ${r.output} = vec4(${o}, 0., 0., 0.);
      }
    `}};var j$=class{constructor(t,n=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];let r=cn();this.outputShape=t,this.enableShapeUniforms=yn(this.outputShape.length);let o="",i="result";n&&(i="floor(result * 255. + 0.5)");for(let s=0;s<=1;s++)for(let l=0;l<=1;l++){let c=s*2+l;o+=`
          localCoords = coords;
          if(localCoords[2] + ${l} < ${this.enableShapeUniforms?"outShape[2]":`${t[2]}`}) {
          localCoords[2] += ${l};
          if (localCoords[1] + ${s} < ${this.enableShapeUniforms?"outShape[1]":`${t[1]}`}) {
            localCoords[1] += ${s};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${r.texture2D}(A, uv);

            if (offset == 0) {
              result[${c}] = values[0];
            } else if (offset == 1) {
              result[${c}] = values[1];
            } else if (offset == 2) {
              result[${c}] = values[2];
            } else {
              result[${c}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?Su():wu(t)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${o}

          ${r.output} = ${i};
        }
    `}};function U8(e){let t=cn(),n=`${t.version}
    precision highp float;
    ${t.attribute} vec3 clipSpacePos;
    ${t.attribute} vec2 uv;
    ${t.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return f8(e,n)}function W8(e){let t=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return b8(e,t)}function z8(e){let t=new Uint16Array([0,1,2,2,1,3]);return y8(e,t)}function Rf(e,t,n,r,o,i){$8(t,n);let s=_8(e),l=e.TEXTURE_2D;return ke(e,()=>e.bindTexture(l,s)),ke(e,()=>e.texParameteri(l,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)),ke(e,()=>e.texParameteri(l,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),ke(e,()=>e.texParameteri(l,e.TEXTURE_MIN_FILTER,e.NEAREST)),ke(e,()=>e.texParameteri(l,e.TEXTURE_MAG_FILTER,e.NEAREST)),ke(e,()=>e.texImage2D(l,0,r,t,n,0,o,i,null)),ke(e,()=>e.bindTexture(e.TEXTURE_2D,null)),s}function C1(e){return e.internalFormatFloat}function V8(e,t,n,r){let[o,i]=Cl(t,n);return Rf(e,o,i,C1(r),r.textureFormatFloat,e.FLOAT)}function I1(e){return e.internalFormatHalfFloat}function H8(e,t,n,r){let[o,i]=Cl(t,n);return Rf(e,o,i,I1(r),r.textureFormatFloat,r.textureTypeHalfFloat)}function E1(e){return e.downloadTextureFormat}function G8(e,t,n,r){let[o,i]=Cl(t,n);return Rf(e,o,i,E1(r),e.RGBA,e.UNSIGNED_BYTE)}function T1(e){return e.internalFormatPackedFloat}function q8(e,t,n,r){let[o,i]=Ti(t,n);return Rf(e,o,i,T1(r),e.RGBA,e.FLOAT)}function D1(e){return e.internalFormatPackedHalfFloat}function K8(e,t,n,r){let[o,i]=Ti(t,n);return Rf(e,o,i,D1(r),e.RGBA,r.textureTypeHalfFloat)}function X8(e,t,n){return ke(e,()=>e.bindBuffer(e.ARRAY_BUFFER,n)),v1(e,t,"clipSpacePos",n,3,20,0)&&v1(e,t,"uv",n,2,20,12)}function Y8(e,t,n,r,o,i){ke(e,()=>e.bindTexture(e.TEXTURE_2D,t));let s,l,c;o instanceof Uint8Array?(s=new Uint8Array(n*r*4),l=e.UNSIGNED_BYTE,c=e.RGBA):(s=new Float32Array(n*r*4),l=e.FLOAT,c=i.internalFormatPackedFloat),s.set(o),ke(e,()=>e.texImage2D(e.TEXTURE_2D,0,c,n,r,0,e.RGBA,l,s)),ke(e,()=>e.bindTexture(e.TEXTURE_2D,null))}function Z8(e,t,n){ke(e,()=>e.bindTexture(e.TEXTURE_2D,t)),n.data instanceof Uint8Array?ke(e,()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data)):ke(e,()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)),ke(e,()=>e.bindTexture(e.TEXTURE_2D,null))}function Q8(e,t,n,r){let o=e.createBuffer();ke(e,()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,o));let l=4*4*t*n;return ke(e,()=>e.bufferData(e.PIXEL_PACK_BUFFER,l,e.STREAM_READ)),ke(e,()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0)),ke(e,()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null)),o}function J8(e,t,n){let r=e,o=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,o),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),o}function e5(e,t,n,r){let[o,i]=Cl(t,n),s=4,l=new Uint8Array(u8(t*n,s));return ke(e,()=>e.readPixels(0,0,o,i,r.downloadTextureFormat,e.UNSIGNED_BYTE,l)),new Float32Array(l.buffer)}function t5(e,t,n,r,o,i,s,l){let c=e,u=new Float32Array(d8(i,s));return c.bindBuffer(c.PIXEL_PACK_BUFFER,t),c.getBufferSubData(c.PIXEL_PACK_BUFFER,0,u),c.bindBuffer(c.PIXEL_PACK_BUFFER,null),u}function n5(e,t,n){let r=new Float32Array(t*n*4);return ke(e,()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r)),r}var O$=class{constructor(t){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];let n=Q().getNumber("WEBGL_VERSION");t!=null?(this.gl=t,c8(n,t)):this.gl=no(n);let r="WEBGL_color_buffer_float",o="EXT_color_buffer_half_float";if(Q().getNumber("WEBGL_VERSION")===1){let i="OES_texture_float",s="OES_texture_half_float";if(this.textureFloatExtension=Af(this.gl,i),ro(this.gl,s))this.textureHalfFloatExtension=Af(this.gl,s);else if(Q().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),ro(this.gl,o))this.colorBufferHalfFloatExtension=Af(this.gl,o);else if(Q().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",ro(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else if(ro(this.gl,o))this.colorBufferHalfFloatExtension=this.gl.getExtension(o);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=W8(this.gl),this.indexBuffer=z8(this.gl),this.framebuffer=x8(this.gl),this.textureConfig=kf(this.gl,this.textureHalfFloatExtension)}get debug(){return Q().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");let t=this.gl;ke(t,()=>t.finish()),ke(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,null)),ke(t,()=>t.deleteFramebuffer(this.framebuffer)),ke(t,()=>t.bindBuffer(t.ARRAY_BUFFER,null)),ke(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)),ke(t,()=>t.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(t,n){return this.throwIfDisposed(),V8(this.gl,t,n,this.textureConfig)}createFloat16MatrixTexture(t,n){return this.throwIfDisposed(),H8(this.gl,t,n,this.textureConfig)}createUnsignedBytesMatrixTexture(t,n){return this.throwIfDisposed(),G8(this.gl,t,n,this.textureConfig)}uploadPixelDataToTexture(t,n){this.throwIfDisposed(),Z8(this.gl,t,n)}uploadDenseMatrixToTexture(t,n,r,o){this.throwIfDisposed(),Y8(this.gl,t,n,r,o,this.textureConfig)}createFloat16PackedMatrixTexture(t,n){return this.throwIfDisposed(),K8(this.gl,t,n,this.textureConfig)}createPackedMatrixTexture(t,n){return this.throwIfDisposed(),q8(this.gl,t,n,this.textureConfig)}deleteMatrixTexture(t){this.throwIfDisposed(),this.outputTexture===t&&(w1(this.gl,this.framebuffer),this.outputTexture=null),ke(this.gl,()=>this.gl.deleteTexture(t))}downloadByteEncodedFloatMatrixFromOutputTexture(t,n,r){return this.downloadMatrixDriver(t,()=>e5(this.gl,n,r,this.textureConfig))}downloadPackedMatrixFromBuffer(t,n,r,o,i,s){return t5(this.gl,t,n,r,o,i,s,this.textureConfig)}downloadFloat32MatrixFromBuffer(t,n){return J8(this.gl,t,n)}createBufferFromTexture(t,n,r){this.bindTextureToFrameBuffer(t);let o=Q8(this.gl,n,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),o}createAndWaitForFence(){let t=this.createFence(this.gl);return this.pollFence(t)}createFence(t){let n,r;if(Q().getBool("WEBGL_FENCE_API_ENABLED")){let o=t,i=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);t.flush(),r=()=>{let s=o.clientWaitSync(i,0,0);return s===o.ALREADY_SIGNALED||s===o.CONDITION_SATISFIED},n=i}else Q().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),r=()=>this.isQueryAvailable(n,Q().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):r=()=>!0;return{query:n,isFencePassed:r}}downloadMatrixFromPackedTexture(t,n,r){return this.downloadMatrixDriver(t,()=>n5(this.gl,n,r))}createProgram(t){this.throwIfDisposed();let n=this.gl,r=m8(n,t);this.vertexShader==null&&(this.vertexShader=U8(n));let o=h8(n);return ke(n,()=>n.attachShader(o,this.vertexShader)),ke(n,()=>n.attachShader(o,r)),g8(n,o),this.debug&&S$(n,o),this.vertexAttrsAreBound||(this.setProgram(o),this.vertexAttrsAreBound=X8(n,this.program,this.vertexBuffer)),o}deleteProgram(t){this.throwIfDisposed(),t===this.program&&(this.program=null),t!=null&&ke(this.gl,()=>this.gl.deleteProgram(t))}setProgram(t){this.throwIfDisposed(),this.program=t,this.program!=null&&this.debug&&S$(this.gl,this.program),ke(this.gl,()=>this.gl.useProgram(t))}getUniformLocation(t,n,r=!0){return this.throwIfDisposed(),r?v8(this.gl,t,n):w8(this.gl,t,n)}getAttributeLocation(t,n){return this.throwIfDisposed(),ke(this.gl,()=>this.gl.getAttribLocation(t,n))}getUniformLocationNoThrow(t,n){return this.throwIfDisposed(),this.gl.getUniformLocation(t,n)}setInputMatrixTexture(t,n,r){this.throwIfDisposed(),this.throwIfNoProgram(),S8(this.gl,t,n,r)}setOutputMatrixTexture(t,n,r){this.setOutputMatrixTextureDriver(t,r,n)}setOutputPackedMatrixTexture(t,n,r){this.throwIfDisposed();let[o,i]=Ti(n,r);this.setOutputMatrixTextureDriver(t,o,i)}setOutputMatrixWriteRegion(t,n,r,o){this.setOutputMatrixWriteRegionDriver(r,t,o,n)}setOutputPackedMatrixWriteRegion(t,n,r,o){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&S$(this.gl,this.program),Mf(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();let t=this.gl;this.debug&&this.debugValidate(),ke(t,()=>t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),ke(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=Af(this.gl,Q().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(Q().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){let r=this.gl,o=this.getQueryTimerExtensionWebGL2(),i=r.createQuery();return r.beginQuery(o.TIME_ELAPSED_EXT,i),i}let t=this.getQueryTimerExtensionWebGL1(),n=t.createQueryEXT();return t.beginQueryEXT(t.TIME_ELAPSED_EXT,n),n}endQuery(){if(Q().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){let n=this.gl,r=this.getQueryTimerExtensionWebGL2();n.endQuery(r.TIME_ELAPSED_EXT);return}let t=this.getQueryTimerExtensionWebGL1();t.endQueryEXT(t.TIME_ELAPSED_EXT)}waitForQueryAndGetTime(t){return ie(this,null,function*(){return yield E.repeatedTry(()=>this.disposed||this.isQueryAvailable(t,Q().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(t,Q().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})}getQueryTime(t,n){if(n===0)return null;if(n===2){let r=this.gl;return r.getQueryParameter(t,r.QUERY_RESULT)/1e6}else{let r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(t,r.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(t,n){if(n===0)return!0;if(n===2){let r=this.gl,o=this.getQueryTimerExtensionWebGL2(),i=r.getQueryParameter(t,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(o.GPU_DISJOINT_EXT)),i&&!this.disjoint}else{let r=this.getQueryTimerExtensionWebGL1(),o=r.getQueryObjectEXT(t,r.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),o&&!this.disjoint}}pollFence(t){return new Promise(n=>{this.addItemToPoll(()=>t.isFencePassed(),()=>n())})}pollItems(){let t=nye(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=t;++n){let{resolveFn:r}=this.itemsToPoll[n];r()}this.itemsToPoll=this.itemsToPoll.slice(t+1)}addItemToPoll(t,n){this.itemsToPoll.push({isDoneFn:t,resolveFn:n}),!(this.itemsToPoll.length>1)&&E.repeatedTry(()=>(this.pollItems(),this.itemsToPoll.length===0))}bindTextureToFrameBuffer(t){this.throwIfDisposed(),C$(this.gl,t,this.framebuffer),this.debug&&Mf(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(C$(this.gl,this.outputTexture,this.framebuffer),this.debug&&Mf(this.gl)):w1(this.gl,this.framebuffer)}downloadMatrixDriver(t,n){this.bindTextureToFrameBuffer(t);let r=n();return this.unbindTextureToFrameBuffer(),r}setOutputMatrixTextureDriver(t,n,r){this.throwIfDisposed();let o=this.gl;C$(o,t,this.framebuffer),this.debug&&Mf(o),this.outputTexture=t,ke(o,()=>o.viewport(0,0,n,r)),ke(o,()=>o.scissor(0,0,n,r))}setOutputMatrixWriteRegionDriver(t,n,r,o){this.throwIfDisposed(),ke(this.gl,()=>this.gl.scissor(t,n,r,o))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}};function nye(e){let t=0;for(;t<e.length&&e[t]();++t);return t-1}var{addImpl:r5,bincountImpl:N$,bincountReduceImpl:o5,ceilImpl:i5,concatImpl:s5,equalImpl:a5,expImpl:l5,expm1Impl:c5,floorImpl:u5,gatherNdImpl:d5,gatherV2Impl:p5,greaterImpl:f5,greaterEqualImpl:m5,lessImpl:h5,lessEqualImpl:g5,linSpaceImpl:b5,logImpl:y5,maxImpl:_5,maximumImpl:$5,minimumImpl:x5,multiplyImpl:v5,negImpl:w5,notEqualImpl:S5,prodImpl:C5,rangeImpl:I5,rsqrtImpl:E5,sigmoidImpl:T5,simpleAbsImpl:P$,sliceImpl:D5,sparseFillEmptyRowsImpl:F5,sparseReshapeImpl:k5,sparseSegmentReductionImpl:B$,sqrtImpl:A5,stridedSliceImpl:M5,stringNGramsImpl:R5,stringSplitImpl:j5,stringToHashBucketFastImpl:O5,subImpl:N5,tileImpl:P5,topKImpl:B5,transposeImpl:Dl,uniqueImpl:L5}=YT;function F1(e,t){return["x","y","z","w","u","v"].slice(0,t).map(n=>`${e}.${n}`)}function $n(e,t){return t===1?[e]:F1(e,t)}function U5(e,t){if(e===1)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}var L$=class{constructor(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t;let n=t.length;if(n===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{let r=$n("rc",n),o=Ke(n),i=oye(n,t,r),s=iye(n,t[t.length-1],t[t.length-2],r),l=sye(t,r);this.userCode=`
        void main() {
          ${o} rc = getOutputCoords();

          if(${i}) {
            setOutput(vec4(0));
          } else {
            ${s}

            setOutput(vec4(${l}));
          }
        }
      `}}};function rye(e,t){let n=[];for(let r=0;r<=1;r++)for(let o=0;o<=1;o++){let i=`${r===0?"r":"rp1"}, ${o===0?"c":"cp1"}`;for(let s=2;s<e;s++)i=`${t[t.length-1-s]},`+i;n.push(i)}return n}function oye(e,t,n){if(e===1)return`rc > ${t[0]}`;let r="";for(let o=e-2;o<e;o++)r+=`${n[o]} >= ${t[o]}`,o<e-1&&(r+="||");return r}function iye(e,t,n,r){if(e===1)return"";let o=r.slice(-2);return`
    int r = ${o[0]};
    int c = ${o[1]};
    int rp1 = r + 1;
    int cp1 = c + 1;

    bool cEdge = cp1 >= ${t};
    bool rEdge = rp1 >= ${n};
  `}function sye(e,t){let n=e.length,r=rye(n,t);return n===1?`getA(rc),
            rc + 1 >= ${e[0]} ? 0. : getA(rc + 1),
            0, 0`:`getA(${r[0]}),
          cEdge ? 0. : getA(${r[1]}),
          rEdge ? 0. : getA(${r[2]}),
          rEdge || cEdge ? 0. : getA(${r[3]})`}var Fu=class{constructor(t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=t,this.enableShapeUniforms=yn(this.outputShape.length);let r="";for(let o=0;o<4;o++){let i="thisRC = rc;";o%2===1&&(i+="thisRC.z += 1;"),o>1&&(i+="thisRC.y += 1;"),r+=`
        ${i}
        ${o>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${o}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${o>0?"}":""}
      `}this.userCode=`
      ${aye(n,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?Su():wu(t)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":t[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":t[2]};

        ${r}

        setOutput(result);
      }
    `}};function aye(e,t){return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${t?A8(["r","c","d"],"inputShape"):ni(["r","c","d"],e)}
      return ivec3(r, c, d);
    }
  `}var U$=class{constructor(t){this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}acquireTexture(t,n,r){let o=z5(n,r),i=V5(t,o,r);i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]);let s=W5(t,o,this.gpgpu.gl,this.gpgpu.textureConfig,r);if(this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=s,this.log();let c=this.freeTextures[i].shift();return this.usedTextures[i].push(c),c}let l;return o===nr.PACKED_2X2_FLOAT32?l=this.gpgpu.createPackedMatrixTexture(t[0],t[1]):o===nr.PACKED_2X2_FLOAT16?l=this.gpgpu.createFloat16PackedMatrixTexture(t[0],t[1]):o===nr.UNPACKED_FLOAT32?l=this.gpgpu.createFloat32MatrixTexture(t[0],t[1]):o===nr.UNPACKED_FLOAT16?l=this.gpgpu.createFloat16MatrixTexture(t[0],t[1]):o===nr.PACKED_4X1_UNSIGNED_BYTE&&(l=this.gpgpu.createUnsignedBytesMatrixTexture(t[0],t[1])),this.usedTextures[i].push(l),this.numUsedTextures++,this._numBytesAllocated+=s,this.log(),l}releaseTexture(t,n,r,o){if(this.freeTextures==null)return;let i=z5(r,o),s=V5(n,i,o);s in this.freeTextures||(this.freeTextures[s]=[]);let l=W5(n,i,this.gpgpu.gl,this.gpgpu.textureConfig,o),c=Q().get("WEBGL_DELETE_TEXTURE_THRESHOLD");c!==-1&&this._numBytesAllocated>c?(this.gpgpu.deleteMatrixTexture(t),this._numBytesAllocated-=l):(this.freeTextures[s].push(t),this.numFreeTextures++,this._numBytesFree+=l),this.numUsedTextures--;let u=this.usedTextures[s],d=u.indexOf(t);if(d<0)throw new Error("Cannot release a texture that was never provided by this texture manager");u.splice(d,1),this.log()}log(){if(!this.logEnabled)return;let t=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${t})`);let n=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*n)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(let t in this.freeTextures)this.freeTextures[t].forEach(n=>{this.gpgpu.deleteMatrixTexture(n)});for(let t in this.usedTextures)this.usedTextures[t].forEach(n=>{this.gpgpu.deleteMatrixTexture(n)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}};function lye(e,t){let n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;throw new Error(`Unknown internal format ${t}`)}function W5(e,t,n,r,o){let i=cye(t,r),s;if(o){let[c,u]=Ti(e[0],e[1]);s=c*u}else{let[c,u]=Cl(e[0],e[1]);s=c*u}let l=lye(n,i);return s*l}function cye(e,t){switch(e){case nr.PACKED_2X2_FLOAT32:return T1(t);case nr.PACKED_2X2_FLOAT16:return D1(t);case nr.UNPACKED_FLOAT32:return C1(t);case nr.UNPACKED_FLOAT16:return I1(t);case nr.PACKED_4X1_UNSIGNED_BYTE:return E1(t);default:throw new Error(`Unknown physical texture type ${e}`)}}function uye(e){return Q().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?nr.PACKED_2X2_FLOAT32:nr.UNPACKED_FLOAT32:e?nr.PACKED_2X2_FLOAT16:nr.UNPACKED_FLOAT16}function z5(e,t){if(e===ur.UPLOAD)return nr.PACKED_2X2_FLOAT32;if(e===ur.RENDER||e==null)return uye(t);if(e===ur.DOWNLOAD||e===ur.PIXELS)return nr.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function V5(e,t,n){return`${e[0]}_${e[1]}_${t}_${n}`}var vr=class{constructor(t,n){this.variableNames=["A"],this.outputShape=t,this.enableShapeUniforms=yn(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${n}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}},Wn="if (isnan(x)) return x;",H5="return x;",k1="return abs(x);";var G5="return (x >= 0.0) ? x : (exp(x) - 1.0);",q5=Wn+`
  return (x < 0.0) ? 0.0 : x;
`,K5=Wn+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,jf="return x;",X5="return 1.0 / (1.0 + exp(-1.0 * x));";var Z5="return x;",Q5=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,J5=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,eq=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,tq="return 1.0 / (1.0 + exp(-1.0 * x));",ko=class{constructor(t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.enableShapeUniforms=yn(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${n}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}};var W$=class{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t;let n=t.length,r=$n("rc",n),o=Ke(n),i=U5(n,r),s=r.slice(-2),l=n<=1?"rc":`vec2(${s.join(",")})`;this.userCode=`
      void main() {
        ${o} rc = getOutputCoords();
        vec4 packedInput = getA(${i});

        setOutput(getChannel(packedInput, ${l}));
      }
    `}};var pye=er.whereImpl,fye=1e-7,mye=1e-4,z$={};function hye(e){return e in z$||(z$[e]={}),z$[e]}var gye=Q().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),bye=600;function yye(){return Q().global.screen==null?1024:Q().global.screen.height*Q().global.screen.width*window.devicePixelRatio*bye/1024/1024}var nq=(()=>{class e extends es{constructor(n){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!Q().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(n==null){let r=no(Q().getNumber("WEBGL_VERSION"));this.binaryCache=hye(Q().getNumber("WEBGL_VERSION")),this.gpgpu=new O$(r),this.canvas=r.canvas,this.gpgpuCreatedLocally=!0}else this.gpgpu=n,this.binaryCache={},this.gpgpuCreatedLocally=!1,this.canvas=n.gl.canvas;this.textureManager=new U$(this.gpgpu),this.numMBBeforeWarning=yye(),this.texData=new Qa(this,rs())}nextDataId(){return e.nextDataId++}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}write(n,r,o){if((Q().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||Q().getBool("DEBUG"))&&this.checkNumericalProblems(n),o==="complex64"&&n!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");let i={id:this.nextDataId()};return this.texData.set(i,{shape:r,dtype:o,values:n,usage:ur.UPLOAD,refCount:1}),i}refCount(n){return this.texData.has(n)?this.texData.get(n).refCount:0}incRef(n){let r=this.texData.get(n);r.refCount++}decRef(n){if(this.texData.has(n)){let r=this.texData.get(n);r.refCount--}}move(n,r,o,i,s){if(Q().getBool("DEBUG")&&this.checkNumericalProblems(r),i==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(n,{shape:o,dtype:i,values:r,usage:ur.UPLOAD,refCount:s})}disposeIntermediateTensorInfo(n){this.disposeData(n.dataId)}readSync(n){let r=this.texData.get(n),{values:o,dtype:i,complexTensorInfos:s,slice:l,shape:c,isPacked:u}=r;if(l!=null){let m;u?m=new ko(c,jf):m=new vr(c,jf);let h=this.runWebGLProgram(m,[{dataId:n,shape:c,dtype:i}],i),g=this.readSync(h.dataId);return this.disposeIntermediateTensorInfo(h),g}if(o!=null)return this.convertAndCacheOnCPU(n);if(i==="string")return o;let d=this.activeTimers!=null,p;d&&(p=E.now());let f;if(i==="complex64"){let m=this.readSync(s.real.dataId),h=this.readSync(s.imag.dataId);f=A.mergeRealAndImagArrays(m,h)}else f=this.getValuesFromTexture(n);return d&&(this.downloadWaitMs+=E.now()-p),this.convertAndCacheOnCPU(n,f)}read(n){return ie(this,null,function*(){if(this.pendingRead.has(n)){let g=this.pendingRead.get(n);return new Promise(_=>g.push(_))}let r=this.texData.get(n),{values:o,shape:i,slice:s,dtype:l,complexTensorInfos:c,isPacked:u}=r;if(s!=null){let g;u?g=new ko(i,jf):g=new vr(i,jf);let _=this.runWebGLProgram(g,[{dataId:n,shape:i,dtype:l}],l),$=this.read(_.dataId);return this.disposeIntermediateTensorInfo(_),$}if(o!=null)return this.convertAndCacheOnCPU(n);if(!Q().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&Q().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let d=null,p;if(l!=="complex64"&&Q().get("WEBGL_BUFFER_SUPPORTED")){p=this.decode(n);let g=this.texData.get(p.dataId);d=this.gpgpu.createBufferFromTexture(g.texture,...Ff(i))}this.pendingRead.set(n,[]),l!=="complex64"&&(yield this.gpgpu.createAndWaitForFence());let f;if(l==="complex64"){let g=yield Promise.all([this.read(c.real.dataId),this.read(c.imag.dataId)]),_=g[0],$=g[1];f=A.mergeRealAndImagArrays(_,$)}else if(d==null)f=this.getValuesFromTexture(n);else{let g=E.sizeFromShape(i);f=this.gpgpu.downloadFloat32MatrixFromBuffer(d,g)}if(p!=null&&this.disposeIntermediateTensorInfo(p),d!=null){let g=this.gpgpu.gl;ke(g,()=>g.deleteBuffer(d))}let m=this.convertAndCacheOnCPU(n,f),h=this.pendingRead.get(n);return this.pendingRead.delete(n),h.forEach(g=>g(m)),this.pendingDisposal.has(n)&&(this.pendingDisposal.delete(n),this.disposeData(n)&&rs().removeDataId(n,this),this.pendingDeletes--),m})}bufferSync(n){let r=this.readSync(n.dataId),o=r;if(n.dtype==="string")try{o=r.map(i=>E.decodeString(i))}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return We(n.shape,n.dtype,o)}checkNumericalProblems(n){if(n!=null)for(let r=0;r<n.length;r++){let o=n[r];if(!p8(o))throw Q().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${o} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${o} cannot be represented on this device.`)}}getValuesFromTexture(n){let{shape:r,dtype:o,isPacked:i}=this.texData.get(n),s=E.sizeFromShape(r);if(Q().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){let m=this.decode(n),h=this.texData.get(m.dataId),g=this.gpgpu.downloadMatrixFromPackedTexture(h.texture,...Ff(r)).subarray(0,s);return this.disposeIntermediateTensorInfo(m),g}let l=Q().getBool("WEBGL_PACK")&&i===!0,c=l?I$(r):r,u=l?new M$(c):new A$(c),d=this.runWebGLProgram(u,[{shape:c,dtype:o,dataId:n}],"float32"),p=this.texData.get(d.dataId),f=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(p.texture,p.texShape[0],p.texShape[1]).subarray(0,s);return this.disposeIntermediateTensorInfo(d),f}timerAvailable(){return Q().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(n){return ie(this,null,function*(){let r=this.activeTimers,o=[],i=!1;this.programTimersStack==null?(this.programTimersStack=o,i=!0):this.activeTimers.push(o),this.activeTimers=o,n();let s=E.flatten(this.activeTimers.map(u=>u.query)).filter(u=>u!=null),l=E.flatten(this.activeTimers.map(u=>u.name)).filter(u=>u!=null);this.activeTimers=r,i&&(this.programTimersStack=null);let c={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};if(Q().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){let u=yield Promise.all(s);c.kernelMs=E.sum(u),c.getExtraProfileInfo=()=>u.map((d,p)=>({name:l[p],ms:d})).map(d=>`${d.name}: ${d.ms}`).join(", ")}else c.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,c})}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return Q().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:E.now(),endMs:null}}endTimer(n){return Q().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),n):(n.endMs=E.now(),n)}getQueryTime(n){return ie(this,null,function*(){if(Q().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(n);let r=n;return r.endMs-r.startMs})}disposeData(n,r=!1){if(this.pendingDisposal.has(n))return!1;if(!this.texData.has(n))return!0;if(r?this.texData.get(n).refCount=0:this.texData.get(n).refCount--,!r&&this.texData.get(n).refCount>0)return!1;if(this.pendingRead.has(n))return this.pendingDisposal.add(n),this.pendingDeletes++,!1;this.releaseGPUData(n);let{complexTensorInfos:o}=this.texData.get(n);return o!=null&&(this.disposeData(o.real.dataId,r),this.disposeData(o.imag.dataId,r)),this.texData.delete(n),!0}releaseGPUData(n){let{texture:r,dtype:o,texShape:i,usage:s,isPacked:l,slice:c}=this.texData.get(n),u=c&&c.origDataId||n,d=this.dataRefCount.get(u);d>1?this.dataRefCount.set(u,d-1):(this.dataRefCount.delete(u),r!=null&&(this.numBytesInGPU-=this.computeBytes(i,o),this.textureManager.releaseTexture(r,i,s,l)));let p=this.texData.get(n);p.texture=null,p.texShape=null,p.isPacked=!1,p.slice=null}getTexture(n){return this.uploadToGPU(n),this.texData.get(n).texture}getDataInfo(n){return this.texData.get(n)}shouldExecuteOnCPU(n,r=gye){return Q().getBool("WEBGL_CPU_FORWARD")&&n.every(o=>this.texData.get(o.dataId).texture==null&&E.sizeFromShape(o.shape)<r)}getGPGPUContext(){return this.gpgpu}where(n){A.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");let r=n.dataSync();return pye(n.shape,r)}packedUnaryOp(n,r,o){let i=new ko(n.shape,r),s=this.compileAndRun(i,[n],o);return rs().makeTensorFromDataId(s.dataId,s.shape,s.dtype)}abs(n){if(this.shouldExecuteOnCPU([n])&&n.dtype!=="complex64"){let i=P$(this.texData.get(n.dataId).values);return this.makeOutput(n.shape,n.dtype,i)}if(Q().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,k1,n.dtype);let r=new vr(n.shape,k1),o=this.compileAndRun(r,[n]);return rs().makeTensorFromDataId(o.dataId,o.shape,o.dtype)}makeTensorInfo(n,r,o){let i;if(r==="string"&&o!=null&&o.length>0&&E.isString(o[0])){let s=o.map(l=>E.encodeString(l));i=this.write(s,n,r)}else i=this.write(o,n,r);return this.texData.get(i).usage=null,{dataId:i,shape:n,dtype:r}}makeOutput(n,r,o){let{dataId:i}=this.makeTensorInfo(n,r,o);return rs().makeTensorFromDataId(i,n,r,this)}unpackTensor(n){let r=new W$(n.shape);return this.runWebGLProgram(r,[n],n.dtype)}packTensor(n){let r=new L$(n.shape);return this.runWebGLProgram(r,[n],n.dtype,null,!0)}packedReshape(n,r){let o=[na(n.shape),...ra(n.shape)],i={dtype:n.dtype,shape:o,dataId:n.dataId},s=[na(r),...ra(r)],l=new Fu(s,o),c=!0,u=[o],d=this.runWebGLProgram(l,[i],n.dtype,u,c);return{dataId:d.dataId,shape:r,dtype:d.dtype}}decode(n){let r=this.texData.get(n),{isPacked:o,shape:i,dtype:s}=r,l=I$(i),c,u=Ff(l);o?c=new k$(l):c=new F$(l);let d=!0,p=[u],f=this.runWebGLProgram(c,[{shape:l,dtype:s,dataId:n}],s,p,d);return{dtype:s,shape:i,dataId:f.dataId}}runWebGLProgram(n,r,o,i,s=!1){let l=this.makeTensorInfo(n.outputShape,o),c=this.texData.get(l.dataId);if(n.packedOutput&&(c.isPacked=!0),n.outPackingScheme===Sl.DENSE){let $=Ff(n.outputShape);c.texShape=$.map(x=>x*2)}if(n.outTexUsage!=null&&(c.usage=n.outTexUsage),E.sizeFromShape(l.shape)===0)return c.values=E.getTypedArrayFromDType(l.dtype,0),l;let u=[],d=r.map($=>{if($.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let x=this.texData.get($.dataId);if(x.texture==null){if(!n.packedInputs&&E.sizeFromShape($.shape)<=Q().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:$.shape,texData:null,isUniform:!0,uniformValues:x.values};n.packedInputs&&(x.isPacked=!0,x.shape=$.shape)}else if(!!x.isPacked!=!!n.packedInputs)$=x.isPacked?this.unpackTensor($):this.packTensor($),u.push($),x=this.texData.get($.dataId);else if(x.isPacked&&!Il(x.shape,$.shape)){let w=$,S=$.shape;$.shape=x.shape,$=this.packedReshape($,S),u.push($),x=this.texData.get($.dataId),w.shape=S}return this.uploadToGPU($.dataId),{shape:$.shape,texData:x,isUniform:!1}});this.uploadToGPU(l.dataId);let p={shape:l.shape,texData:c,isUniform:!1},f=L8(n,d,p),m=this.getAndSaveBinary(f,()=>P8(this.gpgpu,n,d,p)),h=this.activeTimers!=null,g;h&&(g=this.startTimer()),B8(this.gpgpu,m,d,p,i),u.forEach($=>this.disposeIntermediateTensorInfo($)),h&&(g=this.endTimer(g),this.activeTimers.push({name:n.constructor.name,query:this.getQueryTime(g)}));let _=Q().get("WEBGL_FLUSH_THRESHOLD");if(_>0){let $=E.now();$-this.lastGlFlushTime>_&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=$)}if(!Q().getBool("WEBGL_LAZILY_UNPACK")&&c.isPacked&&s===!1){let $=this.unpackTensor(l);return this.disposeIntermediateTensorInfo(l),$}return l}compileAndRun(n,r,o,i,s=!1){return o=o||r[0].dtype,this.runWebGLProgram(n,r,o,i,s)}getAndSaveBinary(n,r){return n in this.binaryCache||(this.binaryCache[n]=r()),this.binaryCache[n]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(Q().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(r=>{this.gpgpu.deleteProgram(this.binaryCache[r].webGLProgram),delete this.binaryCache[r]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=uV(()=>{if(!Q().get("WEBGL_RENDER_FLOAT32_ENABLED")){let n=Q().getBool("DEBUG");Q().set("DEBUG",!1);let r=this.abs(_T(1e-8)).dataSync()[0];if(Q().set("DEBUG",n),r>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?fye:mye}uploadToGPU(n){let r=this.texData.get(n),{shape:o,dtype:i,values:s,texture:l,usage:c,isPacked:u}=r;if(l!=null)return;let d=this.activeTimers!=null,p;d&&(p=E.now());let f=r.texShape;if(f==null&&(f=C8(o,u),r.texShape=f),s!=null){let m=I$(o),h,g=f[1],_=f[0],$=s instanceof Uint8Array||s instanceof Uint8ClampedArray;u?([g,_]=Ti(f[0],f[1]),h=new j$(m,$)):h=new R$(m,$);let x=this.makeTensorInfo([_,g],i);$?this.texData.get(x.dataId).usage=ur.PIXELS:this.texData.get(x.dataId).usage=ur.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(x.dataId),g,_,s);let w=[[_,g]],I=this.runWebGLProgram(h,[x],i,w,!0),F=this.texData.get(I.dataId);r.texture=F.texture,r.texShape=F.texShape,r.isPacked=F.isPacked,r.usage=F.usage,this.disposeIntermediateTensorInfo(x),this.texData.delete(I.dataId),r.values=null,d&&(this.uploadWaitMs+=E.now()-p)}else{let m=this.acquireTexture(f,c,i,u);r.texture=m}}convertAndCacheOnCPU(n,r){let o=this.texData.get(n),{dtype:i}=o;return this.releaseGPUData(n),r!=null&&(o.values=_ye(r,i)),o.values}acquireTexture(n,r,o,i){if(this.numBytesInGPU+=this.computeBytes(n,o),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){let s=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${s} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(n,r,i)}computeBytes(n,r){return n[0]*n[1]*E.bytesPerElement(r)}}return e.nextDataId=0,e})();function _ye(e,t){if(t==="float32"||t==="complex64")return e;if(t==="int32"||t==="bool"){let n=t==="int32"?new Int32Array(e.length):new Uint8Array(e.length);for(let r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}else throw new Error(`Unknown dtype ${t}`)}Qs.isBrowser()&&Z_("webgl",()=>new nq,2);var V$=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`;var oo=class{constructor(t,n,r){this.variableNames=["A","B"],this.outputShape=A.assertAndGetBroadcastShape(n,r),this.enableShapeUniforms=yn(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${t}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}};var oa=`
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;
`;var Ao=class{constructor(t,n,r,o=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=A.assertAndGetBroadcastShape(n,r);let i=this.outputShape.length;this.enableShapeUniforms=yn(i);let s="";if(o)if(i===0||E.sizeFromShape(this.outputShape)===1)s=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(s=`
          ${Ke(i)} coords = getOutputCoords();
        `,i===1)this.enableShapeUniforms?s+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:s+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{let c=$n("coords",i);this.enableShapeUniforms?s+=`
            bool nextRowOutOfBounds =
              (${c[i-2]} + 1) >= outShape[${i} - 2];
            bool nextColOutOfBounds =
              (${c[i-1]} + 1) >= outShape[${i} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:s+=`
            bool nextRowOutOfBounds =
              (${c[i-2]} + 1) >= ${this.outputShape[i-2]};
            bool nextColOutOfBounds =
              (${c[i-1]} + 1) >= ${this.outputShape[i-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${t}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${s}

        setOutput(result);
      }
    `}};function xn(e){let{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var rq={kernelName:Ys,backendName:"webgl",kernelFunc:xn};function Rr(e){let{inputs:t,backend:n}=e,{real:r,imag:o}=t,i=n.makeTensorInfo(r.shape,"complex64"),s=n.texData.get(i.dataId),l=xn({inputs:{x:r},backend:n}),c=xn({inputs:{x:o},backend:n});return s.complexTensorInfos={real:l,imag:c},i}var oq={kernelName:tu,backendName:"webgl",kernelFunc:Rr};var A1="return (a < 0.) ? b * a : a;",M1=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function $ye(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{alpha:i}=r,s=n.makeTensorInfo([],"float32",E.createScalarValue(i,"float32")),l=Q().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ao(M1,o.shape,s.shape):new oo(A1,o.shape,s.shape),c=n.runWebGLProgram(l,[o,s],"float32");return n.disposeIntermediateTensorInfo(s),c}var iq={kernelName:nu,backendName:"webgl",kernelFunc:$ye};var R1="return (a < 0.) ? b * a : a;",j1=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function xye(e){let{inputs:t,backend:n}=e,{x:r,alpha:o}=t,i=Q().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ao(j1,r.shape,o.shape):new oo(R1,r.shape,o.shape);return n.runWebGLProgram(i,[r,o],"float32")}var sq={kernelName:ru,backendName:"webgl",kernelFunc:xye};var H$="if (isnan(x)) return x;",aq=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`,lq=`
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;
`;function Te({opSnippet:e,packedOpSnippet:t,cpuKernelImpl:n,dtype:r}){return({inputs:o,backend:i})=>{let{x:s}=o,l=i,c=r||s.dtype;if(l.shouldExecuteOnCPU([s])&&n!=null){let p=l.texData.get(s.dataId),f=n(p.values,c);return l.makeTensorInfo(s.shape,c,f)}let u=Q().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&t!=null,d;return u?d=new ko(s.shape,t):d=new vr(s.shape,e),l.runWebGLProgram(d,[s],c)}}function Tt({opSnippet:e,packedOpSnippet:t,checkOutOfBounds:n=!1,supportsComplex:r=!1,cpuKernelImpl:o,dtype:i}){return({inputs:s,backend:l})=>{let{a:c,b:u}=s,d=l;if(r&&c.dtype==="complex64"){let h=d.texData.get(c.dataId),g=d.texData.get(u.dataId),[_,$]=[[h.complexTensorInfos.real,g.complexTensorInfos.real],[h.complexTensorInfos.imag,g.complexTensorInfos.imag]].map(w=>{let[S,I]=w,F={dataId:S.dataId,dtype:S.dtype,shape:c.shape},k={dataId:I.dataId,dtype:I.dtype,shape:u.shape},M=new oo(e,c.shape,u.shape);return d.runWebGLProgram(M,[F,k],Rn(S.dtype,I.dtype))}),x=Rr({inputs:{real:_,imag:$},backend:d});return d.disposeIntermediateTensorInfo(_),d.disposeIntermediateTensorInfo($),x}let p=i||Rn(c.dtype,u.dtype);if((c.dtype==="string"||u.dtype==="string"||d.shouldExecuteOnCPU([c,u]))&&o!=null){let h=d.texData.get(c.dataId).values,g=d.texData.get(u.dataId).values,_=c.dtype==="string"?A.fromUint8ToStringArray(h):h,$=c.dtype==="string"?A.fromUint8ToStringArray(g):g,[x,w]=o(c.shape,u.shape,_,$,p),S=d.makeTensorInfo(w,p),I=d.texData.get(S.dataId);return I.values=x,S}let f=Q().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&t!=null,m;return f?m=new Ao(t,c.shape,u.shape,n):m=new oo(e,c.shape,u.shape),d.runWebGLProgram(m,[c,u],p)}}function ia(e,t=!1){if(e==="linear")return t?Z5:H5;if(e==="relu")return t?J5:q5;if(e==="elu")return t?Q5:G5;if(e==="relu6")return t?eq:K5;if(e==="prelu")return t?j1:R1;if(e==="leakyrelu")return t?M1:A1;if(e==="sigmoid")return t?tq:X5;throw new Error(`Activation ${e} has not been implemented for the WebGL backend.`)}var ku=class{constructor(t,n,r,o=!1,i=!1,s=!1,l=null,c=!1,u=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=yn(this.outputShape.length);let d=o?t[1]:t[2],p=Math.ceil(d/2),f=o?"i * 2, rc.y":"rc.y, i * 2",m=i?"rc.z, i * 2":"i * 2, rc.z",h=o?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],g=i?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],_="",$="";l&&(c?_=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${l}
        }`:u?_=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${l}
        }`:_=`vec4 activation(vec4 x) {
          ${l}
        }`,$="result = activation(result);");let x=s?"result += getBiasAtOutCoords();":"";s&&this.variableNames.push("bias"),c&&this.variableNames.push("preluActivationWeights"),u&&this.variableNames.push("leakyreluAlpha");let w="rc.x",S="rc.x";t[0]<n[0]?w=`int(min(float(rc.x), ${t[0]-1}.))`:n[0]<t[0]&&(S=`int(min(float(rc.x), ${n[0]-1}.))`),this.userCode=`
      ${_}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${p}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        for (int i = 0; i < ${p}; i++) {
          int batchA = ${w};
          int batchB = ${S};
          vec4 a = getMatrixA(batchA, ${f});
          vec4 b = getMatrixB(batchB, ${m});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${h[0]} * ${g[0]});
          result += (${h[1]} * ${g[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${x}

        ${$}

        setOutput(result);
      }
    `}};var O1={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"},Of=class{constructor(t,n,r){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=A.assertAndGetBroadcastShape(n,r),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${t}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}};var cq="return a * b;";function Nf(e){let{inputs:t,backend:n}=e,{a:r,b:o}=t,i=A.upcastType(r.dtype,o.dtype);if(r.dtype==="complex64"){let l=n.texData.get(r.dataId),c=n.texData.get(o.dataId),u=new Of(O1.REAL,r.shape,o.shape),d=new Of(O1.IMAG,r.shape,o.shape),p=[{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:r.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:c.complexTensorInfos.real.dataId,dtype:c.complexTensorInfos.real.dtype,shape:o.shape},{dataId:c.complexTensorInfos.imag.dataId,dtype:c.complexTensorInfos.imag.dtype,shape:o.shape}],f=n.runWebGLProgram(u,p,"float32"),m=n.runWebGLProgram(d,p,"float32"),h=Rr({inputs:{real:f,imag:m},backend:n});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),h}if(n.shouldExecuteOnCPU([r,o])){let l=n.texData.get(r.dataId),c=n.texData.get(o.dataId),[u,d]=v5(r.shape,o.shape,l.values,c.values,i),p=n.makeTensorInfo(d,i),f=n.texData.get(p.dataId);return f.values=u,p}let s;return Q().getBool("WEBGL_PACK_BINARY_OPERATIONS")?s=new Ao(cq,r.shape,o.shape):s=new oo(cq,r.shape,o.shape),n.runWebGLProgram(s,[r,o],i)}var uq={kernelName:rl,backendName:"webgl",kernelFunc:Nf};function dq(e,t,n){let r=[na(e.shape),...ra(e.shape)],o={dtype:e.dtype,shape:r,dataId:e.dataId},i=[na(t),...ra(t)],s=new Fu(i,r),l=!0,c=[r],u=n.runWebGLProgram(s,[o],e.dtype,c,l);return{dataId:u.dataId,shape:t,dtype:u.dtype}}function me(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{shape:i}=r,s=n,l=E.sizeFromShape(o.shape),c=E.inferFromImplicitShape(i,l),u=E.sizeFromShape(c);E.assert(l===u,()=>`The new shape (${c}) has ${u} elements and the old shape (${o.shape}) has ${l} elements. The new shape and old shape must have the same number of elements.`);let d=s.texData.get(o.dataId);return d.isPacked&&!Il(o.shape,c)&&!(d.texture!==null&&Il(d.shape,c))?dq(o,c,s):(s.incRef(o.dataId),{dataId:o.dataId,shape:c,dtype:o.dtype})}var pq={kernelName:ou,backendName:"webgl",kernelFunc:me};var Pf=class{constructor(t,n){this.variableNames=["x"];let{windowSize:r,batchSize:o,inSize:i,outSize:s}=t;this.outputShape=[o,s];let l=Math.floor(r/4)*4,c=r%4,u="sumValue += dot(values, ones);";if(n!=null){let p=1/n;u=`sumValue += dot(values * ${E.isInt(p)?p.toPrecision(2):p}, ones);`}let d="";i%r>0&&(d=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${d}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        float sumValue = 0.0;

        for (int i = 0; i < ${l}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${u}
        }

        int inIdx = inOffset + ${l};
        if (${c===1}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${u}
        } else if (${c===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${u}
        } else if (${c===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${u}
        }
        setOutput(sumValue);
      }
    `}};var G$=class{constructor(t,n){this.variableNames=["x"];let{windowSize:r,batchSize:o,inSize:i,outSize:s}=t;this.outputShape=[o,s];let l="0.0",c="";n==="prod"?l="1.0":n==="min"?(l="1.0 / 1e-20",c="min"):n==="max"&&(l="-1.0 / 1e-20",c="max");let u=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="sum"?u="sumValue":n==="prod"?u="prodValue":n==="all"?u="allValue":n==="any"&&(u="anyValue");let d=Math.floor(r/4)*4,p=r%4,f=`
      if (${n==="sum"}) {
        sumValue += dot(values, ones);
      } else if (${n==="prod"}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${c}(values, minMaxValue);
        if (${n==="min"} || ${n==="max"}) {
          minMaxValue = ${c}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,m="vec4";n==="all"?(l="1.0",f=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,m="bvec4"):n==="any"&&(l="0.0",f=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,m="bvec4");let h="";i%r>0&&(h=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${l};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${h}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        vec4 minMaxValue = vec4(${l});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${d}; i += 4) {
          int inIdx = inOffset + i;
          ${m} values = ${m}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${f}
        }

        int inIdx = inOffset + ${d};
        if (${p===1}) {
          ${m} values = ${m}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${f}
        } else if (${p===2}) {
          ${m} values = ${m}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${f}
        } else if (${p===3}) {
          ${m} values = ${m}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${f}
        }
        setOutput(${u});
      }
    `}};function wye(e){let t=[];for(;t.length===0||t[t.length-1].outSize!==1;){let n=t.length?t[t.length-1].outSize:e[1],r=A.computeOptimalWindowSize(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}function Gr(e,t,n,r){let o=wye(e.shape),i=e;for(let s=0;s<o.length;s++){let{inSize:l,windowSize:c,outSize:u}=o[s],d,p;n==="mean"?d=s===0?new Pf({windowSize:c,inSize:l,batchSize:e.shape[0],outSize:u},l):new Pf({windowSize:c,inSize:l,batchSize:e.shape[0],outSize:u}):d=new G$({windowSize:c,inSize:l,batchSize:e.shape[0],outSize:u},n),p=i,i=r.runWebGLProgram(d,[i],t),p.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(p)}return i}var q$=class{constructor(t,n){this.variableNames=["A"];let r=new Array(t.length);for(let s=0;s<r.length;s++)r[s]=t[n[s]];this.outputShape=r,this.rank=r.length;let o=Ke(this.rank),i=Sye(n);this.userCode=`
    void main() {
      ${o} resRC = getOutputCoords();
      setOutput(getA(${i}));
    }
    `}};function Sye(e){let t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);let n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t);for(let o=0;o<e.length;o++)r[e[o]]=n[o];return r.join()}var K$=class{constructor(t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;let r=new Array(t.length);for(let d=0;d<r.length;d++)r[d]=t[n[d]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);let o=Ke(this.rank),i=F1("rc",this.rank),s=new Array(this.rank);for(let d=0;d<n.length;d++)s[n[d]]=i[d];let l=`vec2(${s.slice(-2).join()})`,c=`++${i[this.rank-1]} < ${r[this.rank-1]}`,u=`getChannel(getA(${s.join()}), ${l})`;this.userCode=`
    void main() {
      ${o} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${u};
      if(${c}) {
        result[1] = ${u};
      }
      --${i[this.rank-1]};
      if(++${i[this.rank-2]} < ${r[this.rank-2]}) {
        result[2] = ${u};
        if(${c}) {
          result[3] = ${u};
        }
      }
      setOutput(result);
    }
    `}};function sa(e,t,n){let r=Q().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new K$(e.shape,t):new q$(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function fq(e,t,n,r){let o=t,i=e.shape.length,s=E.parseAxisParam(o,e.shape),l=s,c=A.getAxesPermutation(l,i),u=c!=null,d=e;u&&(d=sa(e,c,r),l=A.getInnerMostAxes(l.length,i)),A.assertAxesAreInnerMostDims("sum",l,i);let[p,f]=A.computeOutAndReduceShapes(d.shape,l),m=p;n&&(m=A.expandShapeToKeepDim(p,s));let h=E.sizeFromShape(f),_=E.sizeFromShape(e.shape)/h,$=me({inputs:{x:d},attrs:{shape:[_,h]},backend:r}),x=ml(e.dtype),w=Gr($,x,"sum",r),S=me({inputs:{x:w},attrs:{shape:m},backend:r});return r.disposeIntermediateTensorInfo($),r.disposeIntermediateTensorInfo(w),u&&r.disposeIntermediateTensorInfo(d),S}function Fl(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:s}=r;return fq(o,i,s,n)}var mq={kernelName:iu,backendName:"webgl",kernelFunc:Fl};function en(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{perm:i}=r,s=n,l=o.shape.length,c=new Array(l);for(let d=0;d<c.length;d++)c[d]=o.shape[i[d]];let u;if(s.shouldExecuteOnCPU([o])){let p=s.texData.get(o.dataId).values,f=Dl(p,o.shape,o.dtype,i,c);u=s.makeTensorInfo(c,o.dtype);let m=s.texData.get(u.dataId);m.values=f}else u=sa(o,i,s);return u}var hq={kernelName:D_,backendName:"webgl",kernelFunc:en};var N1=1e3;function kl({a:e,b:t,transposeA:n,transposeB:r,backend:o,bias:i=null,preluActivationWeights:s=null,leakyreluAlpha:l=0,activation:c=null}){let u=e.shape.length,d=t.shape.length,p=n?e.shape[u-2]:e.shape[u-1],f=r?t.shape[d-1]:t.shape[d-2],m=n?e.shape[u-1]:e.shape[u-2],h=r?t.shape[d-2]:t.shape[d-1],g=e.shape.slice(0,-2),_=t.shape.slice(0,-2),$=E.sizeFromShape(g),x=E.sizeFromShape(_),w=$===x||$===1||x===1;E.assert(u>=2&&d>=2&&w,()=>`Error in matMul: the input batch dimensions must either be the same or at least one input batch dimension must be 1. Got input batch dimensions of (${g}) and (${_}).`);let I=($>x?e.shape.slice(0,-2):t.shape.slice(0,-2)).concat([m,h]);E.assert(p===f,()=>`Error in matMul: inner shapes (${p}) and (${f}) of Tensors with shapes ${e.shape} and ${t.shape} and transposeA=${n} and transposeB=${r} must match.`);let F=n?[$,p,m]:[$,m,p],k=r?[x,h,f]:[x,f,h],M=me({inputs:{x:e},backend:o,attrs:{shape:F}}),O=me({inputs:{x:t},backend:o,attrs:{shape:k}}),B=[M,O],W=Math.max($,x),V=n?M.shape[1]:M.shape[2],P=i!=null,G=s!=null,Z=c==="leakyrelu",H=c!=null?ia(c,!0):null,re=P||G||Z||H!=null,te;if((m===1||h===1)&&V>N1&&re===!1){let se=M,z=O;n&&(se=en({inputs:{x:M},backend:o,attrs:{perm:[0,2,1]}}),B.push(se)),r&&(z=en({inputs:{x:O},backend:o,attrs:{perm:[0,2,1]}}),B.push(z));let ne=h!==1,U=h===1,ae=se;ne&&(ae=me({inputs:{x:se},backend:o,attrs:{shape:[W,V,1]}}),B.push(ae));let ge=h===1?2:1,we=z;U&&(we=me({inputs:{x:z},backend:o,attrs:{shape:[W,1,V]}}),B.push(we));let Se=Nf({inputs:{a:ae,b:we},backend:o});te=Fl({inputs:{x:Se},backend:o,attrs:{axis:ge,keepDims:!0}}),B.push(Se)}else{let se=Rn(e.dtype,t.dtype),z=new ku(F,k,[W,m,h],n,r,P,H,G,Z),ne=[M,O];if(i!=null&&ne.push(i),G&&ne.push(s),Z){let U=o.makeTensorInfo([],"float32",E.createScalarValue(l,"float32"));ne.push(U),B.push(U)}te=o.runWebGLProgram(z,ne,se)}let Y=me({inputs:{x:te},backend:o,attrs:{shape:I}});B.push(te);for(let se of B)o.disposeIntermediateTensorInfo(se);return Y}function Cye(e){let{inputs:t,backend:n,attrs:r}=e,{a:o,b:i,bias:s,preluActivationWeights:l}=t,{transposeA:c,transposeB:u,activation:d,leakyreluAlpha:p}=r;return kl({a:o,b:i,transposeA:c,transposeB:u,backend:n,bias:s,preluActivationWeights:l,leakyreluAlpha:p,activation:d})}var gq={kernelName:j_,backendName:"webgl",kernelFunc:Cye};var bq="return abs(x);";function Iye(e){let{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])&&r.dtype!=="complex64"){let i=n.texData.get(r.dataId),s=P$(i.values);return n.makeTensorInfo(r.shape,r.dtype,s)}let o;return Q().getBool("WEBGL_PACK_UNARY_OPERATIONS")?o=new ko(r.shape,bq):o=new vr(r.shape,bq),n.runWebGLProgram(o,[r],r.dtype)}var yq={kernelName:qb,backendName:"webgl",kernelFunc:Iye};var Eye=Wn+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,Tye=Te({opSnippet:Eye}),_q={kernelName:$p,backendName:"webgl",kernelFunc:Tye};var Dye=Wn+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`,Fye=Te({opSnippet:Dye}),$q={kernelName:xp,backendName:"webgl",kernelFunc:Fye};var xq="return a + b;",kye=Tt({opSnippet:xq,packedOpSnippet:xq,supportsComplex:!0,cpuKernelImpl:r5}),vq={kernelName:tl,backendName:"webgl",kernelFunc:kye};var X$=class{constructor(t,n){this.outputShape=[],this.outputShape=t,this.variableNames=n.map((i,s)=>`T${s}`);let r=[];this.variableNames.forEach(i=>{r.push(`float v${i} = get${i}AtOutCoords();`)});let o=this.variableNames.map(i=>`v${i}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        float result = ${o};
        setOutput(result);
      }
    `}};var Y$=class{constructor(t,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=n.map((i,s)=>`T${s}`);let r=[];this.variableNames.forEach(i=>{r.push(`vec4 v${i} = get${i}AtOutCoords();`)});let o=this.variableNames.map(i=>`v${i}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        vec4 result = ${o};
        setOutput(result);
      }
    `}};function Z$(e){let{inputs:t,backend:n}=e,r=t;if(r.length===1)return xn({inputs:{x:r[0]},backend:n});if(r.length>Q().get("WEBGL_MAX_TEXTURES_IN_SHADER")){let c=Math.floor(r.length/2),u=Z$({inputs:r.slice(0,c),backend:n}),d=Z$({inputs:r.slice(c),backend:n});return Z$({inputs:[u,d],backend:n})}let o=r.map(c=>c.dtype).reduce((c,u)=>Rn(c,u)),i=r.map(c=>c.shape),l=Q().getBool("WEBGL_PACK")?new Y$(r[0].shape,i):new X$(r[0].shape,i);return n.runWebGLProgram(l,r,o)}var wq={kernelName:Kb,backendName:"webgl",kernelFunc:Z$};function Aye(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:s}=r,l=o.shape.length,c=E.parseAxisParam(i,o.shape),u=c,d=A.getAxesPermutation(u,l),p=o;d!=null&&(p=en({inputs:{x:o},backend:n,attrs:{perm:d}}),u=A.getInnerMostAxes(u.length,l)),A.assertAxesAreInnerMostDims("all",u,l);let[f,m]=A.computeOutAndReduceShapes(p.shape,u),h=E.sizeFromShape(m),g=me({inputs:{x:p},backend:n,attrs:{shape:[-1,h]}}),_=Gr(g,g.dtype,"all",n),$;if(s){let x=A.expandShapeToKeepDim(f,c);$=me({inputs:{x:_},backend:n,attrs:{shape:x}})}else $=me({inputs:{x:_},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(_),d!=null&&n.disposeIntermediateTensorInfo(p),$}var Sq={kernelName:Xb,backendName:"webgl",kernelFunc:Aye};function Mye(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:s}=r,l=o.shape.length,c=E.parseAxisParam(i,o.shape),u=c,d=A.getAxesPermutation(u,l),p=o;d!=null&&(p=en({inputs:{x:o},backend:n,attrs:{perm:d}}),u=A.getInnerMostAxes(u.length,l)),A.assertAxesAreInnerMostDims("any",u,l);let[f,m]=A.computeOutAndReduceShapes(p.shape,u),h=E.sizeFromShape(m),g=me({inputs:{x:p},backend:n,attrs:{shape:[-1,h]}}),_=Gr(g,g.dtype,"any",n),$;if(s){let x=A.expandShapeToKeepDim(f,c);$=me({inputs:{x:_},backend:n,attrs:{shape:x}})}else $=me({inputs:{x:_},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(_),d!=null&&n.disposeIntermediateTensorInfo(p),$}var Cq={kernelName:Yb,backendName:"webgl",kernelFunc:Mye};var Q$=class{constructor(t,n,r){this.variableNames=["A"];let{windowSize:o,batchSize:i,outSize:s}=t;r||this.variableNames.push("bestIndicesA"),this.outputShape=[i,s];let l=n==="max"?">":"<",c=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${o};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${o}; i++) {
          int inIdx = ${c};
          float candidate = getA(batch, inIdx);
          if (candidate ${l} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}};var J$=class{constructor(t,n,r,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,E.assert(t.length>2,()=>`Packed arg${r.charAt(0).toUpperCase()+r.slice(1)} supports only inputs with rank above 2.`);let i=t[t.length-1],s=Math.ceil(i/n);this.outputShape=t.slice(0,-1),s>1&&this.outputShape.push(s),o||this.variableNames.push("bestIndicesA");let l=this.outputShape,c=l.length,u=Ke(c),d=$n("coords",c),p,f;if(s===1){f=c+1;let M=Ke(f);p=`
        ${M} sourceLocR = ${M}(${d.join()}, 0);
        ++${d[c-1]};
        ${M} sourceLocG = ${M}(${d.join()}, 0);
        ++${d[c-2]};
        ${M} sourceLocA = ${M}(${d.join()}, 0);
        --${d[c-1]};
        ${M} sourceLocB = ${M}(${d.join()}, 0);
        --${d[c-2]};`}else f=c,p=`
        ${u} sourceLocR = coords;
        ++${d[c-1]};
        ${u} sourceLocG = coords;
        ++${d[c-2]};
        ${u} sourceLocA = coords;
        --${d[c-1]};
        ${u} sourceLocB = coords;
        --${d[c-2]};`;let m=["x","y","z","w","u","v"].slice(0,f),h="."+m[f-1],g=m.map(M=>"int "+M),_=$n("sourceLocR",f-1).concat("inIdx.r"),$=$n("sourceLocG",f-1).concat("inIdx.g"),x=$n("sourceLocB",f-1).concat("inIdx.b"),w=$n("sourceLocA",f-1).concat("inIdx.a"),S=r==="max"?"greaterThan":"lessThan",I=o?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${_.join()}),
                             getBestIndicesAChannel(${$.join()}),
                             getBestIndicesAChannel(${x.join()}),
                             getBestIndicesAChannel(${w.join()})));`,F=`vec4(
            getAChannel(${_.join()}),
            hasNextCol ? getAChannel(${$.join()}) : 0.,
            hasNextRow ? getAChannel(${x.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${w.join()}) : 0.)`,k=o?"":`
      float getBestIndicesAChannel(${g.join()}) {
        return getChannel(getBestIndicesA(${m.join()}),
                                          vec2(${m.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${g.join()}) {
        return getChannel(getA(${m.join()}),
                               vec2(${m.slice(-2).join()}));
      }
      ${k}
      void main() {
        ${u} coords = getOutputCoords();
        bool hasNextCol = ${d[c-1]} < ${l[c-1]-1};
        bool hasNextRow = ${d[c-2]} < ${l[c-2]-1};
        ${p}
        ivec4 srcIdx = ivec4(sourceLocR${h}, sourceLocG${h},
          sourceLocB${h}, sourceLocA${h}) * ${n};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${F};

        for (int i = 0; i < ${n}; i++) {
          inIdx = srcIdx;
          ${I}
          vec4 candidate = ${F};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${S}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}};function Iq(e,t,n,r=null){let o=t.shape[0],i=t.shape[1];r!=null&&(o=r.shape[0],i=r.shape[1]);let s=A.computeOptimalWindowSize(i),l={windowSize:s,inSize:i,batchSize:o,outSize:Math.ceil(i/s)},c=new Q$(l,n,r==null),u=[t];r!=null&&u.push(r);let d=e.runWebGLProgram(c,u,"int32");if(d.shape[1]===1)return d;let p=Iq(e,t,n,d);return e.disposeIntermediateTensorInfo(d),p}function Eq(e,t,n,r=null){let o=r!=null?r.shape:t.shape,i=o[o.length-1],s=A.computeOptimalWindowSize(i),l=new J$(o,s,n,r==null),c=r==null?[t]:[t,r],u=e.runWebGLProgram(l,c,"int32");if(u.shape.length===t.shape.length){let d=Eq(e,t,n,u);return e.disposeIntermediateTensorInfo(u),d}return u}function ex(e,t,n,r){let o=[n];if(A.assertAxesAreInnerMostDims("arg"+r.charAt(0).toUpperCase()+r.slice(1),o,t.shape.length),!Q().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){let i=[],s=e.texData.get(t.dataId),l=s!==null&&s.isPacked,c=t;l&&(c=e.unpackTensor(t),i.push(c));let[u,d]=A.computeOutAndReduceShapes(c.shape,o),p=E.sizeFromShape(d),f=me({inputs:{x:c},backend:e,attrs:{shape:[-1,p]}});i.push(f);let m=Iq(e,f,r);i.push(m);let h=me({inputs:{x:m},backend:e,attrs:{shape:u}});return i.forEach(g=>e.disposeIntermediateTensorInfo(g)),h}return Eq(e,t,r)}function Rye(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i}=r,s=E.parseAxisParam(i,o.shape),l=A.getAxesPermutation(s,o.shape.length),c=o,u=[];l!=null&&(c=en({inputs:{x:o},backend:n,attrs:{perm:l}}),u.push(c),s=A.getInnerMostAxes(s.length,c.shape.length)),A.assertAxesAreInnerMostDims("argMax",[s[0]],c.shape.length);let d=ex(n,c,s[0],"max");return u.forEach(p=>n.disposeIntermediateTensorInfo(p)),d}var Tq={kernelName:Zb,backendName:"webgl",kernelFunc:Rye};function jye(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i}=r,s=E.parseAxisParam(i,o.shape),l=A.getAxesPermutation(s,o.shape.length),c=o,u=[];l!=null&&(c=en({inputs:{x:o},backend:n,attrs:{perm:l}}),u.push(c),s=A.getInnerMostAxes(s.length,c.shape.length)),A.assertAxesAreInnerMostDims("argMin",[s[0]],c.shape.length);let d=ex(n,c,s[0],"min");return u.forEach(p=>n.disposeIntermediateTensorInfo(p)),d}var Dq={kernelName:Qb,backendName:"webgl",kernelFunc:jye};var Oye=Wn+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,Nye=Te({opSnippet:Oye}),Fq={kernelName:vp,backendName:"webgl",kernelFunc:Nye};var Pye=Wn+"return log(x + sqrt(x * x + 1.0));",Bye=Te({opSnippet:Pye}),kq={kernelName:wp,backendName:"webgl",kernelFunc:Bye};var Lye=Wn+`
  return atan(x);
`,Uye=Te({opSnippet:Lye}),Aq={kernelName:Sp,backendName:"webgl",kernelFunc:Uye};var Wye=aq+`
  return atan(a, b);
`,zye=`
  vec4 result = atan(a, b);
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  `+lq+`
  return result;
`,Vye=Tt({opSnippet:Wye,packedOpSnippet:zye}),Mq={kernelName:Ip,backendName:"webgl",kernelFunc:Vye};var Hye=Wn+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,Gye=Te({opSnippet:Hye}),Rq={kernelName:Cp,backendName:"webgl",kernelFunc:Gye};var ri=class{constructor(t,n,r,o=!1,i=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");let s=t.filterWidth,l=t.strideHeight,c=t.strideWidth,u=t.dilationHeight,d=t.dilationWidth,p=t.effectiveFilterHeight,f=t.effectiveFilterWidth,m=t.padInfo.top,h=t.padInfo.left;this.outputShape=t.outShape;let g=n==="avg",_=`((batch  * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + d`,$=`(xR * ${t.inWidth} + xC) * ${t.inChannels} + d`,x="0.0";if(g||(x="-1.0 / 1e-20"),r){let M=">=";this.userCode=`
        const ivec2 strides = ivec2(${l}, ${c});
        const ivec2 pads = ivec2(${m}, ${h});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${p};
              wR += ${u}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${f};
                wC += ${d}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${t.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value ${M} currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${o?i?_:$:`wR * ${f} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}let w="max",S=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(S="avgValue / count");let I=Math.floor(s/4)*4,F=s%4,k=`
      if (${g}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${w}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${l}, ${c});
      const ivec2 pads = ivec2(${m}, ${h});
      const float initializationValue = ${x};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${t.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${x});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${p};
            wR += ${u}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${t.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${I}; wC += 4) {
            int xC = xCCorner + wC * ${d};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${d}, d),
              getValue(batch, xR, xC + 2 * ${d}, d),
              getValue(batch, xR, xC + 3 * ${d}, d)
            );

            ${k}
          }

          int xC = xCCorner + ${I};
          if (${F===1}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${k}
          } else if (${F===2}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${d}, d),
              initializationValue,
              initializationValue
            );

            ${k}
          } else if (${F===3}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${d}, d),
              getValue(batch, xR, xC + 2 * ${d}, d),
              initializationValue
            );

            ${k}
          }
        }
        setOutput(${S});
      }
    `}},aa=class{constructor(t,n,r,o=!1,i=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");let s=t.filterWidth,l=t.strideDepth,c=t.strideHeight,u=t.strideWidth,d=t.dilationDepth,p=t.dilationHeight,f=t.dilationWidth,m=t.effectiveFilterDepth,h=t.effectiveFilterHeight,g=t.effectiveFilterWidth,_=t.padInfo.front,$=t.padInfo.top,x=t.padInfo.left;this.outputShape=t.outShape;let w=n==="avg",S="0.0";if(w||(S="-1.0 / 1e-20"),r){let B=">=";this.userCode=`
        const ivec3 strides =
            ivec3(${l}, ${c}, ${u});
        const ivec3 pads = ivec3(${_}, ${$}, ${x});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${m};
              wD += ${d}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${t.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${h};
                wR += ${p}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${t.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${g};
                  wC += ${f}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${t.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value ${B} currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${o?i?`(((batch * ${t.inDepth} + xD) * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + ch`:`((xD * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + ch`:`wD * ${h} * ${g} +
                      wR * ${g} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}let I="max",F=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(F="avgValue / count");let k=Math.floor(s/4)*4,M=s%4,O=`
      if (${w}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${I}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${l}, ${c}, ${u});
      const ivec3 pads = ivec3(${_}, ${$}, ${x});
      const float initializationValue = ${S};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${t.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${S});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${m};
            wD += ${d}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${t.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${h};
            wR += ${p}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${k}; wC += 4) {
              int xC = xCCorner + wC * ${f};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${f}, ch),
                getValue(batch, xD, xR, xC + 2 * ${f}, ch),
                getValue(batch, xD, xR, xC + 3 * ${f}, ch)
              );

              ${O}
            }

            int xC = xCCorner + ${k};
            if (${M===1}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${O}
            } else if (${M===2}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${f}, ch),
                initializationValue,
                initializationValue
              );

              ${O}
            } else if (${M===3}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${f}, ch),
                getValue(batch, xD, xR, xC + 2 * ${f}, ch),
                initializationValue
              );

              ${O}
            }
          }
          setOutput(${F});
        }
      }
    `}};function qye(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t;Di(o,"avgPool");let{filterSize:i,strides:s,pad:l,dimRoundingMode:c}=r,u=1;E.assert(A.eitherStridesOrDilationsAreOne(s,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${s} and dilations '${u}'`);let d=A.computePool2DInfo(o.shape,i,s,u,l,c);if(d.filterWidth===1&&d.filterHeight===1&&E.arraysEqual(d.inShape,d.outShape))return xn({inputs:{x:o},backend:n});let p=new ri(d,"avg",!1);return n.runWebGLProgram(p,[o],"float32")}var jq={kernelName:Jb,backendName:"webgl",kernelFunc:qye};function Kye(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{filterSize:i,strides:s,pad:l,dimRoundingMode:c,dataFormat:u}=r,d=[1,1,1],p=A.computePool3DInfo(o.shape,i,s,d,l,c,u),f=new aa(p,"avg",!1);return n.runWebGLProgram(f,[o],"float32")}var Oq={kernelName:ty,backendName:"webgl",kernelFunc:Kye};var tx=class{constructor(t){this.variableNames=["dy"],this.outputShape=t.inShape;let n=t.filterHeight,r=t.filterWidth,o=t.strideHeight,i=t.strideWidth,s=t.dilationHeight,l=t.dilationWidth,c=t.effectiveFilterHeight,u=t.effectiveFilterWidth,d=c-1-t.padInfo.top,p=u-1-t.padInfo.left,f=1/(n*r);this.userCode=`
      const ivec2 pads = ivec2(${d}, ${p});
      const float avgMultiplier = float(${f});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${c};
            wR += ${s}) {
          float dyR = float(dyRCorner + wR) / ${o}.0;

          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${u};
            wC+= ${l}) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}},nx=class{constructor(t){this.variableNames=["dy"],this.outputShape=t.inShape;let n=t.filterDepth,r=t.filterHeight,o=t.filterWidth,i=t.strideDepth,s=t.strideHeight,l=t.strideWidth,c=t.dilationDepth,u=t.dilationHeight,d=t.dilationWidth,p=t.effectiveFilterDepth,f=t.effectiveFilterHeight,m=t.effectiveFilterWidth,h=p-1-t.padInfo.front,g=f-1-t.padInfo.top,_=m-1-t.padInfo.left,$=1/(n*r*o);this.userCode=`
      const ivec3 pads = ivec3(${h}, ${g}, ${_});
      const float avgMultiplier = float(${$});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${p};
            wD += ${c}) {
          float dyD = float(dyDCorner + wD) / ${i}.0;

          if (dyD < 0.0 || dyD >= ${t.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${f};
              wR += ${u}) {
            float dyR = float(dyRCorner + wR) / ${s}.0;

            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${m};
                wC += ${d}) {
              float dyC = float(dyCCorner + wC) / ${l}.0;

              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}};function Xye(e){let{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,s=i,{filterSize:l,strides:c,pad:u,dimRoundingMode:d}=r,p=[1,1,1],f=A.computePool3DInfo(s.shape,l,c,p,u,d),m=new nx(f);return n.runWebGLProgram(m,[o],s.dtype)}var Nq={kernelName:ny,backendName:"webgl",kernelFunc:Xye};function Yye(e){let{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,s=i;Di([o,i],"avgPoolGrad");let{filterSize:l,strides:c,pad:u}=r,d=A.computePool2DInfo(s.shape,l,c,1,u),p=new tx(d);return n.runWebGLProgram(p,[o],s.dtype)}var Pq={kernelName:ey,backendName:"webgl",kernelFunc:Yye};function Zye(e){let{inputs:t,backend:n,attrs:r}=e,{a:o,b:i}=t,{transposeA:s,transposeB:l}=r;return kl({a:o,b:i,transposeA:s,transposeB:l,backend:n})}var Bq={kernelName:ry,backendName:"webgl",kernelFunc:Zye};var rx=class{constructor(t,n,r,o,i,s){this.outputShape=[],this.variableNames=["x","mean","variance"],A.assertAndGetBroadcastShape(t,n),A.assertAndGetBroadcastShape(t,r);let l="0.0";o!=null&&(A.assertAndGetBroadcastShape(t,o),this.variableNames.push("offset"),l="getOffsetAtOutCoords()");let c="1.0";i!=null&&(A.assertAndGetBroadcastShape(t,i),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${l};
        float scale = ${c};
        float inv = scale * inversesqrt(variance + float(${s}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}};var ox=class{constructor(t,n,r,o,i,s){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],A.assertAndGetBroadcastShape(t,n),A.assertAndGetBroadcastShape(t,r);let l="vec4(0.0)";o!=null&&(A.assertAndGetBroadcastShape(t,o),this.variableNames.push("offset"),l="getOffsetAtOutCoords()");let c="vec4(1.0)";i!=null&&(A.assertAndGetBroadcastShape(t,i),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`
      void main() {
        vec4 offset = ${l};
        vec4 scale = ${c};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${s}));

        setOutput((x - mean) * inv + offset);
      }
    `}};var Qye=({inputs:e,backend:t,attrs:n})=>{let{x:r,mean:o,variance:i,offset:s,scale:l}=e;E.assert(o.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),E.assert(s==null||o.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),E.assert(l==null||o.shape.length===l.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:c}=n;c==null&&(c=.001);let u=[r,o,i],d=null;s!=null&&(d=s.shape,u.push(s));let p=null;l!=null&&(p=l.shape,u.push(l));let f=Q().getBool("WEBGL_PACK_NORMALIZATION")?new ox(r.shape,o.shape,i.shape,d,p,c):new rx(r.shape,o.shape,i.shape,d,p,c);return t.runWebGLProgram(f,u,u[0].dtype)},Lq={kernelName:Fy,backendName:"webgl",kernelFunc:Qye};var ix=class{constructor(t){this.variableNames=["source"],this.outputShape=t,this.rank=t.length;let n=Ke(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];let r=Jye(this.rank),o,i=t.map((s,l)=>`sourceLoc.${P1[l]} = start[${l}] + coords.${P1[l]};`);o=`
        ${n} sourceLoc;
        ${n} coords = getOutputCoords();
        ${i.join(`
`)}
      `,this.userCode=`
      void main() {
        ${o}
        setOutput(getSource(${r}));
      }
    `}},P1=["x","y","z","w","u","v"];function Jye(e){if(e===1)return"sourceLoc";if(e<=6)return P1.slice(0,e).map(t=>"sourceLoc."+t).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}var sx=class{constructor(t){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];let n=Ke(this.rank),r=$n("coords",this.rank),o=$n("sourceLoc",this.rank),i=this.rank===1?"sourceLoc":`vec2(${o.slice(-2).join()})`,s=`getChannel(getSource(${o.join()}), ${i})`,l=`
      result.x = ${s};
      if (++${r[this.rank-1]} < ${t[this.rank-1]}) {
        ++${o[this.rank-1]};
        result.y = ${s};
        --${o[this.rank-1]};
      }
    `,c=this.rank===1?"":`
      --${r[this.rank-1]};
      if (++${r[this.rank-2]} < ${t[this.rank-2]}) {
        ++${o[this.rank-2]};
        result.z = ${s};
        if (++${r[this.rank-1]} < ${t[this.rank-1]}) {
          ++${o[this.rank-1]};
          result.w = ${s};
        }
      }
    `,u=this.rank<=4?`sourceLoc = coords +
            ${n}(${t.map((d,p)=>`start[${p}]`).join()});`:t.map((d,p)=>`${o[p]} = ${r[p]} + start[${p}];`).join(`
`);this.userCode=`
      void main() {
        ${n} coords = getOutputCoords();
        ${n} sourceLoc;
        ${u}
        vec4 result = vec4(0.);
        ${l}
        ${c}
        setOutput(result);
      }
    `}};function e_e(e,t,n,r){let o=r.texData.get(e.dataId),i=r.makeTensorInfo(n,e.dtype),s=r.texData.get(i.dataId);Object.assign(s,o),s.refCount=1,s.shape=n,s.dtype=e.dtype;let l=Un.computeFlatOffset(t,E.computeStrides(e.shape));o.slice&&(l+=o.slice.flatOffset),s.slice={flatOffset:l,origDataId:o.slice&&o.slice.origDataId||e.dataId};let c=r.dataRefCount.get(s.slice.origDataId)||1;return r.dataRefCount.set(s.slice.origDataId,c+1),i}function oi(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{begin:i,size:s}=r,[l,c]=Un.parseSliceParams(o,i,s);if(Un.assertParamsValid(o,l,c),E.sizeFromShape(c)===0)return n.makeTensorInfo(c,o.dtype,[]);if(n.shouldExecuteOnCPU([o])||o.dtype==="string"){let p=n.texData.get(o.dataId),f=D5(p.values,l,c,o.shape,o.dtype);return n.makeTensorInfo(c,o.dtype,f)}let{isPacked:u}=n.texData.get(o.dataId),d=Un.isSliceContinous(o.shape,l,c);if(u||!d){let p=Q().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new sx(c):new ix(c),f=[l];return n.runWebGLProgram(p,[o],o.dtype,f)}return n.uploadToGPU(o.dataId),e_e(o,l,c,n)}var Uq={kernelName:p_,backendName:"webgl",kernelFunc:oi};var t_e=e=>{let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:i,crops:s}=r;E.assert(o.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");let l=i.reduce((x,w)=>x*w),c=A.getReshaped(o.shape,i,l),u=A.getPermuted(c.length,i.length),d=A.getReshapedPermuted(o.shape,i,l),p=A.getSliceBeginCoords(s,i.length),f=A.getSliceSize(d,s,i.length),m=[],h=me({inputs:{x:o},backend:n,attrs:{shape:c}}),g=en({inputs:{x:h},backend:n,attrs:{perm:u}}),_=me({inputs:{x:g},backend:n,attrs:{shape:d}}),$=oi({inputs:{x:_},backend:n,attrs:{begin:p,size:f}});return m.push(h),m.push(g),m.push(_),m.forEach(x=>n.disposeIntermediateTensorInfo(x)),$},Wq={kernelName:oy,backendName:"webgl",kernelFunc:t_e};function n_e(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,weights:i}=t,{size:s}=r,l=n.readSync(o.dataId),c=n.readSync(i.dataId),u=N$(l,c,i.dtype,i.shape,s);return n.makeTensorInfo([s],i.dtype,u)}var zq={kernelName:iy,backendName:"webgl",kernelFunc:n_e};function r_e(e){let{inputs:t,backend:n}=e,{s0:r,s1:o}=t,i=n.readSync(r.dataId),s=n.readSync(o.dataId),l=A.assertAndGetBroadcastShape(Array.from(i),Array.from(s));return n.makeTensorInfo([l.length],"int32",Int32Array.from(l))}var Vq={kernelName:sy,backendName:"webgl",kernelFunc:r_e};var o_e="return float(a != b);",B1=Tt({opSnippet:o_e,cpuKernelImpl:S5,dtype:"bool"}),Hq={kernelName:Jp,backendName:"webgl",kernelFunc:B1};function ls(e){let{inputs:t,backend:n}=e,{input:r}=t,o=n.texData.get(r.dataId);return xn({inputs:{x:o.complexTensorInfos.real},backend:n})}var Gq={kernelName:o_,backendName:"webgl",kernelFunc:ls};var i_e="return float(int(x));";function qq(e,t){let n=new vr(e.shape,i_e),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}function L1(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{dtype:i}=r;if(i==="complex64"){if(o.dtype==="complex64")return xn({inputs:{x:o},backend:n});let s=$f(o.shape),l=L1({inputs:{x:o},backend:n,attrs:{dtype:"float32"}}),c=Rr({inputs:{real:l,imag:s},backend:n});return s.dispose(),n.disposeIntermediateTensorInfo(l),c}if(o.dtype==="complex64"){let s=ls({inputs:{input:o},backend:n}),l=L1({inputs:{x:s},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(s),l}if(!E.hasEncodingLoss(o.dtype,i)){let s=xn({inputs:{x:o},backend:n});return{dataId:s.dataId,shape:s.shape,dtype:i}}if(i==="int32")return qq(o,n);if(i==="bool"){let s=n.makeTensorInfo([],"bool",E.getTypedArrayFromDType("bool",1)),c=B1({inputs:{a:o,b:s},backend:n});return n.disposeIntermediateTensorInfo(s),c}throw new Error(`Error in Cast: failed to cast ${o.dtype} to ${i}`)}var Kq={kernelName:Xs,backendName:"webgl",kernelFunc:L1};var Xq="return ceil(x);",s_e=Te({opSnippet:Xq,packedOpSnippet:Xq,cpuKernelImpl:i5}),Yq={kernelName:Ep,backendName:"webgl",kernelFunc:s_e};var ax=class{constructor(t){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}};var lx=class{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}};function a_e(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{clipValueMin:i,clipValueMax:s}=r,l;Q().getBool("WEBGL_PACK_CLIP")?l=new lx(o.shape):l=new ax(o.shape);let c=[[i],[s]];return n.runWebGLProgram(l,[o],o.dtype,c)}var Zq={kernelName:Tp,backendName:"webgl",kernelFunc:a_e};var cx=class{constructor(t){this.variableNames=["real","imag"],this.outputShape=t,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}};function Qq(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}function l_e(e){let{inputs:t,backend:n}=e,{x:r}=t,o=n.texData.get(r.dataId),i=new cx(r.shape),s=[Qq(r,o.complexTensorInfos.real),Qq(r,o.complexTensorInfos.imag)];return n.runWebGLProgram(i,s,s[0].dtype)}var Jq={kernelName:ay,backendName:"webgl",kernelFunc:l_e};var ux=class{constructor(t){this.outputShape=[],this.outputShape=A.computeOutShape(t,1),this.variableNames=t.map((s,l)=>`T${l}`);let n=new Array(t.length-1);n[0]=t[0][1];for(let s=1;s<n.length;s++)n[s]=n[s-1]+t[s][1];let r=[`if (yC < ${n[0]}) setOutput(getT0(yR, yC));`];for(let s=1;s<n.length;s++){let l=n[s-1];r.push(`else if (yC < ${n[s]}) setOutput(getT${s}(yR, yC-${l}));`)}let o=n.length,i=n[n.length-1];r.push(`else setOutput(getT${o}(yR, yC-${i}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${r.join(`
        `)}
      }
    `}};var px=class{constructor(t,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=A.computeOutShape(t,n);let r=this.outputShape,o=r.length,i=Ke(o),s=$n("coords",o),l=["x","y","z","w","u","v"].slice(0,o);this.variableNames=t.map((g,_)=>`T${_}`);let c=new Array(t.length-1);c[0]=t[0][n];for(let g=1;g<c.length;g++)c[g]=c[g-1]+t[g][n];let u=l[n],d=l.slice(-2),p=l.join(),f=`if (${u} < ${c[0]}) {
        return getChannel(
            getT0(${p}), vec2(${d.join()}));
        }`;for(let g=1;g<c.length;g++){let _=c[g-1];f+=`
        if (${u} < ${c[g]}  && ${u} >= ${c[g-1]}) {
          return getChannel(
            getT${g}(${dx(l,u,_)}),
            vec2(${dx(d,u,_)}));
        }`}let m=c.length,h=c[c.length-1];f+=`
        return getChannel(
          getT${m}(${dx(l,u,h)}),
          vec2(${dx(d,u,h)}));`,this.userCode=`
      float getValue(${l.map(g=>"int "+g)}) {
        ${f}
      }

      void main() {
        ${i} coords = getOutputCoords();
        vec4 result = vec4(getValue(${s}), 0., 0., 0.);

        ${s[o-1]} = ${s[o-1]} + 1;
        if (${s[o-1]} < ${r[o-1]}) {
          result.g = getValue(${s});
        }

        ${s[o-2]} = ${s[o-2]} + 1;
        if (${s[o-2]} < ${r[o-2]}) {
          result.a = getValue(${s});
        }

        ${s[o-1]} = ${s[o-1]} - 1;
        if (${s[o-2]} < ${r[o-2]} &&
            ${s[o-1]} < ${r[o-1]}) {
          result.b = getValue(${s});
        }
        setOutput(result);
      }
    `}};function dx(e,t,n){let r=e.indexOf(t);return e.map((i,s)=>s===r?`${i} - ${n}`:i).join()}function Al(e){let{inputs:t,backend:n}=e,{input:r}=t,o=n.texData.get(r.dataId);return xn({inputs:{x:o.complexTensorInfos.imag},backend:n})}var eK={kernelName:Ry,backendName:"webgl",kernelFunc:Al};function Ml(e,t,n){let r=e[0].dtype;if(r==="complex64"){let d=e.map(g=>ls({inputs:{input:g},backend:n})),p=e.map(g=>Al({inputs:{input:g},backend:n})),f=Ml(d,t,n),m=Ml(p,t,n),h=Rr({inputs:{real:f,imag:m},backend:n});return d.forEach(g=>n.disposeIntermediateTensorInfo(g)),p.forEach(g=>n.disposeIntermediateTensorInfo(g)),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),h}let o=n.shouldExecuteOnCPU(e);if(r==="string"&&(o=!0),o){let d=e.map($=>{let w=[-1,E.sizeFromShape($.shape.slice(t))];return me({inputs:{x:$},backend:n,attrs:{shape:w}})}),p=d.map($=>({vals:n.readSync($.dataId),shape:$.shape})),f=A.computeOutShape(d.map($=>$.shape),1),m=d[0].shape[0]===1,h=s5(p,f,r,m),g=A.computeOutShape(e.map($=>$.shape),t),_=n.makeTensorInfo(g,r,h);return d.forEach($=>n.disposeIntermediateTensorInfo($)),_}if(e.length>Q().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){let d=Math.floor(e.length/2),p=Ml(e.slice(0,d),t,n),f=Ml(e.slice(d),t,n),m=Ml([p,f],t,n);return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),m}if(Q().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].shape.length>1){let d=new px(e.map(p=>p.shape),t);return n.runWebGLProgram(d,e,r)}let{tensors2D:i,outShape:s}=c_e(e,t,n),l=new ux(i.map(d=>d.shape)),c=n.runWebGLProgram(l,i,r);i.forEach(d=>n.disposeIntermediateTensorInfo(d));let u=me({inputs:{x:c},attrs:{shape:s},backend:n});return n.disposeIntermediateTensorInfo(c),u}function c_e(e,t,n){let r=A.computeOutShape(e.map(i=>i.shape),t);return{tensors2D:e.map(i=>me({inputs:{x:i},attrs:{shape:[-1,E.sizeFromShape(i.shape.slice(t))]},backend:n})),outShape:r}}function U1(e){let{inputs:t,backend:n,attrs:r}=e,{axis:o}=r,i=E.parseAxisParam(o,t[0].shape)[0],s=A.computeOutShape(t.map(u=>u.shape),i);if(E.sizeFromShape(s)===0)return n.makeTensorInfo(s,t[0].dtype,[]);let l=t.filter(u=>E.sizeFromShape(u.shape)>0);if(l.length===1)return xn({inputs:{x:l[0]},backend:n});let c=l.map(u=>u.shape);return A.assertParamsConsistent(c,i),Ml(l,i,n)}var tK={kernelName:ly,backendName:"webgl",kernelFunc:U1};var Au=class{constructor(t,n=!1,r=null,o=!1,i=!1){this.variableNames=["x","W"],this.outputShape=t.outShape;let s=t.padInfo.top,l=t.padInfo.left,c=t.strideHeight,u=t.strideWidth,d=t.dilationHeight,p=t.dilationWidth,f=t.filterHeight,m=t.filterWidth,h=Math.floor(t.inChannels/4)*4,g=t.inChannels%4,_=t.dataFormat==="channelsLast",$=_?1:2,x=_?2:3,w=_?3:1,S="",I="";r&&(o?S=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?S=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:S=`
          float activation(float x) {
            ${r}
          }
        `,I="result = activation(result);");let F=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${S}

      const ivec2 strides = ivec2(${c}, ${u});
      const ivec2 pads = ivec2(${s}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${w}];

        ivec2 xRCCorner =
            ivec2(coords[${$}], coords[${x}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${f}; wR++) {
          int xR = xRCorner + wR * ${d};

          if (xR < 0 || xR >= ${t.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${m}; wC++) {
            int xC = xCCorner + wC * ${p};

            if (xC < 0 || xC >= ${t.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${h}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${_}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${g===1}) {

              if (${_}) {
                dotProd +=
                    getX(batch, xR, xC, ${h}) *
                    getW(wR, wC, ${h}, d2);
              } else {
                dotProd +=
                    getX(batch, ${h}, xR, xC) *
                    getW(wR, wC, ${h}, d2);
              }

            } else if (${g===2}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${h}, d2),
                getW(wR, wC, ${h} + 1, d2)
              );

              if (${_}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${h}),
                  getX(batch, xR, xC, ${h} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${h}, xR, xC),
                  getX(batch, ${h} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${g===3}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${h}, d2),
                getW(wR, wC, ${h} + 1, d2),
                getW(wR, wC, ${h} + 2, d2)
              );

              if (${_}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${h}),
                  getX(batch, xR, xC, ${h} + 1),
                  getX(batch, xR, xC, ${h} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${h}, xR, xC),
                  getX(batch, ${h} + 1, xR, xC),
                  getX(batch, ${h} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${F}
        ${I}
        setOutput(result);
      }
    `}},fx=class{constructor(t){this.variableNames=["x","W"],this.outputShape=t.outShape;let n=t.padInfo.front,r=t.padInfo.top,o=t.padInfo.left,i=t.strideDepth,s=t.strideHeight,l=t.strideWidth,c=t.dilationDepth,u=t.dilationHeight,d=t.dilationWidth,p=t.filterDepth,f=t.filterHeight,m=t.filterWidth,h=Math.floor(t.inChannels/4)*4,g=t.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${i}, ${s}, ${l});
      const ivec3 pads = ivec3(${n}, ${r}, ${o});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${p}; wF++) {
          int xF = xFCorner + wF * ${c};

          if (xF < 0 || xF >= ${t.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${f}; wR++) {
            int xR = xRCorner + wR * ${u};

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${m}; wC++) {
              int xC = xCCorner + wC * ${d};

              if (xC < 0 || xC >= ${t.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${h}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${g===1}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${h}) *
                  getW(wF, wR, wC, ${h}, d2);
              } else if (${g===2}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${h}),
                  getX(batch, xF, xR, xC, ${h} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${h}, d2),
                  getW(wF, wR, wC, ${h} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${g===3}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${h}),
                  getX(batch, xF, xR, xC, ${h} + 1),
                  getX(batch, xF, xR, xC, ${h} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${h}, d2),
                  getW(wF, wR, wC, ${h} + 1, d2),
                  getW(wF, wR, wC, ${h} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}};var mx=class{constructor(t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=t,this.enableShapeUniforms=yn(this.outputShape.length);let{dataFormat:r}=n,o=cn(),i=r==="channelsLast",s=i?0:1,l=i?1:2,c=this.enableShapeUniforms?"if(blockIndex < outShape[1] && pos < outShape[0]) {":`if(blockIndex < ${t[1]} && pos < ${t[0]}) {`,u="";for(let d=0;d<=1;d++)for(let p=0;p<=1;p++)u+=`
          blockIndex = rc.y + ${p};
          pos = rc.x + ${d};

          ${c}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${s}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${l}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${i}) {
                  innerDims = vec2(d1, ch);
                  result[${d*2+p}] = getChannel(
                    getA(d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${d*2+p}] = getChannel(
                    getA(ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec2 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${u}

        ${o.output} = result;
      }
    `}};function hx({x:e,filter:t,convInfo:n,backend:r,bias:o=null,preluActivationWeights:i=null,leakyreluAlpha:s=0,activation:l=null}){let c=e.shape,u=r.texData.get(e.dataId),d=n.inChannels,p=c[0]*c[1]*c[2],f=n.outChannels,m=n.dataFormat==="channelsLast",h=!1,g=!1,_,$=[];if(!((p===1||f===1)&&d>N1)&&u.isPacked&&m&&u.texture!=null&&c[2]%2!==0&&E.arraysEqual(u.shape.slice(-3),c.slice(-3))){let S=c[0]*c[1]*(c[2]+1),I={dataId:e.dataId,shape:[1,S,n.inChannels],dtype:e.dtype},F=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,E.assert(Il(u.shape,I.shape),()=>`packed reshape ${u.shape} to ${I.shape} isn't free`);let k=me({inputs:{x:t},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}});$.push(k);let M=kl({a:I,b:k,backend:r,transposeA:h,transposeB:g,bias:o,activation:l,preluActivationWeights:i,leakyreluAlpha:s}),O=r.texData.get(M.dataId);E.assert(O.isPacked,()=>"batchMatMul result is expected to be packed"),u.shape=F,O.shape=n.outShape,_=xn({inputs:{x:M},backend:r}),_.shape=n.outShape,$.push(M)}else{let S=m?c[0]*c[1]*c[2]:c[0]*c[2]*c[3],I=me({inputs:{x:e},backend:r,attrs:{shape:[1,S,n.inChannels]}}),F=me({inputs:{x:t},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}}),k=kl({a:I,b:F,transposeA:h,transposeB:g,backend:r,bias:o,activation:l,preluActivationWeights:i,leakyreluAlpha:s});_=me({inputs:{x:k},backend:r,attrs:{shape:n.outShape}}),$.push(I),$.push(F),$.push(k)}for(let S of $)r.disposeIntermediateTensorInfo(S);return _}function gx({x:e,filter:t,convInfo:n,backend:r,bias:o=null,preluActivationWeights:i=null,leakyreluAlpha:s=0,activation:l=null}){let{filterWidth:c,filterHeight:u,inChannels:d,outWidth:p,outHeight:f,dataFormat:m}=n,h=m==="channelsLast",g=c*u*d,_=f*p,$=[g,_],x=!0,w=!1,S=[],I=me({inputs:{x:e},backend:r,attrs:{shape:e.shape.slice(1)}}),F=me({inputs:{x:t},backend:r,attrs:{shape:[1,g,E.sizeFromShape(t.shape)/g]}});S.push(I),S.push(F);let k=new mx($,n),M=[I.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],O=r.runWebGLProgram(k,[I],"float32",M),B=me({inputs:{x:O},backend:r,attrs:{shape:[1,$[0],$[1]]}});S.push(O),S.push(B);let W=o!=null,V=i!=null,P=l==="leakyrelu",G=l?ia(l,!0):null,Z=new ku(B.shape,F.shape,[1,_,n.outChannels],x,w,W,G,V,P),H=[B,F];if(o&&H.push(o),V&&H.push(i),P){let se=r.makeTensorInfo([],"float32",E.createScalarValue(s,"float32"));H.push(se),S.push(se)}let re=r.runWebGLProgram(Z,H,"float32"),te=h?[1,f,p,n.outChannels]:[1,n.outChannels,f,p],Y=me({inputs:{x:re},backend:r,attrs:{shape:te}});S.push(re);for(let se of S)r.disposeIntermediateTensorInfo(se);return Y}function u_e(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:s,pad:l,dataFormat:c,dilations:u,dimRoundingMode:d}=r,p=A.convertConv2DDataFormat(c),f=A.computeConv2DInfo(o.shape,i.shape,s,u,l,d,!1,p),m;if(f.filterHeight===1&&f.filterWidth===1&&f.dilationHeight===1&&f.dilationWidth===1&&f.strideHeight===1&&f.strideWidth===1&&(f.padInfo.type==="SAME"||f.padInfo.type==="VALID"))m=hx({x:o,filter:i,convInfo:f,backend:n});else if(Q().getBool("WEBGL_CONV_IM2COL")&&o.shape[0]===1)m=gx({x:o,filter:i,convInfo:f,backend:n});else{let g=new Au(f);m=n.runWebGLProgram(g,[o,i],"float32")}let h=me({inputs:{x:m},backend:n,attrs:{shape:f.outShape}});return n.disposeIntermediateTensorInfo(m),h}var nK={kernelName:cy,backendName:"webgl",kernelFunc:u_e};var bx=class{constructor(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;let n=t.strideHeight,r=t.strideWidth,o=t.padInfo.top,i=t.padInfo.left,s=t.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${t.batchSize}; b++) {
          for (int yR = 0; yR < ${t.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${o};

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${t.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${i};

              if (xC < 0 || xC >= ${t.inWidth}) {
                continue;
              }

              if (${s}) {
                float dyValue = getDy(b, yR, yC, d2);
                float xValue = getX(b, xR, xC, d1);
                dotProd += (xValue * dyValue);
              } else {
                float dyValue = getDy(b, d2, yR, yC);
                float xValue = getX(b, d1, xR, xC);
                dotProd += (xValue * dyValue);
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}},yx=class{constructor(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;let n=t.filterHeight,r=t.filterWidth,o=t.strideHeight,i=t.strideWidth,s=t.dataFormat==="channelsLast",l=n-1-t.padInfo.top,c=r-1-t.padInfo.left,u=s?1:2,d=s?2:3,p=s?3:1;this.userCode=`
      const ivec2 pads = ivec2(${l}, ${c});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${p}];

        ivec2 dyCorner = ivec2(coords[${u}], coords[${d}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${o}.0;

          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            for (int d2 = 0; d2 < ${t.outChannels}; d2++) {

              if (${s}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}},_x=class{constructor(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;let n=t.strideDepth,r=t.strideHeight,o=t.strideWidth,i=t.padInfo.front,s=t.padInfo.top,l=t.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${t.batchSize}; b++) {
          for (int yF = 0; yF < ${t.outDepth}; yF++) {
            int xF = wF + yF * ${n} - ${i};

            if (xF < 0 || xF >= ${t.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${t.outHeight}; yR++) {
              int xR = wR + yR * ${r} - ${s};

              if (xR < 0 || xR >= ${t.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${t.outWidth}; yC++) {
                int xC = wC + yC * ${o} - ${l};

                if (xC < 0 || xC >= ${t.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}},$x=class{constructor(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;let n=t.filterDepth,r=t.filterHeight,o=t.filterWidth,i=t.strideDepth,s=t.strideHeight,l=t.strideWidth,c=n-1-t.padInfo.front,u=r-1-t.padInfo.top,d=o-1-t.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${c}, ${u}, ${d});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${n}; wF++) {
          float dyF = float(dyFCorner + wF) / ${i}.0;

          if (dyF < 0.0 || dyF >= ${t.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${n} - 1 - wF;

          for (int wR = 0; wR < ${r}; wR++) {
            float dyR = float(dyRCorner + wR) / ${s}.0;

            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${r} - 1 - wR;

            for (int wC = 0; wC < ${o}; wC++) {
              float dyC = float(dyCCorner + wC) / ${l}.0;

              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${o} - 1 - wC;

              for (int d2 = 0; d2 < ${t.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}};function d_e(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:s,pad:l,dataFormat:c,dimRoundingMode:u,filterShape:d}=r,p=A.convertConv2DDataFormat(c),f=A.computeConv2DInfo(o.shape,d,s,1,l,u,!1,p),m=new bx(f);return n.runWebGLProgram(m,[o,i],"float32")}var rK={kernelName:uy,backendName:"webgl",kernelFunc:d_e};function p_e(e){let{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{inputShape:s,strides:l,pad:c,dataFormat:u,dimRoundingMode:d}=r,p=A.convertConv2DDataFormat(u),f=A.computeConv2DInfo(s,i.shape,l,1,c,d,!1,p),m=new yx(f);return n.runWebGLProgram(m,[o,i],"float32")}var oK={kernelName:dy,backendName:"webgl",kernelFunc:p_e};function f_e(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:s,pad:l,dilations:c}=r,u=A.computeConv3DInfo(o.shape,i.shape,s,c,l),d=new fx(u);return n.runWebGLProgram(d,[o,i],"float32")}var iK={kernelName:py,backendName:"webgl",kernelFunc:f_e};function m_e(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:s,pad:l,filterShape:c}=r,u=A.computeConv3DInfo(o.shape,c,s,1,l),d=new _x(u);return n.runWebGLProgram(d,[o,i],"float32")}var sK={kernelName:fy,backendName:"webgl",kernelFunc:m_e};function h_e(e){let{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{pad:s,strides:l,inputShape:c}=r,u=A.computeConv3DInfo(c,i.shape,l,1,s),d=new $x(u);return n.runWebGLProgram(d,[o,i],"float32")}var aK={kernelName:my,backendName:"webgl",kernelFunc:h_e};var g_e=H$+`
  return cos(x);
`,b_e=Te({opSnippet:g_e}),lK={kernelName:Dp,backendName:"webgl",kernelFunc:b_e};var y_e=`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`,__e=Te({opSnippet:y_e}),cK={kernelName:Fp,backendName:"webgl",kernelFunc:__e};var xx=class{constructor(t,n,r,o,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];let[s,l,c,u]=t,[d]=n,[p,f]=r;this.outputShape=[d,p,f,u];let m=o==="bilinear"?1:0,[h,g]=[`${l-1}.0`,`${c-1}.0`],[_,$,x]=p>1?[`${(l-1)/(p-1)}`,"(y2-y1) * height_ratio",`y1*${h} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${h}`],[w,S,I]=f>1?[`${(c-1)/(f-1)}`,"(x2-x1) * width_ratio",`x1*${g} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${g}`];this.userCode=`
      const float height_ratio = float(${_});
      const float width_ratio = float(${w});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${s}) {
          return;
        }

        float height_scale = ${$};
        float width_scale = ${S};

        float in_y = ${x};
        if( in_y < 0.0 || in_y > ${h} ) {
          setOutput(float(${i}));
          return;
        }
        float in_x = ${I};
        if( in_x < 0.0 || in_x > ${g} ) {
          setOutput(float(${i}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${m} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}};var $_e=e=>{let{inputs:t,backend:n,attrs:r}=e,{image:o,boxes:i,boxInd:s}=t,{cropSize:l,method:c,extrapolationValue:u}=r,d=new xx(o.shape,i.shape,l,c,u);return n.runWebGLProgram(d,[o,i,s],"float32")},uK={kernelName:gy,backendName:"webgl",kernelFunc:$_e};var Bf=class{constructor(t,n,r){this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}],this.outputShape=t;let o=t.length,i=n?"0.0":`getX(${dK(o,"coords")})`,s=t[t.length-1],l="",c="";n?(l=r?`end != ${s-1}`:"end != 0",c=r?"end + 1":"end - 1"):(l=r?`end + pow2 < ${s}`:"end >= pow2",c=r?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${Ke(o)} coords = getOutputCoords();
        int end = ${pK(o,"coords")};
        float val = ${i};
        int pow2 = int(pow(2.0, index));
        if (${l}) {
          int idx = ${c};
          ${pK(o,"coords")} = idx;
          val += getX(${dK(o,"coords")});
        }
        setOutput(val);
      }
    `}};function dK(e,t){if(e===1)return`${t}`;if(e===2)return`${t}.x, ${t}.y`;if(e===3)return`${t}.x, ${t}.y, ${t}.z`;if(e===4)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw Error(`Cumulative sum for rank ${e} is not yet supported`)}function pK(e,t){if(e===1)return`${t}`;if(e===2)return`${t}.y`;if(e===3)return`${t}.z`;if(e===4)return`${t}.w`;throw Error(`Cumulative sum for rank ${e} is not yet supported`)}function x_e(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,exclusive:s,reverse:l}=r,c=o.shape.length,u=A.getAxesPermutation([i],c),d=o;u!=null&&(d=en({inputs:{x:o},backend:n,attrs:{perm:u}}));let p=A.getInnerMostAxes(1,c)[0];if(p!==c-1)throw new Error(`WebGL cumsum shader expects an inner-most axis=${o.shape.length-1} but got axis=${i}`);let f=d.shape[p],m=xn({inputs:{x:d},backend:n});for(let h=0;h<=Math.ceil(Math.log2(f))-1;h++){let g=new Bf(d.shape,!1,l),_=[[h]],$=m;m=n.runWebGLProgram(g,[m],m.dtype,_),n.disposeIntermediateTensorInfo($)}if(s){let h=new Bf(d.shape,s,l),g=m;m=n.runWebGLProgram(h,[m],m.dtype),n.disposeIntermediateTensorInfo(g)}if(u!=null){let h=A.getUndoAxesPermutation(u),g=en({inputs:{x:m},backend:n,attrs:{perm:h}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(d),g}return m}var fK={kernelName:hy,backendName:"webgl",kernelFunc:x_e};function v_e(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,weights:i}=t,{size:s,binaryOutput:l}=r;if(o.shape.length===1){let c=n.readSync(o.dataId),u=n.readSync(i.dataId),d=N$(c,u,i.dtype,i.shape,s);return n.makeTensorInfo([s],i.dtype,d)}else if(o.shape.length===2){let c=n.bufferSync(o),u=n.bufferSync(i),d=o5(c,u,s,l);return n.makeTensorInfo(d.shape,i.dtype,d.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${o.shape.length}.`)}var mK={kernelName:by,backendName:"webgl",kernelFunc:v_e};var vx=class{constructor(t,n,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=n,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${n};
      int offset_h = imod(h, ${n});
      int in_w = w / ${n};
      int offset_w = imod(w, ${n});
      int offset_d = (offset_h * ${n} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}};function w_e(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockSize:i,dataFormat:s}=r,l=o.shape[0],c=s==="NHWC"?o.shape[1]:o.shape[2],u=s==="NHWC"?o.shape[2]:o.shape[3],d=s==="NHWC"?o.shape[3]:o.shape[1],p=c*i,f=u*i,m=d/(i*i),h=s==="NHWC"?[l,p,f,m]:[l,m,p,f],g=new vx(h,i,s);return n.runWebGLProgram(g,[o],o.dtype)}var hK={kernelName:yy,backendName:"webgl",kernelFunc:w_e};var Mu=class{constructor(t,n=!1,r=null,o=!1,i=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=yn(this.outputShape.length);let s=t.filterHeight,l=t.filterWidth,c=t.outChannels/t.inChannels,u="",d="";r&&(o?u=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?u=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:u=`
          float activation(float x) {
            ${r}
          }
        `,d="result = activation(result);");let p=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${u}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${c};
        int q = d2 - d1 * ${c};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${s}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${l}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${p}
        ${d}
        setOutput(result);
      }
    `}};var Ru=class{constructor(t,n=!1,r=null,o=!1,i=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=yn(this.outputShape.length);let s=t.outChannels/t.inChannels,l=t.padInfo.left,c=t.strideWidth,u=t.dilationWidth,d=t.filterHeight,p=t.filterWidth,f=p,m=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let $=0;$<p;$++)m+=`
          vec4 xTexelC${$*2};
          int xTexelC${$*2}Ready;
          vec4 xTexelC${$*2+1};
          int xTexelC${$*2+1}Ready;
          vec4 xC${$};`;m+=`
    for (int r = 0; r < ${d}; r++) {
      `;for(let $=0;$<p;$++)m+=`
          xTexelC${$*2} = vec4(0.0);
          xTexelC${$*2}Ready = 0;
          xTexelC${$*2+1} = vec4(0.0);
          xTexelC${$*2+1}Ready = 0;
          xC${$} = vec4(0.0);`;m+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let $=0;$<(f+1)/2;$++){let x=$*2;if(m+=`
          xC = xCCorner + ${x*u};
          `,c===1){if(x<p&&(l%2===1?(m+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${x}Ready == 0) {
                  xTexelC${x} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${x}.zw = vec2(0.0);
                  }
                  xTexelC${x}Ready = 1;
                }
              `,u===1&&x>0?m+=`
                xC${x} = vec4(xTexelC${x-2}.zw, xTexelC${x}.xy);
                `:m+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${x} = vec4(previous.zw, xTexelC${x}.xy);
                  } else {
                    xC${x} = vec4(0.0, 0.0, xTexelC${x}.xy);
                  }
                  `):m+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${x}Ready == 0) {
                  xTexelC${x} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${x}.zw = vec2(0.0);
                  }
                  xTexelC${x}Ready = 1;
                }

                xC${x} = xTexelC${x};
                `,x+1<p)){let w=l%2===0?E.nearestLargerEven(u):u;u%2===0&&l%2===1||u%2!==0&&l%2!==1?(m+=`
                  xCOffset = xC + imod(pads[1], 2) + ${w};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${x+1}Ready == 0) {
                    xTexelC${x+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${x+1}.zw = vec2(0.0);
                    }
                    xTexelC${x+1}Ready = 1;
                  }
                  `,u>1&&(m+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${x}Ready == 0) {
                      xTexelC${x} = getX(batch, xR, xCOffset, d1);
                      xTexelC${x}Ready = 1;
                    }
                    `),m+=`
                  xC${x+1} = vec4(xTexelC${x}.zw, xTexelC${x+1}.xy);
                  `):w===1?m+=`
                    xC${x+1} = xTexelC${x};
                    `:m+=`
                    xCOffset = xC + ${w};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${x+1}Ready == 0) {
                      xTexelC${x+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${x+1}.zw = vec2(0.0);
                      }
                      xTexelC${x+1}Ready = 1;
                    }

                    xC${x+1} = xTexelC${x+1};
                    `}}else x<p&&(l%2===1?(m+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${x}Ready == 0) {
                  xTexelC${x} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${x}.zw = vec2(0.0);
                  }
                  xTexelC${x}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${x+1}Ready == 0) {
                  xTexelC${x+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${x+1}.zw = vec2(0.0);
                  }
                  xTexelC${x+1}Ready = 1;
                }

                xC${x} = vec4(xTexelC${x}.zw, xTexelC${x+1}.zw);
              `,x+1<p&&(m+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${x+1} = vec4(xTexelC${x+1}.xy, final.xy);
                `)):(m+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${x}Ready == 0) {
                  xTexelC${x} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${x}.zw = vec2(0.0);
                  }
                  xTexelC${x}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${x+1}Ready == 0) {
                  xTexelC${x+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${x+1}.zw = vec2(0.);
                  }
                  xTexelC${x+1}Ready = 1;
                }

                xC${x} = vec4(
                  xTexelC${x}.xy, xTexelC${x+1}.xy);
              `,x+1<p&&(m+=`
                  xC${x+1} = vec4(xTexelC${x}.zw, xTexelC${x+1}.zw);
                `)));x<p&&(m+=`
            wTexel = getW(r, ${x}, d1, q);
            dotProd += xC${x} * vec4(wTexel.xz, wTexel.xz);
          `,x+1<p&&(m+=`
              wTexel = getW(r, ${x+1}, d1, q);
              dotProd += xC${x+1} * vec4(wTexel.xz, wTexel.xz);
            `))}m+=`
    }
  `,m+=`
      }
    `;let h="",g="";r&&(o?h=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?h=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:h=`vec4 activation(vec4 x) {
          ${r}
        }`,g="result = activation(result);");let _=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${h}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${s};
        int q = d2 - d1 * ${s};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${m}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${_}
        ${g}
        setOutput(result);
      }
    `}};function S_e(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:s,pad:l,dilations:c,dimRoundingMode:u}=r,d=c;d==null&&(d=[1,1]),E.assert(A.eitherStridesOrDilationsAreOne(s,d),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${s} and dilations '${d}'`);let p=A.computeConv2DInfo(o.shape,i.shape,s,d,l,u,!0),f;Q().getBool("WEBGL_PACK_DEPTHWISECONV")&&p.strideWidth<=2&&p.outChannels/p.inChannels===1?f=new Ru(p):f=new Mu(p);let m=[[p.padInfo.top,p.padInfo.left],[p.strideHeight,p.strideWidth],[p.dilationHeight,p.dilationWidth],[p.inHeight,p.inWidth]];return n.runWebGLProgram(f,[o,i],"float32",m)}var gK={kernelName:_y,backendName:"webgl",kernelFunc:S_e};var wx=class{constructor(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;let n=t.strideHeight,r=t.strideWidth,o=t.padInfo.top,i=t.padInfo.left,s=t.outChannels/t.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${s} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${t.batchSize}; b++) {
          for (int yR = 0; yR < ${t.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${o};

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${t.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${i};

              if (xC < 0 || xC >= ${t.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}},Sx=class{constructor(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;let n=t.filterHeight,r=t.filterWidth,o=t.strideHeight,i=t.strideWidth,s=n-1-t.padInfo.top,l=r-1-t.padInfo.left,c=t.outChannels/t.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${s}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${o}.0;

          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${c}; dm++) {
              int d2 = d1 * ${c} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}};function C_e(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:s,dilations:l,pad:c,dimRoundingMode:u,filterShape:d}=r,p=A.computeConv2DInfo(o.shape,d,s,l,c,u,!0),f=new wx(p);return n.runWebGLProgram(f,[o,i],"float32")}var bK={kernelName:$y,backendName:"webgl",kernelFunc:C_e};function I_e(e){let{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{strides:s,dilations:l,pad:c,dimRoundingMode:u,inputShape:d}=r,p=A.computeConv2DInfo(d,i.shape,s,l,c,u,!0),f=new Sx(p);return n.runWebGLProgram(f,[o,i],"float32")}var yK={kernelName:xy,backendName:"webgl",kernelFunc:I_e};var Cx=class{constructor(t){this.variableNames=["X"],this.outputShape=[t,t],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}};function E_e(e){let{inputs:t,backend:n}=e,{x:r}=t,o=[...r.shape,...r.shape],i=E.sizeFromShape(r.shape),s=me({inputs:{x:r},backend:n,attrs:{shape:[i]}}),l=new Cx(i),c=n.runWebGLProgram(l,[s],s.dtype),u=me({inputs:{x:c},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(c),u}var _K={kernelName:vy,backendName:"webgl",kernelFunc:E_e};var Ix=class{constructor(t){this.variableNames=["x","W"],this.outputShape=t.outShape;let{inHeight:n,inWidth:r,padInfo:o,strideHeight:i,strideWidth:s,filterHeight:l,filterWidth:c,dilationHeight:u,dilationWidth:d}=t,{top:p,left:f}=o;this.userCode=`
      const ivec2 strides = ivec2(${i}, ${s});
      const ivec2 pads = ivec2(${p}, ${f});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${l}; h++) {
          int hIn = hBeg + h * ${u};

          if (hIn >= 0 && hIn < ${n}) {
            for (int w = 0; w < ${c}; w++) {
              int wIn = wBeg + w * ${d};

              if (wIn >= 0 && wIn < ${r}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}};function T_e(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:s,pad:l,dilations:c}=r,u=A.computeDilation2DInfo(o.shape,i.shape,s,l,"NHWC",c),d,p=new Ix(u);d=n.runWebGLProgram(p,[o,i],"float32");let f=me({inputs:{x:d},backend:n,attrs:{shape:u.outShape}});return n.disposeIntermediateTensorInfo(d),f}var $K={kernelName:wy,backendName:"webgl",kernelFunc:T_e};function D_e(e){let{inputs:t,backend:n,attrs:r}=e,{equation:o}=r,i=t,{allDims:s,summedDims:l,idDims:c}=A.decodeEinsumEquation(o,i.length);A.checkEinsumDimSizes(s.length,c,i);let{path:u,steps:d}=A.getEinsumComputePath(l,c),p=d.length,f=null,m=s.length,h=[];for(let g=0;g<p;++g){for(let _ of d[g]){let{permutationIndices:$,expandDims:x}=A.getEinsumPermutation(m,c[_]),w;A.isIdentityPermutation($)?w=i[_]:(w=en({inputs:{x:i[_]},backend:n,attrs:{perm:$}}),h.push(w));let S=w.shape.slice();for(let I=0;I<x.length;++I)S.splice(x[I],0,1);E.arraysEqual(w.shape,S)||(w=me({inputs:{x:w},backend:n,attrs:{shape:S}}),h.push(w)),f===null?f=w:(f=Nf({inputs:{a:w,b:f},backend:n}),h.push(f))}g<p-1&&(u[g]>=0&&(f=Fl({inputs:{x:f},backend:n,attrs:{axis:u[g]-(s.length-m),keepDims:!1}}),h.push(f)),m--)}for(let g of h)g!==f&&n.disposeIntermediateTensorInfo(g);return f}var xK={kernelName:Sy,backendName:"webgl",kernelFunc:D_e};var F_e="return (x >= 0.0) ? x : (exp(x) - 1.0);",k_e=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,A_e=Te({opSnippet:F_e,packedOpSnippet:k_e}),vK={kernelName:nl,backendName:"webgl",kernelFunc:A_e};var M_e="return (b >= 1.0) ? a : a * (b + 1.0);",R_e=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,j_e=e=>{let{inputs:t,backend:n}=e,{dy:r,y:o}=t,i=Q().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ao(R_e,r.shape,o.shape):new oo(M_e,r.shape,o.shape);return n.runWebGLProgram(i,[r,o],r.dtype)},wK={kernelName:Cy,backendName:"webgl",kernelFunc:j_e};var O_e=`
  return vec4(equal(a, b));
`,N_e="return float(a == b);",P_e=Tt({opSnippet:N_e,packedOpSnippet:O_e,dtype:"bool",cpuKernelImpl:a5}),SK={kernelName:Mp,backendName:"webgl",kernelFunc:P_e};var B_e=`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${A.ERF_P};
  float a1 = ${A.ERF_A1};
  float a2 = ${A.ERF_A2};
  float a3 = ${A.ERF_A3};
  float a4 = ${A.ERF_A4};
  float a5 = ${A.ERF_A5};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`,L_e=Te({opSnippet:B_e}),CK={kernelName:Ap,backendName:"webgl",kernelFunc:L_e};var IK="return exp(x);",W1=Te({opSnippet:IK,packedOpSnippet:IK,cpuKernelImpl:l5,dtype:"float32"}),EK={kernelName:Rp,backendName:"webgl",kernelFunc:W1};function Ex(e){let{inputs:t,attrs:n,backend:r}=e,{dim:o}=n,{input:i}=t,s=i.shape.length,l=i.shape.slice(),c=o;return o<0&&(E.assert(-(s+1)<=o,()=>`Axis must be in the interval [${-(s+1)}, ${s}]`),c=s+o+1),l.splice(c,0,1),me({inputs:{x:i},backend:r,attrs:{shape:l}})}var TK={kernelName:Iy,backendName:"webgl",kernelFunc:Ex};var DK="return exp(x) - 1.0;",U_e=Te({opSnippet:DK,packedOpSnippet:DK,cpuKernelImpl:c5}),FK={kernelName:jp,backendName:"webgl",kernelFunc:U_e};var Lf=class{constructor(t,n,r){this.variableNames=["real","imag"];let o=n[1];this.outputShape=n;let i=r?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,s=r?`${o}.0`:"1.0",l;if(t==="real")l="return real * expR - imag * expI;";else if(t==="imag")l="return real * expI + imag * expR;";else throw new Error(`FFT component must be either "real" or "imag", got ${t}.`);this.userCode=`
      const float exponentMultiplier = ${i};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${l}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${o});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${o}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${s};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}};function Tx(e,t,n){let r=n.texData.get(e.dataId),o=E.sizeFromShape(e.shape),i=e.shape[e.shape.length-1],s=o/i,l=me({inputs:{x:e},backend:n,attrs:{shape:[s,i]}}),c=l.shape,u=new Lf("real",c,t),d=new Lf("imag",c,t),p=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:c},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:c}],f=n.runWebGLProgram(u,p,"float32"),m=n.runWebGLProgram(d,p,"float32"),h=Rr({inputs:{real:f,imag:m},backend:n});n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m);let g=me({inputs:{x:h},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(h),g}function W_e(e){let{inputs:t,backend:n}=e,{input:r}=t;return Tx(r,!1,n)}var kK={kernelName:Ey,backendName:"webgl",kernelFunc:W_e};var Dx=class{constructor(t,n){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=t,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}};function cs(e){let{backend:t,attrs:n}=e,{shape:r,value:o}=n,{dtype:i}=n;if(i=i||E.inferDtype(o),i==="string"){let s=E.getArrayFromDType(i,E.sizeFromShape(r));return s.fill(o),t.makeTensorInfo(r,i,s)}else{let s=new Dx(r,o),l=[[o]];return t.runWebGLProgram(s,[],i,l)}}var AK={kernelName:Ty,backendName:"webgl",kernelFunc:cs};var Fx=class{constructor(t){this.variableNames=["Image"],this.outputShape=[];let n=t[2];this.outputShape=t,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${n} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${n}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}};var MK={kernelName:Dy,backendName:"webgl",kernelFunc:({inputs:e,backend:t})=>{let{image:n}=e,r=t,o=new Fx(n.shape);return r.runWebGLProgram(o,[n],n.dtype)}};var RK="return floor(x);",z_e=Te({opSnippet:RK,packedOpSnippet:RK,cpuKernelImpl:u5}),jK={kernelName:Op,backendName:"webgl",kernelFunc:z_e};var V_e=`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,H_e=`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,G_e=Tt({opSnippet:V_e,packedOpSnippet:H_e,dtype:"int32"}),OK={kernelName:Np,backendName:"webgl",kernelFunc:G_e};var kx=class{constructor(t){this.variableNames=["A"];let n=cn(),[r,o]=t;this.outputShape=t,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${o}.0, ${r}.0);

        vec4 values = ${n.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}};var Ax=class{constructor(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;let n=cn(),[r,o]=t;this.outputShape=t,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${o}.0, ${r}.0);
            vec4 values = ${n.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${n.output} = result;
      }
    `}};var NK={kernelName:ez,backendName:"webgl",kernelFunc:q_e},ju;function q_e(e){let{inputs:t,backend:n,attrs:r}=e,{pixels:o}=t,{numChannels:i}=r,s=typeof HTMLVideoElement<"u"&&o instanceof HTMLVideoElement,l=typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement,[c,u]=s?[o.videoWidth,o.videoHeight]:[o.width,o.height],d=[u,c],p=[u,c,i];(l||s)&&(ju==null&&(ju=document.createElement("canvas").getContext("2d")),ju.canvas.width=c,ju.canvas.height=u,ju.drawImage(o,0,0,c,u),o=ju.canvas);let f=n.makeTensorInfo(d,"int32");n.texData.get(f.dataId).usage=ur.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(f.dataId),o);let m=Q().getBool("WEBGL_PACK")?new Ax(p):new kx(p),h=n.runWebGLProgram(m,[f],"int32");return n.disposeData(f.dataId),h}function K_e(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i,bias:s,preluActivationWeights:l}=t,{strides:c,pad:u,dataFormat:d,dilations:p,dimRoundingMode:f,activation:m,leakyreluAlpha:h}=r,g=A.convertConv2DDataFormat(d),_=A.computeConv2DInfo(o.shape,i.shape,c,p,u,f,!1,g),$,x=[];if(_.filterHeight===1&&_.filterWidth===1&&_.dilationHeight===1&&_.dilationWidth===1&&_.strideHeight===1&&_.strideWidth===1&&(_.padInfo.type==="SAME"||_.padInfo.type==="VALID"))$=hx({x:o,filter:i,convInfo:_,backend:n,bias:s,activation:m,preluActivationWeights:l,leakyreluAlpha:h});else if(Q().getBool("WEBGL_CONV_IM2COL")&&o.shape[0]===1)$=gx({x:o,filter:i,convInfo:_,backend:n,bias:s,activation:m,preluActivationWeights:l,leakyreluAlpha:h});else{let S=s!=null,I=l!=null,F=m==="leakyrelu",k=m?ia(m,!1):null,M=new Au(_,S,k,I,F),O=[o,i];if(s&&O.push(s),l&&O.push(l),F){let B=n.makeTensorInfo([],"float32",E.createScalarValue(h,"float32"));O.push(B),x.push(B)}$=n.runWebGLProgram(M,O,"float32")}let w=me({inputs:{x:$},backend:n,attrs:{shape:_.outShape}});return x.push($),x.forEach(S=>n.disposeIntermediateTensorInfo(S)),w}var PK={kernelName:O_,backendName:"webgl",kernelFunc:K_e};function X_e(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i,bias:s,preluActivationWeights:l}=t,{strides:c,pad:u,dilations:d,dimRoundingMode:p,activation:f,leakyreluAlpha:m}=r,h=[],g=d;g==null&&(g=[1,1]),E.assert(A.eitherStridesOrDilationsAreOne(c,g),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${c} and dilations '${g}'`);let _=A.computeConv2DInfo(o.shape,i.shape,c,g,u,p,!0),$=Q().getBool("WEBGL_PACK_DEPTHWISECONV")&&_.strideWidth<=2&&_.outChannels/_.inChannels===1,x=f?ia(f,$):null,w=[o,i],S=s!=null,I=l!=null,F=f==="leakyrelu";if(S&&w.push(s),I&&w.push(l),F){let B=n.makeTensorInfo([],"float32",E.createScalarValue(m,"float32"));w.push(B),h.push(B)}let k;$?k=new Ru(_,S,x,I,F):k=new Mu(_,S,x,I,F);let M=[[_.padInfo.top,_.padInfo.left],[_.strideHeight,_.strideWidth],[_.dilationHeight,_.dilationWidth],[_.inHeight,_.inWidth]],O=n.runWebGLProgram(k,w,"float32",M);return h.forEach(B=>n.disposeIntermediateTensorInfo(B)),O}var BK={kernelName:N_,backendName:"webgl",kernelFunc:X_e};var Mx=class{constructor(t,n,r){this.sliceDim=t,this.strides=n,this.variableNames=["x","indices"],this.outputShape=r;let o=Ke(n.length),i=Ke(r.length),s=this.sliceDim>1?"strides[j]":"strides";this.userCode=`
        ${o} strides = ${o}(${this.strides});
         void main() {
          ${i} coords = getOutputCoords();
          int flattenIndex = 0;
          for (int j = 0; j < ${this.sliceDim}; j++) {
            int index = round(getIndices(coords[0], j));
            flattenIndex += index * ${s};
          }
          setOutput(getX(flattenIndex, coords[1]));
        }
      `}};function Y_e(e){let{inputs:t,backend:n}=e,{params:r,indices:o}=t,i=o.shape,s=i[i.length-1],l=E.sizeFromShape(r.shape),[c,u,d,p]=A.prepareAndValidate(r,o),f=me({inputs:{x:o},backend:n,attrs:{shape:[u,s]}}),m=me({inputs:{x:r},backend:n,attrs:{shape:[E.sizeFromShape(r.shape)/d,d]}});if(n.shouldExecuteOnCPU([r,o])||r.dtype==="string"){let $=n.readSync(o.dataId),x=n.bufferSync(r),w=d5($,x,r.dtype,u,s,d,p,r.shape,l);return n.makeTensorInfo(c,r.dtype,w.values)}let h=new Mx(s,p,[u,d]),g=n.runWebGLProgram(h,[m,f],m.dtype),_=me({inputs:{x:g},backend:n,attrs:{shape:c}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),_}var LK={kernelName:Ay,backendName:"webgl",kernelFunc:Y_e};var Rx=class{constructor(t,n){this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;let r=Ke(this.rank),o=Z_e(t,2);this.userCode=`
      void main() {
        ${r} resRC = getOutputCoords();
        setOutput(getA(${o}));
      }
    `}};function Z_e(e,t){let n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[];for(let o=0;o<e.length;o++)o===2?r.push("int(getIndices(resRC.x, resRC.z))"):r.push(`${n[o]}`);return r.join()}function z1(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,indices:i}=t,{axis:s,batchDims:l}=r,c=E.parseAxisParam(s,o.shape)[0],u=n.readSync(i.dataId),d=o.shape[c];for(let S=0;S<u.length;++S){let I=u[S];E.assert(I<=d-1&&I>=0,()=>`GatherV2: the index value ${I} is not in [0, ${d-1}]`)}let p=A.segment_util.collectGatherOpShapeInfo(o,i,c,l),f=E.sizeFromShape(i.shape),m=[],h=me({inputs:{x:o},backend:n,attrs:{shape:[p.batchSize,p.outerSize,p.dimSize,p.sliceSize]}}),g=me({inputs:{x:i},backend:n,attrs:{shape:[p.batchSize,f/p.batchSize]}});m.push(h),m.push(g);let _=[p.batchSize,p.outerSize,f/p.batchSize,p.sliceSize];if(n.shouldExecuteOnCPU([o,i])||o.dtype==="string"){let S=n.bufferSync(g),I=n.bufferSync(h),F=p5(I,S,_);return m.forEach(k=>n.disposeIntermediateTensorInfo(k)),n.makeTensorInfo(p.outputShape,F.dtype,F.values)}let $=new Rx(h.shape,_),x=n.runWebGLProgram($,[h,g],h.dtype);m.push(x);let w=me({inputs:{x},backend:n,attrs:{shape:p.outputShape}});return m.forEach(S=>n.disposeIntermediateTensorInfo(S)),w}var UK={kernelName:ky,backendName:"webgl",kernelFunc:z1};var Q_e="return float(a > b);",J_e=`
  return vec4(greaterThan(a, b));
`,e$e=Tt({opSnippet:Q_e,packedOpSnippet:J_e,cpuKernelImpl:f5,dtype:"bool"}),WK={kernelName:Pp,backendName:"webgl",kernelFunc:e$e};var t$e="return float(a >= b);",n$e=`
  return vec4(greaterThanEqual(a, b));
`,r$e=Tt({opSnippet:t$e,packedOpSnippet:n$e,dtype:"bool",cpuKernelImpl:m5}),zK={kernelName:Bp,backendName:"webgl",kernelFunc:r$e};function o$e(e){let{inputs:t,backend:n}=e,{input:r}=t;return Tx(r,!0,n)}var VK={kernelName:My,backendName:"webgl",kernelFunc:o$e};var i$e="return float(!isnan(x) && !isinf(x));",s$e=Te({opSnippet:i$e,dtype:"bool"}),HK={kernelName:Lp,backendName:"webgl",kernelFunc:s$e};var a$e="return float(isinf(x));",l$e=Te({opSnippet:a$e,dtype:"bool"}),GK={kernelName:Up,backendName:"webgl",kernelFunc:l$e};var c$e="return float(isnan(x));",u$e=Te({opSnippet:c$e,dtype:"bool"}),qK={kernelName:Wp,backendName:"webgl",kernelFunc:u$e};var d$e="return float(a < b);",p$e=`
  return vec4(lessThan(a, b));
`,f$e=Tt({opSnippet:d$e,packedOpSnippet:p$e,cpuKernelImpl:h5,dtype:"bool"}),KK={kernelName:zp,backendName:"webgl",kernelFunc:f$e};var m$e="return float(a <= b);",h$e=`
  return vec4(lessThanEqual(a, b));
`,g$e=Tt({opSnippet:m$e,packedOpSnippet:h$e,cpuKernelImpl:g5,dtype:"bool"}),XK={kernelName:Vp,backendName:"webgl",kernelFunc:g$e};function b$e(e){let{backend:t,attrs:n}=e,{start:r,stop:o,num:i}=n,s=b5(r,o,i);return t.makeTensorInfo([s.length],"float32",s)}var YK={kernelName:jy,backendName:"webgl",kernelFunc:b$e};var y$e=`if (x < 0.0) return NAN;
  return log(x);`,_$e=`
  vec4 result = log(x);
  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));
  result.r = isNaN.r == 1.0 ? NAN : result.r;
  result.g = isNaN.g == 1.0 ? NAN : result.g;
  result.b = isNaN.b == 1.0 ? NAN : result.b;
  result.a = isNaN.a == 1.0 ? NAN : result.a;

  return result;
`,$$e=Te({opSnippet:y$e,packedOpSnippet:_$e,cpuKernelImpl:y5}),ZK={kernelName:Hp,backendName:"webgl",kernelFunc:$$e};var x$e="return log(1.0 + x);",v$e=Te({opSnippet:x$e}),QK={kernelName:Gp,backendName:"webgl",kernelFunc:v$e};var w$e="return float(a >= 1.0 && b >= 1.0);",S$e=`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,C$e=Tt({opSnippet:w$e,packedOpSnippet:S$e,dtype:"bool"}),JK={kernelName:qp,backendName:"webgl",kernelFunc:C$e};var I$e="return float(!(x >= 1.0));",E$e=Te({opSnippet:I$e}),e9={kernelName:Kp,backendName:"webgl",kernelFunc:E$e};var T$e="return float(a >= 1.0 || b >= 1.0);",D$e=`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,F$e=Tt({opSnippet:T$e,packedOpSnippet:D$e,dtype:"bool"}),t9={kernelName:Xp,backendName:"webgl",kernelFunc:F$e};var jx=class{constructor(t,n,r,o,i){this.variableNames=["x"],this.outputShape=[];let s=n,l=t[3]-1;this.outputShape=t;let c,u=`float(${r}) + float(${o}) * sum`;i===.5?c=`inversesqrt(${u})`:i===1?c=`1.0/(${u})`:c=`exp(log(${u}) * float(-${i}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${s}; j <= ${s}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${l}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${c};
        setOutput(val);
      }
    `}};var Ox=class{constructor(t,n,r,o,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;let s=n,l=t[3]-1;this.outputShape=t;let c,u=`float(${r}) + float(${o}) * sum`;i===.5?c=`inversesqrt(${u})`:i===1?c=`1.0/(${u})`:c=`exp(log(${u}) * float(-${i}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${s};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${s}; j <= ${s}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${l}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${c};
        setOutput(result);
      }
    `}};var k$e=e=>{let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{depthRadius:i,bias:s,alpha:l,beta:c}=r,u=Q().getBool("WEBGL_PACK_NORMALIZATION")?new Ox(o.shape,i,s,l,c):new jx(o.shape,i,s,l,c);return n.runWebGLProgram(u,[o],o.dtype)},n9={kernelName:Oy,backendName:"webgl",kernelFunc:k$e};var Nx=class{constructor(t,n,r,o,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=n,this.bias=r,this.alpha=o,this.beta=i,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${n})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${n} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${o}) * norm + float(${r});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${o})
                * float(${i})
                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${i});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}};var A$e=e=>{let{inputs:t,backend:n,attrs:r}=e,{x:o,y:i,dy:s}=t,{depthRadius:l,bias:c,alpha:u,beta:d}=r,p=new Nx(o.shape,l,c,u,d);return n.runWebGLProgram(p,[o,i,s],o.dtype)},r9={kernelName:Ny,backendName:"webgl",kernelFunc:A$e};function o9(e,t,n,r){let o=E.sizeFromShape(t),s=E.sizeFromShape(e.shape)/o,l=me({inputs:{x:e},attrs:{shape:[s,o]},backend:r}),c=Gr(l,e.dtype,"max",r),u=me({inputs:{x:c},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(l),r.disposeIntermediateTensorInfo(c),u}function V1(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{reductionIndices:i,keepDims:s}=r,l=o.shape.length,c=E.parseAxisParam(i,o.shape),u=c,d=A.getAxesPermutation(u,l),p=d!=null,f=n.shouldExecuteOnCPU([o]),m=o;if(p){if(f){let w=n.texData.get(m.dataId).values,S=new Array(l);for(let k=0;k<S.length;k++)S[k]=o.shape[d[k]];let I=Dl(w,o.shape,o.dtype,d,S);m=n.makeTensorInfo(S,o.dtype);let F=n.texData.get(m.dataId);F.values=I}else m=sa(o,d,n);u=A.getInnerMostAxes(u.length,l)}A.assertAxesAreInnerMostDims("max",u,l);let[h,g]=A.computeOutAndReduceShapes(m.shape,u),_=h;s&&(_=A.expandShapeToKeepDim(h,c));let $;if(f){let w=n.texData.get(m.dataId).values,S=_5(w,E.sizeFromShape(g),_,o.dtype);$=n.makeTensorInfo(_,o.dtype);let I=n.texData.get($.dataId);I.values=S}else $=o9(m,g,_,n);return p&&n.disposeIntermediateTensorInfo(m),$}var i9={kernelName:Py,backendName:"webgl",kernelFunc:V1};var M$e=V$+`
  return max(a, b);
`,R$e=`
  vec4 result = vec4(max(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  `+oa+`
  return result;
`,j$e=Tt({opSnippet:M$e,packedOpSnippet:R$e,cpuKernelImpl:$5}),s9={kernelName:Yp,backendName:"webgl",kernelFunc:j$e};function O$e(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t;Di(o,"maxPool");let{filterSize:i,strides:s,pad:l,dimRoundingMode:c}=r,u=1;E.assert(A.eitherStridesOrDilationsAreOne(s,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '${u}'`);let d=A.computePool2DInfo(o.shape,i,s,u,l,c);if(d.filterWidth===1&&d.filterHeight===1&&E.arraysEqual(d.inShape,d.outShape))return xn({inputs:{x:o},backend:n});let p=new ri(d,"max",!1);return n.runWebGLProgram(p,[o],o.dtype)}var a9={kernelName:By,backendName:"webgl",kernelFunc:O$e};function N$e(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{filterSize:i,strides:s,pad:l,dataFormat:c,dimRoundingMode:u}=r,d=[1,1,1],p=A.computePool3DInfo(o.shape,i,s,d,l,u,c),f=new aa(p,"max",!1);return n.runWebGLProgram(f,[o],o.dtype)}var l9={kernelName:Uy,backendName:"webgl",kernelFunc:N$e};var Px=class{constructor(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;let n=t.strideHeight,r=t.strideWidth,o=t.dilationHeight,i=t.effectiveFilterHeight,s=t.effectiveFilterWidth,l=i-1-t.padInfo.top,c=s-1-t.padInfo.left,u=i*s-1;this.userCode=`
      const ivec2 pads = ivec2(${l}, ${c});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${i};
          wR += ${o}) {
          float dyR = float(dyRCorner + wR) / ${n}.0;

          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${s}; wC++) {
            float dyC = float(dyCCorner + wC) / ${r}.0;

            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${u} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${s} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}},Bx=class{constructor(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;let n=t.strideDepth,r=t.strideHeight,o=t.strideWidth,i=t.dilationDepth,s=t.dilationHeight,l=t.dilationWidth,c=t.effectiveFilterDepth,u=t.effectiveFilterHeight,d=t.effectiveFilterWidth,p=c-1-t.padInfo.front,f=u-1-t.padInfo.top,m=d-1-t.padInfo.left,h=c*u*d-1;this.userCode=`
      const ivec3 pads = ivec3(${p}, ${f}, ${m});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${c};
           wD += ${i}) {
          float dyD = float(dyDCorner + wD) / ${n}.0;

          if (dyD < 0.0 || dyD >= ${t.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${u};
              wR += ${s}) {
            float dyR = float(dyRCorner + wR) / ${r}.0;

            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${d};
                wC += ${l}) {
              float dyC = float(dyCCorner + wC) / ${o}.0;

              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${h} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${u} * ${d} +
                  wR * ${d} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}};function P$e(e){let{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,s=i,{filterSize:l,strides:c,pad:u,dimRoundingMode:d}=r,p=[1,1,1],f=A.computePool3DInfo(s.shape,l,c,p,u,d),m=new aa(f,"max",!0),h=n.runWebGLProgram(m,[s],s.dtype),g=new Bx(f),_=n.runWebGLProgram(g,[o,h],s.dtype);return n.disposeIntermediateTensorInfo(h),_}var c9={kernelName:Wy,backendName:"webgl",kernelFunc:P$e};function B$e(e){let{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i,output:s}=t,l=i;Di([i,s],"maxPoolGrad");let{filterSize:c,strides:u,pad:d,dimRoundingMode:p}=r,f=A.computePool2DInfo(l.shape,c,u,1,d,p),m=!0,h=new ri(f,"max",m),g=n.runWebGLProgram(h,[l],l.dtype),_=new Px(f),$=n.runWebGLProgram(_,[o,g],l.dtype);return n.disposeIntermediateTensorInfo(g),$}var u9={kernelName:Ly,backendName:"webgl",kernelFunc:B$e};function d9(e,t,n,r){let o=new ri(n,"max",!1),i=r.runWebGLProgram(o,[e],"float32");o=new ri(n,"max",!0,!0,t);let s=r.runWebGLProgram(o,[e],"float32");return[i,s]}var p9={kernelName:zy,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{let{x:r}=e,{filterSize:o,strides:i,pad:s,includeBatchInIndex:l}=t,c=n;E.assert(r.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${r.shape.length}.`);let u=[1,1];E.assert(A.eitherStridesOrDilationsAreOne(i,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${u}'`);let d=A.computePool2DInfo(r.shape,o,i,u,s),[p,f]=d9(r,l,d,c);return[p,f]}};function f9(e,t,n,r){let o=E.sizeFromShape(t),s=E.sizeFromShape(e.shape)/o,l=me({inputs:{x:e},attrs:{shape:[s,o]},backend:r}),c=Gr(l,"float32","mean",r),u=me({inputs:{x:c},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(l),r.disposeIntermediateTensorInfo(c),u}var m9={kernelName:Vy,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{let{x:r}=e,{keepDims:o,axis:i}=t,s=n,l=r.shape.length,c=E.parseAxisParam(i,r.shape),u=c,d=A.getAxesPermutation(u,l),p=d!=null,f=s.shouldExecuteOnCPU([r]),m=[],h=r;if(p){if(f){let S=s.texData.get(h.dataId).values,I=new Array(l);for(let M=0;M<I.length;M++)I[M]=r.shape[d[M]];let F=Dl(S,r.shape,r.dtype,d,I);h=s.makeTensorInfo(I,r.dtype);let k=s.texData.get(h.dataId);k.values=F}else h=sa(r,d,s);m.push(h),u=A.getInnerMostAxes(u.length,l)}A.assertAxesAreInnerMostDims("sum",u,l);let[g,_]=A.computeOutAndReduceShapes(h.shape,u),$=g;o&&($=A.expandShapeToKeepDim(g,c));let x=f9(h,_,$,s);for(let w of m)s.disposeIntermediateTensorInfo(w);return x}};function L$e(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:s}=r,l=o.shape.length,c=E.parseAxisParam(i,o.shape),u=c,d=A.getAxesPermutation(u,l),p=o;d!=null&&(p=en({inputs:{x:o},backend:n,attrs:{perm:d}}),u=A.getInnerMostAxes(u.length,o.shape.length)),A.assertAxesAreInnerMostDims("min",u,l);let[f,m]=A.computeOutAndReduceShapes(p.shape,u),h=E.sizeFromShape(m),g=me({inputs:{x:p},backend:n,attrs:{shape:[-1,h]}}),_=Gr(g,g.dtype,"min",n),$;if(s){let x=A.expandShapeToKeepDim(f,c);$=me({inputs:{x:_},backend:n,attrs:{shape:x}})}else $=me({inputs:{x:_},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(_),d!=null&&n.disposeIntermediateTensorInfo(p),$}var h9={kernelName:Hy,backendName:"webgl",kernelFunc:L$e};var U$e=V$+`
  return min(a, b);
`,W$e=`
  vec4 result = vec4(min(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  `+oa+`
  return result;
`,z$e=Tt({opSnippet:U$e,packedOpSnippet:W$e,cpuKernelImpl:x5}),g9={kernelName:Zp,backendName:"webgl",kernelFunc:z$e};var Lx=class{constructor(t,n,r){this.variableNames=["x"],this.outputShape=n.map((d,p)=>d[0]+t[p]+d[1]);let o=t.length,i=Ke(o),s=n.map(d=>d[0]).join(","),l=n.map((d,p)=>d[0]+t[p]).join(","),c=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,o),u=r==="reflect"?0:1;if(o===1){this.userCode=`
        int start = ${s};
        int end = ${l};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${u};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${u};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${i} start = ${i}(${s});
      ${i} end = ${i}(${l});

      void main() {
        ${i} outC = getOutputCoords();
        for (int i = 0; i < ${o}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${u};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${u};
          }
        }
        ${i} coords = outC - start;
        setOutput(getX(${c}));
      }
    `}};var Ux=class{constructor(t,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((h,g)=>h[0]+t[g]+h[1]);let o=t.length,i=Ke(o),s=n.map(h=>h[0]).join(","),l=n.map((h,g)=>h[0]+t[g]).join(","),c=$n("rc",o),u=$n("source",o),d=`${c[o-1]} < ${this.outputShape[o-1]}`,p=o===1?"source":`vec2(${u.slice(-2).join()})`,f=r==="reflect"?0:1,m="";if(o===1){let h=`
        ${i} source = rc;
        if (source < start) {
          source = start * 2 - source - ${f};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${f};
        }
        source -= start;
      `;m=`
        ${i} rc = outputLoc;
        ${h}
        result[0] = getChannel(getX(${u.join()}), ${p});
        ${c[o-1]} += 1;
        if(${d}) {
          ${h}
          result[1] = getChannel(getX(${u.join()}), ${p});
        }
      `}else{let h=`
        ${i} source = rc;
        ${i} lt = ${i}(lessThan(source, start));
        ${i} gte = ${i}(greaterThanEqual(source, end));
        ${i} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${f}) +
                gte * ((end - 1) * 2 - source + ${f});
        source -= start;
      `;m=`
        ${i} rc = outputLoc;
        ${h}
        result[0] = getChannel(getX(${u.join()}), ${p});
        ${c[o-1]} += 1;
        if(${d}) {
          ${h}
          result[1] = getChannel(getX(${u.join()}), ${p});
        }
        rc = outputLoc;
        ${c[o-2]} += 1;
        if(${c[o-2]} < ${this.outputShape[o-2]}) {
          ${h}
          result[2] = getChannel(getX(${u.join()}), ${p});
          ${c[o-1]} += 1;
          if(${d}) {
            ${h}
            result[3] = getChannel(getX(${u.join()}), ${p});
          }
        }
      `}this.userCode=`
      const ${i} start = ${i}(${s});
      const ${i} end = ${i}(${l});

      void main() {
        ${i} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${m}
        setOutput(result);
      }
    `}};var V$e=({inputs:e,backend:t,attrs:n})=>{let{x:r}=e,{paddings:o,mode:i}=n,s=Q().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Ux(r.shape,o,i):new Lx(r.shape,o,i);return t.runWebGLProgram(s,[r],r.dtype)},b9={kernelName:Gy,backendName:"webgl",kernelFunc:V$e};var H$e=`if (b == 0.0) return NAN;
  return mod(a, b);`,G$e=`
  vec4 result = mod(a, b);
  vec4 isNaN = vec4(equal(b, vec4(0.0)));
  `+oa+`
  return result;
`,q$e=Tt({opSnippet:H$e,packedOpSnippet:G$e}),y9={kernelName:Qp,backendName:"webgl",kernelFunc:q$e};var Wx=class{constructor(t,n,r){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[t,r],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${n-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${n-1}));
      }
    `}};var K$e=`
if (a == b) {
  return 1.0;
};
return a / b;`,X$e=`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,H1=Tt({opSnippet:K$e,packedOpSnippet:X$e,checkOutOfBounds:!0}),_9={kernelName:kp,backendName:"webgl",kernelFunc:H1};var $9="return a - b;",G1=Tt({opSnippet:$9,packedOpSnippet:$9,supportsComplex:!0,cpuKernelImpl:N5}),x9={kernelName:pf,backendName:"webgl",kernelFunc:G1};function q1(e){let{inputs:t,backend:n,attrs:r}=e,{logits:o}=t,{dim:i}=r,s=E.parseAxisParam([i],o.shape),l=V1({inputs:{x:o},backend:n,attrs:{reductionIndices:s,keepDims:!1}}),c=A.expandShapeToKeepDim(l.shape,s),u=me({inputs:{x:l},backend:n,attrs:{shape:c}}),d=G1({inputs:{a:o,b:u},backend:n}),p=W1({inputs:{x:d},backend:n}),f=Fl({inputs:{x:p},backend:n,attrs:{axis:s,keepDims:!1}}),m=me({inputs:{x:f},backend:n,attrs:{shape:c}}),h=H1({inputs:{a:p,b:m},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),h}var v9={kernelName:h_,backendName:"webgl",kernelFunc:q1};function Y$e(e){let{inputs:t,backend:n,attrs:r}=e,{logits:o}=t,{numSamples:i,seed:s,normalized:l}=r,c=l?o:q1({inputs:{logits:o},backend:n,attrs:{dim:o.shape.length-1}}),u=c.shape[0],d=c.shape[1],p=new Wx(u,d,i),f=[[s]],m=n.runWebGLProgram(p,[c],"int32",f);return l||n.disposeIntermediateTensorInfo(c),m}var w9={kernelName:qy,backendName:"webgl",kernelFunc:Y$e};var S9="return -x;";function Z$e(e){let{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])){let i=n.texData.get(r.dataId),[s,l]=w5(i.values,r.shape,r.dtype);return n.makeTensorInfo(l,r.dtype,s)}let o;return Q().getBool("WEBGL_PACK_UNARY_OPERATIONS")?o=new ko(r.shape,S9):o=new vr(r.shape,S9),n.runWebGLProgram(o,[r],r.dtype)}var C9={kernelName:Ky,backendName:"webgl",kernelFunc:Z$e};var Q$e=er.nonMaxSuppressionV3Impl;function J$e(e){A.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");let{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:i}=t,{maxOutputSize:s,iouThreshold:l,scoreThreshold:c}=r,u=n.readSync(o.dataId),d=n.readSync(i.dataId),{selectedIndices:p}=Q$e(u,d,s,l,c);return n.makeTensorInfo([p.length],"int32",new Int32Array(p))}var I9={kernelName:Xy,backendName:"webgl",kernelFunc:J$e};var exe=er.nonMaxSuppressionV4Impl;function txe(e){A.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");let{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:i}=t,{maxOutputSize:s,iouThreshold:l,scoreThreshold:c,padToMaxOutputSize:u}=r,d=n.readSync(o.dataId),p=n.readSync(i.dataId),{selectedIndices:f,validOutputs:m}=exe(d,p,s,l,c,u);return[n.makeTensorInfo([f.length],"int32",new Int32Array(f)),n.makeTensorInfo([],"int32",new Int32Array([m]))]}var E9={kernelName:Yy,backendName:"webgl",kernelFunc:txe};var nxe=er.nonMaxSuppressionV5Impl;function rxe(e){A.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");let{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:i}=t,{maxOutputSize:s,iouThreshold:l,scoreThreshold:c,softNmsSigma:u}=r,d=n.readSync(o.dataId),p=n.readSync(i.dataId),f=s,m=l,h=c,g=u,{selectedIndices:_,selectedScores:$}=nxe(d,p,f,m,h,g);return[n.makeTensorInfo([_.length],"int32",new Int32Array(_)),n.makeTensorInfo([$.length],"float32",new Float32Array($))]}var T9={kernelName:Zy,backendName:"webgl",kernelFunc:rxe};var zx=class{constructor(t,n,r,o){this.variableNames=["indices"],this.outputShape=[t,n],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${o}), float(${r}),
                      float(index == coords.y)));
      }
    `}};var oxe=e=>{let{inputs:t,backend:n,attrs:r}=e,{indices:o}=t,{depth:i,onValue:s,offValue:l}=r,c=E.sizeFromShape(o.shape),u=new zx(c,i,s,l),d=me({inputs:{x:o},backend:n,attrs:{shape:[c]}}),p=n.runWebGLProgram(u,[d],o.dtype);n.disposeIntermediateTensorInfo(d);let f=[...o.shape,i],m=me({inputs:{x:p},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(p),m},D9={kernelName:Jy,backendName:"webgl",kernelFunc:oxe};function Uf(e){let{inputs:t,backend:n}=e,{x:r}=t;if(r.dtype==="complex64"){let o=ls({inputs:{input:r},backend:n}),i=Uf({inputs:{x:o},backend:n}),s=Al({inputs:{input:r},backend:n}),l=Uf({inputs:{x:s},backend:n}),c=Rr({inputs:{real:i,imag:l},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),c}else return cs({attrs:{shape:r.shape,dtype:r.dtype,value:r.dtype==="string"?"":0},backend:n})}var F9={kernelName:M_,backendName:"webgl",kernelFunc:Uf};function k9(e){let{inputs:t,backend:n}=e,{x:r}=t;if(r.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(r.dtype==="complex64"){let o=ls({inputs:{input:r},backend:n}),i=k9({inputs:{x:o},backend:n}),s=Al({inputs:{input:r},backend:n}),l=Uf({inputs:{x:s},backend:n}),c=Rr({inputs:{real:i,imag:l},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),c}else return cs({attrs:{shape:r.shape,dtype:r.dtype,value:1},backend:n})}var A9={kernelName:Qy,backendName:"webgl",kernelFunc:k9};function ixe(e){let{inputs:t,backend:n,attrs:r}=e,{axis:o}=r;if(t.length===1)return Ex({inputs:{input:t[0]},backend:n,attrs:{dim:o}});let i=t[0].shape,s=t[0].dtype;t.forEach(d=>{E.assertShapesMatch(i,d.shape,"All tensors passed to stack must have matching shapes"),E.assert(s===d.dtype,()=>"All tensors passed to stack must have matching dtypes")});let l=[],c=t.map(d=>{let p=Ex({inputs:{input:d},backend:n,attrs:{dim:o}});return l.push(p),p}),u=U1({inputs:c,backend:n,attrs:{axis:o}});return l.forEach(d=>n.disposeIntermediateTensorInfo(d)),u}var M9={kernelName:e_,backendName:"webgl",kernelFunc:ixe};var Vx=class{constructor(t,n,r){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((u,d)=>u[0]+t[d]+u[1]);let o=t.length,i=Ke(o),s=n.map(u=>u[0]).join(","),l=n.map((u,d)=>u[0]+t[d]).join(","),c=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,o);if(o===1){this.userCode=`
        int start = ${s};
        int end = ${l};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${i} start = ${i}(${s});
      ${i} end = ${i}(${l});

      void main() {
        ${i} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${i} coords = outC - start;
          setOutput(getX(${c}));
        }
      }
    `}};var Hx=class{constructor(t,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((g,_)=>g[0]+t[_]+g[1]);let o=t.length,i=Ke(o),s=n.map(g=>g[0]).join(","),l=n.map((g,_)=>g[0]+t[_]).join(","),c=$n("rc",o),u=$n("source",o),d=`${c[o-1]} < ${this.outputShape[o-1]}`,p=o===1?"source":`vec2(${u.slice(-2).join()})`,f=[`${i} rc = outputLoc;`,`${c[o-1]} += 1;
       if(${d}) {
      `,o===1?"":`}
       rc = outputLoc;
       ${c[o-2]} += 1;
       if(${c[o-2]} < ${this.outputShape[o-2]}) {`,o===1?"":`  ${c[o-1]} += 1;
         if(${d}) {`],m=o===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",h="";for(let g=0,_=o===1?2:4;g<_;g++)h+=`
        ${f[g]}
        if (${m}) {
          result[${g}] = float(value);
        } else {
          ${i} source = rc - start;
          result[${g}] = getChannel(getX(${u.join()}), ${p});
        }
      `;h+=o===1?"} ":"}}",this.userCode=`
      const ${i} start = ${i}(${s});
      const ${i} end = ${i}(${l});

      void main() {
        ${i} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${h}
        setOutput(result);
      }
    `}};var K1=e=>{let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{paddings:i,constantValue:s}=r;if(E.sizeFromShape(o.shape)===0){let u=i.map((d,p)=>d[0]+o.shape[p]+d[1]);return cs({backend:n,attrs:{shape:u,value:s,dtype:o.dtype}})}let l=Q().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Hx(o.shape,i,s):new Vx(o.shape,i,s),c=[[s]];return n.runWebGLProgram(l,[o],o.dtype,c)},R9={kernelName:t_,backendName:"webgl",kernelFunc:K1};var sxe=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,axe=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));
  `+oa+`
  return result;
`,lxe=Tt({opSnippet:sxe,packedOpSnippet:axe}),j9={kernelName:ef,backendName:"webgl",kernelFunc:lxe};function cxe(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:s}=r,l=o.shape.length,c=[],u=E.parseAxisParam(i,o.shape),d=u,p=A.getAxesPermutation(d,l),f=o;p!=null&&(f=en({inputs:{x:o},backend:n,attrs:{perm:p}}),d=A.getInnerMostAxes(d.length,l),c.push(f)),A.assertAxesAreInnerMostDims("prod",d,l);let m;if(n.shouldExecuteOnCPU([f])){let h=n.texData.get(f.dataId).values,{outVals:g,outShape:_,outDtype:$}=C5(f.shape,f.dtype,h,d);m=n.makeTensorInfo(_,$,g)}else{let[h,g]=A.computeOutAndReduceShapes(f.shape,d),_=E.sizeFromShape(g),$=me({inputs:{x:f},backend:n,attrs:{shape:[-1,_]}}),x=ml(o.dtype),w=Gr($,x,"prod",n);m=me({inputs:{x:w},backend:n,attrs:{shape:h}}),c.push($),c.push(w)}if(s){c.push(m);let h=A.expandShapeToKeepDim(m.shape,u);m=me({inputs:{x:m},backend:n,attrs:{shape:h}})}return c.forEach(h=>n.disposeIntermediateTensorInfo(h)),m}var O9={kernelName:n_,backendName:"webgl",kernelFunc:cxe};var X1=e=>{let{backend:t,attrs:n}=e,{start:r,stop:o,step:i,dtype:s}=n,l=I5(r,o,i,s);return t.makeTensorInfo([l.length],s,l)},N9={kernelName:r_,backendName:"webgl",kernelFunc:X1};var uxe="return 1.0 / x;",dxe=Te({opSnippet:uxe}),P9={kernelName:tf,backendName:"webgl",kernelFunc:dxe};var pxe=Wn+`
  return (x < 0.0) ? 0.0 : x;
`,fxe=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,mxe=Te({opSnippet:pxe,packedOpSnippet:fxe}),B9={kernelName:ol,backendName:"webgl",kernelFunc:mxe};var hxe=Wn+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,gxe=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,bxe=Te({opSnippet:hxe,packedOpSnippet:gxe}),L9={kernelName:il,backendName:"webgl",kernelFunc:bxe};var Gx=class{constructor(t,n,r,o,i){this.variableNames=["A"],this.outputShape=[];let[s,l,c,u]=t;this.outputShape=[s,n,r,u];let d=[o&&n>1?l-1:l,o&&r>1?c-1:c],p=[o&&n>1?n-1:n,o&&r>1?r-1:r],f;i?f="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":f="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${d[0]/p[0]},
          ${d[1]/p[1]});
      const vec2 inputShapeRC = vec2(${l}.0, ${c}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${f};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}};var qx=class{constructor(t,n,r,o,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];let[s,l,c,u]=t;this.outputShape=[s,n,r,u];let d=[o&&n>1?l-1:l,o&&r>1?c-1:c],p=[o&&n>1?n-1:n,o&&r>1?r-1:r],f;i?f="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":f="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${d[0]/p[0]},
          ${d[1]/p[1]},
          ${d[1]/p[1]});
      const vec3 inputShapeRC = vec3(${l}.0, ${c}.0,
                                     ${c}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${f};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${u-1};
        bool hasNextRow = coords.z < ${r-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}};function yxe(e){let{inputs:t,backend:n,attrs:r}=e,{images:o}=t,{alignCorners:i,halfPixelCenters:s,size:l}=r,[c,u]=l,d=Q().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new qx(o.shape,c,u,i,s):new Gx(o.shape,c,u,i,s);return n.runWebGLProgram(d,[o],"float32")}var U9={kernelName:a_,backendName:"webgl",kernelFunc:yxe};var Kx=class{constructor(t,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;let[,o,i]=n,[,s,l]=t,c=[r&&s>1?o-1:o,r&&l>1?i-1:i],u=[r&&s>1?s-1:s,r&&l>1?l-1:l],d=c[0]/u[0],p=c[1]/u[1],f=1/d,m=1/p,h=Math.ceil(f)*2+2,g=Math.ceil(m)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${d});
        const float widthScale = float(${p});

        const float invHeightScale = float(${f});
        const float invWidthScale = float(${m});

        const int winHeight = int(${h});
        const int winWidth = int(${g});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${s}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${l}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${o-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${i-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}};function _xe(e){let{inputs:t,backend:n,attrs:r}=e,{images:o,dy:i}=t,{alignCorners:s}=r,l=new Kx(i.shape,o.shape,s);return n.runWebGLProgram(l,[i],i.dtype)}var W9={kernelName:l_,backendName:"webgl",kernelFunc:_xe};var Xx=class{constructor(t,n,r,o,i){this.variableNames=["A"],this.outputShape=[];let[s,l,c,u]=t;this.outputShape=[s,n,r,u];let d=[o&&n>1?l-1:l,o&&r>1?c-1:c],p=[o&&n>1?n-1:n,o&&r>1?r-1:r],f=o?"0.5":"0.0",m;i?m="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":m="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${d[0]/p[0]},
          ${d[1]/p[1]});
      const vec2 inputShapeRC = vec2(${l}.0, ${c}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${m};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${f})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}};var Yx=class{constructor(t,n,r,o,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];let[s,l,c,u]=t;this.outputShape=[s,n,r,u];let d=[o&&n>1?l-1:l,o&&r>1?c-1:c],p=[o&&n>1?n-1:n,o&&r>1?r-1:r],f=o?"0.5":"0.0",m;i?m="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":m="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${d[0]/p[0]},
          ${d[1]/p[1]},
          ${d[1]/p[1]});
      const vec3 inputShapeRC = vec3(${l}.0, ${c}.0,
                                     ${c}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${m};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${f})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${u-1};
        bool hasNextRow = coords.z < ${r-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}};function $xe(e){let{inputs:t,backend:n,attrs:r}=e,{images:o}=t,{alignCorners:i,halfPixelCenters:s,size:l}=r,[c,u]=l,d=Q().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Yx(o.shape,c,u,i,s):new Xx(o.shape,c,u,i,s);return n.runWebGLProgram(d,[o],o.dtype)}var z9={kernelName:i_,backendName:"webgl",kernelFunc:$xe};var Zx=class{constructor(t,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;let[,o,i]=n,[,s,l]=t,c=[r&&s>1?o-1:o,r&&l>1?i-1:i],u=[r&&s>1?s-1:s,r&&l>1?l-1:l],d=c[0]/u[0],p=c[1]/u[1],f=1/d,m=1/p,h=Math.ceil(f)*2+2,g=Math.ceil(m)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${d});
        const float widthScale = float(${p});

        const float invHeightScale = float(${f});
        const float invWidthScale = float(${m});

        const int winHeight = int(${h});
        const int winWidth = int(${g});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${s}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${l}) {
              continue;
            }

            float sourceFracRow =
              float(${c[0]}) *
                (float(dyR) / float(${u[0]}));

            float sourceFracCol =
                float(${c[1]}) *
                  (float(dyC) / float(${u[1]}));

            int sourceNearestRow = int(min(
                float(int(${o}) - 1),
                ${r} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${i}) - 1),
                ${r} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}};function xxe(e){let{inputs:t,backend:n,attrs:r}=e,{images:o,dy:i}=t,{alignCorners:s}=r,l=new Zx(i.shape,o.shape,s);return n.runWebGLProgram(l,[i],i.dtype)}var V9={kernelName:s_,backendName:"webgl",kernelFunc:xxe};var Qx=class{constructor(t,n){this.variableNames=["x"];let r=t.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);if(this.outputShape=t,r===1){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${t[0]} - coord - 1));
        }
      `;return}let o=l=>n.indexOf(l)!==-1&&t[l]!==1?`${t[l]} - coords[${l}] - 1`:`coords[${l}]`,i=t.map((l,c)=>o(c)).join(","),s=Ke(r);this.userCode=`
      void main() {
        ${s} coords = getOutputCoords();
        setOutput(getX(${i}));
      }
    `}};var Jx=class{constructor(t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;let r=t.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);this.outputShape=t;let o=$n("rc",r),i=`${o[r-1]} + 1 < ${this.outputShape[r-1]}`,s=`${o[r-2]} + 1 < ${this.outputShape[r-2]}`,l=Ke(r);r===1?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${t[0]} - rc - 1),
            ${t[0]} - rc - 1);
          if(${i}){
              result.g = getChannel(getX(${t[0]} - (rc  + 1) - 1),
                ${t[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${l} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${c(o.slice())};
          if(${i}){
            result.g = ${u(o.slice())};
          }
          if(${s}) {
            result.b = ${d(o.slice())};
            if(${i}) {
              result.a = ${p(o.slice())};
            }
          }
          setOutput(result);
        }
    `;function c(h){return f(h)}function u(h){return h[r-1]="("+h[r-1]+" + 1)",f(h)}function d(h){return h[r-2]="("+h[r-2]+" + 1)",f(h)}function p(h){return h[r-1]="("+h[r-1]+" + 1)",h[r-2]="("+h[r-2]+" + 1)",f(h)}function f(h){let g=t.map((x,w)=>m(w,h)),_=g.join(","),$=g.slice(-2).join(",");return`getChannel(getX(${_}), vec2(${$}))`}function m(h,g){return n.indexOf(h)!==-1&&t[h]!==1?`${t[h]} - ${g[h]} - 1`:`${g[h]}`}}};function vxe(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{dims:i}=r,s=o.shape.length,l=E.parseAxisParam(i,o.shape);if(s===0)return xn({inputs:{x:o},backend:n});let c=Q().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Jx(o.shape,l):new Qx(o.shape,l);return n.runWebGLProgram(c,[o],o.dtype)}var H9={kernelName:c_,backendName:"webgl",kernelFunc:vxe};var ev=class{constructor(t,n){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];let r=t[1],o=t[2];this.outputShape=t;let i="";typeof n=="number"?i=`float outputValue = ${n.toFixed(2)};`:i=`
        vec3 fill = vec3(${n.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${i}
          if(coordX >= 0 && coordX < ${o} && coordY >= 0 && coordY < ${r}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}};var G9={kernelName:R_,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{let{image:r}=e,{radians:o,fillValue:i,center:s}=t,l=n,c=new ev(r.shape,i),[u,d]=A.getImageCenter(s,r.shape[1],r.shape[2]),p=[[u,d,Math.sin(o),Math.cos(o)]];return l.runWebGLProgram(c,[r],r.dtype,p)}};var wxe=`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`,Sxe=Te({opSnippet:wxe}),q9={kernelName:nf,backendName:"webgl",kernelFunc:Sxe};var Cxe="return inversesqrt(x);",Ixe=Te({opSnippet:Cxe,cpuKernelImpl:E5}),K9={kernelName:rf,backendName:"webgl",kernelFunc:Ixe};var Ou=class{constructor(t,n,r,o,i,s,l=!0){this.variableNames=["updates","indices","defaultValue"],this.outputShape=s;let c=Ke(i.length),u=Ke(s.length),d="";r===1?d="i":r===2&&(d="i, j");let p=`getIndices(${d})`,f="";o===1?f="i":o===2&&(f="i, coords[1]");let m=`getUpdates(${f})`,h=n>1?"strides[j]":"strides";this.userCode=`
        ${c} strides = ${c}(${i});

        void main() {
          ${u} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${t}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${n}; j++) {
              int index = round(${p});
              flattenedIndex += index * ${h};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${m};
              found = true;
            }
          }
          setOutput(mix(getDefaultValue(), sum, float(found)));
        }
      `}};function Exe(e){let{inputs:t,backend:n,attrs:r}=e,{indices:o,updates:i}=t,{shape:s}=r,{sliceRank:l,numUpdates:c,sliceSize:u,strides:d,outputSize:p}=A.calculateShapes(i,o,s),f=[p/u,u];if(p===0)return n.makeTensorInfo(s,o.dtype);let m=me({inputs:{x:o},backend:n,attrs:{shape:[c,l]}}),h=me({inputs:{x:i},backend:n,attrs:{shape:[c,u]}}),g=n.makeTensorInfo([],"float32",new Float32Array([0])),_=new Ou(c,l,m.shape.length,h.shape.length,d,f),$=n.runWebGLProgram(_,[h,m,g],h.dtype),x=me({inputs:{x:$},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo($),n.disposeIntermediateTensorInfo(g),x}var X9={kernelName:u_,backendName:"webgl",kernelFunc:Exe};var tv=class{constructor(t,n,r){this.variableNames=["c","a","b"],this.outputShape=n;let o,i;if(r>4)throw Error(`Where for rank ${r} is not yet supported`);if(r===1)i="resRC",o="resRC";else{let l=["resRC.x","resRC.y","resRC.z","resRC.w"],c=[],u=[];for(let d=0;d<n.length;d++)u.push(`${l[d]}`),d<t&&c.push(`${l[d]}`);o=c.join(),i=u.join()}let s=Ke(r);this.userCode=`
      void main() {
        ${s} resRC = getOutputCoords();
        float cVal = getC(${o});
        if (cVal >= 1.0) {
          setOutput(getA(${i}));
        } else {
          setOutput(getB(${i}));
        }
      }
    `}};function Txe(e){let{inputs:t,backend:n}=e,{condition:r,t:o,e:i}=t,s=new tv(r.shape.length,o.shape,o.shape.length);return n.runWebGLProgram(s,[r,o,i],Rn(o.dtype,i.dtype))}var Y9={kernelName:d_,backendName:"webgl",kernelFunc:Txe};var Dxe=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${A.SELU_SCALEALPHA};
  float scale = ${A.SELU_SCALE};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,Fxe=Te({opSnippet:Dxe}),Z9={kernelName:of,backendName:"webgl",kernelFunc:Fxe};var Q9="return 1.0 / (1.0 + exp(-1.0 * x));",kxe=Te({opSnippet:Q9,packedOpSnippet:Q9,cpuKernelImpl:T5}),J9={kernelName:sl,backendName:"webgl",kernelFunc:kxe};var Axe=`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`,Mxe=Te({opSnippet:Axe}),e7={kernelName:lf,backendName:"webgl",kernelFunc:Mxe};var Rxe=H$+`
  return sin(x);
`,jxe=Te({opSnippet:Rxe}),t7={kernelName:sf,backendName:"webgl",kernelFunc:jxe};var Oxe=`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`,Nxe=Te({opSnippet:Oxe}),n7={kernelName:af,backendName:"webgl",kernelFunc:Nxe};var Pxe=`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`,Bxe=Te({opSnippet:Pxe}),r7={kernelName:cf,backendName:"webgl",kernelFunc:Bxe};var Lxe=e=>{let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:i,paddings:s}=r;E.assert(o.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");let l=i.reduce(($,x)=>$*x),c=[[0,0]];c.push(...s);for(let $=1+i.length;$<o.shape.length;++$)c.push([0,0]);let u=[],d=K1({inputs:{x:o},backend:n,attrs:{paddings:c,constantValue:0}}),p=A.getReshaped(d.shape,i,l,!1),f=A.getPermuted(p.length,i.length,!1),m=A.getReshapedPermuted(d.shape,i,l,!1),h=me({inputs:{x:d},backend:n,attrs:{shape:p}}),g=en({inputs:{x:h},backend:n,attrs:{perm:f}}),_=me({inputs:{x:g},backend:n,attrs:{shape:m}});return u.push(d),u.push(h),u.push(g),u.forEach($=>n.disposeIntermediateTensorInfo($)),_},o7={kernelName:f_,backendName:"webgl",kernelFunc:Lxe};function Uxe(e){let{inputs:t,backend:n}=e,{indices:r,values:o,denseShape:i,defaultValue:s}=t;if(i.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
         ${i.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
         ${r.shape}`);if(o.shape.length!==1)throw new Error(`Values must be a vector, saw:
         ${o.shape}`);if(s.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${s.shape}`);let l=n.readSync(r.dataId),c=n.readSync(o.dataId),u=n.readSync(i.dataId),d=n.readSync(s.dataId)[0],[p,f,m,h,g]=F5(l,r.shape,r.dtype,c,o.dtype,u,d);return[n.makeTensorInfo(f,r.dtype,p),n.makeTensorInfo([f[0]],o.dtype,m),n.makeTensorInfo([h.length],"bool",new Uint8Array(h.map(_=>Number(_)))),n.makeTensorInfo([g.length],r.dtype,new Int32Array(g))]}var i7={kernelName:g_,backendName:"webgl",kernelFunc:Uxe};function Wxe(e){let{inputs:t,backend:n}=e,{inputIndices:r,inputShape:o,newShape:i}=t;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape ${r.shape}`);if(o.shape.length!==1)throw new Error(`Input shape should be a vector but received shape ${o.shape}`);if(i.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);let s=Array.from(n.readSync(o.dataId)),l=n.readSync(r.dataId),c=Array.from(n.readSync(i.dataId)),[u,d,p]=k5(l,r.shape,r.dtype,s,c);return[n.makeTensorInfo(d,r.dtype,u),n.makeTensorInfo([p.length],i.dtype,new Int32Array(p))]}var s7={kernelName:b_,backendName:"webgl",kernelFunc:Wxe};function zxe(e){let{inputs:t,backend:n}=e,{data:r,indices:o,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(o.shape.length!==1)throw new Error(`Indices should be a vector but received shape
              ${o.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
              ${i.shape}`);let s=n.readSync(r.dataId),l=n.readSync(o.dataId),c=n.readSync(i.dataId),[u,d]=B$(s,r.shape,r.dtype,l,c,!0);return n.makeTensorInfo(d,r.dtype,u)}var a7={kernelName:y_,backendName:"webgl",kernelFunc:zxe};function Vxe(e){let{inputs:t,backend:n}=e,{data:r,indices:o,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(o.shape.length!==1)throw new Error(`Indices should be a vector but received shape
             ${o.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
             ${i.shape}`);let s=n.readSync(r.dataId),l=n.readSync(o.dataId),c=n.readSync(i.dataId),[u,d]=B$(s,r.shape,r.dtype,l,c);return n.makeTensorInfo(d,r.dtype,u)}var l7={kernelName:__,backendName:"webgl",kernelFunc:Vxe};function Hxe(e){let{inputs:t,backend:n,attrs:r}=e,{sparseIndices:o,sparseValues:i,defaultValue:s}=t,{outputShape:l}=r,{sliceRank:c,numUpdates:u,strides:d,outputSize:p}=A.calculateShapes(i,o,l),f=!1,m=new Ou(u,c,o.shape.length,i.shape.length,d,[p,1],f),h=n.runWebGLProgram(m,[i,o,s],i.dtype),g=me({inputs:{x:h},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(h),g}var c7={kernelName:$_,backendName:"webgl",kernelFunc:Hxe};function Gxe(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{numOrSizeSplits:i,axis:s}=r,l=E.parseAxisParam(s,o.shape)[0],c=A.prepareSplitSize(o,i,l),u=o.shape.length,d=new Array(u).fill(0),p=o.shape.slice();return c.map(f=>{let m=[...p];m[l]=f;let h=oi({inputs:{x:o},backend:n,attrs:{begin:d,size:m}});return d[l]+=f,h})}var u7={kernelName:m_,backendName:"webgl",kernelFunc:Gxe};var d7="return sqrt(x);",qxe=Te({opSnippet:d7,packedOpSnippet:d7,cpuKernelImpl:A5}),p7={kernelName:uf,backendName:"webgl",kernelFunc:qxe};var Kxe="return x * x;",Xxe=Te({opSnippet:Kxe}),f7={kernelName:x_,backendName:"webgl",kernelFunc:Xxe};var m7="return (a - b) * (a - b);",Yxe=Tt({opSnippet:m7,packedOpSnippet:m7}),h7={kernelName:df,backendName:"webgl",kernelFunc:Yxe};function Zxe({inputs:e,attrs:t,backend:n}){let{x:r}=e,o=Wn+`
    return x > 0.0 ? 1.0 : float(${t.alpha});
  `,i=new vr(r.shape,o);return n.runWebGLProgram(i,[r],r.dtype)}var g7={kernelName:al,backendName:"webgl",kernelFunc:Zxe};var nv=class{constructor(t,n,r){this.variableNames=["x"],this.outputShape=r;let o=r.length,i=Ke(r.length),s=Ke(r.length),l="";if(o===1)l="coords * strides + begin";else{let c=0;l=r.map((u,d)=>(c++,r.length===1?`coords * strides[${d}] + begin[${d}]`:`coords[${c-1}] * strides[${d}] + begin[${d}]`)).join(",")}this.userCode=`
      ${i} begin = ${i}(${t});
      ${i} strides = ${i}(${n});

      void main() {
        ${s} coords = getOutputCoords();
        setOutput(getX(${l}));
      }
    `}};function Qxe(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{begin:i,end:s,strides:l,beginMask:c,endMask:u,ellipsisMask:d,newAxisMask:p,shrinkAxisMask:f}=r,{finalShapeSparse:m,finalShape:h,isIdentity:g,sliceDim0:_,isSimpleSlice:$,begin:x,end:w,strides:S}=Un.sliceInfo(o.shape,i,s,l,c,u,d,p,f),I;if(g)I=me({inputs:{x:o},backend:n,attrs:{shape:h}});else if(_||$){E.assert(o.shape.length>=1,()=>`Input must have rank at least 1, got: ${o.shape.length}`);let k=Un.computeOutShape(x,w,S),M=oi({inputs:{x:o},backend:n,attrs:{begin:x,size:k}});I=me({inputs:{x:M},backend:n,attrs:{shape:h}}),n.disposeIntermediateTensorInfo(M)}else if(n.shouldExecuteOnCPU([o])){let M=n.readSync(o.dataId),O=We(o.shape,o.dtype,M),B=M5(m,O,S,x);I=n.makeTensorInfo(h,o.dtype,B.values)}else{let M=new nv(x,S,m);I=n.runWebGLProgram(M,[o],o.dtype)}let F=me({inputs:{x:I},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(I),F}var b7={kernelName:v_,backendName:"webgl",kernelFunc:Qxe};function Jxe(e){let{inputs:t,backend:n,attrs:r}=e,{separator:o,nGramWidths:i,leftPad:s,rightPad:l,padWidth:c,preserveShortSequences:u}=r,{data:d,dataSplits:p}=t,f=n.readSync(d.dataId),m=n.readSync(p.dataId),[h,g]=R5(f,m,o,i,s,l,c,u);return[n.makeTensorInfo([h.length],"string",h),n.makeTensorInfo(p.shape,"int32",g)]}var y7={kernelName:w_,backendName:"webgl",kernelFunc:Jxe};function eve(e){let{inputs:t,backend:n,attrs:r}=e,{skipEmpty:o}=r,{input:i,delimiter:s}=t;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(i.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(s.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${s.shape}`);let l=n.readSync(i.dataId),c=n.readSync(s.dataId)[0],[u,d,p]=j5(l,c,o),f=d.length;return[n.makeTensorInfo([f,2],"int32",u),n.makeTensorInfo([f],"string",d),n.makeTensorInfo([2],"int32",new Int32Array(p))]}var _7={kernelName:S_,backendName:"webgl",kernelFunc:eve};function tve(e){let{inputs:t,backend:n,attrs:r}=e,{numBuckets:o}=r,{input:i}=t;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(o<=0)throw new Error("Number of buckets must be at least 1");let s=n.readSync(i.dataId),l=O5(s,o);return n.makeTensorInfo(i.shape,"int32",l)}var $7={kernelName:C_,backendName:"webgl",kernelFunc:tve};var nve="return tan(x);",rve=Te({opSnippet:nve}),x7={kernelName:ff,backendName:"webgl",kernelFunc:rve};var ove=`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`,ive=Te({opSnippet:ove}),v7={kernelName:mf,backendName:"webgl",kernelFunc:ive};var rv=class{constructor(t,n){this.variableNames=["A"];let r=new Array(t.length);for(let s=0;s<r.length;s++)r[s]=t[s]*n[s];this.outputShape=r,this.rank=r.length;let o=Ke(this.rank),i=sve(t);this.userCode=`
      void main() {
        ${o} resRC = getOutputCoords();
        setOutput(getA(${i}));
      }
    `}};function sve(e){let t=e.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(t===1)return`imod(resRC, ${e[0]})`;let n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let o=0;o<e.length;o++)r.push(`imod(${n[o]}, ${e[o]})`);return r.join()}function Y1(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{reps:i}=r;if(o.dtype==="string"||o.shape.length>5){let c=n.readSync(o.dataId),u=o.dtype==="string"?c.map(f=>E.decodeString(f)):c,d=We(o.shape,o.dtype,u),p=P5(d,i);return n.makeTensorInfo(p.shape,p.dtype,p.values)}let s=new rv(o.shape,i);return n.runWebGLProgram(s,[o],o.dtype)}var w7={kernelName:I_,backendName:"webgl",kernelFunc:Y1};var ov=class{constructor(t){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=t,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}},iv=class{constructor(t){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=t,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}};function Rl(e,t){t!==null&&e.disposeIntermediateTensorInfo(t)}function S7(e){let t=1;for(;t<e;)t*=2;return t}function ave(e){let{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{k:i,sorted:s}=r,l=Q().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),c=Q().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),u=o.shape,d=u[u.length-1];if(n.shouldExecuteOnCPU([o])||d<l||i>c){let B=n.readSync(o.dataId),[W,V]=B5(B,u,o.dtype,i,s);return[n.makeTensorInfo(W.shape,W.dtype,W.values),n.makeTensorInfo(V.shape,V.dtype,V.values)]}if(i===0)return u[u.length-1]=0,[n.makeTensorInfo(u,o.dtype,[]),n.makeTensorInfo(u,"int32",[])];if(d===1)return[o,cs({attrs:{shape:u,dtype:"int32",value:0},backend:n})];let p=n.texData.get(o.dataId),f=p!==null&&p.isPacked,m=f?n.unpackTensor(o):o,g=E.sizeFromShape(u)/d,_=me({inputs:{x:m},attrs:{shape:[g,d]},backend:n});f&&Rl(n,m);let $=S7(i),x=S7(d),w=null,S=()=>w===null?[_,_]:[_,w],I=(B,W,V)=>{let P=S(),G=new ov(V),H=[[d],[w===null?1:0],[Number.NEGATIVE_INFINITY],[B],[W]],re=w;w=n.runWebGLProgram(G,P,"int32",H),Rl(n,re)};for(let B=1;B<$;B*=2){let W=B*2;for(let V=B;V>=1;V/=2)I(W,V,[g,x])}for(let B=x;B>$;B/=2){let W=S(),V=new iv([g,B/2]),G=[[d],[w===null?1:0],[$]],Z=w;w=n.runWebGLProgram(V,W,"int32",G),Rl(n,Z);let H=$/2,re=H*2;for(let te=H;te>=1;te/=2)I(re,te,w.shape)}let F=w;w=oi({inputs:{x:w},backend:n,attrs:{begin:0,size:[g,i]}}),Rl(n,F);let k=z1({inputs:{x:_,indices:w},backend:n,attrs:{axis:1,batchDims:1}});Rl(n,_);let M=u.slice(0,-1);M.push(i),F=w,w=me({inputs:{x:w},attrs:{shape:M},backend:n}),Rl(n,F);let O=k;return k=me({inputs:{x:k},attrs:{shape:M},backend:n}),Rl(n,O),[k,w]}var C7={kernelName:E_,backendName:"webgl",kernelFunc:ave};var sv=class{constructor(t,n,r,o,i,s){this.variableNames=["Image","Transforms"],this.outputShape=s;let l=r==="nearest"?1:2,c;switch(o){case"constant":c=1;break;case"reflect":c=2;break;case"wrap":c=3;break;case"nearest":c=4;break;default:c=1;break}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${c} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${c} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${c} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${t} && 0 <= coordX && coordX < ${n}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${i});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${i});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${n}));
                float mapY = mapCoord(inY, float(${t}));

                if (${l} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}};function lve(e){let{inputs:t,backend:n,attrs:r}=e,{image:o,transforms:i}=t,{interpolation:s,fillMode:l,fillValue:c,outputShape:u}=r,[d,p,f,m]=o.shape,[h,g]=u??[p,f],_=[d,h,g,m],$=new sv(p,f,s,l,c,_);return n.runWebGLProgram($,[o,i],"float32")}var I7={kernelName:T_,backendName:"webgl",kernelFunc:lve};function cve(e){let{inputs:t,attrs:n,backend:r}=e,{axis:o}=n,{x:i}=t;Di(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");let s=r.readSync(i.dataId),{outputValues:l,outputShape:c,indices:u}=L5(s,o,i.shape,i.dtype);return[r.makeTensorInfo(c,i.dtype,l),r.makeTensorInfo([u.length],"int32",u)]}var E7={kernelName:F_,backendName:"webgl",kernelFunc:cve};function uve(e){let{inputs:t,backend:n,attrs:r}=e,{value:o}=t,{axis:i}=r;i<0&&(i+=o.shape.length);let s=o,l=s.shape.length,c=o.shape[i],u=new Array(l-1),d=0;for(let g=0;g<l;g++)g!==i&&(u[d++]=s.shape[g]);let p=[],f=new Array(l).fill(0),m=s.shape.slice();m[i]=1;let h=new Array(c);for(let g=0;g<h.length;g++){f[i]=g;let _=oi({inputs:{x:s},backend:n,attrs:{begin:f,size:m}}),$=me({inputs:{x:_},backend:n,attrs:{shape:u}});h[g]=$,p.push(_)}return p.forEach(g=>n.disposeIntermediateTensorInfo(g)),h}var T7={kernelName:k_,backendName:"webgl",kernelFunc:uve};var av=class{constructor(t,n){this.variableNames=["x","segmentIds"];let r=t.windowSize,o=t.batchSize,i=t.inSize,s=t.numSegments,l=s*Math.ceil(i/r);this.outputShape=[o,l];let c="0.0",u="sumValue",d=Math.floor(r/4)*4,p=r%4,f=`
        sumValue += dot(values, segFilter);
    `,m="";i%r>0&&(m=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return initializationValue;
        }
      `);let h="";i%r>0&&(h=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = ${c};

      float getValue(int batch, int inIdx) {
        ${m}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${h}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${s})) * float(${r}));
        int currentSeg = int(mod(float(outIdx), float(${s})));

        float sumValue = 0.0;

        for (int i = 0; i < ${d}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${f}
        }

        int inIdx = inOffset + ${d};
        if (${p===1}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${f}
        } else if (${p===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${f}
        } else if (${p===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${f}
        }
        setOutput(${u});
      }
    `}};function dve(e){let{inputs:t,backend:n,attrs:r}=e,{x:o,segmentIds:i}=t,{numSegments:s}=r,l=o.shape.length,c=[],u=0,d=A.getAxesPermutation([u],l),p=o;d!=null&&(p=en({inputs:{x:o},backend:n,attrs:{perm:d}}),c.push(p),u=A.getInnerMostAxes(1,l)[0]);let f=A.segment_util.computeOutShape(p.shape,u,s),m=E.sizeFromShape([p.shape[u]]),h=me({inputs:{x:p},backend:n,attrs:{shape:[-1,m]}});c.push(h);let g=ml(o.dtype),_=(S,I,F,k,M)=>{let O=S.shape[0],B=S.shape[1],W=A.segment_util.segOpComputeOptimalWindowSize(B,M),V={windowSize:W,inSize:B,batchSize:O,numSegments:M},P=new av(V,I),G=n.compileAndRun(P,[S,F],k);if(c.push(G),G.shape[1]===M)return G;let Z=X1({backend:n,attrs:{start:0,stop:M,step:1,dtype:"float32"}}),H=Y1({inputs:{x:Z},backend:n,attrs:{reps:[B/W]}});return c.push(Z),c.push(H),_(G,I,H,k,M)},$=_(h,"unsortedSegmentSum",i,g,s),x=me({inputs:{x:$},backend:n,attrs:{shape:f}}),w=x;if(d!=null){c.push(x);let S=A.getUndoAxesPermutation(d);w=en({inputs:{x:w},backend:n,attrs:{perm:S}})}return c.forEach(S=>n.disposeIntermediateTensorInfo(S)),w}var D7={kernelName:A_,backendName:"webgl",kernelFunc:dve};var pve=[n9,r9,gq,yq,_q,$q,vq,wq,Sq,Cq,Tq,Dq,Fq,kq,Mq,Aq,Rq,Oq,jq,Nq,Pq,Bq,Lq,Wq,zq,Vq,Kq,Yq,Zq,Jq,oq,tK,rK,oK,nK,sK,aK,iK,lK,cK,uK,fK,mK,hK,bK,yK,gK,_K,$K,xK,vK,wK,SK,CK,EK,TK,FK,kK,AK,MK,jK,OK,NK,PK,BK,LK,UK,WK,zK,rq,VK,eK,HK,GK,qK,iq,KK,XK,YK,QK,ZK,JK,e9,t9,i9,l9,a9,c9,u9,p9,s9,m9,h9,g9,b9,y9,w9,uq,C9,I9,E9,T9,Hq,D9,A9,M9,R9,j9,sq,O9,N9,Gq,_9,P9,L9,B9,pq,U9,W9,z9,V9,H9,G9,q9,K9,X9,Y9,Z9,J9,e7,t7,n7,Uq,v9,r7,o7,i7,s7,a7,l7,c7,u7,p7,f7,h7,g7,b7,y7,_7,$7,x9,mq,x7,v7,w7,C7,I7,hq,E7,T7,D7,F9];for(let e of pve)B_(e);var F7=(()=>{class e{router;global_service;mytext_app;path_img="";input_ml;inputTensor=null;model=null;dimension=640;constructor(n,r){this.router=n,this.global_service=r,console.log("CONSTRUCTOR"),this.mytext_app=r.text_app()}ngOnInit(){console.log("ONINIT"),dV("webgl").then(()=>this.load_model())}ngOnDestroy(){}clickPhoto0(){this.path_img="/camerafeet1/assets/images/photo0.png",this.executionML()}clickPhoto1(){return ie(this,null,function*(){this.dimension==640?this.path_img="/camerafeet1/assets/images/photo1x640.png":this.dimension==320?this.path_img="/camerafeet1/assets/images/photo1x320.png":this.dimension==160?this.path_img="/camerafeet1/assets/images/photo1x160.png":this.path_img="/assets/images/photo1.png",this.executionML()})}clickPhoto2(){this.path_img="/camerafeet1/assets/images/photo2.png",this.executionML()}clickPhoto3(){this.path_img="/camerafeet1/assets/images/photo3.png",this.executionML()}clickPhoto4(){this.path_img="/camerafeet1/assets/images/photo4.png",this.executionML()}clickPhoto5(){this.path_img="/camerafeet1/assets/images/photo5.png",this.executionML()}clickPhoto6(){this.path_img="/camerafeet1/assets/images/photo6.png",this.executionML()}convertBlobToBase64(n){return ie(this,null,function*(){return new Promise((r,o)=>{let i=new FileReader;i.onerror=o,i.onload=()=>{r(i.result)},i.readAsDataURL(n)})})}downloadImageAsBase64(){return ie(this,null,function*(){let r=yield(yield fetch(this.path_img)).blob();return this.convertBlobToBase64(r)})}imageToML(){return ie(this,null,function*(){let n=yield this.downloadImageAsBase64();return new Promise((r,o)=>{let i=new Image;i.src=n;let s=document.createElement("canvas"),l=s.getContext("2d");if(!l)throw new Error("Could not get context");i.onerror=o;let c=[1,3,this.dimension,this.dimension];i.onload=function(){s.width=c[2],s.height=c[3],l.drawImage(i,0,0,c[2],c[3]);let u=l.getImageData(0,0,c[2],c[3]),d=new Array;for(let g=0;g<u.data.length;g+=4)d.push(u.data[g]),d.push(u.data[g+1]),d.push(u.data[g+2]);let p=d,f,m=p.length,h=new Float32Array(c[1]*c[2]*c[3]);for(f=0;f<m;f++)h[f]=p[f]/255;r(h)}})})}load_model(){return ie(this,null,function*(){let r=yield this.global_service.get_ml_model().arrayBuffer();this.model=yield v$(r),console.log("Modelo-arrayBuffer-TFLITE-joa cargado exitosamente")})}executionML(){return ie(this,null,function*(){let n=0,r=yield this.imageToML(),o;if(o=[1,this.dimension,this.dimension,3],this.inputTensor=$T(r,o,"float32"),this.input_ml={images:this.inputTensor},console.log("TENSOR-4D de entrada preparado para el MODELO"),this.model!==null){let s=performance.now(),l=this.model.predict(this.input_ml),u=performance.now()-s;console.log("duration_milliseconds1 = "+u);let d="CPU-tflite = "+u.toString(),p=Array.prototype.slice.call(l.dataSync());var i=0;this.dimension==640?i=8400:this.dimension==320?i=2100:this.dimension==160?i=525:i=8400;let f=i*1,m=i*2,h=i*3,g=i*4,_=i*5,$=[];for(let P=0;P<f;P++)$.push(p[P]);let x=[];for(let P=f;P<m;P++)x.push(p[P]);let w=[];for(let P=m;P<h;P++)w.push(p[P]);let S=[];for(let P=h;P<g;P++)S.push(p[P]);let I=[];for(let P=g;P<_;P++)I.push(p[P]);let k=new Number(I.indexOf(Math.max(...I))).valueOf();console.log("index_optimus = "+k),n=I[k],console.log("confidence_value = "+n);let M=$[k];M=M*this.dimension,console.log("centerX_value = "+M);let O=x[k];O=O*this.dimension,console.log("centerY_value = "+O);let B=w[k];B=B*this.dimension,console.log("width_value = "+B);let W=S[k];W=W*this.dimension,console.log("height_value = "+W);let V=d+" /// "+n.toString();this.inputTensor!==null&&(this.inputTensor.dispose(),console.log("inputTensor dispose-OK")),l.dispose(),console.log("outputTensor dispose-OK"),I.splice(0),$.splice(0),x.splice(0),w.splice(0),S.splice(0),n>0&&alert(V)}})}static \u0275fac=function(r){return new(r||e)(q(yt),q(Ot))};static \u0275cmp=Oe({type:e,selectors:[["app-screen96ml"]],decls:20,vars:1,consts:[[1,"custom-toolbar"],[1,"example-fill-remaining-space"],[1,"span-custom"],[1,"custom-div-centered"],["src","assets/images/photo1x640.png",1,"custom-img-foot",3,"click"]],template:function(r,o){r&1&&(N(0,"mat-toolbar",0)(1,"span"),ee(2),j(),X(3,"span",1),j(),X(4,"br")(5,"br")(6,"br")(7,"br")(8,"br"),N(9,"span",2),ee(10,"Pulsa sobre la imagen"),j(),N(11,"span",2),ee(12,"\xA0"),j(),N(13,"span",2),ee(14,"\xA0"),j(),N(15,"div",3)(16,"TABLE")(17,"tr")(18,"td")(19,"img",4),xe("click",function(){return o.clickPhoto1()}),j()()()()()),r&2&&(K(2),be(o.mytext_app))},dependencies:[jt],styles:[".example-fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.custom-toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:400}.custom-div-centered[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#fff}.custom-img-foot[_ngcontent-%COMP%]{width:640px;height:640px}.span-custom[_ngcontent-%COMP%]{width:100%;font-weight:700;font-size:14px;text-align:center;display:block}"]})}return e})();var fve=[{path:"screen01",component:UC},{path:"screen01/:input",component:UC},{path:"screen01acc",component:dN},{path:"screen01bis",component:pN},{path:"screen02",component:fN},{path:"screen03",component:gN},{path:"screen04",component:_N},{path:"screen05",component:wN},{path:"screen06",component:SN},{path:"screen07",component:CN},{path:"screen08",component:IN},{path:"screen21acc",component:EN},{path:"screen22acc",component:TN},{path:"screen31acc",component:DN},{path:"screen99ml",component:VW},{path:"screen98ml",component:HW},{path:"screen97ml",component:l8},{path:"screen96ml",component:F7},{path:"",redirectTo:"/screen01",pathMatch:"full"},{path:"**",component:FN}],k7=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=ot({type:e});static \u0275inj=rt({imports:[LC.forRoot(fve),LC]})}return e})();var A7=(()=>{class e{title="ScanFeet";static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Oe({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,o){r&1&&X(0,"router-outlet")},dependencies:[MC]})}return e})();var M7=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=ot({type:e,bootstrap:[A7]});static \u0275inj=rt({providers:[Ej()],imports:[Oj,u2,k7,O2,N2,P2,Y2,kd,hO,_O]})}return e})();jj().bootstrapModule(M7,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
